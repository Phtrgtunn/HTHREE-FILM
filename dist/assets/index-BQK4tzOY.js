function tv(t,e){for(var s=0;s<e.length;s++){const r=e[s];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const o=Object.getOwnPropertyDescriptor(r,n);o&&Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tc(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ze={},Wr=[],us=()=>{},sv=()=>!1,Li=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),sc=t=>t.startsWith("onUpdate:"),rt=Object.assign,rc=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},rv=Object.prototype.hasOwnProperty,De=(t,e)=>rv.call(t,e),ke=Array.isArray,Gr=t=>fo(t)==="[object Map]",gn=t=>fo(t)==="[object Set]",ru=t=>fo(t)==="[object Date]",Ie=t=>typeof t=="function",Xe=t=>typeof t=="string",hs=t=>typeof t=="symbol",qe=t=>t!==null&&typeof t=="object",Ph=t=>(qe(t)||Ie(t))&&Ie(t.then)&&Ie(t.catch),Rh=Object.prototype.toString,fo=t=>Rh.call(t),nv=t=>fo(t).slice(8,-1),Oh=t=>fo(t)==="[object Object]",nc=t=>Xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,On=tc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bi=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ov=/-(\w)/g,Ft=Bi(t=>t.replace(ov,(e,s)=>s?s.toUpperCase():"")),iv=/\B([A-Z])/g,er=Bi(t=>t.replace(iv,"-$1").toLowerCase()),Di=Bi(t=>t.charAt(0).toUpperCase()+t.slice(1)),ba=Bi(t=>t?`on${Di(t)}`:""),Gs=(t,e)=>!Object.is(t,e),Go=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Mh=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},hi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},av=t=>{const e=Xe(t)?Number(t):NaN;return isNaN(e)?t:e};let nu;const Ui=()=>nu||(nu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ht(t){if(ke(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=Xe(r)?dv(r):ht(r);if(n)for(const o in n)e[o]=n[o]}return e}else if(Xe(t)||qe(t))return t}const lv=/;(?![^(]*\))/g,cv=/:([^]+)/,uv=/\/\*[^]*?\*\//g;function dv(t){const e={};return t.replace(uv,"").split(lv).forEach(s=>{if(s){const r=s.split(cv);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function X(t){let e="";if(Xe(t))e=t;else if(ke(t))for(let s=0;s<t.length;s++){const r=X(t[s]);r&&(e+=r+" ")}else if(qe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const hv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fv=tc(hv);function jh(t){return!!t||t===""}function pv(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Ar(t[r],e[r]);return s}function Ar(t,e){if(t===e)return!0;let s=ru(t),r=ru(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=hs(t),r=hs(e),s||r)return t===e;if(s=ke(t),r=ke(e),s||r)return s&&r?pv(t,e):!1;if(s=qe(t),r=qe(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,o=Object.keys(e).length;if(n!==o)return!1;for(const i in t){const l=t.hasOwnProperty(i),c=e.hasOwnProperty(i);if(l&&!c||!l&&c||!Ar(t[i],e[i]))return!1}}return String(t)===String(e)}function oc(t,e){return t.findIndex(s=>Ar(s,e))}const Nh=t=>!!(t&&t.__v_isRef===!0),E=t=>Xe(t)?t:t==null?"":ke(t)||qe(t)&&(t.toString===Rh||!Ie(t.toString))?Nh(t)?E(t.value):JSON.stringify(t,Lh,2):String(t),Lh=(t,e)=>Nh(e)?Lh(t,e.value):Gr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],o)=>(s[wa(r,o)+" =>"]=n,s),{})}:gn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>wa(s))}:hs(e)?wa(e):qe(e)&&!ke(e)&&!Oh(e)?String(e):e,wa=(t,e="")=>{var s;return hs(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wt;class Bh{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=wt,!e&&wt&&(this.index=(wt.scopes||(wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=wt;try{return wt=this,e()}finally{wt=s}}}on(){wt=this}off(){wt=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Dh(t){return new Bh(t)}function Uh(){return wt}function gv(t,e=!1){wt&&wt.cleanups.push(t)}let We;const xa=new WeakSet;class Hh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,wt&&wt.active&&wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xa.has(this)&&(xa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ou(this),zh(this);const e=We,s=Xt;We=this,Xt=!0;try{return this.fn()}finally{qh(this),We=e,Xt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)lc(e);this.deps=this.depsTail=void 0,ou(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sl(this)&&this.run()}get dirty(){return sl(this)}}let Vh=0,Mn,jn;function Fh(t,e=!1){if(t.flags|=8,e){t.next=jn,jn=t;return}t.next=Mn,Mn=t}function ic(){Vh++}function ac(){if(--Vh>0)return;if(jn){let e=jn;for(jn=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Mn;){let e=Mn;for(Mn=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function zh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function qh(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),lc(r),vv(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function sl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Kh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Kh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Yn))return;t.globalVersion=Yn;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!sl(t)){t.flags&=-3;return}const s=We,r=Xt;We=t,Xt=!0;try{zh(t);const n=t.fn(t._value);(e.version===0||Gs(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{We=s,Xt=r,qh(t),t.flags&=-3}}function lc(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)lc(o,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function vv(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Xt=!0;const Wh=[];function tr(){Wh.push(Xt),Xt=!1}function sr(){const t=Wh.pop();Xt=t===void 0?!0:t}function ou(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=We;We=void 0;try{e()}finally{We=s}}}let Yn=0;class mv{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class cc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!We||!Xt||We===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==We)s=this.activeLink=new mv(We,this),We.deps?(s.prevDep=We.depsTail,We.depsTail.nextDep=s,We.depsTail=s):We.deps=We.depsTail=s,Gh(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=We.depsTail,s.nextDep=void 0,We.depsTail.nextDep=s,We.depsTail=s,We.deps===s&&(We.deps=r)}return s}trigger(e){this.version++,Yn++,this.notify(e)}notify(e){ic();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ac()}}}function Gh(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Gh(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const fi=new WeakMap,Er=Symbol(""),rl=Symbol(""),Xn=Symbol("");function gt(t,e,s){if(Xt&&We){let r=fi.get(t);r||fi.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new cc),n.map=r,n.key=s),n.track()}}function bs(t,e,s,r,n,o){const i=fi.get(t);if(!i){Yn++;return}const l=c=>{c&&c.trigger()};if(ic(),e==="clear")i.forEach(l);else{const c=ke(t),u=c&&nc(s);if(c&&s==="length"){const d=Number(r);i.forEach((h,f)=>{(f==="length"||f===Xn||!hs(f)&&f>=d)&&l(h)})}else switch((s!==void 0||i.has(void 0))&&l(i.get(s)),u&&l(i.get(Xn)),e){case"add":c?u&&l(i.get("length")):(l(i.get(Er)),Gr(t)&&l(i.get(rl)));break;case"delete":c||(l(i.get(Er)),Gr(t)&&l(i.get(rl)));break;case"set":Gr(t)&&l(i.get(Er));break}}ac()}function yv(t,e){const s=fi.get(t);return s&&s.get(e)}function Nr(t){const e=$e(t);return e===t?e:(gt(e,"iterate",Xn),Ut(t)?e:e.map(vt))}function Hi(t){return gt(t=$e(t),"iterate",Xn),t}const bv={__proto__:null,[Symbol.iterator](){return _a(this,Symbol.iterator,vt)},concat(...t){return Nr(this).concat(...t.map(e=>ke(e)?Nr(e):e))},entries(){return _a(this,"entries",t=>(t[1]=vt(t[1]),t))},every(t,e){return ps(this,"every",t,e,void 0,arguments)},filter(t,e){return ps(this,"filter",t,e,s=>s.map(vt),arguments)},find(t,e){return ps(this,"find",t,e,vt,arguments)},findIndex(t,e){return ps(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ps(this,"findLast",t,e,vt,arguments)},findLastIndex(t,e){return ps(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ps(this,"forEach",t,e,void 0,arguments)},includes(...t){return ka(this,"includes",t)},indexOf(...t){return ka(this,"indexOf",t)},join(t){return Nr(this).join(t)},lastIndexOf(...t){return ka(this,"lastIndexOf",t)},map(t,e){return ps(this,"map",t,e,void 0,arguments)},pop(){return Cn(this,"pop")},push(...t){return Cn(this,"push",t)},reduce(t,...e){return iu(this,"reduce",t,e)},reduceRight(t,...e){return iu(this,"reduceRight",t,e)},shift(){return Cn(this,"shift")},some(t,e){return ps(this,"some",t,e,void 0,arguments)},splice(...t){return Cn(this,"splice",t)},toReversed(){return Nr(this).toReversed()},toSorted(t){return Nr(this).toSorted(t)},toSpliced(...t){return Nr(this).toSpliced(...t)},unshift(...t){return Cn(this,"unshift",t)},values(){return _a(this,"values",vt)}};function _a(t,e,s){const r=Hi(t),n=r[e]();return r!==t&&!Ut(t)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=s(o.value)),o}),n}const wv=Array.prototype;function ps(t,e,s,r,n,o){const i=Hi(t),l=i!==t&&!Ut(t),c=i[e];if(c!==wv[e]){const h=c.apply(t,o);return l?vt(h):h}let u=s;i!==t&&(l?u=function(h,f){return s.call(this,vt(h),f,t)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,t)}));const d=c.call(i,u,r);return l&&n?n(d):d}function iu(t,e,s,r){const n=Hi(t);let o=s;return n!==t&&(Ut(t)?s.length>3&&(o=function(i,l,c){return s.call(this,i,l,c,t)}):o=function(i,l,c){return s.call(this,i,vt(l),c,t)}),n[e](o,...r)}function ka(t,e,s){const r=$e(t);gt(r,"iterate",Xn);const n=r[e](...s);return(n===-1||n===!1)&&hc(s[0])?(s[0]=$e(s[0]),r[e](...s)):n}function Cn(t,e,s=[]){tr(),ic();const r=$e(t)[e].apply(t,s);return ac(),sr(),r}const xv=tc("__proto__,__v_isRef,__isVue"),Jh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(hs));function _v(t){hs(t)||(t=String(t));const e=$e(this);return gt(e,"has",t),e.hasOwnProperty(t)}class Yh{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return r===(n?o?Rv:e0:o?Zh:Qh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const i=ke(e);if(!n){let c;if(i&&(c=bv[s]))return c;if(s==="hasOwnProperty")return _v}const l=Reflect.get(e,s,Ze(e)?e:r);return(hs(s)?Jh.has(s):xv(s))||(n||gt(e,"get",s),o)?l:Ze(l)?i&&nc(s)?l:l.value:qe(l)?n?s0(l):ft(l):l}}class Xh extends Yh{constructor(e=!1){super(!1,e)}set(e,s,r,n){let o=e[s];if(!this._isShallow){const c=Ir(o);if(!Ut(r)&&!Ir(r)&&(o=$e(o),r=$e(r)),!ke(e)&&Ze(o)&&!Ze(r))return c?!1:(o.value=r,!0)}const i=ke(e)&&nc(s)?Number(s)<e.length:De(e,s),l=Reflect.set(e,s,r,Ze(e)?e:n);return e===$e(n)&&(i?Gs(r,o)&&bs(e,"set",s,r):bs(e,"add",s,r)),l}deleteProperty(e,s){const r=De(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&bs(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!hs(s)||!Jh.has(s))&&gt(e,"has",s),r}ownKeys(e){return gt(e,"iterate",ke(e)?"length":Er),Reflect.ownKeys(e)}}class kv extends Yh{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Cv=new Xh,Ev=new kv,Sv=new Xh(!0);const nl=t=>t,Ro=t=>Reflect.getPrototypeOf(t);function Tv(t,e,s){return function(...r){const n=this.__v_raw,o=$e(n),i=Gr(o),l=t==="entries"||t===Symbol.iterator&&i,c=t==="keys"&&i,u=n[t](...r),d=s?nl:e?ol:vt;return!e&&gt(o,"iterate",c?rl:Er),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:l?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function Oo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $v(t,e){const s={get(n){const o=this.__v_raw,i=$e(o),l=$e(n);t||(Gs(n,l)&&gt(i,"get",n),gt(i,"get",l));const{has:c}=Ro(i),u=e?nl:t?ol:vt;if(c.call(i,n))return u(o.get(n));if(c.call(i,l))return u(o.get(l));o!==i&&o.get(n)},get size(){const n=this.__v_raw;return!t&&gt($e(n),"iterate",Er),Reflect.get(n,"size",n)},has(n){const o=this.__v_raw,i=$e(o),l=$e(n);return t||(Gs(n,l)&&gt(i,"has",n),gt(i,"has",l)),n===l?o.has(n):o.has(n)||o.has(l)},forEach(n,o){const i=this,l=i.__v_raw,c=$e(l),u=e?nl:t?ol:vt;return!t&&gt(c,"iterate",Er),l.forEach((d,h)=>n.call(o,u(d),u(h),i))}};return rt(s,t?{add:Oo("add"),set:Oo("set"),delete:Oo("delete"),clear:Oo("clear")}:{add(n){!e&&!Ut(n)&&!Ir(n)&&(n=$e(n));const o=$e(this);return Ro(o).has.call(o,n)||(o.add(n),bs(o,"add",n,n)),this},set(n,o){!e&&!Ut(o)&&!Ir(o)&&(o=$e(o));const i=$e(this),{has:l,get:c}=Ro(i);let u=l.call(i,n);u||(n=$e(n),u=l.call(i,n));const d=c.call(i,n);return i.set(n,o),u?Gs(o,d)&&bs(i,"set",n,o):bs(i,"add",n,o),this},delete(n){const o=$e(this),{has:i,get:l}=Ro(o);let c=i.call(o,n);c||(n=$e(n),c=i.call(o,n)),l&&l.call(o,n);const u=o.delete(n);return c&&bs(o,"delete",n,void 0),u},clear(){const n=$e(this),o=n.size!==0,i=n.clear();return o&&bs(n,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Tv(n,t,e)}),s}function uc(t,e){const s=$v(t,e);return(r,n,o)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(De(s,n)&&n in r?s:r,n,o)}const Av={get:uc(!1,!1)},Iv={get:uc(!1,!0)},Pv={get:uc(!0,!1)};const Qh=new WeakMap,Zh=new WeakMap,e0=new WeakMap,Rv=new WeakMap;function Ov(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mv(t){return t.__v_skip||!Object.isExtensible(t)?0:Ov(nv(t))}function ft(t){return Ir(t)?t:dc(t,!1,Cv,Av,Qh)}function t0(t){return dc(t,!1,Sv,Iv,Zh)}function s0(t){return dc(t,!0,Ev,Pv,e0)}function dc(t,e,s,r,n){if(!qe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=n.get(t);if(o)return o;const i=Mv(t);if(i===0)return t;const l=new Proxy(t,i===2?r:s);return n.set(t,l),l}function Js(t){return Ir(t)?Js(t.__v_raw):!!(t&&t.__v_isReactive)}function Ir(t){return!!(t&&t.__v_isReadonly)}function Ut(t){return!!(t&&t.__v_isShallow)}function hc(t){return t?!!t.__v_raw:!1}function $e(t){const e=t&&t.__v_raw;return e?$e(e):t}function fc(t){return!De(t,"__v_skip")&&Object.isExtensible(t)&&Mh(t,"__v_skip",!0),t}const vt=t=>qe(t)?ft(t):t,ol=t=>qe(t)?s0(t):t;function Ze(t){return t?t.__v_isRef===!0:!1}function N(t){return r0(t,!1)}function jv(t){return r0(t,!0)}function r0(t,e){return Ze(t)?t:new Nv(t,e)}class Nv{constructor(e,s){this.dep=new cc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:$e(e),this._value=s?e:vt(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Ut(e)||Ir(e);e=r?e:$e(e),Gs(e,s)&&(this._rawValue=e,this._value=r?e:vt(e),this.dep.trigger())}}function Ne(t){return Ze(t)?t.value:t}const Lv={get:(t,e,s)=>e==="__v_raw"?t:Ne(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return Ze(n)&&!Ze(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function n0(t){return Js(t)?t:new Proxy(t,Lv)}function Bv(t){const e=ke(t)?new Array(t.length):{};for(const s in t)e[s]=Uv(t,s);return e}class Dv{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return yv($e(this._object),this._key)}}function Uv(t,e,s){const r=t[e];return Ze(r)?r:new Dv(t,e,s)}class Hv{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new cc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&We!==this)return Fh(this,!0),!0}get value(){const e=this.dep.track();return Kh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Vv(t,e,s=!1){let r,n;return Ie(t)?r=t:(r=t.get,n=t.set),new Hv(r,n,s)}const Mo={},pi=new WeakMap;let gr;function Fv(t,e=!1,s=gr){if(s){let r=pi.get(s);r||pi.set(s,r=[]),r.push(t)}}function zv(t,e,s=ze){const{immediate:r,deep:n,once:o,scheduler:i,augmentJob:l,call:c}=s,u=I=>n?I:Ut(I)||n===!1||n===0?ws(I,1):ws(I);let d,h,f,p,v=!1,x=!1;if(Ze(t)?(h=()=>t.value,v=Ut(t)):Js(t)?(h=()=>u(t),v=!0):ke(t)?(x=!0,v=t.some(I=>Js(I)||Ut(I)),h=()=>t.map(I=>{if(Ze(I))return I.value;if(Js(I))return u(I);if(Ie(I))return c?c(I,2):I()})):Ie(t)?e?h=c?()=>c(t,2):t:h=()=>{if(f){tr();try{f()}finally{sr()}}const I=gr;gr=d;try{return c?c(t,3,[p]):t(p)}finally{gr=I}}:h=us,e&&n){const I=h,k=n===!0?1/0:n;h=()=>ws(I(),k)}const S=Uh(),R=()=>{d.stop(),S&&S.active&&rc(S.effects,d)};if(o&&e){const I=e;e=(...k)=>{I(...k),R()}}let P=x?new Array(t.length).fill(Mo):Mo;const A=I=>{if(!(!(d.flags&1)||!d.dirty&&!I))if(e){const k=d.run();if(n||v||(x?k.some((_,C)=>Gs(_,P[C])):Gs(k,P))){f&&f();const _=gr;gr=d;try{const C=[k,P===Mo?void 0:x&&P[0]===Mo?[]:P,p];c?c(e,3,C):e(...C),P=k}finally{gr=_}}}else d.run()};return l&&l(A),d=new Hh(h),d.scheduler=i?()=>i(A,!1):A,p=I=>Fv(I,!1,d),f=d.onStop=()=>{const I=pi.get(d);if(I){if(c)c(I,4);else for(const k of I)k();pi.delete(d)}},e?r?A(!0):P=d.run():i?i(A.bind(null,!0),!0):d.run(),R.pause=d.pause.bind(d),R.resume=d.resume.bind(d),R.stop=R,R}function ws(t,e=1/0,s){if(e<=0||!qe(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Ze(t))ws(t.value,e,s);else if(ke(t))for(let r=0;r<t.length;r++)ws(t[r],e,s);else if(gn(t)||Gr(t))t.forEach(r=>{ws(r,e,s)});else if(Oh(t)){for(const r in t)ws(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ws(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function po(t,e,s,r){try{return r?t(...r):t()}catch(n){Vi(n,e,s)}}function Zt(t,e,s,r){if(Ie(t)){const n=po(t,e,s,r);return n&&Ph(n)&&n.catch(o=>{Vi(o,e,s)}),n}if(ke(t)){const n=[];for(let o=0;o<t.length;o++)n.push(Zt(t[o],e,s,r));return n}}function Vi(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||ze;if(e){let l=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const d=l.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,c,u)===!1)return}l=l.parent}if(o){tr(),po(o,null,10,[t,c,u]),sr();return}}qv(t,s,n,r,i)}function qv(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const xt=[];let ls=-1;const Jr=[];let Us=null,Fr=0;const o0=Promise.resolve();let gi=null;function jr(t){const e=gi||o0;return t?e.then(this?t.bind(this):t):e}function Kv(t){let e=ls+1,s=xt.length;for(;e<s;){const r=e+s>>>1,n=xt[r],o=Qn(n);o<t||o===t&&n.flags&2?e=r+1:s=r}return e}function pc(t){if(!(t.flags&1)){const e=Qn(t),s=xt[xt.length-1];!s||!(t.flags&2)&&e>=Qn(s)?xt.push(t):xt.splice(Kv(e),0,t),t.flags|=1,i0()}}function i0(){gi||(gi=o0.then(l0))}function Wv(t){ke(t)?Jr.push(...t):Us&&t.id===-1?Us.splice(Fr+1,0,t):t.flags&1||(Jr.push(t),t.flags|=1),i0()}function au(t,e,s=ls+1){for(;s<xt.length;s++){const r=xt[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;xt.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function a0(t){if(Jr.length){const e=[...new Set(Jr)].sort((s,r)=>Qn(s)-Qn(r));if(Jr.length=0,Us){Us.push(...e);return}for(Us=e,Fr=0;Fr<Us.length;Fr++){const s=Us[Fr];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Us=null,Fr=0}}const Qn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function l0(t){try{for(ls=0;ls<xt.length;ls++){const e=xt[ls];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),po(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ls<xt.length;ls++){const e=xt[ls];e&&(e.flags&=-2)}ls=-1,xt.length=0,a0(),gi=null,(xt.length||Jr.length)&&l0()}}let _t=null,c0=null;function vi(t){const e=_t;return _t=t,c0=t&&t.type.__scopeId||null,e}function xe(t,e=_t,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&xu(-1);const o=vi(e);let i;try{i=t(...n)}finally{vi(o),r._d&&xu(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function je(t,e){if(_t===null)return t;const s=Wi(_t),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[o,i,l,c=ze]=e[n];o&&(Ie(o)&&(o={mounted:o,updated:o}),o.deep&&ws(i),r.push({dir:o,instance:s,value:i,oldValue:void 0,arg:l,modifiers:c}))}return t}function ur(t,e,s,r){const n=t.dirs,o=e&&e.dirs;for(let i=0;i<n.length;i++){const l=n[i];o&&(l.oldValue=o[i].value);let c=l.dir[r];c&&(tr(),Zt(c,s,8,[t.el,l,t,e]),sr())}}const u0=Symbol("_vte"),d0=t=>t.__isTeleport,Nn=t=>t&&(t.disabled||t.disabled===""),lu=t=>t&&(t.defer||t.defer===""),cu=t=>typeof SVGElement<"u"&&t instanceof SVGElement,uu=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,il=(t,e)=>{const s=t&&t.to;return Xe(s)?e?e(s):null:s},h0={name:"Teleport",__isTeleport:!0,process(t,e,s,r,n,o,i,l,c,u){const{mc:d,pc:h,pbc:f,o:{insert:p,querySelector:v,createText:x,createComment:S}}=u,R=Nn(e.props);let{shapeFlag:P,children:A,dynamicChildren:I}=e;if(t==null){const k=e.el=x(""),_=e.anchor=x("");p(k,s,r),p(_,s,r);const C=(w,y)=>{P&16&&(n&&n.isCE&&(n.ce._teleportTarget=w),d(A,w,y,n,o,i,l,c))},T=()=>{const w=e.target=il(e.props,v),y=f0(w,e,x,p);w&&(i!=="svg"&&cu(w)?i="svg":i!=="mathml"&&uu(w)&&(i="mathml"),R||(C(w,y),Jo(e,!1)))};R&&(C(s,_),Jo(e,!0)),lu(e.props)?bt(()=>{T(),e.el.__isMounted=!0},o):T()}else{if(lu(e.props)&&!t.el.__isMounted){bt(()=>{h0.process(t,e,s,r,n,o,i,l,c,u),delete t.el.__isMounted},o);return}e.el=t.el,e.targetStart=t.targetStart;const k=e.anchor=t.anchor,_=e.target=t.target,C=e.targetAnchor=t.targetAnchor,T=Nn(t.props),w=T?s:_,y=T?k:C;if(i==="svg"||cu(_)?i="svg":(i==="mathml"||uu(_))&&(i="mathml"),I?(f(t.dynamicChildren,I,w,n,o,i,l),yc(t,e,!0)):c||h(t,e,w,y,n,o,i,l,!1),R)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):jo(e,s,k,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const L=e.target=il(e.props,v);L&&jo(e,L,null,u,0)}else T&&jo(e,_,C,u,1);Jo(e,R)}},remove(t,e,s,{um:r,o:{remove:n}},o){const{shapeFlag:i,children:l,anchor:c,targetStart:u,targetAnchor:d,target:h,props:f}=t;if(h&&(n(u),n(d)),o&&n(c),i&16){const p=o||!Nn(f);for(let v=0;v<l.length;v++){const x=l[v];r(x,e,s,p,!!x.dynamicChildren)}}},move:jo,hydrate:Gv};function jo(t,e,s,{o:{insert:r},m:n},o=2){o===0&&r(t.targetAnchor,e,s);const{el:i,anchor:l,shapeFlag:c,children:u,props:d}=t,h=o===2;if(h&&r(i,e,s),(!h||Nn(d))&&c&16)for(let f=0;f<u.length;f++)n(u[f],e,s,2);h&&r(l,e,s)}function Gv(t,e,s,r,n,o,{o:{nextSibling:i,parentNode:l,querySelector:c,insert:u,createText:d}},h){const f=e.target=il(e.props,c);if(f){const p=Nn(e.props),v=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(i(t),e,l(t),s,r,n,o),e.targetStart=v,e.targetAnchor=v&&i(v);else{e.anchor=i(t);let x=v;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")e.targetStart=x;else if(x.data==="teleport anchor"){e.targetAnchor=x,f._lpa=e.targetAnchor&&i(e.targetAnchor);break}}x=i(x)}e.targetAnchor||f0(f,e,d,u),h(v&&i(v),e,f,s,r,n,o)}Jo(e,p)}return e.anchor&&i(e.anchor)}const go=h0;function Jo(t,e){const s=t.ctx;if(s&&s.ut){let r,n;for(e?(r=t.el,n=t.anchor):(r=t.targetStart,n=t.targetAnchor);r&&r!==n;)r.nodeType===1&&r.setAttribute("data-v-owner",s.uid),r=r.nextSibling;s.ut()}}function f0(t,e,s,r){const n=e.targetStart=s(""),o=e.targetAnchor=s("");return n[u0]=o,t&&(r(n,t),r(o,t)),o}const Hs=Symbol("_leaveCb"),No=Symbol("_enterCb");function p0(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ge(()=>{t.isMounted=!0}),vc(()=>{t.isUnmounting=!0}),t}const Lt=[Function,Array],g0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Lt,onEnter:Lt,onAfterEnter:Lt,onEnterCancelled:Lt,onBeforeLeave:Lt,onLeave:Lt,onAfterLeave:Lt,onLeaveCancelled:Lt,onBeforeAppear:Lt,onAppear:Lt,onAfterAppear:Lt,onAppearCancelled:Lt},v0=t=>{const e=t.subTree;return e.component?v0(e.component):e},Jv={name:"BaseTransition",props:g0,setup(t,{slots:e}){const s=z0(),r=p0();return()=>{const n=e.default&&gc(e.default(),!0);if(!n||!n.length)return;const o=m0(n),i=$e(t),{mode:l}=i;if(r.isLeaving)return Ca(o);const c=du(o);if(!c)return Ca(o);let u=Zn(c,i,r,s,h=>u=h);c.type!==Et&&Pr(c,u);let d=s.subTree&&du(s.subTree);if(d&&d.type!==Et&&!yr(c,d)&&v0(s).type!==Et){let h=Zn(d,i,r,s);if(Pr(d,h),l==="out-in"&&c.type!==Et)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,d=void 0},Ca(o);l==="in-out"&&c.type!==Et?h.delayLeave=(f,p,v)=>{const x=y0(r,d);x[String(d.key)]=d,f[Hs]=()=>{p(),f[Hs]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function m0(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Et){e=s;break}}return e}const Yv=Jv;function y0(t,e){const{leavingVNodes:s}=t;let r=s.get(e.type);return r||(r=Object.create(null),s.set(e.type,r)),r}function Zn(t,e,s,r,n){const{appear:o,mode:i,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:v,onLeaveCancelled:x,onBeforeAppear:S,onAppear:R,onAfterAppear:P,onAppearCancelled:A}=e,I=String(t.key),k=y0(s,t),_=(w,y)=>{w&&Zt(w,r,9,y)},C=(w,y)=>{const L=y[1];_(w,y),ke(w)?w.every(U=>U.length<=1)&&L():w.length<=1&&L()},T={mode:i,persisted:l,beforeEnter(w){let y=c;if(!s.isMounted)if(o)y=S||c;else return;w[Hs]&&w[Hs](!0);const L=k[I];L&&yr(t,L)&&L.el[Hs]&&L.el[Hs](),_(y,[w])},enter(w){let y=u,L=d,U=h;if(!s.isMounted)if(o)y=R||u,L=P||d,U=A||h;else return;let ce=!1;const K=w[No]=B=>{ce||(ce=!0,B?_(U,[w]):_(L,[w]),T.delayedLeave&&T.delayedLeave(),w[No]=void 0)};y?C(y,[w,K]):K()},leave(w,y){const L=String(t.key);if(w[No]&&w[No](!0),s.isUnmounting)return y();_(f,[w]);let U=!1;const ce=w[Hs]=K=>{U||(U=!0,y(),K?_(x,[w]):_(v,[w]),w[Hs]=void 0,k[L]===t&&delete k[L])};k[L]=t,p?C(p,[w,ce]):ce()},clone(w){const y=Zn(w,e,s,r,n);return n&&n(y),y}};return T}function Ca(t){if(Fi(t))return t=Ts(t),t.children=null,t}function du(t){if(!Fi(t))return d0(t.type)&&t.children?m0(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&Ie(s.default))return s.default()}}function Pr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Pr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function gc(t,e=!1,s){let r=[],n=0;for(let o=0;o<t.length;o++){let i=t[o];const l=s==null?i.key:String(s)+String(i.key!=null?i.key:o);i.type===te?(i.patchFlag&128&&n++,r=r.concat(gc(i.children,e,l))):(e||i.type!==Et)&&r.push(l!=null?Ts(i,{key:l}):i)}if(n>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function vn(t,e){return Ie(t)?rt({name:t.name},e,{setup:t}):t}function b0(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function mi(t,e,s,r,n=!1){if(ke(t)){t.forEach((v,x)=>mi(v,e&&(ke(e)?e[x]:e),s,r,n));return}if(Ln(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&mi(t,e,s,r.component.subTree);return}const o=r.shapeFlag&4?Wi(r.component):r.el,i=n?null:o,{i:l,r:c}=t,u=e&&e.r,d=l.refs===ze?l.refs={}:l.refs,h=l.setupState,f=$e(h),p=h===ze?()=>!1:v=>De(f,v);if(u!=null&&u!==c&&(Xe(u)?(d[u]=null,p(u)&&(h[u]=null)):Ze(u)&&(u.value=null)),Ie(c))po(c,l,12,[i,d]);else{const v=Xe(c),x=Ze(c);if(v||x){const S=()=>{if(t.f){const R=v?p(c)?h[c]:d[c]:c.value;n?ke(R)&&rc(R,o):ke(R)?R.includes(o)||R.push(o):v?(d[c]=[o],p(c)&&(h[c]=d[c])):(c.value=[o],t.k&&(d[t.k]=c.value))}else v?(d[c]=i,p(c)&&(h[c]=i)):x&&(c.value=i,t.k&&(d[t.k]=i))};i?(S.id=-1,bt(S,s)):S()}}}Ui().requestIdleCallback;Ui().cancelIdleCallback;const Ln=t=>!!t.type.__asyncLoader,Fi=t=>t.type.__isKeepAlive;function Xv(t,e){w0(t,"a",e)}function Qv(t,e){w0(t,"da",e)}function w0(t,e,s=nt){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(zi(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Fi(n.parent.vnode)&&Zv(r,e,s,n),n=n.parent}}function Zv(t,e,s,r){const n=zi(e,t,r,!0);qt(()=>{rc(r[e],n)},s)}function zi(t,e,s=nt,r=!1){if(s){const n=s[t]||(s[t]=[]),o=e.__weh||(e.__weh=(...i)=>{tr();const l=vo(s),c=Zt(e,s,t,i);return l(),sr(),c});return r?n.unshift(o):n.push(o),o}}const Is=t=>(e,s=nt)=>{(!to||t==="sp")&&zi(t,(...r)=>e(...r),s)},em=Is("bm"),Ge=Is("m"),tm=Is("bu"),x0=Is("u"),vc=Is("bum"),qt=Is("um"),sm=Is("sp"),rm=Is("rtg"),nm=Is("rtc");function om(t,e=nt){zi("ec",t,e)}const _0="components";function jt(t,e){return E0(_0,t,!0,e)||t}const k0=Symbol.for("v-ndc");function C0(t){return Xe(t)?E0(_0,t,!1)||t:t||k0}function E0(t,e,s=!0,r=!1){const n=_t||nt;if(n){const o=n.type;{const l=qm(o,!1);if(l&&(l===e||l===Ft(e)||l===Di(Ft(e))))return o}const i=hu(n[t]||o[t],e)||hu(n.appContext[t],e);return!i&&r?o:i}}function hu(t,e){return t&&(t[e]||t[Ft(e)]||t[Di(Ft(e))])}function fe(t,e,s,r){let n;const o=s,i=ke(t);if(i||Xe(t)){const l=i&&Js(t);let c=!1;l&&(c=!Ut(t),t=Hi(t)),n=new Array(t.length);for(let u=0,d=t.length;u<d;u++)n[u]=e(c?vt(t[u]):t[u],u,void 0,o)}else if(typeof t=="number"){n=new Array(t);for(let l=0;l<t;l++)n[l]=e(l+1,l,void 0,o)}else if(qe(t))if(t[Symbol.iterator])n=Array.from(t,(l,c)=>e(l,c,void 0,o));else{const l=Object.keys(t);n=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const d=l[c];n[c]=e(t[d],d,c,o)}}else n=[];return n}const al=t=>t?q0(t)?Wi(t):al(t.parent):null,Bn=rt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>al(t.parent),$root:t=>al(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>T0(t),$forceUpdate:t=>t.f||(t.f=()=>{pc(t.update)}),$nextTick:t=>t.n||(t.n=jr.bind(t.proxy)),$watch:t=>Tm.bind(t)}),Ea=(t,e)=>t!==ze&&!t.__isScriptSetup&&De(t,e),im={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:o,accessCache:i,type:l,appContext:c}=t;let u;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return o[e]}else{if(Ea(r,e))return i[e]=1,r[e];if(n!==ze&&De(n,e))return i[e]=2,n[e];if((u=t.propsOptions[0])&&De(u,e))return i[e]=3,o[e];if(s!==ze&&De(s,e))return i[e]=4,s[e];ll&&(i[e]=0)}}const d=Bn[e];let h,f;if(d)return e==="$attrs"&&gt(t.attrs,"get",""),d(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(s!==ze&&De(s,e))return i[e]=4,s[e];if(f=c.config.globalProperties,De(f,e))return f[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:o}=t;return Ea(n,e)?(n[e]=s,!0):r!==ze&&De(r,e)?(r[e]=s,!0):De(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:o}},i){let l;return!!s[i]||t!==ze&&De(t,i)||Ea(e,i)||(l=o[0])&&De(l,i)||De(r,i)||De(Bn,i)||De(n.config.globalProperties,i)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:De(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function fu(t){return ke(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let ll=!0;function am(t){const e=T0(t),s=t.proxy,r=t.ctx;ll=!1,e.beforeCreate&&pu(e.beforeCreate,t,"bc");const{data:n,computed:o,methods:i,watch:l,provide:c,inject:u,created:d,beforeMount:h,mounted:f,beforeUpdate:p,updated:v,activated:x,deactivated:S,beforeDestroy:R,beforeUnmount:P,destroyed:A,unmounted:I,render:k,renderTracked:_,renderTriggered:C,errorCaptured:T,serverPrefetch:w,expose:y,inheritAttrs:L,components:U,directives:ce,filters:K}=e;if(u&&lm(u,r,null),i)for(const $ in i){const b=i[$];Ie(b)&&(r[$]=b.bind(s))}if(n){const $=n.call(s,s);qe($)&&(t.data=ft($))}if(ll=!0,o)for(const $ in o){const b=o[$],G=Ie(b)?b.bind(s,s):Ie(b.get)?b.get.bind(s,s):us,he=!Ie(b)&&Ie(b.set)?b.set.bind(s):us,z=be({get:G,set:he});Object.defineProperty(r,$,{enumerable:!0,configurable:!0,get:()=>z.value,set:ve=>z.value=ve})}if(l)for(const $ in l)S0(l[$],r,s,$);if(c){const $=Ie(c)?c.call(s):c;Reflect.ownKeys($).forEach(b=>{Yo(b,$[b])})}d&&pu(d,t,"c");function j($,b){ke(b)?b.forEach(G=>$(G.bind(s))):b&&$(b.bind(s))}if(j(em,h),j(Ge,f),j(tm,p),j(x0,v),j(Xv,x),j(Qv,S),j(om,T),j(nm,_),j(rm,C),j(vc,P),j(qt,I),j(sm,w),ke(y))if(y.length){const $=t.exposed||(t.exposed={});y.forEach(b=>{Object.defineProperty($,b,{get:()=>s[b],set:G=>s[b]=G})})}else t.exposed||(t.exposed={});k&&t.render===us&&(t.render=k),L!=null&&(t.inheritAttrs=L),U&&(t.components=U),ce&&(t.directives=ce),w&&b0(t)}function lm(t,e,s=us){ke(t)&&(t=cl(t));for(const r in t){const n=t[r];let o;qe(n)?"default"in n?o=Ht(n.from||r,n.default,!0):o=Ht(n.from||r):o=Ht(n),Ze(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[r]=o}}function pu(t,e,s){Zt(ke(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function S0(t,e,s,r){let n=r.includes(".")?D0(s,r):()=>s[r];if(Xe(t)){const o=e[t];Ie(o)&&Ye(n,o)}else if(Ie(t))Ye(n,t.bind(s));else if(qe(t))if(ke(t))t.forEach(o=>S0(o,e,s,r));else{const o=Ie(t.handler)?t.handler.bind(s):e[t.handler];Ie(o)&&Ye(n,o,t)}}function T0(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,l=o.get(e);let c;return l?c=l:!n.length&&!s&&!r?c=e:(c={},n.length&&n.forEach(u=>yi(c,u,i,!0)),yi(c,e,i)),qe(e)&&o.set(e,c),c}function yi(t,e,s,r=!1){const{mixins:n,extends:o}=e;o&&yi(t,o,s,!0),n&&n.forEach(i=>yi(t,i,s,!0));for(const i in e)if(!(r&&i==="expose")){const l=cm[i]||s&&s[i];t[i]=l?l(t[i],e[i]):e[i]}return t}const cm={data:gu,props:vu,emits:vu,methods:An,computed:An,beforeCreate:yt,created:yt,beforeMount:yt,mounted:yt,beforeUpdate:yt,updated:yt,beforeDestroy:yt,beforeUnmount:yt,destroyed:yt,unmounted:yt,activated:yt,deactivated:yt,errorCaptured:yt,serverPrefetch:yt,components:An,directives:An,watch:dm,provide:gu,inject:um};function gu(t,e){return e?t?function(){return rt(Ie(t)?t.call(this,this):t,Ie(e)?e.call(this,this):e)}:e:t}function um(t,e){return An(cl(t),cl(e))}function cl(t){if(ke(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function yt(t,e){return t?[...new Set([].concat(t,e))]:e}function An(t,e){return t?rt(Object.create(null),t,e):e}function vu(t,e){return t?ke(t)&&ke(e)?[...new Set([...t,...e])]:rt(Object.create(null),fu(t),fu(e??{})):e}function dm(t,e){if(!t)return e;if(!e)return t;const s=rt(Object.create(null),t);for(const r in e)s[r]=yt(t[r],e[r]);return s}function $0(){return{app:null,config:{isNativeTag:sv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hm=0;function fm(t,e){return function(r,n=null){Ie(r)||(r=rt({},r)),n!=null&&!qe(n)&&(n=null);const o=$0(),i=new WeakSet,l=[];let c=!1;const u=o.app={_uid:hm++,_component:r,_props:n,_container:null,_context:o,_instance:null,version:Wm,get config(){return o.config},set config(d){},use(d,...h){return i.has(d)||(d&&Ie(d.install)?(i.add(d),d.install(u,...h)):Ie(d)&&(i.add(d),d(u,...h))),u},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),u},component(d,h){return h?(o.components[d]=h,u):o.components[d]},directive(d,h){return h?(o.directives[d]=h,u):o.directives[d]},mount(d,h,f){if(!c){const p=u._ceVNode||Q(r,n);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),t(p,d,f),c=!0,u._container=d,d.__vue_app__=u,Wi(p.component)}},onUnmount(d){l.push(d)},unmount(){c&&(Zt(l,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,h){return o.provides[d]=h,u},runWithContext(d){const h=Sr;Sr=u;try{return d()}finally{Sr=h}}};return u}}let Sr=null;function Yo(t,e){if(nt){let s=nt.provides;const r=nt.parent&&nt.parent.provides;r===s&&(s=nt.provides=Object.create(r)),s[t]=e}}function Ht(t,e,s=!1){const r=nt||_t;if(r||Sr){const n=Sr?Sr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&Ie(e)?e.call(r&&r.proxy):e}}function pm(){return!!(nt||_t||Sr)}const A0={},I0=()=>Object.create(A0),P0=t=>Object.getPrototypeOf(t)===A0;function gm(t,e,s,r=!1){const n={},o=I0();t.propsDefaults=Object.create(null),R0(t,e,n,o);for(const i in t.propsOptions[0])i in n||(n[i]=void 0);s?t.props=r?n:t0(n):t.type.props?t.props=n:t.props=o,t.attrs=o}function vm(t,e,s,r){const{props:n,attrs:o,vnode:{patchFlag:i}}=t,l=$e(n),[c]=t.propsOptions;let u=!1;if((r||i>0)&&!(i&16)){if(i&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let f=d[h];if(qi(t.emitsOptions,f))continue;const p=e[f];if(c)if(De(o,f))p!==o[f]&&(o[f]=p,u=!0);else{const v=Ft(f);n[v]=ul(c,l,v,p,t,!1)}else p!==o[f]&&(o[f]=p,u=!0)}}}else{R0(t,e,n,o)&&(u=!0);let d;for(const h in l)(!e||!De(e,h)&&((d=er(h))===h||!De(e,d)))&&(c?s&&(s[h]!==void 0||s[d]!==void 0)&&(n[h]=ul(c,l,h,void 0,t,!0)):delete n[h]);if(o!==l)for(const h in o)(!e||!De(e,h))&&(delete o[h],u=!0)}u&&bs(t.attrs,"set","")}function R0(t,e,s,r){const[n,o]=t.propsOptions;let i=!1,l;if(e)for(let c in e){if(On(c))continue;const u=e[c];let d;n&&De(n,d=Ft(c))?!o||!o.includes(d)?s[d]=u:(l||(l={}))[d]=u:qi(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,i=!0)}if(o){const c=$e(s),u=l||ze;for(let d=0;d<o.length;d++){const h=o[d];s[h]=ul(n,c,h,u[h],t,!De(u,h))}}return i}function ul(t,e,s,r,n,o){const i=t[s];if(i!=null){const l=De(i,"default");if(l&&r===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&Ie(c)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const d=vo(n);r=u[s]=c.call(null,e),d()}}else r=c;n.ce&&n.ce._setProp(s,r)}i[0]&&(o&&!l?r=!1:i[1]&&(r===""||r===er(s))&&(r=!0))}return r}const mm=new WeakMap;function O0(t,e,s=!1){const r=s?mm:e.propsCache,n=r.get(t);if(n)return n;const o=t.props,i={},l=[];let c=!1;if(!Ie(t)){const d=h=>{c=!0;const[f,p]=O0(h,e,!0);rt(i,f),p&&l.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!c)return qe(t)&&r.set(t,Wr),Wr;if(ke(o))for(let d=0;d<o.length;d++){const h=Ft(o[d]);mu(h)&&(i[h]=ze)}else if(o)for(const d in o){const h=Ft(d);if(mu(h)){const f=o[d],p=i[h]=ke(f)||Ie(f)?{type:f}:rt({},f),v=p.type;let x=!1,S=!0;if(ke(v))for(let R=0;R<v.length;++R){const P=v[R],A=Ie(P)&&P.name;if(A==="Boolean"){x=!0;break}else A==="String"&&(S=!1)}else x=Ie(v)&&v.name==="Boolean";p[0]=x,p[1]=S,(x||De(p,"default"))&&l.push(h)}}const u=[i,l];return qe(t)&&r.set(t,u),u}function mu(t){return t[0]!=="$"&&!On(t)}const M0=t=>t[0]==="_"||t==="$stable",mc=t=>ke(t)?t.map(cs):[cs(t)],ym=(t,e,s)=>{if(e._n)return e;const r=xe((...n)=>mc(e(...n)),s);return r._c=!1,r},j0=(t,e,s)=>{const r=t._ctx;for(const n in t){if(M0(n))continue;const o=t[n];if(Ie(o))e[n]=ym(n,o,r);else if(o!=null){const i=mc(o);e[n]=()=>i}}},N0=(t,e)=>{const s=mc(e);t.slots.default=()=>s},L0=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},bm=(t,e,s)=>{const r=t.slots=I0();if(t.vnode.shapeFlag&32){const n=e._;n?(L0(r,e,s),s&&Mh(r,"_",n,!0)):j0(e,r)}else e&&N0(t,e)},wm=(t,e,s)=>{const{vnode:r,slots:n}=t;let o=!0,i=ze;if(r.shapeFlag&32){const l=e._;l?s&&l===1?o=!1:L0(n,e,s):(o=!e.$stable,j0(e,n)),i=e}else e&&(N0(t,e),i={default:1});if(o)for(const l in n)!M0(l)&&i[l]==null&&delete n[l]},bt=Mm;function xm(t){return _m(t)}function _m(t,e){const s=Ui();s.__VUE__=!0;const{insert:r,remove:n,patchProp:o,createElement:i,createText:l,createComment:c,setText:u,setElementText:d,parentNode:h,nextSibling:f,setScopeId:p=us,insertStaticContent:v}=t,x=(O,M,H,q=null,Y=null,W=null,ue=void 0,re=null,ne=!!M.dynamicChildren)=>{if(O===M)return;O&&!yr(O,M)&&(q=F(O),ve(O,Y,W,!0),O=null),M.patchFlag===-2&&(ne=!1,M.dynamicChildren=null);const{type:Z,ref:ie,shapeFlag:le}=M;switch(Z){case Ki:S(O,M,H,q);break;case Et:R(O,M,H,q);break;case Qo:O==null&&P(M,H,q,ue);break;case te:U(O,M,H,q,Y,W,ue,re,ne);break;default:le&1?k(O,M,H,q,Y,W,ue,re,ne):le&6?ce(O,M,H,q,Y,W,ue,re,ne):(le&64||le&128)&&Z.process(O,M,H,q,Y,W,ue,re,ne,pe)}ie!=null&&Y&&mi(ie,O&&O.ref,W,M||O,!M)},S=(O,M,H,q)=>{if(O==null)r(M.el=l(M.children),H,q);else{const Y=M.el=O.el;M.children!==O.children&&u(Y,M.children)}},R=(O,M,H,q)=>{O==null?r(M.el=c(M.children||""),H,q):M.el=O.el},P=(O,M,H,q)=>{[O.el,O.anchor]=v(O.children,M,H,q,O.el,O.anchor)},A=({el:O,anchor:M},H,q)=>{let Y;for(;O&&O!==M;)Y=f(O),r(O,H,q),O=Y;r(M,H,q)},I=({el:O,anchor:M})=>{let H;for(;O&&O!==M;)H=f(O),n(O),O=H;n(M)},k=(O,M,H,q,Y,W,ue,re,ne)=>{M.type==="svg"?ue="svg":M.type==="math"&&(ue="mathml"),O==null?_(M,H,q,Y,W,ue,re,ne):w(O,M,Y,W,ue,re,ne)},_=(O,M,H,q,Y,W,ue,re)=>{let ne,Z;const{props:ie,shapeFlag:le,transition:oe,dirs:Ce}=O;if(ne=O.el=i(O.type,W,ie&&ie.is,ie),le&8?d(ne,O.children):le&16&&T(O.children,ne,null,q,Y,Sa(O,W),ue,re),Ce&&ur(O,null,q,"created"),C(ne,O,O.scopeId,ue,q),ie){for(const Pe in ie)Pe!=="value"&&!On(Pe)&&o(ne,Pe,null,ie[Pe],W,q);"value"in ie&&o(ne,"value",null,ie.value,W),(Z=ie.onVnodeBeforeMount)&&ns(Z,q,O)}Ce&&ur(O,null,q,"beforeMount");const _e=km(Y,oe);_e&&oe.beforeEnter(ne),r(ne,M,H),((Z=ie&&ie.onVnodeMounted)||_e||Ce)&&bt(()=>{Z&&ns(Z,q,O),_e&&oe.enter(ne),Ce&&ur(O,null,q,"mounted")},Y)},C=(O,M,H,q,Y)=>{if(H&&p(O,H),q)for(let W=0;W<q.length;W++)p(O,q[W]);if(Y){let W=Y.subTree;if(M===W||H0(W.type)&&(W.ssContent===M||W.ssFallback===M)){const ue=Y.vnode;C(O,ue,ue.scopeId,ue.slotScopeIds,Y.parent)}}},T=(O,M,H,q,Y,W,ue,re,ne=0)=>{for(let Z=ne;Z<O.length;Z++){const ie=O[Z]=re?Vs(O[Z]):cs(O[Z]);x(null,ie,M,H,q,Y,W,ue,re)}},w=(O,M,H,q,Y,W,ue)=>{const re=M.el=O.el;let{patchFlag:ne,dynamicChildren:Z,dirs:ie}=M;ne|=O.patchFlag&16;const le=O.props||ze,oe=M.props||ze;let Ce;if(H&&dr(H,!1),(Ce=oe.onVnodeBeforeUpdate)&&ns(Ce,H,M,O),ie&&ur(M,O,H,"beforeUpdate"),H&&dr(H,!0),(le.innerHTML&&oe.innerHTML==null||le.textContent&&oe.textContent==null)&&d(re,""),Z?y(O.dynamicChildren,Z,re,H,q,Sa(M,Y),W):ue||b(O,M,re,null,H,q,Sa(M,Y),W,!1),ne>0){if(ne&16)L(re,le,oe,H,Y);else if(ne&2&&le.class!==oe.class&&o(re,"class",null,oe.class,Y),ne&4&&o(re,"style",le.style,oe.style,Y),ne&8){const _e=M.dynamicProps;for(let Pe=0;Pe<_e.length;Pe++){const Oe=_e[Pe],it=le[Oe],at=oe[Oe];(at!==it||Oe==="value")&&o(re,Oe,it,at,Y,H)}}ne&1&&O.children!==M.children&&d(re,M.children)}else!ue&&Z==null&&L(re,le,oe,H,Y);((Ce=oe.onVnodeUpdated)||ie)&&bt(()=>{Ce&&ns(Ce,H,M,O),ie&&ur(M,O,H,"updated")},q)},y=(O,M,H,q,Y,W,ue)=>{for(let re=0;re<M.length;re++){const ne=O[re],Z=M[re],ie=ne.el&&(ne.type===te||!yr(ne,Z)||ne.shapeFlag&70)?h(ne.el):H;x(ne,Z,ie,null,q,Y,W,ue,!0)}},L=(O,M,H,q,Y)=>{if(M!==H){if(M!==ze)for(const W in M)!On(W)&&!(W in H)&&o(O,W,M[W],null,Y,q);for(const W in H){if(On(W))continue;const ue=H[W],re=M[W];ue!==re&&W!=="value"&&o(O,W,re,ue,Y,q)}"value"in H&&o(O,"value",M.value,H.value,Y)}},U=(O,M,H,q,Y,W,ue,re,ne)=>{const Z=M.el=O?O.el:l(""),ie=M.anchor=O?O.anchor:l("");let{patchFlag:le,dynamicChildren:oe,slotScopeIds:Ce}=M;Ce&&(re=re?re.concat(Ce):Ce),O==null?(r(Z,H,q),r(ie,H,q),T(M.children||[],H,ie,Y,W,ue,re,ne)):le>0&&le&64&&oe&&O.dynamicChildren?(y(O.dynamicChildren,oe,H,Y,W,ue,re),(M.key!=null||Y&&M===Y.subTree)&&yc(O,M,!0)):b(O,M,H,ie,Y,W,ue,re,ne)},ce=(O,M,H,q,Y,W,ue,re,ne)=>{M.slotScopeIds=re,O==null?M.shapeFlag&512?Y.ctx.activate(M,H,q,ue,ne):K(M,H,q,Y,W,ue,ne):B(O,M,ne)},K=(O,M,H,q,Y,W,ue)=>{const re=O.component=Um(O,q,Y);if(Fi(O)&&(re.ctx.renderer=pe),Hm(re,!1,ue),re.asyncDep){if(Y&&Y.registerDep(re,j,ue),!O.el){const ne=re.subTree=Q(Et);R(null,ne,M,H)}}else j(re,O,M,H,Y,W,ue)},B=(O,M,H)=>{const q=M.component=O.component;if(Rm(O,M,H))if(q.asyncDep&&!q.asyncResolved){$(q,M,H);return}else q.next=M,q.update();else M.el=O.el,q.vnode=M},j=(O,M,H,q,Y,W,ue)=>{const re=()=>{if(O.isMounted){let{next:le,bu:oe,u:Ce,parent:_e,vnode:Pe}=O;{const Kt=B0(O);if(Kt){le&&(le.el=Pe.el,$(O,le,ue)),Kt.asyncDep.then(()=>{O.isUnmounted||re()});return}}let Oe=le,it;dr(O,!1),le?(le.el=Pe.el,$(O,le,ue)):le=Pe,oe&&Go(oe),(it=le.props&&le.props.onVnodeBeforeUpdate)&&ns(it,_e,le,Pe),dr(O,!0);const at=bu(O),Nt=O.subTree;O.subTree=at,x(Nt,at,h(Nt.el),F(Nt),O,Y,W),le.el=at.el,Oe===null&&Om(O,at.el),Ce&&bt(Ce,Y),(it=le.props&&le.props.onVnodeUpdated)&&bt(()=>ns(it,_e,le,Pe),Y)}else{let le;const{el:oe,props:Ce}=M,{bm:_e,m:Pe,parent:Oe,root:it,type:at}=O,Nt=Ln(M);dr(O,!1),_e&&Go(_e),!Nt&&(le=Ce&&Ce.onVnodeBeforeMount)&&ns(le,Oe,M),dr(O,!0);{it.ce&&it.ce._injectChildStyle(at);const Kt=O.subTree=bu(O);x(null,Kt,H,q,O,Y,W),M.el=Kt.el}if(Pe&&bt(Pe,Y),!Nt&&(le=Ce&&Ce.onVnodeMounted)){const Kt=M;bt(()=>ns(le,Oe,Kt),Y)}(M.shapeFlag&256||Oe&&Ln(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&O.a&&bt(O.a,Y),O.isMounted=!0,M=H=q=null}};O.scope.on();const ne=O.effect=new Hh(re);O.scope.off();const Z=O.update=ne.run.bind(ne),ie=O.job=ne.runIfDirty.bind(ne);ie.i=O,ie.id=O.uid,ne.scheduler=()=>pc(ie),dr(O,!0),Z()},$=(O,M,H)=>{M.component=O;const q=O.vnode.props;O.vnode=M,O.next=null,vm(O,M.props,q,H),wm(O,M.children,H),tr(),au(O),sr()},b=(O,M,H,q,Y,W,ue,re,ne=!1)=>{const Z=O&&O.children,ie=O?O.shapeFlag:0,le=M.children,{patchFlag:oe,shapeFlag:Ce}=M;if(oe>0){if(oe&128){he(Z,le,H,q,Y,W,ue,re,ne);return}else if(oe&256){G(Z,le,H,q,Y,W,ue,re,ne);return}}Ce&8?(ie&16&&J(Z,Y,W),le!==Z&&d(H,le)):ie&16?Ce&16?he(Z,le,H,q,Y,W,ue,re,ne):J(Z,Y,W,!0):(ie&8&&d(H,""),Ce&16&&T(le,H,q,Y,W,ue,re,ne))},G=(O,M,H,q,Y,W,ue,re,ne)=>{O=O||Wr,M=M||Wr;const Z=O.length,ie=M.length,le=Math.min(Z,ie);let oe;for(oe=0;oe<le;oe++){const Ce=M[oe]=ne?Vs(M[oe]):cs(M[oe]);x(O[oe],Ce,H,null,Y,W,ue,re,ne)}Z>ie?J(O,Y,W,!0,!1,le):T(M,H,q,Y,W,ue,re,ne,le)},he=(O,M,H,q,Y,W,ue,re,ne)=>{let Z=0;const ie=M.length;let le=O.length-1,oe=ie-1;for(;Z<=le&&Z<=oe;){const Ce=O[Z],_e=M[Z]=ne?Vs(M[Z]):cs(M[Z]);if(yr(Ce,_e))x(Ce,_e,H,null,Y,W,ue,re,ne);else break;Z++}for(;Z<=le&&Z<=oe;){const Ce=O[le],_e=M[oe]=ne?Vs(M[oe]):cs(M[oe]);if(yr(Ce,_e))x(Ce,_e,H,null,Y,W,ue,re,ne);else break;le--,oe--}if(Z>le){if(Z<=oe){const Ce=oe+1,_e=Ce<ie?M[Ce].el:q;for(;Z<=oe;)x(null,M[Z]=ne?Vs(M[Z]):cs(M[Z]),H,_e,Y,W,ue,re,ne),Z++}}else if(Z>oe)for(;Z<=le;)ve(O[Z],Y,W,!0),Z++;else{const Ce=Z,_e=Z,Pe=new Map;for(Z=_e;Z<=oe;Z++){const At=M[Z]=ne?Vs(M[Z]):cs(M[Z]);At.key!=null&&Pe.set(At.key,Z)}let Oe,it=0;const at=oe-_e+1;let Nt=!1,Kt=0;const kn=new Array(at);for(Z=0;Z<at;Z++)kn[Z]=0;for(Z=Ce;Z<=le;Z++){const At=O[Z];if(it>=at){ve(At,Y,W,!0);continue}let rs;if(At.key!=null)rs=Pe.get(At.key);else for(Oe=_e;Oe<=oe;Oe++)if(kn[Oe-_e]===0&&yr(At,M[Oe])){rs=Oe;break}rs===void 0?ve(At,Y,W,!0):(kn[rs-_e]=Z+1,rs>=Kt?Kt=rs:Nt=!0,x(At,M[rs],H,null,Y,W,ue,re,ne),it++)}const tu=Nt?Cm(kn):Wr;for(Oe=tu.length-1,Z=at-1;Z>=0;Z--){const At=_e+Z,rs=M[At],su=At+1<ie?M[At+1].el:q;kn[Z]===0?x(null,rs,H,su,Y,W,ue,re,ne):Nt&&(Oe<0||Z!==tu[Oe]?z(rs,H,su,2):Oe--)}}},z=(O,M,H,q,Y=null)=>{const{el:W,type:ue,transition:re,children:ne,shapeFlag:Z}=O;if(Z&6){z(O.component.subTree,M,H,q);return}if(Z&128){O.suspense.move(M,H,q);return}if(Z&64){ue.move(O,M,H,pe);return}if(ue===te){r(W,M,H);for(let le=0;le<ne.length;le++)z(ne[le],M,H,q);r(O.anchor,M,H);return}if(ue===Qo){A(O,M,H);return}if(q!==2&&Z&1&&re)if(q===0)re.beforeEnter(W),r(W,M,H),bt(()=>re.enter(W),Y);else{const{leave:le,delayLeave:oe,afterLeave:Ce}=re,_e=()=>r(W,M,H),Pe=()=>{le(W,()=>{_e(),Ce&&Ce()})};oe?oe(W,_e,Pe):Pe()}else r(W,M,H)},ve=(O,M,H,q=!1,Y=!1)=>{const{type:W,props:ue,ref:re,children:ne,dynamicChildren:Z,shapeFlag:ie,patchFlag:le,dirs:oe,cacheIndex:Ce}=O;if(le===-2&&(Y=!1),re!=null&&mi(re,null,H,O,!0),Ce!=null&&(M.renderCache[Ce]=void 0),ie&256){M.ctx.deactivate(O);return}const _e=ie&1&&oe,Pe=!Ln(O);let Oe;if(Pe&&(Oe=ue&&ue.onVnodeBeforeUnmount)&&ns(Oe,M,O),ie&6)ge(O.component,H,q);else{if(ie&128){O.suspense.unmount(H,q);return}_e&&ur(O,null,M,"beforeUnmount"),ie&64?O.type.remove(O,M,H,pe,q):Z&&!Z.hasOnce&&(W!==te||le>0&&le&64)?J(Z,M,H,!1,!0):(W===te&&le&384||!Y&&ie&16)&&J(ne,M,H),q&&ye(O)}(Pe&&(Oe=ue&&ue.onVnodeUnmounted)||_e)&&bt(()=>{Oe&&ns(Oe,M,O),_e&&ur(O,null,M,"unmounted")},H)},ye=O=>{const{type:M,el:H,anchor:q,transition:Y}=O;if(M===te){He(H,q);return}if(M===Qo){I(O);return}const W=()=>{n(H),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(O.shapeFlag&1&&Y&&!Y.persisted){const{leave:ue,delayLeave:re}=Y,ne=()=>ue(H,W);re?re(O.el,W,ne):ne()}else W()},He=(O,M)=>{let H;for(;O!==M;)H=f(O),n(O),O=H;n(M)},ge=(O,M,H)=>{const{bum:q,scope:Y,job:W,subTree:ue,um:re,m:ne,a:Z}=O;yu(ne),yu(Z),q&&Go(q),Y.stop(),W&&(W.flags|=8,ve(ue,O,M,H)),re&&bt(re,M),bt(()=>{O.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},J=(O,M,H,q=!1,Y=!1,W=0)=>{for(let ue=W;ue<O.length;ue++)ve(O[ue],M,H,q,Y)},F=O=>{if(O.shapeFlag&6)return F(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const M=f(O.anchor||O.el),H=M&&M[u0];return H?f(H):M};let ae=!1;const ee=(O,M,H)=>{O==null?M._vnode&&ve(M._vnode,null,null,!0):x(M._vnode||null,O,M,null,null,null,H),M._vnode=O,ae||(ae=!0,au(),a0(),ae=!1)},pe={p:x,um:ve,m:z,r:ye,mt:K,mc:T,pc:b,pbc:y,n:F,o:t};return{render:ee,hydrate:void 0,createApp:fm(ee)}}function Sa({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function dr({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function km(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function yc(t,e,s=!1){const r=t.children,n=e.children;if(ke(r)&&ke(n))for(let o=0;o<r.length;o++){const i=r[o];let l=n[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[o]=Vs(n[o]),l.el=i.el),!s&&l.patchFlag!==-2&&yc(i,l)),l.type===Ki&&(l.el=i.el)}}function Cm(t){const e=t.slice(),s=[0];let r,n,o,i,l;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(o=0,i=s.length-1;o<i;)l=o+i>>1,t[s[l]]<u?o=l+1:i=l;u<t[s[o]]&&(o>0&&(e[r]=s[o-1]),s[o]=r)}}for(o=s.length,i=s[o-1];o-- >0;)s[o]=i,i=e[i];return s}function B0(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:B0(e)}function yu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Em=Symbol.for("v-scx"),Sm=()=>Ht(Em);function Xo(t,e){return bc(t,null,e)}function Ye(t,e,s){return bc(t,e,s)}function bc(t,e,s=ze){const{immediate:r,deep:n,flush:o,once:i}=s,l=rt({},s),c=e&&r||!e&&o!=="post";let u;if(to){if(o==="sync"){const p=Sm();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=us,p.resume=us,p.pause=us,p}}const d=nt;l.call=(p,v,x)=>Zt(p,d,v,x);let h=!1;o==="post"?l.scheduler=p=>{bt(p,d&&d.suspense)}:o!=="sync"&&(h=!0,l.scheduler=(p,v)=>{v?p():pc(p)}),l.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=zv(t,e,l);return to&&(u?u.push(f):c&&f()),f}function Tm(t,e,s){const r=this.proxy,n=Xe(t)?t.includes(".")?D0(r,t):()=>r[t]:t.bind(r,r);let o;Ie(e)?o=e:(o=e.handler,s=e);const i=vo(this),l=bc(n,o.bind(r),s);return i(),l}function D0(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const $m=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ft(e)}Modifiers`]||t[`${er(e)}Modifiers`];function Am(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ze;let n=s;const o=e.startsWith("update:"),i=o&&$m(r,e.slice(7));i&&(i.trim&&(n=s.map(d=>Xe(d)?d.trim():d)),i.number&&(n=s.map(hi)));let l,c=r[l=ba(e)]||r[l=ba(Ft(e))];!c&&o&&(c=r[l=ba(er(e))]),c&&Zt(c,t,6,n);const u=r[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Zt(u,t,6,n)}}function U0(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const o=t.emits;let i={},l=!1;if(!Ie(t)){const c=u=>{const d=U0(u,e,!0);d&&(l=!0,rt(i,d))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!o&&!l?(qe(t)&&r.set(t,null),null):(ke(o)?o.forEach(c=>i[c]=null):rt(i,o),qe(t)&&r.set(t,i),i)}function qi(t,e){return!t||!Li(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,er(e))||De(t,e))}function bu(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[o],slots:i,attrs:l,emit:c,render:u,renderCache:d,props:h,data:f,setupState:p,ctx:v,inheritAttrs:x}=t,S=vi(t);let R,P;try{if(s.shapeFlag&4){const I=n||r,k=I;R=cs(u.call(k,I,d,h,p,f,v)),P=l}else{const I=e;R=cs(I.length>1?I(h,{attrs:l,slots:i,emit:c}):I(h,null)),P=e.props?l:Im(l)}}catch(I){Dn.length=0,Vi(I,t,1),R=Q(Et)}let A=R;if(P&&x!==!1){const I=Object.keys(P),{shapeFlag:k}=A;I.length&&k&7&&(o&&I.some(sc)&&(P=Pm(P,o)),A=Ts(A,P,!1,!0))}return s.dirs&&(A=Ts(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(s.dirs):s.dirs),s.transition&&Pr(A,s.transition),R=A,vi(S),R}const Im=t=>{let e;for(const s in t)(s==="class"||s==="style"||Li(s))&&((e||(e={}))[s]=t[s]);return e},Pm=(t,e)=>{const s={};for(const r in t)(!sc(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Rm(t,e,s){const{props:r,children:n,component:o}=t,{props:i,children:l,patchFlag:c}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return r?wu(r,i,u):!!i;if(c&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const f=d[h];if(i[f]!==r[f]&&!qi(u,f))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:r===i?!1:r?i?wu(r,i,u):!0:!!i;return!1}function wu(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const o=r[n];if(e[o]!==t[o]&&!qi(s,o))return!0}return!1}function Om({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const H0=t=>t.__isSuspense;function Mm(t,e){e&&e.pendingBranch?ke(t)?e.effects.push(...t):e.effects.push(t):Wv(t)}const te=Symbol.for("v-fgt"),Ki=Symbol.for("v-txt"),Et=Symbol.for("v-cmt"),Qo=Symbol.for("v-stc"),Dn=[];let Mt=null;function g(t=!1){Dn.push(Mt=t?null:[])}function jm(){Dn.pop(),Mt=Dn[Dn.length-1]||null}let eo=1;function xu(t,e=!1){eo+=t,t<0&&Mt&&e&&(Mt.hasOnce=!0)}function V0(t){return t.dynamicChildren=eo>0?Mt||Wr:null,jm(),eo>0&&Mt&&Mt.push(t),t}function m(t,e,s,r,n,o){return V0(a(t,e,s,r,n,o,!0))}function Ae(t,e,s,r,n){return V0(Q(t,e,s,r,n,!0))}function sn(t){return t?t.__v_isVNode===!0:!1}function yr(t,e){return t.type===e.type&&t.key===e.key}const F0=({key:t})=>t??null,Zo=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Xe(t)||Ze(t)||Ie(t)?{i:_t,r:t,k:e,f:!!s}:t:null);function a(t,e=null,s=null,r=0,n=null,o=t===te?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&F0(e),ref:e&&Zo(e),scopeId:c0,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:_t};return l?(wc(c,s),o&128&&t.normalize(c)):s&&(c.shapeFlag|=Xe(s)?8:16),eo>0&&!i&&Mt&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Mt.push(c),c}const Q=Nm;function Nm(t,e=null,s=null,r=0,n=null,o=!1){if((!t||t===k0)&&(t=Et),sn(t)){const l=Ts(t,e,!0);return s&&wc(l,s),eo>0&&!o&&Mt&&(l.shapeFlag&6?Mt[Mt.indexOf(t)]=l:Mt.push(l)),l.patchFlag=-2,l}if(Km(t)&&(t=t.__vccOpts),e){e=Lm(e);let{class:l,style:c}=e;l&&!Xe(l)&&(e.class=X(l)),qe(c)&&(hc(c)&&!ke(c)&&(c=rt({},c)),e.style=ht(c))}const i=Xe(t)?1:H0(t)?128:d0(t)?64:qe(t)?4:Ie(t)?2:0;return a(t,e,s,r,n,i,o,!0)}function Lm(t){return t?hc(t)||P0(t)?rt({},t):t:null}function Ts(t,e,s=!1,r=!1){const{props:n,ref:o,patchFlag:i,children:l,transition:c}=t,u=e?Ps(n||{},e):n,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&F0(u),ref:e&&e.ref?s&&o?ke(o)?o.concat(Zo(e)):[o,Zo(e)]:Zo(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==te?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ts(t.ssContent),ssFallback:t.ssFallback&&Ts(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Pr(d,c.clone(d)),d}function se(t=" ",e=0){return Q(Ki,null,t,e)}function Ee(t,e){const s=Q(Qo,null,t);return s.staticCount=e,s}function D(t="",e=!1){return e?(g(),Ae(Et,null,t)):Q(Et,null,t)}function cs(t){return t==null||typeof t=="boolean"?Q(Et):ke(t)?Q(te,null,t.slice()):sn(t)?Vs(t):Q(Ki,null,String(t))}function Vs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ts(t)}function wc(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ke(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),wc(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!P0(e)?e._ctx=_t:n===3&&_t&&(_t.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ie(e)?(e={default:e,_ctx:_t},s=32):(e=String(e),r&64?(s=16,e=[se(e)]):s=8);t.children=e,t.shapeFlag|=s}function Ps(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=X([e.class,r.class]));else if(n==="style")e.style=ht([e.style,r.style]);else if(Li(n)){const o=e[n],i=r[n];i&&o!==i&&!(ke(o)&&o.includes(i))&&(e[n]=o?[].concat(o,i):i)}else n!==""&&(e[n]=r[n])}return e}function ns(t,e,s,r=null){Zt(t,e,7,[s,r])}const Bm=$0();let Dm=0;function Um(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Bm,o={uid:Dm++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:O0(r,n),emitsOptions:U0(r,n),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:r.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Am.bind(null,o),t.ce&&t.ce(o),o}let nt=null;const z0=()=>nt||_t;let bi,dl;{const t=Ui(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),o=>{n.length>1?n.forEach(i=>i(o)):n[0](o)}};bi=e("__VUE_INSTANCE_SETTERS__",s=>nt=s),dl=e("__VUE_SSR_SETTERS__",s=>to=s)}const vo=t=>{const e=nt;return bi(t),t.scope.on(),()=>{t.scope.off(),bi(e)}},_u=()=>{nt&&nt.scope.off(),bi(null)};function q0(t){return t.vnode.shapeFlag&4}let to=!1;function Hm(t,e=!1,s=!1){e&&dl(e);const{props:r,children:n}=t.vnode,o=q0(t);gm(t,r,o,e),bm(t,n,s);const i=o?Vm(t,e):void 0;return e&&dl(!1),i}function Vm(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,im);const{setup:r}=s;if(r){tr();const n=t.setupContext=r.length>1?zm(t):null,o=vo(t),i=po(r,t,0,[t.props,n]),l=Ph(i);if(sr(),o(),(l||t.sp)&&!Ln(t)&&b0(t),l){if(i.then(_u,_u),e)return i.then(c=>{ku(t,c)}).catch(c=>{Vi(c,t,0)});t.asyncDep=i}else ku(t,i)}else K0(t)}function ku(t,e,s){Ie(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qe(e)&&(t.setupState=n0(e)),K0(t)}function K0(t,e,s){const r=t.type;t.render||(t.render=r.render||us);{const n=vo(t);tr();try{am(t)}finally{sr(),n()}}}const Fm={get(t,e){return gt(t,"get",""),t[e]}};function zm(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Fm),slots:t.slots,emit:t.emit,expose:e}}function Wi(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(n0(fc(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Bn)return Bn[s](t)},has(e,s){return s in e||s in Bn}})):t.proxy}function qm(t,e=!0){return Ie(t)?t.displayName||t.name:t.name||e&&t.__name}function Km(t){return Ie(t)&&"__vccOpts"in t}const be=(t,e)=>Vv(t,e,to);function et(t,e,s){const r=arguments.length;return r===2?qe(e)&&!ke(e)?sn(e)?Q(t,null,[e]):Q(t,e):Q(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&sn(s)&&(s=[s]),Q(t,e,s))}const Wm="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hl;const Cu=typeof window<"u"&&window.trustedTypes;if(Cu)try{hl=Cu.createPolicy("vue",{createHTML:t=>t})}catch{}const W0=hl?t=>hl.createHTML(t):t=>t,Gm="http://www.w3.org/2000/svg",Jm="http://www.w3.org/1998/Math/MathML",ms=typeof document<"u"?document:null,Eu=ms&&ms.createElement("template"),Ym={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?ms.createElementNS(Gm,t):e==="mathml"?ms.createElementNS(Jm,t):s?ms.createElement(t,{is:s}):ms.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>ms.createTextNode(t),createComment:t=>ms.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ms.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,o){const i=s?s.previousSibling:e.lastChild;if(n&&(n===o||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{Eu.innerHTML=W0(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=Eu.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,s)}return[i?i.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},js="transition",En="animation",rn=Symbol("_vtc"),G0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},J0=rt({},g0,G0),Xm=t=>(t.displayName="Transition",t.props=J0,t),dt=Xm((t,{slots:e})=>et(Yv,Y0(t),e)),hr=(t,e=[])=>{ke(t)?t.forEach(s=>s(...e)):t&&t(...e)},Su=t=>t?ke(t)?t.some(e=>e.length>1):t.length>1:!1;function Y0(t){const e={};for(const U in t)U in G0||(e[U]=t[U]);if(t.css===!1)return e;const{name:s="v",type:r,duration:n,enterFromClass:o=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:c=o,appearActiveClass:u=i,appearToClass:d=l,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,v=Qm(n),x=v&&v[0],S=v&&v[1],{onBeforeEnter:R,onEnter:P,onEnterCancelled:A,onLeave:I,onLeaveCancelled:k,onBeforeAppear:_=R,onAppear:C=P,onAppearCancelled:T=A}=e,w=(U,ce,K,B)=>{U._enterCancelled=B,Bs(U,ce?d:l),Bs(U,ce?u:i),K&&K()},y=(U,ce)=>{U._isLeaving=!1,Bs(U,h),Bs(U,p),Bs(U,f),ce&&ce()},L=U=>(ce,K)=>{const B=U?C:P,j=()=>w(ce,U,K);hr(B,[ce,j]),Tu(()=>{Bs(ce,U?c:o),is(ce,U?d:l),Su(B)||$u(ce,r,x,j)})};return rt(e,{onBeforeEnter(U){hr(R,[U]),is(U,o),is(U,i)},onBeforeAppear(U){hr(_,[U]),is(U,c),is(U,u)},onEnter:L(!1),onAppear:L(!0),onLeave(U,ce){U._isLeaving=!0;const K=()=>y(U,ce);is(U,h),U._enterCancelled?(is(U,f),fl()):(fl(),is(U,f)),Tu(()=>{U._isLeaving&&(Bs(U,h),is(U,p),Su(I)||$u(U,r,S,K))}),hr(I,[U,K])},onEnterCancelled(U){w(U,!1,void 0,!0),hr(A,[U])},onAppearCancelled(U){w(U,!0,void 0,!0),hr(T,[U])},onLeaveCancelled(U){y(U),hr(k,[U])}})}function Qm(t){if(t==null)return null;if(qe(t))return[Ta(t.enter),Ta(t.leave)];{const e=Ta(t);return[e,e]}}function Ta(t){return av(t)}function is(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[rn]||(t[rn]=new Set)).add(e)}function Bs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const s=t[rn];s&&(s.delete(e),s.size||(t[rn]=void 0))}function Tu(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Zm=0;function $u(t,e,s,r){const n=t._endId=++Zm,o=()=>{n===t._endId&&r()};if(s!=null)return setTimeout(o,s);const{type:i,timeout:l,propCount:c}=X0(t,e);if(!i)return r();const u=i+"end";let d=0;const h=()=>{t.removeEventListener(u,f),o()},f=p=>{p.target===t&&++d>=c&&h()};setTimeout(()=>{d<c&&h()},l+1),t.addEventListener(u,f)}function X0(t,e){const s=window.getComputedStyle(t),r=v=>(s[v]||"").split(", "),n=r(`${js}Delay`),o=r(`${js}Duration`),i=Au(n,o),l=r(`${En}Delay`),c=r(`${En}Duration`),u=Au(l,c);let d=null,h=0,f=0;e===js?i>0&&(d=js,h=i,f=o.length):e===En?u>0&&(d=En,h=u,f=c.length):(h=Math.max(i,u),d=h>0?i>u?js:En:null,f=d?d===js?o.length:c.length:0);const p=d===js&&/\b(transform|all)(,|$)/.test(r(`${js}Property`).toString());return{type:d,timeout:h,propCount:f,hasTransform:p}}function Au(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,r)=>Iu(s)+Iu(t[r])))}function Iu(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function fl(){return document.body.offsetHeight}function e1(t,e,s){const r=t[rn];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Pu=Symbol("_vod"),t1=Symbol("_vsh"),s1=Symbol(""),r1=/(^|;)\s*display\s*:/;function n1(t,e,s){const r=t.style,n=Xe(s);let o=!1;if(s&&!n){if(e)if(Xe(e))for(const i of e.split(";")){const l=i.slice(0,i.indexOf(":")).trim();s[l]==null&&ei(r,l,"")}else for(const i in e)s[i]==null&&ei(r,i,"");for(const i in s)i==="display"&&(o=!0),ei(r,i,s[i])}else if(n){if(e!==s){const i=r[s1];i&&(s+=";"+i),r.cssText=s,o=r1.test(s)}}else e&&t.removeAttribute("style");Pu in t&&(t[Pu]=o?r.display:"",t[t1]&&(r.display="none"))}const Ru=/\s*!important$/;function ei(t,e,s){if(ke(s))s.forEach(r=>ei(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=o1(t,e);Ru.test(s)?t.setProperty(er(r),s.replace(Ru,""),"important"):t[r]=s}}const Ou=["Webkit","Moz","ms"],$a={};function o1(t,e){const s=$a[e];if(s)return s;let r=Ft(e);if(r!=="filter"&&r in t)return $a[e]=r;r=Di(r);for(let n=0;n<Ou.length;n++){const o=Ou[n]+r;if(o in t)return $a[e]=o}return e}const Mu="http://www.w3.org/1999/xlink";function ju(t,e,s,r,n,o=fv(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Mu,e.slice(6,e.length)):t.setAttributeNS(Mu,e,s):s==null||o&&!jh(s)?t.removeAttribute(e):t.setAttribute(e,o?"":hs(s)?String(s):s)}function Nu(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?W0(s):s);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?t.type==="checkbox"?"on":"":String(s);(l!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const l=typeof t[e];l==="boolean"?s=jh(s):s==null&&l==="string"?(s="",i=!0):l==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(n||e)}function xs(t,e,s,r){t.addEventListener(e,s,r)}function i1(t,e,s,r){t.removeEventListener(e,s,r)}const Lu=Symbol("_vei");function a1(t,e,s,r,n=null){const o=t[Lu]||(t[Lu]={}),i=o[e];if(r&&i)i.value=r;else{const[l,c]=l1(e);if(r){const u=o[e]=d1(r,n);xs(t,l,u,c)}else i&&(i1(t,l,i,c),o[e]=void 0)}}const Bu=/(?:Once|Passive|Capture)$/;function l1(t){let e;if(Bu.test(t)){e={};let r;for(;r=t.match(Bu);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):er(t.slice(2)),e]}let Aa=0;const c1=Promise.resolve(),u1=()=>Aa||(c1.then(()=>Aa=0),Aa=Date.now());function d1(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Zt(h1(r,s.value),e,5,[r])};return s.value=t,s.attached=u1(),s}function h1(t,e){if(ke(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Du=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,f1=(t,e,s,r,n,o)=>{const i=n==="svg";e==="class"?e1(t,r,i):e==="style"?n1(t,s,r):Li(e)?sc(e)||a1(t,e,s,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):p1(t,e,r,i))?(Nu(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ju(t,e,r,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Xe(r))?Nu(t,Ft(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ju(t,e,r,i))};function p1(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Du(e)&&Ie(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Du(e)&&Xe(s)?!1:e in t}const Q0=new WeakMap,Z0=new WeakMap,wi=Symbol("_moveCb"),Uu=Symbol("_enterCb"),g1=t=>(delete t.props.mode,t),v1=g1({name:"TransitionGroup",props:rt({},J0,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=z0(),r=p0();let n,o;return x0(()=>{if(!n.length)return;const i=t.moveClass||`${t.name||"v"}-move`;if(!w1(n[0].el,s.vnode.el,i))return;n.forEach(m1),n.forEach(y1);const l=n.filter(b1);fl(),l.forEach(c=>{const u=c.el,d=u.style;is(u,i),d.transform=d.webkitTransform=d.transitionDuration="";const h=u[wi]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[wi]=null,Bs(u,i))};u.addEventListener("transitionend",h)})}),()=>{const i=$e(t),l=Y0(i);let c=i.tag||te;if(n=[],o)for(let u=0;u<o.length;u++){const d=o[u];d.el&&d.el instanceof Element&&(n.push(d),Pr(d,Zn(d,l,r,s)),Q0.set(d,d.el.getBoundingClientRect()))}o=e.default?gc(e.default()):[];for(let u=0;u<o.length;u++){const d=o[u];d.key!=null&&Pr(d,Zn(d,l,r,s))}return Q(c,null,o)}}}),xc=v1;function m1(t){const e=t.el;e[wi]&&e[wi](),e[Uu]&&e[Uu]()}function y1(t){Z0.set(t,t.el.getBoundingClientRect())}function b1(t){const e=Q0.get(t),s=Z0.get(t),r=e.left-s.left,n=e.top-s.top;if(r||n){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${n}px)`,o.transitionDuration="0s",t}}function w1(t,e,s){const r=t.cloneNode(),n=t[rn];n&&n.forEach(l=>{l.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),s.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:i}=X0(r);return o.removeChild(r),i}const Qs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ke(e)?s=>Go(e,s):e};function x1(t){t.target.composing=!0}function Hu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vt=Symbol("_assign"),Qe={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Vt]=Qs(n);const o=r||n.props&&n.props.type==="number";xs(t,e?"change":"input",i=>{if(i.target.composing)return;let l=t.value;s&&(l=l.trim()),o&&(l=hi(l)),t[Vt](l)}),s&&xs(t,"change",()=>{t.value=t.value.trim()}),e||(xs(t,"compositionstart",x1),xs(t,"compositionend",Hu),xs(t,"change",Hu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:o}},i){if(t[Vt]=Qs(i),t.composing)return;const l=(o||t.type==="number")&&!/^0\d/.test(t.value)?hi(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===c)||(t.value=c))}},_1={deep:!0,created(t,e,s){t[Vt]=Qs(s),xs(t,"change",()=>{const r=t._modelValue,n=nn(t),o=t.checked,i=t[Vt];if(ke(r)){const l=oc(r,n),c=l!==-1;if(o&&!c)i(r.concat(n));else if(!o&&c){const u=[...r];u.splice(l,1),i(u)}}else if(gn(r)){const l=new Set(r);o?l.add(n):l.delete(n),i(l)}else i(ef(t,o))})},mounted:Vu,beforeUpdate(t,e,s){t[Vt]=Qs(s),Vu(t,e,s)}};function Vu(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(ke(e))n=oc(e,r.props.value)>-1;else if(gn(e))n=e.has(r.props.value);else{if(e===s)return;n=Ar(e,ef(t,!0))}t.checked!==n&&(t.checked=n)}const _c={created(t,{value:e},s){t.checked=Ar(e,s.props.value),t[Vt]=Qs(s),xs(t,"change",()=>{t[Vt](nn(t))})},beforeUpdate(t,{value:e,oldValue:s},r){t[Vt]=Qs(r),e!==s&&(t.checked=Ar(e,r.props.value))}},Tr={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=gn(e);xs(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>s?hi(nn(i)):nn(i));t[Vt](t.multiple?n?new Set(o):o:o[0]),t._assigning=!0,jr(()=>{t._assigning=!1})}),t[Vt]=Qs(r)},mounted(t,{value:e}){Fu(t,e)},beforeUpdate(t,e,s){t[Vt]=Qs(s)},updated(t,{value:e}){t._assigning||Fu(t,e)}};function Fu(t,e){const s=t.multiple,r=ke(e);if(!(s&&!r&&!gn(e))){for(let n=0,o=t.options.length;n<o;n++){const i=t.options[n],l=nn(i);if(s)if(r){const c=typeof l;c==="string"||c==="number"?i.selected=e.some(u=>String(u)===String(l)):i.selected=oc(e,l)>-1}else i.selected=e.has(l);else if(Ar(nn(i),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function nn(t){return"_value"in t?t._value:t.value}function ef(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Un={created(t,e,s){Lo(t,e,s,null,"created")},mounted(t,e,s){Lo(t,e,s,null,"mounted")},beforeUpdate(t,e,s,r){Lo(t,e,s,r,"beforeUpdate")},updated(t,e,s,r){Lo(t,e,s,r,"updated")}};function k1(t,e){switch(t){case"SELECT":return Tr;case"TEXTAREA":return Qe;default:switch(e){case"checkbox":return _1;case"radio":return _c;default:return Qe}}}function Lo(t,e,s,r,n){const i=k1(t.tagName,s.props&&s.props.type)[n];i&&i(t,e,s,r)}const C1=["ctrl","shift","alt","meta"],E1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>C1.some(s=>t[`${s}Key`]&&!e.includes(s))},$t=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...o)=>{for(let i=0;i<e.length;i++){const l=E1[e[i]];if(l&&l(n,e))return}return t(n,...o)})},S1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},It=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const o=er(n.key);if(e.some(i=>i===o||S1[i]===o))return t(n)})},T1=rt({patchProp:f1},Ym);let zu;function $1(){return zu||(zu=xm(T1))}const tf=(...t)=>{const e=$1().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=I1(r);if(!n)return;const o=e._component;!Ie(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const i=s(n,!1,A1(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},e};function A1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function I1(t){return Xe(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const zr=typeof document<"u";function sf(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function P1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&sf(t.default)}const Be=Object.assign;function Ia(t,e){const s={};for(const r in e){const n=e[r];s[r]=es(n)?n.map(t):t(n)}return s}const Hn=()=>{},es=Array.isArray,rf=/#/g,R1=/&/g,O1=/\//g,M1=/=/g,j1=/\?/g,nf=/\+/g,N1=/%5B/g,L1=/%5D/g,of=/%5E/g,B1=/%60/g,af=/%7B/g,D1=/%7C/g,lf=/%7D/g,U1=/%20/g;function kc(t){return encodeURI(""+t).replace(D1,"|").replace(N1,"[").replace(L1,"]")}function H1(t){return kc(t).replace(af,"{").replace(lf,"}").replace(of,"^")}function pl(t){return kc(t).replace(nf,"%2B").replace(U1,"+").replace(rf,"%23").replace(R1,"%26").replace(B1,"`").replace(af,"{").replace(lf,"}").replace(of,"^")}function V1(t){return pl(t).replace(M1,"%3D")}function F1(t){return kc(t).replace(rf,"%23").replace(j1,"%3F")}function z1(t){return t==null?"":F1(t).replace(O1,"%2F")}function so(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const q1=/\/$/,K1=t=>t.replace(q1,"");function Pa(t,e,s="/"){let r,n={},o="",i="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=e.slice(0,c),o=e.slice(c+1,l>-1?l:e.length),n=t(o)),l>-1&&(r=r||e.slice(0,l),i=e.slice(l,e.length)),r=Y1(r??e,s),{fullPath:r+(o&&"?")+o+i,path:r,query:n,hash:so(i)}}function W1(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function qu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function G1(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&on(e.matched[r],s.matched[n])&&cf(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function on(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function cf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!J1(t[s],e[s]))return!1;return!0}function J1(t,e){return es(t)?Ku(t,e):es(e)?Ku(e,t):t===e}function Ku(t,e){return es(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Y1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let o=s.length-1,i,l;for(i=0;i<r.length;i++)if(l=r[i],l!==".")if(l==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+r.slice(i).join("/")}const gs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ro;(function(t){t.pop="pop",t.push="push"})(ro||(ro={}));var Vn;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Vn||(Vn={}));function X1(t){if(!t)if(zr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),K1(t)}const Q1=/^[^#]+#/;function Z1(t,e){return t.replace(Q1,"#")+e}function ey(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const Gi=()=>({left:window.scrollX,top:window.scrollY});function ty(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=ey(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Wu(t,e){return(history.state?history.state.position-e:-1)+t}const gl=new Map;function sy(t,e){gl.set(t,e)}function ry(t){const e=gl.get(t);return gl.delete(t),e}let ny=()=>location.protocol+"//"+location.host;function uf(t,e){const{pathname:s,search:r,hash:n}=e,o=t.indexOf("#");if(o>-1){let l=n.includes(t.slice(o))?t.slice(o).length:1,c=n.slice(l);return c[0]!=="/"&&(c="/"+c),qu(c,"")}return qu(s,t)+r+n}function oy(t,e,s,r){let n=[],o=[],i=null;const l=({state:f})=>{const p=uf(t,location),v=s.value,x=e.value;let S=0;if(f){if(s.value=p,e.value=f,i&&i===v){i=null;return}S=x?f.position-x.position:0}else r(p);n.forEach(R=>{R(s.value,v,{delta:S,type:ro.pop,direction:S?S>0?Vn.forward:Vn.back:Vn.unknown})})};function c(){i=s.value}function u(f){n.push(f);const p=()=>{const v=n.indexOf(f);v>-1&&n.splice(v,1)};return o.push(p),p}function d(){const{history:f}=window;f.state&&f.replaceState(Be({},f.state,{scroll:Gi()}),"")}function h(){for(const f of o)f();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:u,destroy:h}}function Gu(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?Gi():null}}function iy(t){const{history:e,location:s}=window,r={value:uf(t,s)},n={value:e.state};n.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(c,u,d){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+c:ny()+t+c;try{e[d?"replaceState":"pushState"](u,"",f),n.value=u}catch(p){console.error(p),s[d?"replace":"assign"](f)}}function i(c,u){const d=Be({},e.state,Gu(n.value.back,c,n.value.forward,!0),u,{position:n.value.position});o(c,d,!0),r.value=c}function l(c,u){const d=Be({},n.value,e.state,{forward:c,scroll:Gi()});o(d.current,d,!0);const h=Be({},Gu(r.value,c,null),{position:d.position+1},u);o(c,h,!1),r.value=c}return{location:r,state:n,push:l,replace:i}}function df(t){t=X1(t);const e=iy(t),s=oy(t,e.state,e.location,e.replace);function r(o,i=!0){i||s.pauseListeners(),history.go(o)}const n=Be({location:"",base:t,go:r,createHref:Z1.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function ay(t){return typeof t=="string"||t&&typeof t=="object"}function hf(t){return typeof t=="string"||typeof t=="symbol"}const ff=Symbol("");var vl;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(vl||(vl={}));function an(t,e){return Be(new Error,{type:t,[ff]:!0},e)}function as(t,e){return t instanceof Error&&ff in t&&(e==null||!!(t.type&e))}const Ju="[^/]+?",ly={sensitive:!1,strict:!1,start:!0,end:!0},cy=/[.+*?^${}()[\]/\\]/g;function uy(t,e){const s=Be({},ly,e),r=[];let n=s.start?"^":"";const o=[];for(const u of t){const d=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(s.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(cy,"\\$&"),p+=40;else if(f.type===1){const{value:v,repeatable:x,optional:S,regexp:R}=f;o.push({name:v,repeatable:x,optional:S});const P=R||Ju;if(P!==Ju){p+=10;try{new RegExp(`(${P})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${v}" (${P}): `+I.message)}}let A=x?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;h||(A=S&&u.length<2?`(?:/${A})`:"/"+A),S&&(A+="?"),n+=A,p+=20,S&&(p+=-8),x&&(p+=-20),P===".*"&&(p+=-50)}d.push(p)}r.push(d)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const i=new RegExp(n,s.sensitive?"":"i");function l(u){const d=u.match(i),h={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",v=o[f-1];h[v.name]=p&&v.repeatable?p.split("/"):p}return h}function c(u){let d="",h=!1;for(const f of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const p of f)if(p.type===0)d+=p.value;else if(p.type===1){const{value:v,repeatable:x,optional:S}=p,R=v in u?u[v]:"";if(es(R)&&!x)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const P=es(R)?R.join("/"):R;if(!P)if(S)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);d+=P}}return d||"/"}return{re:i,score:r,keys:o,parse:l,stringify:c}}function dy(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function pf(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const o=dy(r[s],n[s]);if(o)return o;s++}if(Math.abs(n.length-r.length)===1){if(Yu(r))return 1;if(Yu(n))return-1}return n.length-r.length}function Yu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const hy={type:0,value:""},fy=/[a-zA-Z0-9_]/;function py(t){if(!t)return[[]];if(t==="/")return[[hy]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,r=s;const n=[];let o;function i(){o&&n.push(o),o=[]}let l=0,c,u="",d="";function h(){u&&(s===0?o.push({type:0,value:u}):s===1||s===2||s===3?(o.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:c==="/"?(u&&h(),i()):c===":"?(h(),s=1):f();break;case 4:f(),s=r;break;case 1:c==="("?s=2:fy.test(c)?f():(h(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:s=3:d+=c;break;case 3:h(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),i(),n}function gy(t,e,s){const r=uy(py(t.path),s),n=Be(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function gf(t,e){const s=[],r=new Map;e=ed({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function o(h,f,p){const v=!p,x=Qu(h);x.aliasOf=p&&p.record;const S=ed(e,h),R=[x];if("alias"in h){const I=typeof h.alias=="string"?[h.alias]:h.alias;for(const k of I)R.push(Qu(Be({},x,{components:p?p.record.components:x.components,path:k,aliasOf:p?p.record:x})))}let P,A;for(const I of R){const{path:k}=I;if(f&&k[0]!=="/"){const _=f.record.path,C=_[_.length-1]==="/"?"":"/";I.path=f.record.path+(k&&C+k)}if(P=gy(I,f,S),p?p.alias.push(P):(A=A||P,A!==P&&A.alias.push(P),v&&h.name&&!Zu(P)&&i(h.name)),vf(P)&&c(P),x.children){const _=x.children;for(let C=0;C<_.length;C++)o(_[C],P,p&&p.children[C])}p=p||P}return A?()=>{i(A)}:Hn}function i(h){if(hf(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function l(){return s}function c(h){const f=yy(h,s);s.splice(f,0,h),h.record.name&&!Zu(h)&&r.set(h.record.name,h)}function u(h,f){let p,v={},x,S;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw an(1,{location:h});S=p.record.name,v=Be(Xu(f.params,p.keys.filter(A=>!A.optional).concat(p.parent?p.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),h.params&&Xu(h.params,p.keys.map(A=>A.name))),x=p.stringify(v)}else if(h.path!=null)x=h.path,p=s.find(A=>A.re.test(x)),p&&(v=p.parse(x),S=p.record.name);else{if(p=f.name?r.get(f.name):s.find(A=>A.re.test(f.path)),!p)throw an(1,{location:h,currentLocation:f});S=p.record.name,v=Be({},f.params,h.params),x=p.stringify(v)}const R=[];let P=p;for(;P;)R.unshift(P.record),P=P.parent;return{name:S,path:x,params:v,matched:R,meta:my(R)}}t.forEach(h=>o(h));function d(){s.length=0,r.clear()}return{addRoute:o,resolve:u,removeRoute:i,clearRoutes:d,getRoutes:l,getRecordMatcher:n}}function Xu(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function Qu(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:vy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function vy(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function Zu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function my(t){return t.reduce((e,s)=>Be(e,s.meta),{})}function ed(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function yy(t,e){let s=0,r=e.length;for(;s!==r;){const o=s+r>>1;pf(t,e[o])<0?r=o:s=o+1}const n=by(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function by(t){let e=t;for(;e=e.parent;)if(vf(e)&&pf(t,e)===0)return e}function vf({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function mf(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const o=r[n].replace(nf," "),i=o.indexOf("="),l=so(i<0?o:o.slice(0,i)),c=i<0?null:so(o.slice(i+1));if(l in e){let u=e[l];es(u)||(u=e[l]=[u]),u.push(c)}else e[l]=c}return e}function ml(t){let e="";for(let s in t){const r=t[s];if(s=V1(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(es(r)?r.map(o=>o&&pl(o)):[r&&pl(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+s,o!=null&&(e+="="+o))})}return e}function wy(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=es(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const yf=Symbol(""),yl=Symbol(""),mo=Symbol(""),Ji=Symbol(""),xi=Symbol("");function Sn(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Fs(t,e,s,r,n,o=i=>i()){const i=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((l,c)=>{const u=f=>{f===!1?c(an(4,{from:s,to:e})):f instanceof Error?c(f):ay(f)?c(an(2,{from:e,to:f})):(i&&r.enterCallbacks[n]===i&&typeof f=="function"&&i.push(f),l())},d=o(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(d);t.length<3&&(h=h.then(u)),h.catch(f=>c(f))})}function Ra(t,e,s,r,n=o=>o()){const o=[];for(const i of t)for(const l in i.components){let c=i.components[l];if(!(e!=="beforeRouteEnter"&&!i.instances[l]))if(sf(c)){const d=(c.__vccOpts||c)[e];d&&o.push(Fs(d,s,r,i,l,n))}else{let u=c();o.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${i.path}"`);const h=P1(d)?d.default:d;i.mods[l]=d,i.components[l]=h;const p=(h.__vccOpts||h)[e];return p&&Fs(p,s,r,i,l,n)()}))}}return o}function bl(t){const e=Ht(mo),s=Ht(Ji),r=be(()=>{const c=Ne(t.to);return e.resolve(c)}),n=be(()=>{const{matched:c}=r.value,{length:u}=c,d=c[u-1],h=s.matched;if(!d||!h.length)return-1;const f=h.findIndex(on.bind(null,d));if(f>-1)return f;const p=td(c[u-2]);return u>1&&td(d)===p&&h[h.length-1].path!==p?h.findIndex(on.bind(null,c[u-2])):f}),o=be(()=>n.value>-1&&Cy(s.params,r.value.params)),i=be(()=>n.value>-1&&n.value===s.matched.length-1&&cf(s.params,r.value.params));function l(c={}){if(ky(c)){const u=e[Ne(t.replace)?"replace":"push"](Ne(t.to)).catch(Hn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:be(()=>r.value.href),isActive:o,isExactActive:i,navigate:l}}function xy(t){return t.length===1?t[0]:t}const _y=vn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:bl,setup(t,{slots:e}){const s=ft(bl(t)),{options:r}=Ht(mo),n=be(()=>({[sd(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[sd(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=e.default&&xy(e.default(s));return t.custom?o:et("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},o)}}}),Yi=_y;function ky(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Cy(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!es(n)||n.length!==r.length||r.some((o,i)=>o!==n[i]))return!1}return!0}function td(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sd=(t,e,s)=>t??e??s,Ey=vn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=Ht(xi),n=be(()=>t.route||r.value),o=Ht(yl,0),i=be(()=>{let u=Ne(o);const{matched:d}=n.value;let h;for(;(h=d[u])&&!h.components;)u++;return u}),l=be(()=>n.value.matched[i.value]);Yo(yl,be(()=>i.value+1)),Yo(yf,l),Yo(xi,n);const c=N();return Ye(()=>[c.value,l.value,t.name],([u,d,h],[f,p,v])=>{d&&(d.instances[h]=u,p&&p!==d&&u&&u===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),u&&d&&(!p||!on(d,p)||!f)&&(d.enterCallbacks[h]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=n.value,d=t.name,h=l.value,f=h&&h.components[d];if(!f)return rd(s.default,{Component:f,route:u});const p=h.props[d],v=p?p===!0?u.params:typeof p=="function"?p(u):p:null,S=et(f,Be({},v,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[d]=null)},ref:c}));return rd(s.default,{Component:S,route:u})||S}}});function rd(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const bf=Ey;function wf(t){const e=gf(t.routes,t),s=t.parseQuery||mf,r=t.stringifyQuery||ml,n=t.history,o=Sn(),i=Sn(),l=Sn(),c=jv(gs);let u=gs;zr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Ia.bind(null,F=>""+F),h=Ia.bind(null,z1),f=Ia.bind(null,so);function p(F,ae){let ee,pe;return hf(F)?(ee=e.getRecordMatcher(F),pe=ae):pe=F,e.addRoute(pe,ee)}function v(F){const ae=e.getRecordMatcher(F);ae&&e.removeRoute(ae)}function x(){return e.getRoutes().map(F=>F.record)}function S(F){return!!e.getRecordMatcher(F)}function R(F,ae){if(ae=Be({},ae||c.value),typeof F=="string"){const H=Pa(s,F,ae.path),q=e.resolve({path:H.path},ae),Y=n.createHref(H.fullPath);return Be(H,q,{params:f(q.params),hash:so(H.hash),redirectedFrom:void 0,href:Y})}let ee;if(F.path!=null)ee=Be({},F,{path:Pa(s,F.path,ae.path).path});else{const H=Be({},F.params);for(const q in H)H[q]==null&&delete H[q];ee=Be({},F,{params:h(H)}),ae.params=h(ae.params)}const pe=e.resolve(ee,ae),Me=F.hash||"";pe.params=d(f(pe.params));const O=W1(r,Be({},F,{hash:H1(Me),path:pe.path})),M=n.createHref(O);return Be({fullPath:O,hash:Me,query:r===ml?wy(F.query):F.query||{}},pe,{redirectedFrom:void 0,href:M})}function P(F){return typeof F=="string"?Pa(s,F,c.value.path):Be({},F)}function A(F,ae){if(u!==F)return an(8,{from:ae,to:F})}function I(F){return C(F)}function k(F){return I(Be(P(F),{replace:!0}))}function _(F){const ae=F.matched[F.matched.length-1];if(ae&&ae.redirect){const{redirect:ee}=ae;let pe=typeof ee=="function"?ee(F):ee;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=P(pe):{path:pe},pe.params={}),Be({query:F.query,hash:F.hash,params:pe.path!=null?{}:F.params},pe)}}function C(F,ae){const ee=u=R(F),pe=c.value,Me=F.state,O=F.force,M=F.replace===!0,H=_(ee);if(H)return C(Be(P(H),{state:typeof H=="object"?Be({},Me,H.state):Me,force:O,replace:M}),ae||ee);const q=ee;q.redirectedFrom=ae;let Y;return!O&&G1(r,pe,ee)&&(Y=an(16,{to:q,from:pe}),z(pe,pe,!0,!1)),(Y?Promise.resolve(Y):y(q,pe)).catch(W=>as(W)?as(W,2)?W:he(W):b(W,q,pe)).then(W=>{if(W){if(as(W,2))return C(Be({replace:M},P(W.to),{state:typeof W.to=="object"?Be({},Me,W.to.state):Me,force:O}),ae||q)}else W=U(q,pe,!0,M,Me);return L(q,pe,W),W})}function T(F,ae){const ee=A(F,ae);return ee?Promise.reject(ee):Promise.resolve()}function w(F){const ae=He.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(F):F()}function y(F,ae){let ee;const[pe,Me,O]=Sy(F,ae);ee=Ra(pe.reverse(),"beforeRouteLeave",F,ae);for(const H of pe)H.leaveGuards.forEach(q=>{ee.push(Fs(q,F,ae))});const M=T.bind(null,F,ae);return ee.push(M),J(ee).then(()=>{ee=[];for(const H of o.list())ee.push(Fs(H,F,ae));return ee.push(M),J(ee)}).then(()=>{ee=Ra(Me,"beforeRouteUpdate",F,ae);for(const H of Me)H.updateGuards.forEach(q=>{ee.push(Fs(q,F,ae))});return ee.push(M),J(ee)}).then(()=>{ee=[];for(const H of O)if(H.beforeEnter)if(es(H.beforeEnter))for(const q of H.beforeEnter)ee.push(Fs(q,F,ae));else ee.push(Fs(H.beforeEnter,F,ae));return ee.push(M),J(ee)}).then(()=>(F.matched.forEach(H=>H.enterCallbacks={}),ee=Ra(O,"beforeRouteEnter",F,ae,w),ee.push(M),J(ee))).then(()=>{ee=[];for(const H of i.list())ee.push(Fs(H,F,ae));return ee.push(M),J(ee)}).catch(H=>as(H,8)?H:Promise.reject(H))}function L(F,ae,ee){l.list().forEach(pe=>w(()=>pe(F,ae,ee)))}function U(F,ae,ee,pe,Me){const O=A(F,ae);if(O)return O;const M=ae===gs,H=zr?history.state:{};ee&&(pe||M?n.replace(F.fullPath,Be({scroll:M&&H&&H.scroll},Me)):n.push(F.fullPath,Me)),c.value=F,z(F,ae,ee,M),he()}let ce;function K(){ce||(ce=n.listen((F,ae,ee)=>{if(!ge.listening)return;const pe=R(F),Me=_(pe);if(Me){C(Be(Me,{replace:!0,force:!0}),pe).catch(Hn);return}u=pe;const O=c.value;zr&&sy(Wu(O.fullPath,ee.delta),Gi()),y(pe,O).catch(M=>as(M,12)?M:as(M,2)?(C(Be(P(M.to),{force:!0}),pe).then(H=>{as(H,20)&&!ee.delta&&ee.type===ro.pop&&n.go(-1,!1)}).catch(Hn),Promise.reject()):(ee.delta&&n.go(-ee.delta,!1),b(M,pe,O))).then(M=>{M=M||U(pe,O,!1),M&&(ee.delta&&!as(M,8)?n.go(-ee.delta,!1):ee.type===ro.pop&&as(M,20)&&n.go(-1,!1)),L(pe,O,M)}).catch(Hn)}))}let B=Sn(),j=Sn(),$;function b(F,ae,ee){he(F);const pe=j.list();return pe.length?pe.forEach(Me=>Me(F,ae,ee)):console.error(F),Promise.reject(F)}function G(){return $&&c.value!==gs?Promise.resolve():new Promise((F,ae)=>{B.add([F,ae])})}function he(F){return $||($=!F,K(),B.list().forEach(([ae,ee])=>F?ee(F):ae()),B.reset()),F}function z(F,ae,ee,pe){const{scrollBehavior:Me}=t;if(!zr||!Me)return Promise.resolve();const O=!ee&&ry(Wu(F.fullPath,0))||(pe||!ee)&&history.state&&history.state.scroll||null;return jr().then(()=>Me(F,ae,O)).then(M=>M&&ty(M)).catch(M=>b(M,F,ae))}const ve=F=>n.go(F);let ye;const He=new Set,ge={currentRoute:c,listening:!0,addRoute:p,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:x,resolve:R,options:t,push:I,replace:k,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:o.add,beforeResolve:i.add,afterEach:l.add,onError:j.add,isReady:G,install(F){const ae=this;F.component("RouterLink",Yi),F.component("RouterView",bf),F.config.globalProperties.$router=ae,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>Ne(c)}),zr&&!ye&&c.value===gs&&(ye=!0,I(n.location).catch(Me=>{}));const ee={};for(const Me in gs)Object.defineProperty(ee,Me,{get:()=>c.value[Me],enumerable:!0});F.provide(mo,ae),F.provide(Ji,t0(ee)),F.provide(xi,c);const pe=F.unmount;He.add(F),F.unmount=function(){He.delete(F),He.size<1&&(u=gs,ce&&ce(),ce=null,c.value=gs,ye=!1,$=!1),pe()}}};function J(F){return F.reduce((ae,ee)=>ae.then(()=>w(ee)),Promise.resolve())}return ge}function Sy(t,e){const s=[],r=[],n=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const l=e.matched[i];l&&(t.matched.find(u=>on(u,l))?r.push(l):s.push(l));const c=t.matched[i];c&&(e.matched.find(u=>on(u,c))||n.push(c))}return[s,r,n]}function ot(){return Ht(mo)}function Rs(t){return Ht(Ji)}const Ty=Object.freeze(Object.defineProperty({__proto__:null,get NavigationFailureType(){return vl},RouterLink:Yi,RouterView:bf,START_LOCATION:gs,createRouter:wf,createRouterMatcher:gf,createWebHistory:df,isNavigationFailure:as,matchedRouteKey:yf,parseQuery:mf,routeLocationKey:Ji,routerKey:mo,routerViewLocationKey:xi,stringifyQuery:ml,useLink:bl,useRoute:Rs,useRouter:ot,viewDepthKey:yl},Symbol.toStringTag,{value:"Module"})),$y=()=>{};var nd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);n<128?e[s++]=n:n<2048?(e[s++]=n>>6|192,e[s++]=n&63|128):(n&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++r)&1023),e[s++]=n>>18|240,e[s++]=n>>12&63|128,e[s++]=n>>6&63|128,e[s++]=n&63|128):(e[s++]=n>>12|224,e[s++]=n>>6&63|128,e[s++]=n&63|128)}return e},Ay=function(t){const e=[];let s=0,r=0;for(;s<t.length;){const n=t[s++];if(n<128)e[r++]=String.fromCharCode(n);else if(n>191&&n<224){const o=t[s++];e[r++]=String.fromCharCode((n&31)<<6|o&63)}else if(n>239&&n<365){const o=t[s++],i=t[s++],l=t[s++],c=((n&7)<<18|(o&63)<<12|(i&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[s++],i=t[s++];e[r++]=String.fromCharCode((n&15)<<12|(o&63)<<6|i&63)}}return e.join("")},_f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let n=0;n<t.length;n+=3){const o=t[n],i=n+1<t.length,l=i?t[n+1]:0,c=n+2<t.length,u=c?t[n+2]:0,d=o>>2,h=(o&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;c||(p=64,i||(f=64)),r.push(s[d],s[h],s[f],s[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ay(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let n=0;n<t.length;){const o=s[t.charAt(n++)],l=n<t.length?s[t.charAt(n)]:0;++n;const u=n<t.length?s[t.charAt(n)]:64;++n;const h=n<t.length?s[t.charAt(n)]:64;if(++n,o==null||l==null||u==null||h==null)throw new Iy;const f=o<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Iy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Py=function(t){const e=xf(t);return _f.encodeByteArray(e,!0)},kf=function(t){return Py(t).replace(/\./g,"")},Cf=function(t){try{return _f.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=()=>Ry().__FIREBASE_DEFAULTS__,My=()=>{if(typeof process>"u"||typeof nd>"u")return;const t=nd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cf(t[1]);return e&&JSON.parse(e)},Cc=()=>{try{return $y()||Oy()||My()||jy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ny=t=>{var e,s;return(s=(e=Cc())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},Ef=()=>{var t;return(t=Cc())===null||t===void 0?void 0:t.config},Sf=t=>{var e;return(e=Cc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){return t.endsWith(".cloudworkstations.dev")}async function By(t){return(await fetch(t,{credentials:"include"})).ok}const Fn={};function Dy(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fn))Fn[e]?t.emulator.push(e):t.prod.push(e);return t}function Uy(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let od=!1;function Hy(t,e){if(typeof window>"u"||typeof document>"u"||!Ec(window.location.host)||Fn[t]===e||Fn[t]||od)return;Fn[t]=e;function s(f){return`__firebase__banner__${f}`}const r="__firebase__banner",o=Dy().prod.length>0;function i(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{od=!0,i()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=Uy(r),p=s("text"),v=document.getElementById(p)||document.createElement("span"),x=s("learnmore"),S=document.getElementById(x)||document.createElement("a"),R=s("preprendIcon"),P=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const A=f.element;l(A),d(S,x);const I=u();c(P,R),A.append(P,v,S,I),document.body.appendChild(A)}o?(v.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function Fy(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zy(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ky(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Wy(){try{return typeof indexedDB=="object"}catch{return!1}}function Gy(){return new Promise((t,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),s||self.indexedDB.deleteDatabase(r),t(!0)},n.onupgradeneeded=()=>{s=!1},n.onerror=()=>{var o;e(((o=n.error)===null||o===void 0?void 0:o.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="FirebaseError";class rr extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=Jy,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yo.prototype.create)}}class yo{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},n=`${this.service}/${e}`,o=this.errors[e],i=o?Yy(o,r):"Error",l=`${this.serviceName}: ${i} (${n}).`;return new rr(n,l,r)}}function Yy(t,e){return t.replace(Xy,(s,r)=>{const n=e[r];return n!=null?String(n):`<${r}?>`})}const Xy=/\{\$([^}]+)}/g;function Qy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ln(t,e){if(t===e)return!0;const s=Object.keys(t),r=Object.keys(e);for(const n of s){if(!r.includes(n))return!1;const o=t[n],i=e[n];if(id(o)&&id(i)){if(!ln(o,i))return!1}else if(o!==i)return!1}for(const n of r)if(!s.includes(n))return!1;return!0}function id(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){const e=[];for(const[s,r]of Object.entries(t))Array.isArray(r)?r.forEach(n=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function In(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[n,o]=r.split("=");e[decodeURIComponent(n)]=decodeURIComponent(o)}}),e}function Pn(t){const e=t.indexOf("?");if(!e)return"";const s=t.indexOf("#",e);return t.substring(e,s>0?s:void 0)}function Zy(t,e){const s=new eb(t,e);return s.subscribe.bind(s)}class eb{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let n;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");tb(e,["next","error","complete"])?n=e:n={next:e,error:s,complete:r},n.next===void 0&&(n.next=Oa),n.error===void 0&&(n.error=Oa),n.complete===void 0&&(n.complete=Oa);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch{}}),this.observers.push(n),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tb(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function Oa(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t){return t&&t._delegate?t._delegate:t}class cn{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new Ly;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:s});n&&r.resolve(n)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(n)return null;throw o}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nb(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(s);try{const o=this.getOrInitializeService({instanceIdentifier:n});r.resolve(o)}catch{}}}}clearInstance(e=vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vr){return this.instances.has(e)}getOptions(e=vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[o,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&i.resolve(n)}return n}onInit(e,s){var r;const n=this.normalizeInstanceIdentifier(s),o=(r=this.onInitCallbacks.get(n))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(n,o);const i=this.instances.get(n);return i&&e(i,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const n of r)try{n(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rb(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vr){return this.component?this.component.multipleInstances?e:vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rb(t){return t===vr?void 0:t}function nb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new sb(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const ib={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},ab=Fe.INFO,lb={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},cb=(t,e,...s)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),n=lb[e];if(n)console[n](`[${r}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=ab,this._logHandler=cb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ib[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const ub=(t,e)=>e.some(s=>t instanceof s);let ad,ld;function db(){return ad||(ad=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hb(){return ld||(ld=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $f=new WeakMap,wl=new WeakMap,Af=new WeakMap,Ma=new WeakMap,Sc=new WeakMap;function fb(t){const e=new Promise((s,r)=>{const n=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{s(Ys(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(s=>{s instanceof IDBCursor&&$f.set(s,t)}).catch(()=>{}),Sc.set(e,t),e}function pb(t){if(wl.has(t))return;const e=new Promise((s,r)=>{const n=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{s(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});wl.set(t,e)}let xl={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return wl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Af.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ys(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gb(t){xl=t(xl)}function vb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=t.call(ja(this),e,...s);return Af.set(r,e.sort?e.sort():[e]),Ys(r)}:hb().includes(t)?function(...e){return t.apply(ja(this),e),Ys($f.get(this))}:function(...e){return Ys(t.apply(ja(this),e))}}function mb(t){return typeof t=="function"?vb(t):(t instanceof IDBTransaction&&pb(t),ub(t,db())?new Proxy(t,xl):t)}function Ys(t){if(t instanceof IDBRequest)return fb(t);if(Ma.has(t))return Ma.get(t);const e=mb(t);return e!==t&&(Ma.set(t,e),Sc.set(e,t)),e}const ja=t=>Sc.get(t);function yb(t,e,{blocked:s,upgrade:r,blocking:n,terminated:o}={}){const i=indexedDB.open(t,e),l=Ys(i);return r&&i.addEventListener("upgradeneeded",c=>{r(Ys(i.result),c.oldVersion,c.newVersion,Ys(i.transaction),c)}),s&&i.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),n&&c.addEventListener("versionchange",u=>n(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const bb=["get","getKey","getAll","getAllKeys","count"],wb=["put","add","delete","clear"],Na=new Map;function cd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Na.get(e))return Na.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,n=wb.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(n||bb.includes(s)))return;const o=async function(i,...l){const c=this.transaction(i,n?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[s](...l),n&&c.done]))[0]};return Na.set(e,o),o}gb(t=>({...t,get:(e,s,r)=>cd(e,s)||t.get(e,s,r),has:(e,s)=>!!cd(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(_b(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function _b(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _l="@firebase/app",ud="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Tf("@firebase/app"),kb="@firebase/app-compat",Cb="@firebase/analytics-compat",Eb="@firebase/analytics",Sb="@firebase/app-check-compat",Tb="@firebase/app-check",$b="@firebase/auth",Ab="@firebase/auth-compat",Ib="@firebase/database",Pb="@firebase/data-connect",Rb="@firebase/database-compat",Ob="@firebase/functions",Mb="@firebase/functions-compat",jb="@firebase/installations",Nb="@firebase/installations-compat",Lb="@firebase/messaging",Bb="@firebase/messaging-compat",Db="@firebase/performance",Ub="@firebase/performance-compat",Hb="@firebase/remote-config",Vb="@firebase/remote-config-compat",Fb="@firebase/storage",zb="@firebase/storage-compat",qb="@firebase/firestore",Kb="@firebase/ai",Wb="@firebase/firestore-compat",Gb="firebase",Jb="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="[DEFAULT]",Yb={[_l]:"fire-core",[kb]:"fire-core-compat",[Eb]:"fire-analytics",[Cb]:"fire-analytics-compat",[Tb]:"fire-app-check",[Sb]:"fire-app-check-compat",[$b]:"fire-auth",[Ab]:"fire-auth-compat",[Ib]:"fire-rtdb",[Pb]:"fire-data-connect",[Rb]:"fire-rtdb-compat",[Ob]:"fire-fn",[Mb]:"fire-fn-compat",[jb]:"fire-iid",[Nb]:"fire-iid-compat",[Lb]:"fire-fcm",[Bb]:"fire-fcm-compat",[Db]:"fire-perf",[Ub]:"fire-perf-compat",[Hb]:"fire-rc",[Vb]:"fire-rc-compat",[Fb]:"fire-gcs",[zb]:"fire-gcs-compat",[qb]:"fire-fst",[Wb]:"fire-fst-compat",[Kb]:"fire-vertex","fire-js":"fire-js",[Gb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Map,Xb=new Map,Cl=new Map;function dd(t,e){try{t.container.addComponent(e)}catch(s){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function no(t){const e=t.name;if(Cl.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Cl.set(e,t);for(const s of _i.values())dd(s,t);for(const s of Xb.values())dd(s,t);return!0}function If(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function Dt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new yo("app","Firebase",Qb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,s,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=Jb;function Pf(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kl,automaticDataCollectionEnabled:!0},e),n=r.name;if(typeof n!="string"||!n)throw Xs.create("bad-app-name",{appName:String(n)});if(s||(s=Ef()),!s)throw Xs.create("no-options");const o=_i.get(n);if(o){if(ln(s,o.options)&&ln(r,o.config))return o;throw Xs.create("duplicate-app",{appName:n})}const i=new ob(n);for(const c of Cl.values())i.addComponent(c);const l=new Zb(s,r,i);return _i.set(n,l),l}function e2(t=kl){const e=_i.get(t);if(!e&&t===kl&&Ef())return Pf();if(!e)throw Xs.create("no-app",{appName:t});return e}function Yr(t,e,s){var r;let n=(r=Yb[t])!==null&&r!==void 0?r:t;s&&(n+=`-${s}`);const o=n.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const l=[`Unable to register library "${n}" with version "${e}":`];o&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(l.join(" "));return}no(new cn(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebase-heartbeat-database",s2=1,oo="firebase-heartbeat-store";let La=null;function Rf(){return La||(La=yb(t2,s2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oo)}catch(s){console.warn(s)}}}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),La}async function r2(t){try{const s=(await Rf()).transaction(oo),r=await s.objectStore(oo).get(Of(t));return await s.done,r}catch(e){if(e instanceof rr)$s.warn(e.message);else{const s=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(s.message)}}}async function hd(t,e){try{const r=(await Rf()).transaction(oo,"readwrite");await r.objectStore(oo).put(e,Of(t)),await r.done}catch(s){if(s instanceof rr)$s.warn(s.message);else{const r=Xs.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});$s.warn(r.message)}}}function Of(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=1024,o2=30;class i2{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new l2(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fd();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats.length>o2){const i=c2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=fd(),{heartbeatsToSend:r,unsentEntries:n}=a2(this._heartbeatsCache.heartbeats),o=kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(s){return $s.warn(s),""}}}function fd(){return new Date().toISOString().substring(0,10)}function a2(t,e=n2){const s=[];let r=t.slice();for(const n of t){const o=s.find(i=>i.agent===n.agent);if(o){if(o.dates.push(n.date),pd(s)>e){o.dates.pop();break}}else if(s.push({agent:n.agent,dates:[n.date]}),pd(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class l2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wy()?Gy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await r2(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const n=await this.read();return hd(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const n=await this.read();return hd(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function pd(t){return kf(JSON.stringify({version:2,heartbeats:t})).length}function c2(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let r=1;r<t.length;r++)t[r].date<s&&(s=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){no(new cn("platform-logger",e=>new xb(e),"PRIVATE")),no(new cn("heartbeat",e=>new i2(e),"PRIVATE")),Yr(_l,ud,t),Yr(_l,ud,"esm2017"),Yr("fire-js","")}u2("");var El=function(t,e){return El=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])},El(t,e)};function Mf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");El(t,e);function s(){this.constructor=t}t.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var ki=function(){return ki=Object.assign||function(e){for(var s,r=1,n=arguments.length;r<n;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},ki.apply(this,arguments)};function Os(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s}function jf(t,e,s,r){var n=arguments.length,o=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,s,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(o=(n<3?i(o):n>3?i(e,s,o):i(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o}function Nf(t,e){return function(s,r){e(s,r,t)}}function Lf(t,e,s,r,n,o){function i(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,f=!1,p=s.length-1;p>=0;p--){var v={};for(var x in r)v[x]=x==="access"?{}:r[x];for(var x in r.access)v.access[x]=r.access[x];v.addInitializer=function(R){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(R||null))};var S=(0,s[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],v);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(h=i(S.get))&&(d.get=h),(h=i(S.set))&&(d.set=h),(h=i(S.init))&&n.unshift(h)}else(h=i(S))&&(l==="field"?n.unshift(h):d[c]=h)}u&&Object.defineProperty(u,r.name,d),f=!0}function Bf(t,e,s){for(var r=arguments.length>2,n=0;n<e.length;n++)s=r?e[n].call(t,s):e[n].call(t);return r?s:void 0}function Df(t){return typeof t=="symbol"?t:"".concat(t)}function Uf(t,e,s){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}function Hf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function me(t,e,s,r){function n(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):n(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function Vf(t,e){var s={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,n,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(u[0]===6&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(d){u=[6,d],n=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Xi=Object.create?function(t,e,s,r){r===void 0&&(r=s);var n=Object.getOwnPropertyDescriptor(e,s);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,n)}:function(t,e,s,r){r===void 0&&(r=s),t[r]=e[s]};function Ff(t,e){for(var s in t)s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s)&&Xi(e,t,s)}function Ci(t){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&t[e],r=0;if(s)return s.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tc(t,e){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var r=s.call(t),n,o=[],i;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(l){i={error:l}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(i)throw i.error}}return o}function zf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tc(arguments[e]));return t}function qf(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;for(var r=Array(t),n=0,e=0;e<s;e++)for(var o=arguments[e],i=0,l=o.length;i<l;i++,n++)r[n]=o[i];return r}function Kf(t,e,s){if(s||arguments.length===2)for(var r=0,n=e.length,o;r<n;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function un(t){return this instanceof un?(this.v=t,this):new un(t)}function Wf(t,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(t,e||[]),n,o=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),n[Symbol.asyncIterator]=function(){return this},n;function i(p){return function(v){return Promise.resolve(v).then(p,h)}}function l(p,v){r[p]&&(n[p]=function(x){return new Promise(function(S,R){o.push([p,x,S,R])>1||c(p,x)})},v&&(n[p]=v(n[p])))}function c(p,v){try{u(r[p](v))}catch(x){f(o[0][3],x)}}function u(p){p.value instanceof un?Promise.resolve(p.value.v).then(d,h):f(o[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function f(p,v){p(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Gf(t){var e,s;return e={},r("next"),r("throw",function(n){throw n}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(n,o){e[n]=t[n]?function(i){return(s=!s)?{value:un(t[n](i)),done:!1}:o?o(i):i}:o}}function Jf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],s;return e?e.call(t):(t=typeof Ci=="function"?Ci(t):t[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(o){s[o]=t[o]&&function(i){return new Promise(function(l,c){i=t[o](i),n(l,c,i.done,i.value)})}}function n(o,i,l,c){Promise.resolve(c).then(function(u){o({value:u,done:l})},i)}}function Yf(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var d2=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Sl=function(t){return Sl=Object.getOwnPropertyNames||function(e){var s=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[s.length]=r);return s},Sl(t)};function Xf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var s=Sl(t),r=0;r<s.length;r++)s[r]!=="default"&&Xi(e,t,s[r]);return d2(e,t),e}function Qf(t){return t&&t.__esModule?t:{default:t}}function Zf(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)}function ep(t,e,s,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,s):n?n.value=s:e.set(t,s),s}function tp(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function sp(t,e,s){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,n;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],s&&(n=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:s})}else s&&t.stack.push({async:!0});return e}var h2=typeof SuppressedError=="function"?SuppressedError:function(t,e,s){var r=new Error(s);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function rp(t){function e(o){t.error=t.hasError?new h2(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var s,r=0;function n(){for(;s=t.stack.pop();)try{if(!s.async&&r===1)return r=0,t.stack.push(s),Promise.resolve().then(n);if(s.dispose){var o=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(o).then(n,function(i){return e(i),n()})}else r|=1}catch(i){e(i)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function np(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,r,n,o,i){return r?e?".jsx":".js":n&&(!o||!i)?s:n+o+"."+i.toLowerCase()+"js"}):t}const f2={__extends:Mf,__assign:ki,__rest:Os,__decorate:jf,__param:Nf,__esDecorate:Lf,__runInitializers:Bf,__propKey:Df,__setFunctionName:Uf,__metadata:Hf,__awaiter:me,__generator:Vf,__createBinding:Xi,__exportStar:Ff,__values:Ci,__read:Tc,__spread:zf,__spreadArrays:qf,__spreadArray:Kf,__await:un,__asyncGenerator:Wf,__asyncDelegator:Gf,__asyncValues:Jf,__makeTemplateObject:Yf,__importStar:Xf,__importDefault:Qf,__classPrivateFieldGet:Zf,__classPrivateFieldSet:ep,__classPrivateFieldIn:tp,__addDisposableResource:sp,__disposeResources:rp,__rewriteRelativeImportExtension:np},p2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sp,get __assign(){return ki},__asyncDelegator:Gf,__asyncGenerator:Wf,__asyncValues:Jf,__await:un,__awaiter:me,__classPrivateFieldGet:Zf,__classPrivateFieldIn:tp,__classPrivateFieldSet:ep,__createBinding:Xi,__decorate:jf,__disposeResources:rp,__esDecorate:Lf,__exportStar:Ff,__extends:Mf,__generator:Vf,__importDefault:Qf,__importStar:Xf,__makeTemplateObject:Yf,__metadata:Hf,__param:Nf,__propKey:Df,__read:Tc,__rest:Os,__rewriteRelativeImportExtension:np,__runInitializers:Bf,__setFunctionName:Uf,__spread:zf,__spreadArray:Kf,__spreadArrays:qf,__values:Ci,default:f2},Symbol.toStringTag,{value:"Module"}));function op(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=op,ip=new yo("auth","Firebase",op());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Tf("@firebase/auth");function v2(t,...e){Ei.logLevel<=Fe.WARN&&Ei.warn(`Auth (${wo}): ${t}`,...e)}function ti(t,...e){Ei.logLevel<=Fe.ERROR&&Ei.error(`Auth (${wo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,...e){throw Ac(t,...e)}function Qt(t,...e){return Ac(t,...e)}function $c(t,e,s){const r=Object.assign(Object.assign({},g2()),{[e]:s});return new yo("auth","Firebase",r).create(e,{appName:t.name})}function Es(t){return $c(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m2(t,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&zt(t,"argument-error"),$c(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ac(t,...e){if(typeof t!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(s,...r)}return ip.create(t,...e)}function Se(t,e,...s){if(!t)throw Ac(e,...s)}function ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ti(e),new Error(e)}function As(t,e){t||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y2(){return gd()==="http:"||gd()==="https:"}function gd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y2()||zy()||"connection"in navigator)?navigator.onLine:!0}function w2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,s){this.shortDelay=e,this.longDelay=s,As(s>e,"Short delay should be less than long delay!"),this.isMobile=Vy()||qy()}get(){return b2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e){As(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k2=new xo(3e4,6e4);function nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ms(t,e,s,r,n={}){return lp(t,n,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const l=bo(Object.assign({key:t.config.apiKey},i)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return Fy()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ec(t.emulatorConfig.host)&&(u.credentials="include"),ap.fetch()(await cp(t,t.config.apiHost,s,l),u)})}async function lp(t,e,s){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x2),e);try{const n=new E2(t),o=await Promise.race([s(),n.promise]);n.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Bo(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const l=o.ok?i.errorMessage:i.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bo(t,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw Bo(t,"email-already-in-use",i);if(c==="USER_DISABLED")throw Bo(t,"user-disabled",i);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $c(t,d,u);zt(t,d)}}catch(n){if(n instanceof rr)throw n;zt(t,"network-request-failed",{message:String(n)})}}async function _o(t,e,s,r,n={}){const o=await Ms(t,e,s,r,n);return"mfaPendingCredential"in o&&zt(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function cp(t,e,s,r){const n=`${e}${s}?${r}`,o=t,i=o.config.emulator?Ic(t.config,n):`${t.config.apiScheme}://${n}`;return _2.includes(s)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i}function C2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Qt(this.auth,"network-request-failed")),k2.get())})}}function Bo(t,e,s){const r={appName:t.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const n=Qt(t,e,r);return n.customData._tokenResponse=s,n}function vd(t){return t!==void 0&&t.enterprise!==void 0}class S2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return C2(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T2(t,e){return Ms(t,"GET","/v2/recaptchaConfig",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e){return Ms(t,"POST","/v1/accounts:delete",e)}async function Si(t,e){return Ms(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A2(t,e=!1){const s=ts(t),r=await s.getIdToken(e),n=Pc(r);Se(n&&n.exp&&n.auth_time&&n.iat,s.auth,"internal-error");const o=typeof n.firebase=="object"?n.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:n,token:r,authTime:zn(Ba(n.auth_time)),issuedAtTime:zn(Ba(n.iat)),expirationTime:zn(Ba(n.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ba(t){return Number(t)*1e3}function Pc(t){const[e,s,r]=t.split(".");if(e===void 0||s===void 0||r===void 0)return ti("JWT malformed, contained fewer than 3 sections"),null;try{const n=Cf(s);return n?JSON.parse(n):(ti("Failed to decode base64 JWT payload"),null)}catch(n){return ti("Caught error parsing JWT payload as JSON",n==null?void 0:n.toString()),null}}function md(t){const e=Pc(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dn(t,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof rr&&I2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function I2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=zn(this.lastLoginAt),this.creationTime=zn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(t){var e;const s=t.auth,r=await t.getIdToken(),n=await dn(t,Si(s,{idToken:r}));Se(n==null?void 0:n.users.length,s,"internal-error");const o=n.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?up(o.providerUserInfo):[],l=O2(t.providerData,i),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new $l(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function R2(t){const e=ts(t);await Ti(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O2(t,e){return[...t.filter(r=>!e.some(n=>n.providerId===r.providerId)),...e]}function up(t){return t.map(e=>{var{providerId:s}=e,r=Os(e,["providerId"]);return{providerId:s,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){const s=await lp(t,{},async()=>{const r=bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:n,apiKey:o}=t.config,i=await cp(t,n,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",ap.fetch()(i,{method:"POST",headers:l,body:r})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function j2(t,e){return Ms(t,"POST","/v2/accounts:revokeToken",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):md(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const s=md(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:n,expiresIn:o}=await M2(e,s);this.updateTokensAndExpiration(r,n,Number(o))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:n,expirationTime:o}=s,i=new Xr;return r&&(Se(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),n&&(Se(typeof n=="string","internal-error",{appName:e}),i.accessToken=n),o&&(Se(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xr,this.toJSON())}_performRefresh(){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yt{constructor(e){var{uid:s,auth:r,stsTokenManager:n}=e,o=Os(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $l(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await dn(this,this.stsTokenManager.getToken(this.auth,e));return Se(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return A2(this,e)}reload(){return R2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Yt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await Ti(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dt(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await dn(this,$2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var r,n,o,i,l,c,u,d;const h=(r=s.displayName)!==null&&r!==void 0?r:void 0,f=(n=s.email)!==null&&n!==void 0?n:void 0,p=(o=s.phoneNumber)!==null&&o!==void 0?o:void 0,v=(i=s.photoURL)!==null&&i!==void 0?i:void 0,x=(l=s.tenantId)!==null&&l!==void 0?l:void 0,S=(c=s._redirectEventId)!==null&&c!==void 0?c:void 0,R=(u=s.createdAt)!==null&&u!==void 0?u:void 0,P=(d=s.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:I,isAnonymous:k,providerData:_,stsTokenManager:C}=s;Se(A&&C,e,"internal-error");const T=Xr.fromJSON(this.name,C);Se(typeof A=="string",e,"internal-error"),Ns(h,e.name),Ns(f,e.name),Se(typeof I=="boolean",e,"internal-error"),Se(typeof k=="boolean",e,"internal-error"),Ns(p,e.name),Ns(v,e.name),Ns(x,e.name),Ns(S,e.name),Ns(R,e.name),Ns(P,e.name);const w=new Yt({uid:A,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:k,photoURL:v,phoneNumber:p,tenantId:x,stsTokenManager:T,createdAt:R,lastLoginAt:P});return _&&Array.isArray(_)&&(w.providerData=_.map(y=>Object.assign({},y))),S&&(w._redirectEventId=S),w}static async _fromIdTokenResponse(e,s,r=!1){const n=new Xr;n.updateFromServerResponse(s);const o=new Yt({uid:s.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await Ti(o),o}static async _fromGetAccountInfoResponse(e,s,r){const n=s.users[0];Se(n.localId!==void 0,"internal-error");const o=n.providerUserInfo!==void 0?up(n.providerUserInfo):[],i=!(n.email&&n.passwordHash)&&!(o!=null&&o.length),l=new Xr;l.updateFromIdToken(r);const c=new Yt({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i}),u={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:o,metadata:new $l(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map;function Cs(t){As(t instanceof Function,"Expected a class definition");let e=yd.get(t);return e?(As(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yd.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}dp.type="NONE";const bd=dp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,e,s){return`firebase:${t}:${e}:${s}`}class Qr{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:n,name:o}=this.auth;this.fullUserKey=si(this.userKey,n.apiKey,o),this.fullPersistenceKey=si("persistence",n.apiKey,o),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Si(this.auth,{idToken:e}).catch(()=>{});return s?Yt._fromGetAccountInfoResponse(this.auth,s,e):null}return Yt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Qr(Cs(bd),e,r);const n=(await Promise.all(s.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=n[0]||Cs(bd);const i=si(r,e.config.apiKey,e.name);let l=null;for(const u of s)try{const d=await u._get(i);if(d){let h;if(typeof d=="string"){const f=await Si(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Yt._fromGetAccountInfoResponse(e,f,d)}else h=Yt._fromJSON(e,d);u!==o&&(l=h),o=u;break}}catch{}const c=n.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Qr(o,e,r):(o=c[0],l&&await o._set(i,l.toJSON()),await Promise.all(s.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new Qr(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gp(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hp(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mp(e))return"Blackberry";if(yp(e))return"Webos";if(fp(e))return"Safari";if((e.includes("chrome/")||pp(e))&&!e.includes("edge/"))return"Chrome";if(vp(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hp(t=kt()){return/firefox\//i.test(t)}function fp(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pp(t=kt()){return/crios\//i.test(t)}function gp(t=kt()){return/iemobile/i.test(t)}function vp(t=kt()){return/android/i.test(t)}function mp(t=kt()){return/blackberry/i.test(t)}function yp(t=kt()){return/webos/i.test(t)}function Rc(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N2(t=kt()){var e;return Rc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L2(){return Ky()&&document.documentMode===10}function bp(t=kt()){return Rc(t)||vp(t)||yp(t)||mp(t)||/windows phone/i.test(t)||gp(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e=[]){let s;switch(t){case"Browser":s=wd(kt());break;case"Worker":s=`${wd(kt())}-${t}`;break;default:s=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${wo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=o=>new Promise((i,l)=>{try{const c=e(o);i(c)}catch(c){l(c)}});r.onAbort=s,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const n of s)try{n()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(t,e={}){return Ms(t,"GET","/v2/passwordPolicy",nr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=6;class H2{constructor(e){var s,r,n,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=i.minPasswordLength)!==null&&s!==void 0?s:U2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(n=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&n!==void 0?n:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,r,n,o,i,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(s=c.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.containsLowercaseLetter)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(i=c.containsNumericCharacter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),n&&(s.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,n,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,s,r,n){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xd(this),this.idTokenSubscription=new xd(this),this.beforeStateQueue=new B2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ip,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Cs(s)),this._initializationPromise=this.queue(async()=>{var r,n,o;if(!this._deleted&&(this.persistenceManager=await Qr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Si(this,{idToken:e}),r=await Yt._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Dt(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===l)&&(c!=null&&c.user)&&(n=c.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await Ti(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dt(this.app))return Promise.reject(Es(this));const s=e?ts(e):null;return s&&Se(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dt(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dt(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D2(this),s=new H2(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yo("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await j2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Cs(e)||this._popupRedirectResolver;Se(s,this,"argument-error"),this.redirectPersistenceManager=await Qr.create(this,[Cs(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,n){if(this._deleted)return()=>{};const o=typeof s=="function"?s:s.next.bind(s);let i=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(l,this,"internal-error"),l.then(()=>{i||o(this.currentUser)}),typeof s=="function"){const c=e.addObserver(s,r,n);return()=>{i=!0,c()}}else{const c=e.addObserver(s);return()=>{i=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(s["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(s["X-Firebase-AppCheck"]=n),s}async _getAppCheckToken(){var e;if(Dt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&v2(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function or(t){return ts(t)}class xd{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zy(s=>this.observer=s)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F2(t){Qi=t}function xp(t){return Qi.loadJS(t)}function z2(){return Qi.recaptchaEnterpriseScript}function q2(){return Qi.gapiScript}function K2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class W2{constructor(){this.enterprise=new G2}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class G2{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const J2="recaptcha-enterprise",_p="NO_RECAPTCHA";class Y2{constructor(e){this.type=J2,this.auth=or(e)}async verify(e="verify",s=!1){async function r(o){if(!s){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,l)=>{T2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new S2(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,i(u.siteKey)}}).catch(c=>{l(c)})})}function n(o,i,l){const c=window.grecaptcha;vd(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{i(u)}).catch(()=>{i(_p)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W2().execute("siteKey",{action:"verify"}):new Promise((o,i)=>{r(this.auth).then(l=>{if(!s&&vd(window.grecaptcha))n(l,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let c=z2();c.length!==0&&(c+=l),xp(c).then(()=>{n(l,o,i)}).catch(u=>{i(u)})}}).catch(l=>{i(l)})})}}async function _d(t,e,s,r=!1,n=!1){const o=new Y2(t);let i;if(n)i=_p;else try{i=await o.verify(s)}catch{i=await o.verify(s,!0)}const l=Object.assign({},e);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:i}):Object.assign(l,{captchaResponse:i}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Al(t,e,s,r,n){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await _d(t,e,s,s==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await _d(t,e,s,s==="getOobCode");return r(t,l)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e){const s=If(t,"auth");if(s.isInitialized()){const n=s.getImmediate(),o=s.getOptions();if(ln(o,e??{}))return n;zt(n,"already-initialized")}return s.initialize({options:e})}function Q2(t,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Z2(t,e,s){const r=or(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const n=!1,o=kp(e),{host:i,port:l}=ew(e),c=l===null?"":`:${l}`,u={url:`${o}//${i}${c}/`},d=Object.freeze({host:i,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:n})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ln(u,r.config.emulator)&&ln(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ec(i)?(By(`${o}//${i}${c}`),Hy("Auth",!0)):tw()}function kp(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ew(t){const e=kp(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(r);if(n){const o=n[1];return{host:o,port:kd(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:kd(i)}}}function kd(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tw(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,s){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function sw(t,e){return Ms(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(t,e){return _o(t,"POST","/v1/accounts:signInWithPassword",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(t,e){return _o(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))}async function ow(t,e){return _o(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Oc{constructor(e,s,r,n=null){super("password",r),this._email=e,this._password=s,this._tenantId=n}static _fromEmailAndPassword(e,s){return new io(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new io(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Al(e,s,"signInWithPassword",rw);case"emailLink":return nw(e,{email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Al(e,r,"signUpPassword",sw);case"emailLink":return ow(e,{idToken:s,email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zr(t,e){return _o(t,"POST","/v1/accounts:signInWithIdp",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="http://localhost";class Rr extends Oc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):zt("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:n}=s,o=Os(s,["providerId","signInMethod"]);if(!r||!n)return null;const i=new Rr(r,n);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const s=this.buildRequest();return Zr(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Zr(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Zr(e,s)}buildRequest(){const e={requestUri:iw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=bo(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lw(t){const e=In(Pn(t)).link,s=e?In(Pn(e)).deep_link_id:null,r=In(Pn(t)).deep_link_id;return(r?In(Pn(r)).link:null)||r||s||e||t}class Mc{constructor(e){var s,r,n,o,i,l;const c=In(Pn(e)),u=(s=c.apiKey)!==null&&s!==void 0?s:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=aw((n=c.mode)!==null&&n!==void 0?n:null);Se(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=c.lang)!==null&&i!==void 0?i:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const s=lw(e);try{return new Mc(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(){this.providerId=mn.PROVIDER_ID}static credential(e,s){return io._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=Mc.parseLink(s);return Se(r,"argument-error"),io._fromEmailAndCode(e,r.code,r.tenantId)}}mn.PROVIDER_ID="password";mn.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends jc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends ko{constructor(){super("facebook.com")}static credential(e){return Rr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Rr._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return _s.credential(s,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends ko{constructor(){super("github.com")}static credential(e){return Rr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends ko{constructor(){super("twitter.com")}static credential(e,s){return Rr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Ks.credential(s,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(t,e){return _o(t,"POST","/v1/accounts:signUp",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,n=!1){const o=await Yt._fromIdTokenResponse(e,r,n),i=Cd(r);return new Or({user:o,providerId:i,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const n=Cd(r);return new Or({user:e,providerId:n,_tokenResponse:r,operationType:s})}}function Cd(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends rr{constructor(e,s,r,n){var o;super(s.code,s.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,$i.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,n){return new $i(e,s,r,n)}}function Cp(t,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$i._fromErrorAndOperation(t,o,e,r):o})}async function uw(t,e,s=!1){const r=await dn(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return Or._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(t,e,s=!1){const{auth:r}=t;if(Dt(r.app))return Promise.reject(Es(r));const n="reauthenticate";try{const o=await dn(t,Cp(r,n,e,t),s);Se(o.idToken,r,"internal-error");const i=Pc(o.idToken);Se(i,r,"internal-error");const{sub:l}=i;return Se(t.uid===l,r,"user-mismatch"),Or._forOperation(t,n,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&zt(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(t,e,s=!1){if(Dt(t.app))return Promise.reject(Es(t));const r="signIn",n=await Cp(t,r,e),o=await Or._fromIdTokenResponse(t,r,n);return s||await t._updateCurrentUser(o.user),o}async function hw(t,e){return Ep(or(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(t){const e=or(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fw(t,e,s){if(Dt(t.app))return Promise.reject(Es(t));const r=or(t),i=await Al(r,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cw).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Sp(t),c}),l=await Or._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(l.user),l}function pw(t,e,s){return Dt(t.app)?Promise.reject(Es(t)):hw(ts(t),mn.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Sp(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(t,e){return Ms(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(t,{displayName:e,photoURL:s}){if(e===void 0&&s===void 0)return;const r=ts(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:s,returnSecureToken:!0},i=await dn(r,gw(r.auth,o));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e){return ts(t).setPersistence(e)}function yw(t,e,s,r){return ts(t).onIdTokenChanged(e,s,r)}function bw(t,e,s){return ts(t).beforeAuthStateChanged(e,s)}function yn(t,e,s,r){return ts(t).onAuthStateChanged(e,s,r)}function ww(t){return ts(t).signOut()}const Ai="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Ai,"1"),this.storage.removeItem(Ai),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=1e3,_w=10;class $p extends Tp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),n=this.localCache[s];r!==n&&e(s,n,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((i,l,c)=>{this.notifyListeners(i,c)});return}const r=e.key;s?this.detachListener():this.stopPolling();const n=()=>{const i=this.storage.getItem(r);!s&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);L2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,_w):n()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}$p.type="LOCAL";const Ap=$p;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Tp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}Ip.type="SESSION";const Pp=Ip;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(n=>n.isListeningto(e));if(s)return s;const r=new Zi(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:n,data:o}=s.data,i=this.handlersMap[n];if(!(i!=null&&i.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const l=Array.from(i).map(async u=>u(s.origin,o)),c=await kw(l);s.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:c})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zi.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const n=typeof MessageChannel<"u"?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let o,i;return new Promise((l,c)=>{const u=Nc("",20);n.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);i={messageChannel:n,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(i),n.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:s},[n.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return window}function Ew(t){ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function Sw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tw(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $w(){return Rp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="firebaseLocalStorageDb",Aw=1,Ii="firebaseLocalStorage",Mp="fbase_key";class Co{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function ea(t,e){return t.transaction([Ii],e?"readwrite":"readonly").objectStore(Ii)}function Iw(){const t=indexedDB.deleteDatabase(Op);return new Co(t).toPromise()}function Il(){const t=indexedDB.open(Op,Aw);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ii,{keyPath:Mp})}catch(n){s(n)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ii)?e(r):(r.close(),await Iw(),e(await Il()))})})}async function Ed(t,e,s){const r=ea(t,!0).put({[Mp]:e,value:s});return new Co(r).toPromise()}async function Pw(t,e){const s=ea(t,!1).get(e),r=await new Co(s).toPromise();return r===void 0?null:r.value}function Sd(t,e){const s=ea(t,!0).delete(e);return new Co(s).toPromise()}const Rw=800,Ow=3;class jp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Il(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>Ow)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zi._getInstance($w()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await Sw(),!this.activeServiceWorker)return;this.sender=new Cw(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((s=r[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Il();return await Ed(e,Ai,"1"),await Sd(e,Ai),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ed(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>Pw(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Sd(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(n=>{const o=ea(n,!1).getAll();return new Co(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:n,value:o}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(o)&&(this.notifyListeners(n,o),s.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!r.has(n)&&(this.notifyListeners(n,null),s.push(n));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const n of Array.from(r))n(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jp.type="LOCAL";const Mw=jp;new xo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e){return e?Cs(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Oc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zr(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Zr(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function jw(t){return Ep(t.auth,new Lc(t),t.bypassAuthState)}function Nw(t){const{auth:e,user:s}=t;return Se(s,e,"internal-error"),dw(s,new Lc(t),t.bypassAuthState)}async function Lw(t){const{auth:e,user:s}=t;return Se(s,e,"internal-error"),uw(s,new Lc(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,s,r,n,o=!1){this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:n,tenantId:o,error:i,type:l}=e;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:s,sessionId:r,tenantId:o||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jw;case"linkViaPopup":case"linkViaRedirect":return Lw;case"reauthViaPopup":case"reauthViaRedirect":return Nw;default:zt(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new xo(2e3,1e4);async function Dw(t,e,s){if(Dt(t.app))return Promise.reject(Qt(t,"operation-not-supported-in-this-environment"));const r=or(t);m2(t,e,jc);const n=Np(r,s);return new _r(r,"signInViaPopup",e,n).executeNotNull()}class _r extends Lp{constructor(e,s,r,n,o){super(e,s,n,o),this.provider=r,this.authWindow=null,this.pollId=null,_r.currentPopupAction&&_r.currentPopupAction.cancel(),_r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Nc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if(!((r=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bw.get())};e()}}_r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="pendingRedirect",ri=new Map;class Hw extends Lp{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=ri.get(this.auth._key());if(!e){try{const r=await Vw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}ri.set(this.auth._key(),e)}return this.bypassAuthState||ri.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vw(t,e){const s=qw(e),r=zw(t);if(!await r._isAvailable())return!1;const n=await r._get(s)==="true";return await r._remove(s),n}function Fw(t,e){ri.set(t._key(),e)}function zw(t){return Cs(t._redirectPersistence)}function qw(t){return si(Uw,t.config.apiKey,t.name)}async function Kw(t,e,s=!1){if(Dt(t.app))return Promise.reject(Es(t));const r=or(t),n=Np(r,e),i=await new Hw(r,n,s).execute();return i&&!s&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=10*60*1e3;class Gw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jw(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!Bp(e)){const n=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";s.onError(Qt(this.auth,n))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ww&&this.cachedEventUids.clear(),this.cachedEventUids.has(Td(e))}saveEventToCache(e){this.cachedEventUids.add(Td(e)),this.lastProcessedEventTime=Date.now()}}function Td(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bp({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jw(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bp(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(t,e={}){return Ms(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qw=/^https?/;async function Zw(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yw(t);for(const s of e)try{if(e4(s))return}catch{}zt(t,"unauthorized-domain")}function e4(t){const e=Tl(),{protocol:s,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&i.hostname===r}if(!Qw.test(s))return!1;if(Xw.test(t))return r===t;const n=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+n+"|"+n+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new xo(3e4,6e4);function $d(){const t=ds().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function s4(t){return new Promise((e,s)=>{var r,n,o;function i(){$d(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$d(),s(Qt(t,"network-request-failed"))},timeout:t4.get()})}if(!((n=(r=ds().gapi)===null||r===void 0?void 0:r.iframes)===null||n===void 0)&&n.Iframe)e(gapi.iframes.getContext());else if(!((o=ds().gapi)===null||o===void 0)&&o.load)i();else{const l=K2("iframefcb");return ds()[l]=()=>{gapi.load?i():s(Qt(t,"network-request-failed"))},xp(`${q2()}?onload=${l}`).catch(c=>s(c))}}).catch(e=>{throw ni=null,e})}let ni=null;function r4(t){return ni=ni||s4(t),ni}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new xo(5e3,15e3),o4="__/auth/iframe",i4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c4(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?Ic(e,i4):`https://${t.config.authDomain}/${o4}`,r={apiKey:e.apiKey,appName:t.name,v:wo},n=l4.get(t.config.apiHost);n&&(r.eid=n);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${s}?${bo(r).slice(1)}`}async function u4(t){const e=await r4(t),s=ds().gapi;return Se(s,t,"internal-error"),e.open({where:document.body,url:c4(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},r=>new Promise(async(n,o)=>{await r.restyle({setHideOnLeave:!1});const i=Qt(t,"network-request-failed"),l=ds().setTimeout(()=>{o(i)},n4.get());function c(){ds().clearTimeout(l),n(r)}r.ping(c).then(c,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h4=500,f4=600,p4="_blank",g4="http://localhost";class Ad{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v4(t,e,s,r=h4,n=f4){const o=Math.max((window.screen.availHeight-n)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},d4),{width:r.toString(),height:n.toString(),top:o,left:i}),u=kt().toLowerCase();s&&(l=pp(u)?p4:s),hp(u)&&(e=e||g4,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(N2(u)&&l!=="_self")return m4(e||"",l),new Ad(null);const h=window.open(e||"",l,d);Se(h,t,"popup-blocked");try{h.focus()}catch{}return new Ad(h)}function m4(t,e){const s=document.createElement("a");s.href=t,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="__/auth/handler",b4="emulator/auth/handler",w4=encodeURIComponent("fac");async function Id(t,e,s,r,n,o){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:r,v:wo,eventId:n};if(e instanceof jc){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",Qy(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof ko){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const l=i;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${w4}=${encodeURIComponent(c)}`:"";return`${x4(t)}?${bo(l).slice(1)}${u}`}function x4({config:t}){return t.emulator?Ic(t,b4):`https://${t.authDomain}/${y4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="webStorageSupport";class _4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pp,this._completeRedirectFn=Kw,this._overrideRedirectResult=Fw}async _openPopup(e,s,r,n){var o;As((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Id(e,s,r,Tl(),n);return v4(e,i,Nc())}async _openRedirect(e,s,r,n){await this._originValidation(e);const o=await Id(e,s,r,Tl(),n);return Ew(o),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:n,promise:o}=this.eventManagers[s];return n?Promise.resolve(n):(As(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await u4(e),r=new Gw(e);return s.register("authEvent",n=>(Se(n==null?void 0:n.authEvent,e,"invalid-auth-event"),{status:r.onEvent(n.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Da,{type:Da},n=>{var o;const i=(o=n==null?void 0:n[0])===null||o===void 0?void 0:o[Da];i!==void 0&&s(!!i),zt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=Zw(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return bp()||fp()||Rc()}}const k4=_4;var Pd="@firebase/auth",Rd="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S4(t){no(new cn("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:l}=r.options;Se(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:i,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wp(t)},u=new V2(r,n,o,c);return Q2(u,s),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),no(new cn("auth-internal",e=>{const s=or(e.getProvider("auth").getImmediate());return(r=>new C4(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(Pd,Rd,E4(t)),Yr(Pd,Rd,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=5*60,$4=Sf("authIdTokenMaxAge")||T4;let Od=null;const A4=t=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>$4)return;const n=s==null?void 0:s.token;Od!==n&&(Od=n,await fetch(t,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))};function Zs(t=e2()){const e=If(t,"auth");if(e.isInitialized())return e.getImmediate();const s=X2(t,{popupRedirectResolver:k4,persistence:[Mw,Ap,Pp]}),r=Sf("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=A4(o.toString());bw(s,i,()=>i(s.currentUser)),yw(s,l=>i(l))}}const n=Ny("auth");return n&&Z2(s,`http://${n}`),s}function I4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}F2({loadJS(t){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=n=>{const o=Qt("internal-error");o.customData=n,s(o)},r.type="text/javascript",r.charset="UTF-8",I4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S4("Browser");const P4="modulepreload",R4=function(t,e){return new URL(t,e).href},Md={},ta=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){const i=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(s.map(u=>{if(u=R4(u,r),u in Md)return;Md[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!r)for(let v=i.length-1;v>=0;v--){const x=i[v];if(x.href===u&&(!d||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":P4,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((v,x)=>{p.addEventListener("load",v),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return n.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Dp;const sa=t=>Dp=t,Up=Symbol();function Pl(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var qn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(qn||(qn={}));function O4(){const t=Dh(!0),e=t.run(()=>N({}));let s=[],r=[];const n=fc({install(o){sa(n),n._a=o,o.provide(Up,n),o.config.globalProperties.$pinia=n,r.forEach(i=>s.push(i)),r=[]},use(o){return this._a?s.push(o):r.push(o),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Hp=()=>{};function jd(t,e,s,r=Hp){t.push(e);const n=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!s&&Uh()&&gv(n),n}function Lr(t,...e){t.slice().forEach(s=>{s(...e)})}const M4=t=>t(),Nd=Symbol(),Ua=Symbol();function Rl(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Pl(n)&&Pl(r)&&t.hasOwnProperty(s)&&!Ze(r)&&!Js(r)?t[s]=Rl(n,r):t[s]=r}return t}const j4=Symbol();function N4(t){return!Pl(t)||!Object.prototype.hasOwnProperty.call(t,j4)}const{assign:Ds}=Object;function L4(t){return!!(Ze(t)&&t.effect)}function B4(t,e,s,r){const{state:n,actions:o,getters:i}=e,l=s.state.value[t];let c;function u(){l||(s.state.value[t]=n?n():{});const d=Bv(s.state.value[t]);return Ds(d,o,Object.keys(i||{}).reduce((h,f)=>(h[f]=fc(be(()=>{sa(s);const p=s._s.get(t);return i[f].call(p,p)})),h),{}))}return c=Vp(t,u,e,s,r,!0),c}function Vp(t,e,s={},r,n,o){let i;const l=Ds({actions:{}},s),c={deep:!0};let u,d,h=[],f=[],p;const v=r.state.value[t];!o&&!v&&(r.state.value[t]={}),N({});let x;function S(T){let w;u=d=!1,typeof T=="function"?(T(r.state.value[t]),w={type:qn.patchFunction,storeId:t,events:p}):(Rl(r.state.value[t],T),w={type:qn.patchObject,payload:T,storeId:t,events:p});const y=x=Symbol();jr().then(()=>{x===y&&(u=!0)}),d=!0,Lr(h,w,r.state.value[t])}const R=o?function(){const{state:w}=s,y=w?w():{};this.$patch(L=>{Ds(L,y)})}:Hp;function P(){i.stop(),h=[],f=[],r._s.delete(t)}const A=(T,w="")=>{if(Nd in T)return T[Ua]=w,T;const y=function(){sa(r);const L=Array.from(arguments),U=[],ce=[];function K($){U.push($)}function B($){ce.push($)}Lr(f,{args:L,name:y[Ua],store:k,after:K,onError:B});let j;try{j=T.apply(this&&this.$id===t?this:k,L)}catch($){throw Lr(ce,$),$}return j instanceof Promise?j.then($=>(Lr(U,$),$)).catch($=>(Lr(ce,$),Promise.reject($))):(Lr(U,j),j)};return y[Nd]=!0,y[Ua]=w,y},I={_p:r,$id:t,$onAction:jd.bind(null,f),$patch:S,$reset:R,$subscribe(T,w={}){const y=jd(h,T,w.detached,()=>L()),L=i.run(()=>Ye(()=>r.state.value[t],U=>{(w.flush==="sync"?d:u)&&T({storeId:t,type:qn.direct,events:p},U)},Ds({},c,w)));return y},$dispose:P},k=ft(I);r._s.set(t,k);const C=(r._a&&r._a.runWithContext||M4)(()=>r._e.run(()=>(i=Dh()).run(()=>e({action:A}))));for(const T in C){const w=C[T];if(Ze(w)&&!L4(w)||Js(w))o||(v&&N4(w)&&(Ze(w)?w.value=v[T]:Rl(w,v[T])),r.state.value[t][T]=w);else if(typeof w=="function"){const y=A(w,T);C[T]=y,l.actions[T]=w}}return Ds(k,C),Ds($e(k),C),Object.defineProperty(k,"$state",{get:()=>r.state.value[t],set:T=>{S(w=>{Ds(w,T)})}}),r._p.forEach(T=>{Ds(k,i.run(()=>T({store:k,app:r._a,pinia:r,options:l})))}),v&&o&&s.hydrate&&s.hydrate(k.$state,v),u=!0,d=!0,k}/*! #__NO_SIDE_EFFECTS__ */function Eo(t,e,s){let r;const n=typeof e=="function";r=n?s:e;function o(i,l){const c=pm();return i=i||(c?Ht(Up,null):null),i&&sa(i),i=Dp,i._s.has(t)||(n?Vp(t,e,r,i):B4(t,r,i)),i._s.get(t)}return o.$id=t,o}const D4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Bc extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class U4 extends Bc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ld extends Bc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bd extends Bc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ol;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ol||(Ol={}));class H4{constructor(e,{headers:s={},customFetch:r,region:n=Ol.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=D4(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return me(this,arguments,void 0,function*(s,r={}){var n;let o,i;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${s}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let x;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(f["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(f["Content-Type"]="application/json",x=JSON.stringify(u)):x=u;let S=d;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),d?(S=i.signal,d.addEventListener("abort",()=>i.abort())):S=i.signal);const R=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:x,signal:S}).catch(k=>{throw new U4(k)}),P=R.headers.get("x-relay-error");if(P&&P==="true")throw new Ld(R);if(!R.ok)throw new Bd(R);let A=((n=R.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),I;return A==="application/json"?I=yield R.json():A==="application/octet-stream"||A==="application/pdf"?I=yield R.blob():A==="text/event-stream"?I=R:A==="multipart/form-data"?I=yield R.formData():I=yield R.text(),{data:I,error:null,response:R}}catch(l){return{data:null,error:l,response:l instanceof Bd||l instanceof Ld?l.context:void 0}}finally{o&&clearTimeout(o)}})}}function V4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function F4(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var pt={};const bn=F4(p2);var Do={},Uo={},Ho={},Vo={},Fo={},zo={},Dd;function Fp(){if(Dd)return zo;Dd=1,Object.defineProperty(zo,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return zo.default=t,zo}var Ud;function zp(){if(Ud)return Fo;Ud=1,Object.defineProperty(Fo,"__esModule",{value:!0});const e=bn.__importDefault(Fp());class s{constructor(n){var o,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(o=n.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=n.signal,this.isMaybeSingle=(i=n.isMaybeSingle)!==null&&i!==void 0?i:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,o){return this.headers=new Headers(this.headers),this.headers.set(n,o),this}then(n,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let l=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let p=null,v=null,x=null,S=c.status,R=c.statusText;if(c.ok){if(this.method!=="HEAD"){const k=await c.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=k:v=JSON.parse(k))}const A=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),I=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");A&&I&&I.length>1&&(x=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(p={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,x=null,S=406,R="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const A=await c.text();try{p=JSON.parse(A),Array.isArray(p)&&c.status===404&&(v=[],p=null,S=200,R="OK")}catch{c.status===404&&A===""?(S=204,R="No Content"):p={message:A}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,S=200,R="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:v,count:x,status:S,statusText:R}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(n,o)}returns(){return this}overrideTypes(){return this}}return Fo.default=s,Fo}var Hd;function qp(){if(Hd)return Vo;Hd=1,Object.defineProperty(Vo,"__esModule",{value:!0});const e=bn.__importDefault(zp());class s extends e.default{select(n){let o=!1;const i=(n??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:o=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${n}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:o,referencedTable:i=o}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,o,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(u,`${o-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:o=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[n?"analyze":null,o?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return Vo.default=s,Vo}var Vd;function Dc(){if(Vd)return Ho;Vd=1,Object.defineProperty(Ho,"__esModule",{value:!0});const e=bn.__importDefault(qp()),s=new RegExp("[,()]");class r extends e.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&s.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${u}fts${d}.${i}`),this}match(o){return Object.entries(o).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(o,i,l){return this.url.searchParams.append(o,`not.${i}.${l}`),this}or(o,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,i,l){return this.url.searchParams.append(o,`${i}.${l}`),this}}return Ho.default=r,Ho}var Fd;function Kp(){if(Fd)return Uo;Fd=1,Object.defineProperty(Uo,"__esModule",{value:!0});const e=bn.__importDefault(Dc());class s{constructor(n,{headers:o={},schema:i,fetch:l}){this.url=n,this.headers=new Headers(o),this.schema=i,this.fetch=l}select(n,o){const{head:i=!1,count:l}=o??{},c=i?"HEAD":"GET";let u=!1;const d=(n??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:o,defaultToNull:i=!0}={}){var l;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(n,{onConflict:o,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:o}={}){var i;const l="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:n}={}){var o;const i="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Uo.default=s,Uo}var zd;function z4(){if(zd)return Do;zd=1,Object.defineProperty(Do,"__esModule",{value:!0});const t=bn,e=t.__importDefault(Kp()),s=t.__importDefault(Dc());class r{constructor(o,{headers:i={},schema:l,fetch:c}={}){this.url=o,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(o){const i=new URL(`${this.url}/${o}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${o}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(i).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{f.searchParams.append(x,S)})):(h="POST",p=i);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new s.default({method:h,url:f,headers:v,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Do.default=r,Do}var qd;function q4(){if(qd)return pt;qd=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const t=bn,e=t.__importDefault(z4());pt.PostgrestClient=e.default;const s=t.__importDefault(Kp());pt.PostgrestQueryBuilder=s.default;const r=t.__importDefault(Dc());pt.PostgrestFilterBuilder=r.default;const n=t.__importDefault(qp());pt.PostgrestTransformBuilder=n.default;const o=t.__importDefault(zp());pt.PostgrestBuilder=o.default;const i=t.__importDefault(Fp());return pt.PostgrestError=i.default,pt.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:o.default,PostgrestError:i.default},pt}var Wp=q4();const Gp=V4(Wp),K4=tv({__proto__:null,default:Gp},[Wp]),{PostgrestClient:W4,PostgrestQueryBuilder:EU,PostgrestFilterBuilder:SU,PostgrestTransformBuilder:TU,PostgrestBuilder:$U,PostgrestError:AU}=Gp||K4;class G4{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const J4="2.81.1",Y4=`realtime-js/${J4}`,Jp="1.0.0",X4="2.0.0",Kd=Jp,Ml=1e4,Q4=1e3,Z4=100;var br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(br||(br={}));var st;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(st||(st={}));var Bt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Bt||(Bt={}));var jl;(function(t){t.websocket="websocket"})(jl||(jl={}));var wr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wr||(wr={}));class ex{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,s){if(this._isArrayBuffer(e.payload))return s(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:s,ref:r,event:n,topic:o,payload:i}=e,l=this.META_LENGTH+s.length+r.length+o.length+n.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let u=new DataView(c),d=0;u.setUint8(d++,this.KINDS.push),u.setUint8(d++,s.length),u.setUint8(d++,r.length),u.setUint8(d++,o.length),u.setUint8(d++,n.length),Array.from(s,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(r,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(o,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(n,f=>u.setUint8(d++,f.charCodeAt(0)));var h=new Uint8Array(c.byteLength+i.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(i),c.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,r;const{join_ref:n,ref:o,topic:i}=e,l=e.payload.event,c=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+n.length+o.length+i.length+l.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(d),f=0;h.setUint8(f++,this.KINDS.userBroadcastPush),h.setUint8(f++,n.length),h.setUint8(f++,o.length),h.setUint8(f++,i.length),h.setUint8(f++,l.length),h.setUint8(f++,this.BINARY_ENCODING),Array.from(n,v=>h.setUint8(f++,v.charCodeAt(0))),Array.from(o,v=>h.setUint8(f++,v.charCodeAt(0))),Array.from(i,v=>h.setUint8(f++,v.charCodeAt(0))),Array.from(l,v=>h.setUint8(f++,v.charCodeAt(0)));var p=new Uint8Array(d.byteLength+c.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(c),d.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var s,r;const{join_ref:n,ref:o,topic:i}=e,l=e.payload.event,c=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+n.length+o.length+i.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,n.length),p.setUint8(v++,o.length),p.setUint8(v++,i.length),p.setUint8(v++,l.length),p.setUint8(v++,this.JSON_ENCODING),Array.from(n,S=>p.setUint8(v++,S.charCodeAt(0))),Array.from(o,S=>p.setUint8(v++,S.charCodeAt(0))),Array.from(i,S=>p.setUint8(v++,S.charCodeAt(0))),Array.from(l,S=>p.setUint8(v++,S.charCodeAt(0)));var x=new Uint8Array(f.byteLength+d.byteLength);return x.set(new Uint8Array(f),0),x.set(new Uint8Array(d),f.byteLength),x.buffer}decode(e,s){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return s(r)}if(typeof e=="string"){const r=JSON.parse(e),[n,o,i,l,c]=r;return s({join_ref:n,ref:o,topic:i,event:l,payload:c})}return s({})}_binaryDecode(e){const s=new DataView(e),r=s.getUint8(0),n=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,s,n);case this.KINDS.reply:return this._decodeReply(e,s,n);case this.KINDS.broadcast:return this._decodeBroadcast(e,s,n);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,n)}}_decodePush(e,s,r){const n=s.getUint8(1),o=s.getUint8(2),i=s.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=r.decode(e.slice(l,l+n));l=l+n;const u=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+i));l=l+i;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{join_ref:c,ref:null,topic:u,event:d,payload:h}}_decodeReply(e,s,r){const n=s.getUint8(1),o=s.getUint8(2),i=s.getUint8(3),l=s.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(c,c+n));c=c+n;const d=r.decode(e.slice(c,c+o));c=c+o;const h=r.decode(e.slice(c,c+i));c=c+i;const f=r.decode(e.slice(c,c+l));c=c+l;const p=JSON.parse(r.decode(e.slice(c,e.byteLength))),v={status:f,response:p};return{join_ref:u,ref:d,topic:h,event:Bt.reply,payload:v}}_decodeBroadcast(e,s,r){const n=s.getUint8(1),o=s.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(e.slice(i,i+n));i=i+n;const c=r.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:u}}_decodeUserBroadcast(e,s,r){const n=s.getUint8(1),o=s.getUint8(2),i=s.getUint8(3),l=s.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+n));c=c+n;const d=r.decode(e.slice(c,c+o));c=c+o;const h=r.decode(e.slice(c,c+i));c=c+i;const f=e.slice(c,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST,event:d,payload:p};return i>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}}class Yp{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ke||(Ke={}));const Wd=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=tx(i,t,e,n),o),{}):{}},tx=(t,e,s,r)=>{const n=e.find(l=>l.name===t),o=n==null?void 0:n.type,i=s[t];return o&&!r.includes(o)?Xp(o,i):Nl(i)},Xp=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return ox(e,s)}switch(t){case Ke.bool:return sx(e);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return rx(e);case Ke.json:case Ke.jsonb:return nx(e);case Ke.timestamp:return ix(e);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Nl(e);default:return Nl(e)}},Nl=t=>t,sx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rx=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ox=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let o;const i=t.slice(1,s);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Xp(e,l))}return t},ix=t=>typeof t=="string"?t.replace(" ","T"):t,Qp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ha{constructor(e,s,r={},n=Ml){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Gd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Gd||(Gd={}));class Kn{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kn.syncState(this.state,n,o,i),this.pendingDiffs.forEach(c=>{this.state=Kn.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},n=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Kn.syncDiff(this.state,n,o,i),l())}),this.onJoin((n,o,i)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:o,newPresences:i})}),this.onLeave((n,o,i)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const o=this.cloneDeep(e),i=this.transformState(s),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const f=d.map(S=>S.presence_ref),p=h.map(S=>S.presence_ref),v=d.filter(S=>p.indexOf(S.presence_ref)<0),x=h.filter(S=>f.indexOf(S.presence_ref)<0);v.length>0&&(l[u]=v),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,n)}static syncDiff(e,s,r,n){const{joins:o,leaves:i}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}r(l,d,c)}),this.map(i,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,n(l,u,c),u.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Jd||(Jd={}));var Wn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wn||(Wn={}));var ys;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ys||(ys={}));class Uc{constructor(e,s={config:{}},r){var n,o;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ha(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new Yp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Kn(this),this.broadcastEndpointURL=Qp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,n,o;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[Wn.PRESENCE]&&this.bindings[Wn.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(ys.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ys.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(ys.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,R=[];for(let P=0;P<S;P++){const A=x[P],{filter:{event:I,schema:k,table:_,filter:C}}=A,T=p&&p[P];if(T&&T.event===I&&T.schema===k&&T.table===_&&T.filter===C)R.push(Object.assign(Object.assign({},A),{id:T.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(ys.SUBSCRIBED);return}}).receive("error",p=>{this.state=st.errored,e==null||e(ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===st.joined&&e===Wn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var n;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Ha(this,Bt.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,o=setTimeout(()=>n.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(o),i}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ha(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Z4){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,o;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Bt;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var v,x,S;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(x=p.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===i}).map(p=>p.callback(f,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var v,x,S,R,P,A;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const I=p.id,k=(v=p.filter)===null||v===void 0?void 0:v.event;return I&&((x=s.ids)===null||x===void 0?void 0:x.includes(I))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((S=s.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const I=(P=(R=p==null?void 0:p.filter)===null||R===void 0?void 0:R.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return I==="*"||I===((A=s==null?void 0:s.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:S,commit_timestamp:R,type:P,errors:A}=v;f=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:R,eventType:P,new:{},old:{},errors:A}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),o={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(o):this.bindings[n]=[o],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var o;return!(((o=n.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Uc.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bt.close,{},e)}_onError(e){this._on(Bt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Wd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Wd(e.columns,e.old_record)),s}}const Va=()=>{},qo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ax=[1e3,2e3,5e3,1e4],lx=1e4,cx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ux{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ml,this.transport=null,this.heartbeatIntervalMs=qo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Va,this.ref=0,this.reconnectTimer=null,this.vsn=Kd,this.logger=Va,this.conn=null,this.sendBuffer=[],this.serializer=new ex,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...o)=>n(...o):(...o)=>fetch(...o),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${jl.websocket}`,this.httpEndpoint=Qp(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=G4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case br.connecting:return wr.Connecting;case br.open:return wr.Open;case br.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(o=>o.topic===r);if(n)return n;{const o=new Uc(`realtime:${e}`,s,this);return this.channels.push(o),o}}push(e){const{topic:s,event:r,payload:n,ref:o}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${o})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Q4,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},qo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:o,ref:i}=s,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${n} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(n,o,i)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===br.open||this.conn.readyState===br.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([cx],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Y4};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Bt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Yp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,o,i,l,c,u,d,h,f,p;switch(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ml,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:qo.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Va,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Kd,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>ax[v-1]||lx,this.vsn){case Jp:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,x)=>x(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,x)=>x(JSON.parse(v));break;case X4:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Hc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class dx extends Hc{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ll extends Hc{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}const Vc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hx=()=>Response,Bl=t=>{if(Array.isArray(t))return t.map(s=>Bl(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[n]=Bl(r)}),e},fx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Fa=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},px=(t,e,s)=>me(void 0,void 0,void 0,function*(){const r=yield hx();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{const o=t.status||500,i=(n==null?void 0:n.statusCode)||o+"";e(new dx(Fa(n),o,i))}).catch(n=>{e(new Ll(Fa(n),n))}):e(new Ll(Fa(t),t))}),gx=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?n:(fx(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function So(t,e,s,r,n,o){return me(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(s,gx(e,r,n,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>px(c,l,r))})})}function ao(t,e,s,r){return me(this,void 0,void 0,function*(){return So(t,"GET",e,s,r)})}function Jt(t,e,s,r,n){return me(this,void 0,void 0,function*(){return So(t,"POST",e,r,n,s)})}function Dl(t,e,s,r,n){return me(this,void 0,void 0,function*(){return So(t,"PUT",e,r,n,s)})}function vx(t,e,s,r){return me(this,void 0,void 0,function*(){return So(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Fc(t,e,s,r,n){return me(this,void 0,void 0,function*(){return So(t,"DELETE",e,r,n,s)})}class mx{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}var Zp;class yx{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[Zp]="BlobDownloadBuilder",this.promise=null}asStream(){return new mx(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}Zp=Symbol.toStringTag;const bx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wx{constructor(e,s={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=Vc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,n){return me(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Yd),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield(e=="PUT"?Dl:Jt)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}})}upload(e,s,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return me(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:Yd.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Dl(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const o=yield Jt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Hc("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}update(e,s,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return me(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}copy(e,s,r){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return me(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),o=yield Jt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return me(this,void 0,void 0,function*(){try{const n=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}download(e,s){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),i=o?`?${o}`:"",l=this._getFinalPath(e),c=()=>ao(this.fetch,`${this.url}/${n}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new yx(c,this.shouldThrowOnError)}info(e){return me(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield ao(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Bl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}exists(e){return me(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield vx(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r)&&r instanceof Ll){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&n.push(o);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return me(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}list(e,s,r){return me(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},bx),s),{prefix:e||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listV2(e,s){return me(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const eg="2.81.1",tg={"X-Client-Info":`storage-js/${eg}`};class xx{constructor(e,s={},r,n){this.shouldThrowOnError=!1;const o=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tg),s),this.fetch=Vc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return me(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(e);return{data:yield ao(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}getBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createBucket(e){return me(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return me(this,void 0,void 0,function*(){try{return{data:yield Dl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}emptyBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(e){const s={};return e&&("limit"in e&&(s.limit=String(e.limit)),"offset"in e&&(s.offset=String(e.offset)),e.search&&(s.search=e.search),e.sortColumn&&(s.sortColumn=e.sortColumn),e.sortOrder&&(s.sortOrder=e.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class _x{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tg),s),this.fetch=Vc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listBuckets(e){return me(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&s.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&s.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&s.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&s.set("sortOrder",e.sortOrder),e!=null&&e.search&&s.set("search",e.search);const r=s.toString(),n=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ao(this.fetch,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}}const zc={"X-Client-Info":`storage-js/${eg}`,"Content-Type":"application/json"};class sg extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class za extends sg{constructor(e,s,r){super(e),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kx extends sg{constructor(e,s){super(e),this.name="StorageVectorsUnknownError",this.originalError=s}}var Xd;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xd||(Xd={}));const qc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Cx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Qd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ex=(t,e,s)=>me(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(s!=null&&s.noResolveJson)){const n=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new za(Qd(i),n,l))}).catch(()=>{const i=n+"",l=o.statusText||`HTTP ${n} error`;e(new za(l,n,i))});else{const i=n+"",l=o.statusText||`HTTP ${n} error`;e(new za(l,n,i))}}else e(new kx(Qd(t),t))}),Sx=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(Cx(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,Object.assign(Object.assign({},n),s)):n};function Tx(t,e,s,r,n,o){return me(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(s,Sx(e,r,n,o)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>Ex(c,l,r))})})}function Ot(t,e,s,r,n){return me(this,void 0,void 0,function*(){return Tx(t,"POST",e,r,n,s)})}class $x{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zc),s),this.fetch=qc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return me(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}getIndex(e,s){return me(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listIndexes(e){return me(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}deleteIndex(e,s){return me(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}}class Ax{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zc),s),this.fetch=qc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return me(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ot(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}getVectors(e){return me(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}listVectors(e){return me(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ot(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}queryVectors(e){return me(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}deleteVectors(e){return me(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ot(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}}class Ix{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zc),s),this.fetch=qc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return me(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}getBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}listBuckets(){return me(this,arguments,void 0,function*(e={}){try{return{data:yield Ot(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:(yield Ot(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}}class Px extends Ix{constructor(e,s={}){super(e,s.headers||{},s.fetch)}from(e){return new Rx(this.url,this.headers,e,this.fetch)}}class Rx extends $x{constructor(e,s,r,n){super(e,s,n),this.vectorBucketName=r}createIndex(e){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return me(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return me(this,arguments,void 0,function*(s={}){return e.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return me(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return me(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Ox(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Ox extends Ax{constructor(e,s,r,n,o){super(e,s,o),this.vectorBucketName=r,this.indexName=n}putVectors(e){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return me(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return me(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return me(this,arguments,void 0,function*(s={}){return e.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return me(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return me(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Mx extends xx{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new wx(this.url,this.headers,e,this.fetch)}get vectors(){return new Px(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _x(this.url+"/iceberg",this.headers,this.fetch)}}const jx="2.81.1";let Rn="";typeof Deno<"u"?Rn="deno":typeof document<"u"?Rn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rn="react-native":Rn="node";const Nx={"X-Client-Info":`supabase-js-${Rn}/${jx}`},Lx={headers:Nx},Bx={schema:"public"},Dx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ux={},Hx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Vx=()=>Headers,Fx=(t,e,s)=>{const r=Hx(s),n=Vx();return async(o,i)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new n(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))}};function zx(t){return t.endsWith("/")?t:t+"/"}function qx(t,e){var s,r;const{db:n,auth:o,realtime:i,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Kx(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const rg="2.81.1",qr=30*1e3,Ul=3,qa=Ul*qr,Wx="http://localhost:9999",Gx="supabase.auth.token",Jx={"X-Client-Info":`gotrue-js/${rg}`},Hl="X-Supabase-Api-Version",ng={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xx=10*60*1e3;class lo extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function we(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Qx extends lo{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Zx(t){return we(t)&&t.name==="AuthApiError"}class xr extends lo{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ir extends lo{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Wt extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function e_(t){return we(t)&&t.name==="AuthSessionMissingError"}class Br extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ko extends ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wo extends ir{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t_(t){return we(t)&&t.name==="AuthImplicitGrantRedirectError"}class Zd extends ir{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vl extends ir{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Ka(t){return we(t)&&t.name==="AuthRetryableFetchError"}class eh extends ir{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Fl extends ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),th=` 	
\r=`.split(""),s_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<th.length;e+=1)t[th[e].charCodeAt(0)]=-2;for(let e=0;e<Pi.length;e+=1)t[Pi[e].charCodeAt(0)]=e;return t})();function sh(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Pi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Pi[r]),e.queuedBits-=6}}function og(t,e,s){const r=s_[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function rh(t){const e=[],s=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},o=i=>{o_(i,r,s)};for(let i=0;i<t.length;i+=1)og(t.charCodeAt(i),n,o);return e.join("")}function r_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function n_(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}r_(r,e)}}function o_(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function en(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)og(t.charCodeAt(n),s,r);return new Uint8Array(e)}function i_(t){const e=[];return n_(t,s=>e.push(s)),new Uint8Array(e)}function kr(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>sh(n,s,r)),sh(null,s,r),e.join("")}function a_(t){return Math.round(Date.now()/1e3)+t}function l_(){return Symbol("auth-callback")}const lt=()=>typeof window<"u"&&typeof document<"u",fr={tested:!1,writable:!1},ig=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fr.tested)return fr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fr.tested=!0,fr.writable=!0}catch{fr.tested=!0,fr.writable=!1}return fr.writable};function c_(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,o)=>{e[o]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const ag=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),u_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Kr=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},pr=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ls=async(t,e)=>{await t.removeItem(e)};class ra{constructor(){this.promise=new ra.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}ra.promiseConstructor=Promise;function Wa(t){const e=t.split(".");if(e.length!==3)throw new Fl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Yx.test(e[r]))throw new Fl("JWT not in base64url format");return{header:JSON.parse(rh(e[0])),payload:JSON.parse(rh(e[1])),signature:en(e[2]),raw:{header:e[0],payload:e[1]}}}async function d_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function h_(t,e){return new Promise((r,n)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){r(i);return}}catch(i){if(!e(o,i)){n(i);return}}})()})}function f_(t){return("0"+t.toString(16)).substr(-2)}function p_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let o=0;o<56;o++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,f_).join("")}async function g_(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(o=>String.fromCharCode(o)).join("")}async function v_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await g_(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(t,e,s=!1){const r=p_();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Kr(t,`${e}-code-verifier`,n);const o=await v_(r);return[o,r===o?"plain":"s256"]}const m_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y_(t){const e=t.headers.get(Hl);if(!e||!e.match(m_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function b_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function w_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ur(t){if(!x_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ga(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function __(t,e){return new Proxy(t,{get:(s,r,n)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,n)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,r,n)}})}function nh(t){return JSON.parse(JSON.stringify(t))}const mr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),k_=[502,503,504];async function oh(t){var e;if(!u_(t))throw new Vl(mr(t),0);if(k_.includes(t.status))throw new Vl(mr(t),t.status);let s;try{s=await t.json()}catch(o){throw new xr(mr(o),o)}let r;const n=y_(t);if(n&&n.getTime()>=ng["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new eh(mr(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Wt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new eh(mr(s),t.status,s.weak_password.reasons);throw new Qx(mr(s),t.status||500,r)}const C_=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function Te(t,e,s,r){var n;const o=Object.assign({},r==null?void 0:r.headers);o[Hl]||(o[Hl]=ng["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await E_(t,e,s+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function E_(t,e,s,r,n,o){const i=C_(e,r,n,o);let l;try{l=await t(s,Object.assign({},i))}catch(c){throw console.error(c),new Vl(mr(c),0)}if(l.ok||await oh(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await oh(c)}}function Gt(t){var e;let s=null;$_(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=a_(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function ih(t){const e=Gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ws(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function S_(t){return{data:t,error:null}}function T_(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:o}=t,i=Os(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function ah(t){return t}function $_(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ja=["global","local","others"];class A_{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=ag(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Ja[0]){if(Ja.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ja.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ws})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Os(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:T_,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(we(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ws})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(o=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:ah});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(we(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ur(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ws})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Ur(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ws})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Ur(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ws})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ur(e.userId);try{const{data:s,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(we(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Ur(e.userId),Ur(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,n,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(o=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:ah});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(we(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(we(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(we(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(we(s))return{data:null,error:s};throw s}}}function lh(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const Hr={debug:!!(globalThis&&ig()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class I_ extends lg{}async function P_(t,e,s){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new I_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Hr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function R_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function O_(t){return parseInt(t,16)}function M_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function j_(t){var e;const{chainId:s,domain:r,expirationTime:n,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=cg(t.address),v=d?`${d}://${r}`:r,x=t.statement?`${t.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${p}

${x}`;let R=`URI: ${h}
Version: ${f}
Chain ID: ${s}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(n&&(R+=`
Expiration Time: ${n.toISOString()}`),l&&(R+=`
Not Before: ${l.toISOString()}`),c&&(R+=`
Request ID: ${c}`),u){let P=`
Resources:`;for(const A of u){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);P+=`
- ${A}`}R+=P}return`${S}
${R}`}class tt extends Error{constructor({message:e,code:s,cause:r,name:n}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=n??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=s}}class Ri extends tt{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function N_({error:t,options:e}){var s,r,n;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(ug(i)){if(o.rp.id!==i)return new tt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function L_({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(ug(r)){if(s.rpId!==r)return new tt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class B_{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const D_=new B_;function U_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:r}=t,n=Os(t,["challenge","user","excludeCredentials"]),o=en(e).buffer,i=Object.assign(Object.assign({},s),{id:en(s.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:o,user:i});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:en(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function H_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,r=Os(t,["challenge","allowCredentials"]),n=en(e).buffer,o=Object.assign(Object.assign({},r),{challenge:n});if(s&&s.length>0){o.allowCredentials=new Array(s.length);for(let i=0;i<s.length;i++){const l=s[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:en(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function V_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:kr(new Uint8Array(t.response.attestationObject)),clientDataJSON:kr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function F_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,r=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:kr(new Uint8Array(n.authenticatorData)),clientDataJSON:kr(new Uint8Array(n.clientDataJSON)),signature:kr(new Uint8Array(n.signature)),userHandle:n.userHandle?kr(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ug(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ch(){var t,e;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function z_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ri("Browser returned unexpected credential type",e)}:{data:null,error:new Ri("Empty credential response",e)}}catch(e){return{data:null,error:N_({error:e,options:t})}}}async function q_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ri("Browser returned unexpected credential type",e)}:{data:null,error:new Ri("Empty credential response",e)}}catch(e){return{data:null,error:L_({error:e,options:t})}}}const K_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},W_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oi(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),s=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),r={};for(const n of t)if(n)for(const o in n){const i=n[o];if(i!==void 0)if(Array.isArray(i))r[o]=i;else if(s(i))r[o]=i;else if(e(i)){const l=r[o];e(l)?r[o]=Oi(l,i):r[o]=Oi(i)}else r[o]=i}return r}function G_(t,e){return Oi(K_,t,e||{})}function J_(t,e){return Oi(W_,t,e||{})}class Y_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:n},o){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!i)return{data:null,error:l};const c=n??D_.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=G_(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await z_({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=J_(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await q_(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(i){return we(i)?{data:null,error:i}:{data:null,error:new xr("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},o){if(!s)return{data:null,error:new lo("rpId is required for WebAuthn authentication")};try{if(!ch())return{data:null,error:new xr("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:n},{request:o});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:c.type,rpId:s,rpOrigins:r,credential_response:c.credential_response}})}catch(i){return we(i)?{data:null,error:i}:{data:null,error:new xr("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},o){if(!s)return{data:null,error:new lo("rpId is required for WebAuthn registration")};try{if(!ch())return{data:null,error:new xr("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:n},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:s,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return we(i)?{data:null,error:i}:{data:null,error:new xr("Unexpected error in register",i)}}}}R_();const X_={url:Wx,storageKey:Gx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function uh(t,e,s){return await s()}const Vr={};class co{get jwks(){var e,s;return(s=(e=Vr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Vr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{cachedAt:e})}constructor(e){var s,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},X_),e);if(this.storageKey=o.storageKey,this.instanceID=(s=co.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,co.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&lt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new A_({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ag(o.fetch),this.lock=o.lock||uh,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=P_:this.lock=uh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Y_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:ig()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lh(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=lh(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rg}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},r="none";if(lt()&&(s=c_(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),lt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:o}=await this._getSessionFromURL(s,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),t_(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return we(s)?this._returnResult({error:s}):this._returnResult({error:new xr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Gt}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var s,r,n;try{let o;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Dr(this.storage,this.storageKey)),o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:Gt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Gt})}else throw new Ko("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let s;if("email"in e){const{email:o,password:i,options:l}=e;s=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ih})}else if("phone"in e){const{phone:o,password:i,options:l}=e;s=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ih})}else throw new Ko("You must provide either an email or phone number and a password");const{data:r,error:n}=s;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const o=new Br;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,r,n,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,n,o,i,l,c,u,d,h,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:x,wallet:S,statement:R,options:P}=e;let A;if(lt())if(typeof S=="object")A=S;else{const w=window;if("ethereum"in w&&typeof w.ethereum=="object"&&"request"in w.ethereum&&typeof w.ethereum.request=="function")A=w.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const I=new URL((s=P==null?void 0:P.url)!==null&&s!==void 0?s:window.location.href),k=await A.request({method:"eth_requestAccounts"}).then(w=>w).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=cg(k[0]);let C=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const w=await A.request({method:"eth_chainId"});C=O_(w)}const T={domain:I.host,address:_,statement:R,uri:I.href,version:"1",chainId:C,nonce:(n=P==null?void 0:P.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(i=(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=P==null?void 0:P.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=P==null?void 0:P.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=j_(T),v=await A.request({method:"personal_sign",params:[M_(p),_]})}try{const{data:x,error:S}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gt});if(S)throw S;if(!x||!x.session||!x.user){const R=new Br;return this._returnResult({data:{user:null,session:null},error:R})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:S})}catch(x){if(we(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var s,r,n,o,i,l,c,u,d,h,f,p;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:S,wallet:R,statement:P,options:A}=e;let I;if(lt())if(typeof R=="object")I=R;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))I=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=R}const k=new URL((s=A==null?void 0:A.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in I&&I.signIn){const _=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),P?{statement:P}:null));let C;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")C=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)C=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(n=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((i=A==null?void 0:A.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((h=(d=A==null?void 0:A.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...A.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const _=await I.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=_}}try{const{data:S,error:R}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:kr(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Gt});if(R)throw R;if(!S||!S.session||!S.user){const P=new Br;return this._returnResult({data:{user:null,session:null},error:P})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:R})}catch(S){if(we(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const s=await pr(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:o,error:i}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Gt});if(await Ls(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new Br;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:n??null}),error:i})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:o,nonce:i}=e,l=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Gt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Br;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,r,n,o,i;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Dr(this.storage,this.storageKey));const{error:h}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ko("You must provide either an email or phone number.")}catch(l){if(we(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var s,r;try{let n,o;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:n,xform:Gt});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var s,r,n,o,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Dr(this.storage,this.storageKey));const u=await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:S_});return!((o=u.data)===null||o===void 0)&&o.url&&lt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(we(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Wt;const{error:n}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(we(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:o}=e,{error:i}=await Te(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:r,type:n,options:o}=e,{data:i,error:l}=await Te(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new Ko("You must provide either an email or phone number and a type")}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<qa:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const i=await pr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Ga()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=__(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ws}):await this._useSession(async s=>{var r,n,o;const{data:i,error:l}=s;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wt}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0,xform:Ws})})}catch(s){if(we(s))return e_(s)&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:o}=r;if(o)throw o;if(!n.session)throw new Wt;const i=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Dr(this.storage,this.storageKey));const{data:u,error:d}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Ws});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(we(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wt;const s=Date.now()/1e3;let r=s,n=!0,o=null;const{payload:i}=Wa(e.access_token);if(i.exp&&(r=i.exp,n=r<=s),n){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(s){if(we(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:i,error:l}=s;if(l)throw l;e=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Wt;const{data:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!lt())throw new Wo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Zd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zd("No code detected.");const{data:P,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=e;if(!o||!l||!i||!u)throw new Wo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:S}=await this._getUser(o);if(S)throw S;const R={provider_token:r,provider_refresh_token:n,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(r){if(we(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:o}=s;if(o)return this._returnResult({error:o});const i=(r=n.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(Zx(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=l_(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:o},error:i}=s;if(i)throw i;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Dr(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(we(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:n}=await this._useSession(async o=>{var i,l,c,u,d;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return lt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(we(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:n,data:{session:o}}=s;if(n)throw n;const{options:i,provider:l,token:c,access_token:u,nonce:d}=e,h=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Gt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Br}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:o,error:i}=s;if(i)throw i;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await h_(async n=>(n>0&&await d_(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gt})),(n,o)=>{const i=200*Math.pow(2,n);return o&&Ka(o)&&Date.now()+i-r<qr})}catch(r){if(this._debug(s,"error",r),we(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),lt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await pr(this.storage,this.storageKey);if(n&&this.userStorage){let i=await pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:n.user},await Kr(this.userStorage,this.storageKey+"-user",i)),n.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Ga()}else if(n&&!n.user&&!n.user){const i=await pr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(n.user=i.user,await Ls(this.storage,this.storageKey+"-user"),await Kr(this.storage,this.storageKey,n)):n.user=Ga()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const o=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<qa;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${qa}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ka(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(n.access_token);!l&&(i!=null&&i.user)?(n.user=i.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ra;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new Wt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(n,"error",o),we(o)){const i={data:null,error:o};return Ka(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Kr(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const o=nh(n);await Kr(this.storage,this.storageKey,o)}else{const n=nh(s);await Kr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Ls(this.storage,this.storageKey),await Ls(this.storage,this.storageKey+"-code-verifier"),await Ls(this.storage,this.storageKey+"-user"),this.userStorage&&await Ls(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${qr}ms, refresh threshold is ${Ul} ticks`),n<=Ul&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Dr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);n.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:o}=s;return o?this._returnResult({data:null,error:o}):await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:o,error:i}=s;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:o}=s;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?V_(e.webauthn.credential_response):F_(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:o}=s;if(o)return this._returnResult({data:null,error:o});const i=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:U_(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:H_(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])n.all.push(o),o.status==="verified"&&n[o.factor_type].push(o);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Wa(r.access_token);let i=null;o.aal&&(i=o.aal);let l=i;((s=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;return n?this._returnResult({data:null,error:n}):r?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!n)return this._returnResult({data:null,error:new Wt});const i=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&lt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!n)return this._returnResult({data:null,error:new Wt});const i=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&lt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(l=>l.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Xx>n)return r;const{data:o,error:i}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=n,r=o.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:n,payload:o,signature:i,raw:{header:l,payload:c}}=Wa(r);s!=null&&s.allowExpired||b_(o.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:n,signature:i},error:null}}const d=w_(n.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,i_(`${l}.${c}`)))throw new Fl("Invalid JWT signature");return{data:{claims:o,header:n,signature:i},error:null}}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}}co.nextInstanceID={};const Q_=co;class Z_ extends Q_{constructor(e){super(e)}}class e3{constructor(e,s,r){var n,o,i;this.supabaseUrl=e,this.supabaseKey=s;const l=Kx(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Bx,realtime:Ux,auth:Object.assign(Object.assign({},Dx),{storageKey:c}),global:Lx},d=qx(r??{},u);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Fx(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new W4(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Mx(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new H4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,s;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:o,storageKey:i,flowType:l,lock:c,debug:u,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z_({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:o,flowType:l,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ux(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const t3=(t,e,s)=>new e3(t,e,s);function s3(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}s3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dh="https://hganinmpourhfimksydd.supabase.co",hh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnYW5pbm1wb3VyaGZpbWtzeWRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2Njk3NDAsImV4cCI6MjA3ODI0NTc0MH0.L0-LLStOhod_M4kKOQGGDJaq_BPAZkyS0af4aiZL8_U",r3=t=>{try{return new URL(t),!0}catch{return!1}};let hn=null;!r3(dh)||hh==="your_supabase_key"?(console.warn(" Supabase cha c cu hnh. Mt s tnh nng c th khng hot ng."),hn={auth:{signUp:()=>Promise.reject(new Error("Supabase not configured")),signInWithPassword:()=>Promise.reject(new Error("Supabase not configured")),signOut:()=>Promise.reject(new Error("Supabase not configured")),getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},from:()=>({select:()=>Promise.resolve({data:[],error:null}),insert:()=>Promise.reject(new Error("Supabase not configured")),update:()=>Promise.reject(new Error("Supabase not configured")),delete:()=>Promise.reject(new Error("Supabase not configured"))})}):hn=t3(dh,hh);const To=Eo("category",{state:()=>({categories:[],loading:!1,error:null}),actions:{async getCategory(){this.loading=!0,this.error=null,console.log("CategoryStore: Bt u fetch genres t bng movies...");try{const{data:t,error:e}=await hn.from("movies").select("genres");if(e)throw e;let s=new Set;t&&t.forEach(r=>{r.genres&&Array.isArray(r.genres)&&r.genres.forEach(n=>{typeof n=="string"&&n.trim()!==""&&s.add(n.trim())})}),this.categories=Array.from(s).map(r=>({name:r,slug:r.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})).sort((r,n)=>r.name.localeCompare(n.name)),console.log("CategoryStore: Genres fetched thnh cng (t bng movies). S lng:",this.categories.length,"D liu:",this.categories)}catch(t){this.error=t.message,console.error("CategoryStore: Li khi fetch genres (t bng movies):",t.message)}finally{this.loading=!1,console.log("CategoryStore: Kt thc fetch genres. Loading:",this.loading)}}},getters:{getAllCategories:t=>t.categories,getLoading:t=>t.loading,getError:t=>t.error}});function dg(t,e){return function(){return t.apply(e,arguments)}}const{toString:n3}=Object.prototype,{getPrototypeOf:Kc}=Object,{iterator:na,toStringTag:hg}=Symbol,oa=(t=>e=>{const s=n3.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ss=t=>(t=t.toLowerCase(),e=>oa(e)===t),ia=t=>e=>typeof e===t,{isArray:wn}=Array,uo=ia("undefined");function o3(t){return t!==null&&!uo(t)&&t.constructor!==null&&!uo(t.constructor)&&St(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fg=ss("ArrayBuffer");function i3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fg(t.buffer),e}const a3=ia("string"),St=ia("function"),pg=ia("number"),aa=t=>t!==null&&typeof t=="object",l3=t=>t===!0||t===!1,oi=t=>{if(oa(t)!=="object")return!1;const e=Kc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hg in t)&&!(na in t)},c3=ss("Date"),u3=ss("File"),d3=ss("Blob"),h3=ss("FileList"),f3=t=>aa(t)&&St(t.pipe),p3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||St(t.append)&&((e=oa(t))==="formdata"||e==="object"&&St(t.toString)&&t.toString()==="[object FormData]"))},g3=ss("URLSearchParams"),[v3,m3,y3,b3]=["ReadableStream","Request","Response","Headers"].map(ss),w3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $o(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),wn(t))for(r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else{const o=s?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let l;for(r=0;r<i;r++)l=o[r],e.call(null,t[l],l,t)}}function gg(t,e){e=e.toLowerCase();const s=Object.keys(t);let r=s.length,n;for(;r-- >0;)if(n=s[r],e===n.toLowerCase())return n;return null}const Cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vg=t=>!uo(t)&&t!==Cr;function zl(){const{caseless:t}=vg(this)&&this||{},e={},s=(r,n)=>{const o=t&&gg(e,n)||n;oi(e[o])&&oi(r)?e[o]=zl(e[o],r):oi(r)?e[o]=zl({},r):wn(r)?e[o]=r.slice():e[o]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&$o(arguments[r],s);return e}const x3=(t,e,s,{allOwnKeys:r}={})=>($o(e,(n,o)=>{s&&St(n)?t[o]=dg(n,s):t[o]=n},{allOwnKeys:r}),t),_3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),k3=(t,e,s,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},C3=(t,e,s,r)=>{let n,o,i;const l={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)i=n[o],(!r||r(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=s!==!1&&Kc(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},E3=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const r=t.indexOf(e,s);return r!==-1&&r===s},S3=t=>{if(!t)return null;if(wn(t))return t;let e=t.length;if(!pg(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},T3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Kc(Uint8Array)),$3=(t,e)=>{const r=(t&&t[na]).call(t);let n;for(;(n=r.next())&&!n.done;){const o=n.value;e.call(t,o[0],o[1])}},A3=(t,e)=>{let s;const r=[];for(;(s=t.exec(e))!==null;)r.push(s);return r},I3=ss("HTMLFormElement"),P3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),fh=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),R3=ss("RegExp"),mg=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),r={};$o(s,(n,o)=>{let i;(i=e(n,o,t))!==!1&&(r[o]=i||n)}),Object.defineProperties(t,r)},O3=t=>{mg(t,(e,s)=>{if(St(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(St(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},M3=(t,e)=>{const s={},r=n=>{n.forEach(o=>{s[o]=!0})};return wn(t)?r(t):r(String(t).split(e)),s},j3=()=>{},N3=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function L3(t){return!!(t&&St(t.append)&&t[hg]==="FormData"&&t[na])}const B3=t=>{const e=new Array(10),s=(r,n)=>{if(aa(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[n]=r;const o=wn(r)?[]:{};return $o(r,(i,l)=>{const c=s(i,n+1);!uo(c)&&(o[l]=c)}),e[n]=void 0,o}}return r};return s(t,0)},D3=ss("AsyncFunction"),U3=t=>t&&(aa(t)||St(t))&&St(t.then)&&St(t.catch),yg=((t,e)=>t?setImmediate:e?((s,r)=>(Cr.addEventListener("message",({source:n,data:o})=>{n===Cr&&o===s&&r.length&&r.shift()()},!1),n=>{r.push(n),Cr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",St(Cr.postMessage)),H3=typeof queueMicrotask<"u"?queueMicrotask.bind(Cr):typeof process<"u"&&process.nextTick||yg,V3=t=>t!=null&&St(t[na]),V={isArray:wn,isArrayBuffer:fg,isBuffer:o3,isFormData:p3,isArrayBufferView:i3,isString:a3,isNumber:pg,isBoolean:l3,isObject:aa,isPlainObject:oi,isReadableStream:v3,isRequest:m3,isResponse:y3,isHeaders:b3,isUndefined:uo,isDate:c3,isFile:u3,isBlob:d3,isRegExp:R3,isFunction:St,isStream:f3,isURLSearchParams:g3,isTypedArray:T3,isFileList:h3,forEach:$o,merge:zl,extend:x3,trim:w3,stripBOM:_3,inherits:k3,toFlatObject:C3,kindOf:oa,kindOfTest:ss,endsWith:E3,toArray:S3,forEachEntry:$3,matchAll:A3,isHTMLForm:I3,hasOwnProperty:fh,hasOwnProp:fh,reduceDescriptors:mg,freezeMethods:O3,toObjectSet:M3,toCamelCase:P3,noop:j3,toFiniteNumber:N3,findKey:gg,global:Cr,isContextDefined:vg,isSpecCompliantForm:L3,toJSONObject:B3,isAsyncFn:D3,isThenable:U3,setImmediate:yg,asap:H3,isIterable:V3};function Re(t,e,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}V.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const bg=Re.prototype,wg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wg[t]={value:t}});Object.defineProperties(Re,wg);Object.defineProperty(bg,"isAxiosError",{value:!0});Re.from=(t,e,s,r,n,o)=>{const i=Object.create(bg);return V.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Re.call(i,t.message,e,s,r,n),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const F3=null;function ql(t){return V.isPlainObject(t)||V.isArray(t)}function xg(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function ph(t,e,s){return t?t.concat(e).map(function(n,o){return n=xg(n),!s&&o?"["+n+"]":n}).join(s?".":""):e}function z3(t){return V.isArray(t)&&!t.some(ql)}const q3=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function la(t,e,s){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=V.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,S){return!V.isUndefined(S[x])});const r=s.metaTokens,n=s.visitor||d,o=s.dots,i=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(n))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(V.isDate(v))return v.toISOString();if(!c&&V.isBlob(v))throw new Re("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(v)||V.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,x,S){let R=v;if(v&&!S&&typeof v=="object"){if(V.endsWith(x,"{}"))x=r?x:x.slice(0,-2),v=JSON.stringify(v);else if(V.isArray(v)&&z3(v)||(V.isFileList(v)||V.endsWith(x,"[]"))&&(R=V.toArray(v)))return x=xg(x),R.forEach(function(A,I){!(V.isUndefined(A)||A===null)&&e.append(i===!0?ph([x],I,o):i===null?x:x+"[]",u(A))}),!1}return ql(v)?!0:(e.append(ph(S,x,o),u(v)),!1)}const h=[],f=Object.assign(q3,{defaultVisitor:d,convertValue:u,isVisitable:ql});function p(v,x){if(!V.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(v),V.forEach(v,function(R,P){(!(V.isUndefined(R)||R===null)&&n.call(e,R,V.isString(P)?P.trim():P,x,f))===!0&&p(R,x?x.concat(P):[P])}),h.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return p(t),e}function gh(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Wc(t,e){this._pairs=[],t&&la(t,this,e)}const _g=Wc.prototype;_g.append=function(e,s){this._pairs.push([e,s])};_g.toString=function(e){const s=e?function(r){return e.call(this,r,gh)}:gh;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function K3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kg(t,e,s){if(!e)return t;const r=s&&s.encode||K3;V.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let o;if(n?o=n(e,s):o=V.isURLSearchParams(e)?e.toString():new Wc(e,s).toString(r),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class vh{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Cg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},W3=typeof URLSearchParams<"u"?URLSearchParams:Wc,G3=typeof FormData<"u"?FormData:null,J3=typeof Blob<"u"?Blob:null,Y3={isBrowser:!0,classes:{URLSearchParams:W3,FormData:G3,Blob:J3},protocols:["http","https","file","blob","url","data"]},Gc=typeof window<"u"&&typeof document<"u",Kl=typeof navigator=="object"&&navigator||void 0,X3=Gc&&(!Kl||["ReactNative","NativeScript","NS"].indexOf(Kl.product)<0),Q3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Z3=Gc&&window.location.href||"http://localhost",ek=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gc,hasStandardBrowserEnv:X3,hasStandardBrowserWebWorkerEnv:Q3,navigator:Kl,origin:Z3},Symbol.toStringTag,{value:"Module"})),mt={...ek,...Y3};function tk(t,e){return la(t,new mt.classes.URLSearchParams,Object.assign({visitor:function(s,r,n,o){return mt.isNode&&V.isBuffer(s)?(this.append(r,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function sk(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rk(t){const e={},s=Object.keys(t);let r;const n=s.length;let o;for(r=0;r<n;r++)o=s[r],e[o]=t[o];return e}function Eg(t){function e(s,r,n,o){let i=s[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=s.length;return i=!i&&V.isArray(n)?n.length:i,c?(V.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!l):((!n[i]||!V.isObject(n[i]))&&(n[i]=[]),e(s,r,n[i],o)&&V.isArray(n[i])&&(n[i]=rk(n[i])),!l)}if(V.isFormData(t)&&V.isFunction(t.entries)){const s={};return V.forEachEntry(t,(r,n)=>{e(sk(r),n,s,0)}),s}return null}function nk(t,e,s){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const Ao={transitional:Cg,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,o=V.isObject(e);if(o&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return n?JSON.stringify(Eg(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tk(e,this.formSerializer).toString();if((l=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return la(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||n?(s.setContentType("application/json",!1),nk(e)):e}],transformResponse:[function(e){const s=this.transitional||Ao.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||n)){const i=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Re.from(l,Re.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mt.classes.FormData,Blob:mt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{Ao.headers[t]={}});const ok=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ik=t=>{const e={};let s,r,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),s=i.substring(0,n).trim().toLowerCase(),r=i.substring(n+1).trim(),!(!s||e[s]&&ok[s])&&(s==="set-cookie"?e[s]?e[s].push(r):e[s]=[r]:e[s]=e[s]?e[s]+", "+r:r)}),e},mh=Symbol("internals");function Tn(t){return t&&String(t).trim().toLowerCase()}function ii(t){return t===!1||t==null?t:V.isArray(t)?t.map(ii):String(t)}function ak(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)e[r[1]]=r[2];return e}const lk=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ya(t,e,s,r,n){if(V.isFunction(r))return r.call(this,e,s);if(n&&(e=s),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function ck(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,r)=>s.toUpperCase()+r)}function uk(t,e){const s=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(n,o,i){return this[r].call(this,e,n,o,i)},configurable:!0})})}let Tt=class{constructor(e){e&&this.set(e)}set(e,s,r){const n=this;function o(l,c,u){const d=Tn(c);if(!d)throw new Error("header name must be a non-empty string");const h=V.findKey(n,d);(!h||n[h]===void 0||u===!0||u===void 0&&n[h]!==!1)&&(n[h||c]=ii(l))}const i=(l,c)=>V.forEach(l,(u,d)=>o(u,d,c));if(V.isPlainObject(e)||e instanceof this.constructor)i(e,s);else if(V.isString(e)&&(e=e.trim())&&!lk(e))i(ik(e),s);else if(V.isObject(e)&&V.isIterable(e)){let l={},c,u;for(const d of e){if(!V.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?V.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,s)}else e!=null&&o(s,e,r);return this}get(e,s){if(e=Tn(e),e){const r=V.findKey(this,e);if(r){const n=this[r];if(!s)return n;if(s===!0)return ak(n);if(V.isFunction(s))return s.call(this,n,r);if(V.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Tn(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!s||Ya(this,this[r],r,s)))}return!1}delete(e,s){const r=this;let n=!1;function o(i){if(i=Tn(i),i){const l=V.findKey(r,i);l&&(!s||Ya(r,r[l],l,s))&&(delete r[l],n=!0)}}return V.isArray(e)?e.forEach(o):o(e),n}clear(e){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const o=s[r];(!e||Ya(this,this[o],o,e,!0))&&(delete this[o],n=!0)}return n}normalize(e){const s=this,r={};return V.forEach(this,(n,o)=>{const i=V.findKey(r,o);if(i){s[i]=ii(n),delete s[o];return}const l=e?ck(o):String(o).trim();l!==o&&delete s[o],s[l]=ii(n),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return V.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=e&&V.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const r=new this(e);return s.forEach(n=>r.set(n)),r}static accessor(e){const r=(this[mh]=this[mh]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=Tn(i);r[l]||(uk(n,i),r[l]=!0)}return V.isArray(e)?e.forEach(o):o(e),this}};Tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Tt.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[s]=r}}});V.freezeMethods(Tt);function Xa(t,e){const s=this||Ao,r=e||s,n=Tt.from(r.headers);let o=r.data;return V.forEach(t,function(l){o=l.call(s,o,n.normalize(),e?e.status:void 0)}),n.normalize(),o}function Sg(t){return!!(t&&t.__CANCEL__)}function xn(t,e,s){Re.call(this,t??"canceled",Re.ERR_CANCELED,e,s),this.name="CanceledError"}V.inherits(xn,Re,{__CANCEL__:!0});function Tg(t,e,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):e(new Re("Request failed with status code "+s.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function dk(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hk(t,e){t=t||10;const s=new Array(t),r=new Array(t);let n=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[o];i||(i=u),s[n]=c,r[n]=u;let h=o,f=0;for(;h!==n;)f+=s[h++],h=h%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),u-i<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function fk(t,e){let s=0,r=1e3/e,n,o;const i=(u,d=Date.now())=>{s=d,n=null,o&&(clearTimeout(o),o=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-s;h>=r?i(u,d):(n=u,o||(o=setTimeout(()=>{o=null,i(n)},r-h)))},()=>n&&i(n)]}const Mi=(t,e,s=3)=>{let r=0;const n=hk(50,250);return fk(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-r,u=n(c),d=i<=l;r=i;const h={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},s)},yh=(t,e)=>{const s=t!=null;return[r=>e[0]({lengthComputable:s,total:t,loaded:r}),e[1]]},bh=t=>(...e)=>V.asap(()=>t(...e)),pk=mt.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,mt.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(mt.origin),mt.navigator&&/(msie|trident)/i.test(mt.navigator.userAgent)):()=>!0,gk=mt.hasStandardBrowserEnv?{write(t,e,s,r,n,o){const i=[t+"="+encodeURIComponent(e)];V.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),V.isString(r)&&i.push("path="+r),V.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vk(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mk(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $g(t,e,s){let r=!vk(e);return t&&(r||s==!1)?mk(t,e):e}const wh=t=>t instanceof Tt?{...t}:t;function Mr(t,e){e=e||{};const s={};function r(u,d,h,f){return V.isPlainObject(u)&&V.isPlainObject(d)?V.merge.call({caseless:f},u,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function n(u,d,h,f){if(V.isUndefined(d)){if(!V.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function o(u,d){if(!V.isUndefined(d))return r(void 0,d)}function i(u,d){if(V.isUndefined(d)){if(!V.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,h)=>n(wh(u),wh(d),h,!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=c[d]||n,f=h(t[d],e[d],d);V.isUndefined(f)&&h!==l||(s[d]=f)}),s}const Ag=t=>{const e=Mr({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=e;e.headers=i=Tt.from(i),e.url=kg($g(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(V.isFormData(s)){if(mt.hasStandardBrowserEnv||mt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(mt.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(e)),r||r!==!1&&pk(e.url))){const u=n&&o&&gk.read(o);u&&i.set(n,u)}return e},yk=typeof XMLHttpRequest<"u",bk=yk&&function(t){return new Promise(function(s,r){const n=Ag(t);let o=n.data;const i=Tt.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=n,d,h,f,p,v;function x(){p&&p(),v&&v(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(n.method.toUpperCase(),n.url,!0),S.timeout=n.timeout;function R(){if(!S)return;const A=Tt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:A,config:t,request:S};Tg(function(C){s(C),x()},function(C){r(C),x()},k),S=null}"onloadend"in S?S.onloadend=R:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(R)},S.onabort=function(){S&&(r(new Re("Request aborted",Re.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new Re("Network Error",Re.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let I=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const k=n.transitional||Cg;n.timeoutErrorMessage&&(I=n.timeoutErrorMessage),r(new Re(I,k.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,t,S)),S=null},o===void 0&&i.setContentType(null),"setRequestHeader"in S&&V.forEach(i.toJSON(),function(I,k){S.setRequestHeader(k,I)}),V.isUndefined(n.withCredentials)||(S.withCredentials=!!n.withCredentials),l&&l!=="json"&&(S.responseType=n.responseType),u&&([f,v]=Mi(u,!0),S.addEventListener("progress",f)),c&&S.upload&&([h,p]=Mi(c),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(d=A=>{S&&(r(!A||A.type?new xn(null,t,S):A),S.abort(),S=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const P=dk(n.url);if(P&&mt.protocols.indexOf(P)===-1){r(new Re("Unsupported protocol "+P+":",Re.ERR_BAD_REQUEST,t));return}S.send(o||null)})},wk=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let r=new AbortController,n;const o=function(u){if(!n){n=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Re?d:new xn(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,o(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>V.asap(l),c}},xk=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let r=0,n;for(;r<s;)n=r+e,yield t.slice(r,n),r=n},_k=async function*(t,e){for await(const s of kk(t))yield*xk(s,e)},kk=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:r}=await e.read();if(s)break;yield r}}finally{await e.cancel()}},xh=(t,e,s,r)=>{const n=_k(t,e);let o=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await n.next();if(u){l(),c.close();return}let h=d.byteLength;if(s){let f=o+=h;s(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},ca=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ig=ca&&typeof ReadableStream=="function",Ck=ca&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Pg=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Ek=Ig&&Pg(()=>{let t=!1;const e=new Request(mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),_h=64*1024,Wl=Ig&&Pg(()=>V.isReadableStream(new Response("").body)),ji={stream:Wl&&(t=>t.body)};ca&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ji[e]&&(ji[e]=V.isFunction(t[e])?s=>s[e]():(s,r)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,r)})})})(new Response);const Sk=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request(mt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(V.isArrayBufferView(t)||V.isArrayBuffer(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await Ck(t)).byteLength},Tk=async(t,e)=>{const s=V.toFiniteNumber(t.getContentLength());return s??Sk(e)},$k=ca&&(async t=>{let{url:e,method:s,data:r,signal:n,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=Ag(t);u=u?(u+"").toLowerCase():"text";let p=wk([n,o&&o.toAbortSignal()],i),v;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let S;try{if(c&&Ek&&s!=="get"&&s!=="head"&&(S=await Tk(d,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),_;if(V.isFormData(r)&&(_=k.headers.get("content-type"))&&d.setContentType(_),k.body){const[C,T]=yh(S,Mi(bh(c)));r=xh(k.body,_h,C,T)}}V.isString(h)||(h=h?"include":"omit");const R="credentials"in Request.prototype;v=new Request(e,{...f,signal:p,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:R?h:void 0});let P=await fetch(v);const A=Wl&&(u==="stream"||u==="response");if(Wl&&(l||A&&x)){const k={};["status","statusText","headers"].forEach(w=>{k[w]=P[w]});const _=V.toFiniteNumber(P.headers.get("content-length")),[C,T]=l&&yh(_,Mi(bh(l),!0))||[];P=new Response(xh(P.body,_h,C,()=>{T&&T(),x&&x()}),k)}u=u||"text";let I=await ji[V.findKey(ji,u)||"text"](P,t);return!A&&x&&x(),await new Promise((k,_)=>{Tg(k,_,{data:I,headers:Tt.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:v})})}catch(R){throw x&&x(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,t,v),{cause:R.cause||R}):Re.from(R,R&&R.code,t,v)}}),Gl={http:F3,xhr:bk,fetch:$k};V.forEach(Gl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kh=t=>`- ${t}`,Ak=t=>V.isFunction(t)||t===null||t===!1,Rg={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let s,r;const n={};for(let o=0;o<e;o++){s=t[o];let i;if(r=s,!Ak(s)&&(r=Gl[(i=String(s)).toLowerCase()],r===void 0))throw new Re(`Unknown adapter '${i}'`);if(r)break;n[i||"#"+o]=r}if(!r){const o=Object.entries(n).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(kh).join(`
`):" "+kh(o[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Gl};function Qa(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xn(null,t)}function Ch(t){return Qa(t),t.headers=Tt.from(t.headers),t.data=Xa.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Rg.getAdapter(t.adapter||Ao.adapter)(t).then(function(r){return Qa(t),r.data=Xa.call(t,t.transformResponse,r),r.headers=Tt.from(r.headers),r},function(r){return Sg(r)||(Qa(t),r&&r.response&&(r.response.data=Xa.call(t,t.transformResponse,r.response),r.response.headers=Tt.from(r.response.headers))),Promise.reject(r)})}const Og="1.9.0",ua={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ua[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Eh={};ua.transitional=function(e,s,r){function n(o,i){return"[Axios v"+Og+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(e===!1)throw new Re(n(i," has been removed"+(s?" in "+s:"")),Re.ERR_DEPRECATED);return s&&!Eh[i]&&(Eh[i]=!0,console.warn(n(i," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(o,i,l):!0}};ua.spelling=function(e){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Ik(t,e,s){if(typeof t!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const o=r[n],i=e[o];if(i){const l=t[o],c=l===void 0||i(l,o,t);if(c!==!0)throw new Re("option "+o+" must be "+c,Re.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Re("Unknown option "+o,Re.ERR_BAD_OPTION)}}const ai={assertOptions:Ik,validators:ua},os=ai.validators;let $r=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vh,response:new vh}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Mr(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:o}=s;r!==void 0&&ai.assertOptions(r,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1),n!=null&&(V.isFunction(n)?s.paramsSerializer={serialize:n}:ai.assertOptions(n,{encode:os.function,serialize:os.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ai.assertOptions(s,{baseUrl:os.spelling("baseURL"),withXsrfToken:os.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&V.merge(o.common,o[s.method]);o&&V.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),s.headers=Tt.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(s)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,h=0,f;if(!c){const v=[Ch.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,u),f=v.length,d=Promise.resolve(s);h<f;)d=d.then(v[h++],v[h++]);return d}f=l.length;let p=s;for(h=0;h<f;){const v=l[h++],x=l[h++];try{p=v(p)}catch(S){x.call(this,S);break}}try{d=Ch.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Mr(this.defaults,e);const s=$g(e.baseURL,e.url,e.allowAbsoluteUrls);return kg(s,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){$r.prototype[e]=function(s,r){return this.request(Mr(r||{},{method:e,url:s,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function s(r){return function(o,i,l){return this.request(Mr(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}$r.prototype[e]=s(),$r.prototype[e+"Form"]=s(!0)});let Pk=class Mg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const r=this;this.promise.then(n=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](n);r._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(n);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,l){r.reason||(r.reason=new xn(o,i,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Mg(function(n){e=n}),cancel:e}}};function Rk(t){return function(s){return t.apply(null,s)}}function Ok(t){return V.isObject(t)&&t.isAxiosError===!0}const Jl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jl).forEach(([t,e])=>{Jl[e]=t});function jg(t){const e=new $r(t),s=dg($r.prototype.request,e);return V.extend(s,$r.prototype,e,{allOwnKeys:!0}),V.extend(s,e,null,{allOwnKeys:!0}),s.create=function(n){return jg(Mr(t,n))},s}const de=jg(Ao);de.Axios=$r;de.CanceledError=xn;de.CancelToken=Pk;de.isCancel=Sg;de.VERSION=Og;de.toFormData=la;de.AxiosError=Re;de.Cancel=de.CanceledError;de.all=function(e){return Promise.all(e)};de.spread=Rk;de.isAxiosError=Ok;de.mergeConfig=Mr;de.AxiosHeaders=Tt;de.formToJSON=t=>Eg(V.isHTMLForm(t)?new FormData(t):t);de.getAdapter=Rg.getAdapter;de.HttpStatusCode=Jl;de.default=de;const{Axios:Mk,AxiosError:jk,CanceledError:Nk,isCancel:Lk,CancelToken:Bk,VERSION:Dk,all:Uk,Cancel:Hk,isAxiosError:Vk,spread:Fk,toFormData:zk,AxiosHeaders:qk,HttpStatusCode:Kk,formToJSON:Wk,getAdapter:Gk,mergeConfig:Jk}=de,Ng=Object.freeze(Object.defineProperty({__proto__:null,Axios:Mk,AxiosError:jk,AxiosHeaders:qk,Cancel:Hk,CancelToken:Bk,CanceledError:Nk,HttpStatusCode:Kk,VERSION:Dk,all:Uk,default:de,formToJSON:Wk,getAdapter:Gk,isAxiosError:Vk,isCancel:Lk,mergeConfig:Jk,spread:Fk,toFormData:zk},Symbol.toStringTag,{value:"Module"})),ar="http://localhost/HTHREE_film/HTHREE_film/backend/api",Yk=async(t=!0)=>{try{return(await de.get(`${ar}/plans.php`,{params:{active_only:t}})).data}catch(e){throw console.error("Error fetching plans:",e),e}},Xk=async t=>{try{return(await de.get(`${ar}/cart.php`,{params:{user_id:t}})).data}catch(e){throw console.error("Error fetching cart:",e),e}},Qk=async(t,e,s=1)=>{try{return(await de.post(`${ar}/cart.php`,{user_id:t,plan_id:e,quantity:s})).data}catch(r){throw console.error("Error adding to cart:",r),r}},Zk=async(t,e)=>{try{return(await de.put(`${ar}/cart.php`,{cart_id:t,quantity:e})).data}catch(s){throw console.error("Error updating cart:",s),s}},e5=async t=>{try{return(await de.delete(`${ar}/cart.php`,{params:{cart_id:t}})).data}catch(e){throw console.error("Error removing from cart:",e),e}},t5=async t=>{try{return(await de.delete(`${ar}/cart.php`,{params:{user_id:t}})).data}catch(e){throw console.error("Error clearing cart:",e),e}},Lg=async t=>{try{return(await de.post(`${ar}/orders.php`,t)).data}catch(e){throw console.error("Error creating order:",e),e}},Bg=async(t,e,s=null)=>{try{return(await de.post(`${ar}/coupons.php`,{code:t,order_value:e,user_id:s})).data}catch(r){throw console.error("Error validating coupon:",r),r}},s5=()=>"https://your-production-domain.com/backend/api",_n={BACKEND_URL:s5(),MOVIE_API_URL:"https://phimapi.com/v1/api",USE_PHP_BACKEND:!1},Sh=_n.BACKEND_URL;class r5{async register(e,s,r,n){try{return(await de.post(`${Sh}/auth/register.php`,{username:e,email:s,password:r,full_name:n})).data}catch(o){throw console.error("Register error:",o),o}}async login(e,s){try{const r=await de.post(`${Sh}/auth/login.php`,{username:e,password:s});return r.data.status&&(localStorage.setItem("user",JSON.stringify(r.data.user)),localStorage.setItem("token",r.data.token)),r.data}catch(r){throw console.error("Login error:",r),r}}logout(){localStorage.removeItem("user"),localStorage.removeItem("token")}getCurrentUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null}isLoggedIn(){return!!localStorage.getItem("token")}getToken(){return localStorage.getItem("token")}}const Gn=new r5,Ss=Eo("auth",{state:()=>({user:null,loading:!0,error:null}),getters:{isAuthenticated:t=>!!t.user,userId:t=>{var e,s;return((e=t.user)==null?void 0:e.id)||((s=t.user)==null?void 0:s.uid)||null},userEmail:t=>{var e;return((e=t.user)==null?void 0:e.email)||null},userName:t=>t.user?t.user.full_name||t.user.displayName||t.user.username||"User":null,userAvatar:t=>t.user&&(t.user.avatar||t.user.photoURL)||null},actions:{async initAuth(){this.loading=!0;try{const t=Zs();return new Promise(e=>{yn(t,s=>{if(s)this.user={id:s.uid,uid:s.uid,email:s.email,displayName:s.displayName,photoURL:s.photoURL,emailVerified:s.emailVerified},console.log(" AuthStore - Firebase user loaded:",s.email);else{const r=Gn.getCurrentUser();r?(this.user=r,console.log(" AuthStore - PHP user loaded:",r.email)):(this.user=null,console.log(" AuthStore - No user logged in"))}this.loading=!1,e(this.user)})})}catch(t){return console.error("Error initializing auth:",t),this.error=t.message,this.loading=!1,null}},setUser(t){this.user=t,this.error=null},clearUser(){this.user=null,this.error=null},async logout(){try{await Zs().signOut(),Gn.logout(),this.clearUser(),console.log(" AuthStore - User logged out")}catch(t){throw console.error("Error logging out:",t),this.error=t.message,t}}}}),da=Eo("cart",{state:()=>({items:[],total:0,count:0,loading:!1,error:null}),getters:{cartCount:t=>t.count,cartTotal:t=>t.total,cartTotalFormatted:t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.total),isEmpty:t=>t.items.length===0},actions:{async fetchCart(){var s,r;const t=Ss(),e=((s=t.user)==null?void 0:s.id)||((r=t.user)==null?void 0:r.uid);if(!e){this.items=[],this.total=0,this.count=0;return}this.loading=!0,this.error=null;try{const n=await Xk(e);n.success&&(this.items=n.data.items,this.total=n.data.total,this.count=n.data.count)}catch(n){this.error=n.message,console.error("Error fetching cart:",n)}finally{this.loading=!1}},async addItem(t,e=1){var n,o;const s=Ss(),r=((n=s.user)==null?void 0:n.id)||((o=s.user)==null?void 0:o.uid);if(!r)throw new Error("Vui lng ng nhp  thm vo gi hng");this.loading=!0,this.error=null;try{console.log("Adding to cart:",{userId:r,planId:t,quantity:e});const i=await Qk(r,t,e);if(i.success)return await this.fetchCart(),i}catch(i){throw console.error("Error adding to cart:",i),this.error=i.message,i}finally{this.loading=!1}},async updateQuantity(t,e){this.loading=!0,this.error=null;try{const s=await Zk(t,e);if(s.success)return await this.fetchCart(),s}catch(s){throw this.error=s.message,s}finally{this.loading=!1}},async removeItem(t){this.loading=!0,this.error=null;try{const e=await e5(t);if(e.success)return await this.fetchCart(),e}catch(e){throw this.error=e.message,e}finally{this.loading=!1}},async clear(){var s,r;const t=Ss(),e=((s=t.user)==null?void 0:s.id)||((r=t.user)==null?void 0:r.uid);if(e){this.loading=!0,this.error=null;try{(await t5(e)).success&&(this.items=[],this.total=0,this.count=0)}catch(n){throw this.error=n.message,n}finally{this.loading=!1}}},hasItem(t){return this.items.some(e=>e.plan_id===t)},getItem(t){return this.items.find(e=>e.plan_id===t)}}}),Io={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},fn={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Ct={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},n5={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},o5={dangerouslyHTMLString:!1,multiple:!0,position:Io.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},i5={rtl:!1,newestOnTop:!1,toastClassName:""},Dg={...o5,...i5};Ct.DEFAULT;var Ue=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(Ue||{}),Yl=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Yl||{});const a5={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},l5={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},c5={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},u5={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},Th="Toastify--animate Toastify__none-enter";function Ug(t,e=!1){var s;let r=a5;if(!t||typeof t=="string")switch(t){case"flip":r=u5;break;case"zoom":r=c5;break;case"slide":r=l5;break}else r=t;if(e)r.enter=Th;else if(r.enter===Th){const n=(s=r.exit.split("__")[1])==null?void 0:s.split("-")[0];r.enter=`Toastify--animate Toastify__${n}-enter`}return r}function d5(t){return t.containerId||String(t.position)}const ha="will-unmount";function h5(t=Io.TOP_RIGHT){return!!document.querySelector(`.${Ue.CSS_NAMESPACE}__toast-container--${t}`)}function f5(t=Io.TOP_RIGHT){return`${Ue.CSS_NAMESPACE}__toast-container--${t}`}function p5(t,e,s=!1){const r=[`${Ue.CSS_NAMESPACE}__toast-container`,`${Ue.CSS_NAMESPACE}__toast-container--${t}`,s?`${Ue.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return tn(e)?e({position:t,rtl:s,defaultClassName:r}):`${r} ${e||""}`}function g5(t){var e;const{position:s,containerClassName:r,rtl:n=!1,style:o={}}=t,i=Ue.CSS_NAMESPACE,l=f5(s),c=document.querySelector(`.${i}`),u=document.querySelector(`.${l}`),d=!!u&&!((e=u.className)!=null&&e.includes(ha)),h=c||document.createElement("div"),f=document.createElement("div");f.className=p5(s,r,n),f.dataset.testid=`${Ue.CSS_NAMESPACE}__toast-container--${s}`,f.id=d5(t);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const v=o[p];f.style[p]=v}return c||(h.className=Ue.CSS_NAMESPACE,document.body.appendChild(h)),d||h.appendChild(f),f}function Xl(t){var e,s,r;const n=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((s=t.target)==null?void 0:s.id),o=document.getElementById(n);o&&o.removeEventListener("animationend",Xl,!1);try{ho[n].unmount(),(r=document.getElementById(n))==null||r.remove(),delete ho[n],delete ct[n]}catch{}}const ho=ft({});function v5(t,e){const s=document.getElementById(String(e));s&&(ho[s.id]=t)}function Ql(t,e=!0){const s=String(t);if(!ho[s])return;const r=document.getElementById(s);r&&r.classList.add(ha),e?(y5(t),r&&r.addEventListener("animationend",Xl,!1)):Xl(s),fs.items=fs.items.filter(n=>n.containerId!==t)}function m5(t){for(const e in ho)Ql(e,t);fs.items=[]}function Hg(t,e){const s=document.getElementById(t.toastId);if(s){let r=t;r={...r,...Ug(r.transition)};const n=r.appendPosition?`${r.exit}--${r.position}`:r.exit;s.className+=` ${n}`,e&&e(s)}}function y5(t){for(const e in ct)if(e===t)for(const s of ct[e]||[])Hg(s)}function b5(t){const e=pn().find(s=>s.toastId===t);return e==null?void 0:e.containerId}function Jc(t){return document.getElementById(t)}function w5(t){const e=Jc(t.containerId);return e&&e.classList.contains(ha)}function $h(t){var e;const s=sn(t.content)?$e(t.content.props):null;return s??$e((e=t.data)!=null?e:{})}function x5(t){return t?fs.items.filter(e=>e.containerId===t).length>0:fs.items.length>0}function _5(){if(fs.items.length>0){const t=fs.items.shift();li(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const ct=ft({}),fs=ft({items:[]});function pn(){const t=$e(ct);return Object.values(t).reduce((e,s)=>[...e,...s],[])}function k5(t){return pn().find(e=>e.toastId===t)}function li(t,e={}){if(w5(e)){const s=Jc(e.containerId);s&&s.addEventListener("animationend",Zl.bind(null,t,e),!1)}else Zl(t,e)}function Zl(t,e={}){const s=Jc(e.containerId);s&&s.removeEventListener("animationend",Zl.bind(null,t,e),!1);const r=ct[e.containerId]||[],n=r.length>0;if(!n&&!h5(e.position)){const o=g5(e),i=tf(F5,e);e.useHandler&&e.useHandler(i),i.mount(o),v5(i,o.id)}n&&!e.updateId&&(e.position=r[0].position),jr(()=>{e.updateId?Pt.update(e):Pt.add(t,e)})}const Pt={add(t,e){const{containerId:s=""}=e;s&&(ct[s]=ct[s]||[],ct[s].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,n;e.newestOnTop?(r=ct[s])==null||r.unshift(e):(n=ct[s])==null||n.push(e),e.onOpen&&e.onOpen($h(e))},e.delay||0))},remove(t){if(t){const e=b5(t);if(e){const s=ct[e];let r=s.find(n=>n.toastId===t);ct[e]=s.filter(n=>n.toastId!==t),!ct[e].length&&!x5(e)&&Ql(e,!1),_5(),jr(()=>{r!=null&&r.onClose&&(r.onClose($h(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){ct[e]=ct[e]||[];const s=ct[e].find(o=>o.toastId===t.toastId),r=(s==null?void 0:s.position)!==t.position||(s==null?void 0:s.transition)!==t.transition,n={...t,disabledEnterTransition:!r,updateId:void 0};Pt.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{Le(n.content,n)},t.delay||0)}},clear(t,e=!0){t?Ql(t,e):m5(e)},dismissCallback(t){var e;const s=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(s);r&&(r.removeEventListener("animationend",Pt.dismissCallback,!1),setTimeout(()=>{Pt.remove(s)}))},dismiss(t){if(t){const e=pn();for(const s of e)if(s.toastId===t){Hg(s,r=>{r.addEventListener("animationend",Pt.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=pn();for(const s of e)if(s.toastId===t){const r=document.getElementById(t);r&&(r.remove(),r.removeEventListener("animationend",Pt.dismissCallback,!1),Pt.remove(t));break}}}},C5=ft({useHandler:void 0}),Vg=ft({}),Ni=ft({});function Fg(){return Math.random().toString(36).substring(2,9)}function E5(t){return typeof t=="number"&&!isNaN(t)}function ec(t){return typeof t=="string"}function tn(t){return typeof t=="function"}function fa(...t){return Ps(...t)}function ci(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function S5(t={}){Vg[`${Ue.CSS_NAMESPACE}-default-options`]=t}function T5(){return Vg[`${Ue.CSS_NAMESPACE}-default-options`]||Dg}function $5(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var ui=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(ui||{});const zg={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Io.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:fn.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Ct.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},A5={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Ct.DEFAULT},theme:{type:String,required:!1,default:fn.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},I5=vn({name:"ProgressBar",props:A5,setup(t,{attrs:e}){const s=N(),r=be(()=>t.hide?"true":"false"),n=be(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),o=be(()=>[`${Ue.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${Ue.CSS_NAMESPACE}__progress-bar--controlled`:`${Ue.CSS_NAMESPACE}__progress-bar--animated`,`${Ue.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${Ue.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${Ue.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),i=be(()=>`${o.value} ${(e==null?void 0:e.class)||""}`),l=()=>{s.value&&(s.value.onanimationend=null,s.value.ontransitionend=null)},c=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),l())},u=be(()=>t.controlledProgress?null:c),d=be(()=>t.controlledProgress?c:null);return Xo(()=>{s.value&&(l(),s.value.onanimationend=u.value,s.value.ontransitionend=d.value)}),()=>Q("div",{ref:s,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:i.value,style:n.value},null)}}),P5=vn({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:fn.AUTO},type:{type:String,required:!1,default:fn.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>Q("button",{class:`${Ue.CSS_NAMESPACE}__close-button ${Ue.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[Q("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[Q("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),pa=({theme:t,type:e,path:s,...r})=>Q("svg",Ps({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},r),[Q("path",{d:s},null)]);function R5(t){return Q(pa,Ps(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function O5(t){return Q(pa,Ps(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function M5(t){return Q(pa,Ps(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function j5(t){return Q(pa,Ps(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function N5(){return Q("div",{class:`${Ue.CSS_NAMESPACE}__spinner`},null)}const di={info:O5,warning:R5,success:M5,error:j5,spinner:N5},L5=t=>t in di;function B5({theme:t,type:e,isLoading:s,icon:r}){let n;const o=!!s||e==="loading",i={theme:t,type:e};if(o&&(r===void 0||typeof r=="boolean"))return di.spinner();if(r!==!1){if(ci(r))n=$e(r);else if(tn(r)){const l=r;i.type=o?"loading":e,n=l(i),n=!n&&o?di.spinner():n}else sn(r)?n=Ts(r,i):ec(r)||E5(r)?n=r:L5(e)&&(n=di[e](i));return n}}const D5=()=>{};function U5(t,e,s=Ue.COLLAPSE_DURATION){const{scrollHeight:r,style:n}=t,o=s;requestAnimationFrame(()=>{n.minHeight="initial",n.height=r+"px",n.transition=`all ${o}ms`,requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(e,o)})})}function H5(t){const e=N(!1),s=N(!1),r=N(!1),n=N(ui.Enter),o=ft({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||Ue.COLLAPSE_DURATION}),i=o.done||D5,l=be(()=>o.appendPosition?`${o.enter}--${o.position}`:o.enter),c=be(()=>o.appendPosition?`${o.exit}--${o.position}`:o.exit),u=be(()=>t.pauseOnHover?{onMouseenter:S,onMouseleave:x}:{});function d(){const P=l.value.split(" ");f().addEventListener(Yl.ENTRANCE_ANIMATION_END,x,{once:!0});const A=k=>{const _=f();k.target===_&&(_.dispatchEvent(new Event(Yl.ENTRANCE_ANIMATION_END)),_.removeEventListener("animationend",A),_.removeEventListener("animationcancel",A),n.value===ui.Enter&&k.type!=="animationcancel"&&_.classList.remove(...P))},I=()=>{const k=f();k.classList.add(...P),k.addEventListener("animationend",A),k.addEventListener("animationcancel",A)};t.pauseOnFocusLoss&&p(),I()}function h(){if(!f())return;const P=()=>{const I=f();I.removeEventListener("animationend",P),o.collapse?U5(I,i,o.collapseDuration):i()},A=()=>{const I=f();n.value=ui.Exit,I&&(I.className+=` ${c.value}`,I.addEventListener("animationend",P))};s.value||(r.value?P():setTimeout(A))}function f(){return t.toastRef.value}function p(){document.hasFocus()||S(),window.addEventListener("focus",x),window.addEventListener("blur",S)}function v(){window.removeEventListener("focus",x),window.removeEventListener("blur",S)}function x(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function S(){e.value=!1}function R(P){P&&(P.stopPropagation(),P.preventDefault()),s.value=!1}return Xo(h),Xo(()=>{const P=pn();s.value=P.findIndex(A=>A.toastId===o.toastId)>-1}),Xo(()=>{t.isLoading!==void 0&&(t.loading.value?S():x())}),Ge(d),qt(()=>{t.pauseOnFocusLoss&&v()}),{isIn:s,isRunning:e,hideToast:R,eventHandlers:u}}const V5=vn({name:"ToastItem",inheritAttrs:!1,props:zg,setup(t){const e=N(),s=be(()=>!!t.isLoading),r=be(()=>t.progress!==void 0&&t.progress!==null),n=be(()=>B5(t)),o=be(()=>[`${Ue.CSS_NAMESPACE}__toast`,`${Ue.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${Ue.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${Ue.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:i,isIn:l,hideToast:c,eventHandlers:u}=H5({toastRef:e,loading:s,done:()=>{Pt.remove(t.toastId)},...Ug(t.transition,t.disabledEnterTransition),...t});return()=>Q("div",Ps({id:t.toastId,class:o.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:d=>{t.closeOnClick&&c(),t.onClick&&t.onClick(d)}},u.value),[Q("div",{role:t.role,"data-testid":"toast-body",class:`${Ue.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[n.value!=null&&Q("div",{"data-testid":`toast-icon-${t.type}`,class:[`${Ue.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${Ue.CSS_NAMESPACE}--animate-icon ${Ue.CSS_NAMESPACE}__zoom-enter`].join(" ")},[ci(n.value)?et($e(n.value),{theme:t.theme,type:t.type}):tn(n.value)?n.value({theme:t.theme,type:t.type}):n.value]),Q("div",{"data-testid":"toast-content"},[ci(t.content)?et($e(t.content),{toastProps:$e(t),closeToast:c,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):tn(t.content)?t.content({toastProps:$e(t),closeToast:c,data:t.data}):t.dangerouslyHTMLString?et("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&Q(P5,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),c()}},null),ci(t.closeButton)?et($e(t.closeButton),{closeToast:c,type:t.type,theme:t.theme}):tn(t.closeButton)?t.closeButton({closeToast:c,type:t.type,theme:t.theme}):null,Q(I5,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:l.value,type:t.type,hide:t.hideProgressBar,isRunning:i.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:c},null)])}});let Jn=0;function qg(){typeof window>"u"||(Jn&&window.cancelAnimationFrame(Jn),Jn=window.requestAnimationFrame(qg),Ni.lastUrl!==window.location.href&&(Ni.lastUrl=window.location.href,Pt.clear()))}const F5=vn({name:"ToastifyContainer",inheritAttrs:!1,props:zg,setup(t){const e=be(()=>t.containerId),s=be(()=>ct[e.value]||[]),r=be(()=>s.value.filter(n=>n.position===t.position));return Ge(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(qg)}),qt(()=>{typeof window<"u"&&Jn&&(window.cancelAnimationFrame(Jn),Ni.lastUrl="")}),()=>Q(te,null,[r.value.map(n=>{const{toastId:o=""}=n;return Q(V5,Ps({key:o},n),null)})])}});let Za=!1;const Kg={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function Wg(){const t=[];return pn().forEach(e=>{const s=document.getElementById(e.containerId);s&&!s.classList.contains(ha)&&t.push(e)}),t}function z5(t){const e=Wg().length,s=t??0;return s>0&&e+fs.items.length>=s}function q5(t){z5(t.limit)&&!t.updateId&&fs.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function lr(t,e,s={}){if(Za)return;s=fa(T5(),{type:e},$e(s)),(!s.toastId||typeof s.toastId!="string"&&typeof s.toastId!="number")&&(s.toastId=Fg()),s={...s,...s.type==="loading"?Kg:{},content:t,containerId:s.containerId||String(s.position)};const r=Number(s==null?void 0:s.progress);return!isNaN(r)&&r<0&&(s.progress=0),r>1&&(s.progress=1),s.theme==="auto"&&(s.theme=$5()),q5(s),Ni.lastUrl=window.location.href,s.multiple?fs.items.length?s.updateId&&li(t,s):li(t,s):(Za=!0,Le.clearAll(void 0,!1),setTimeout(()=>{li(t,s)},0),setTimeout(()=>{Za=!1},390)),s.toastId}const Le=(t,e)=>lr(t,Ct.DEFAULT,e);Le.info=(t,e)=>lr(t,Ct.DEFAULT,{...e,type:Ct.INFO});Le.error=(t,e)=>lr(t,Ct.DEFAULT,{...e,type:Ct.ERROR});Le.warning=(t,e)=>lr(t,Ct.DEFAULT,{...e,type:Ct.WARNING});Le.warn=Le.warning;Le.success=(t,e)=>lr(t,Ct.DEFAULT,{...e,type:Ct.SUCCESS});Le.loading=(t,e)=>lr(t,Ct.DEFAULT,fa(e,Kg));Le.dark=(t,e)=>lr(t,Ct.DEFAULT,fa(e,{theme:fn.DARK}));Le.remove=t=>{t?Pt.dismiss(t):Pt.clear()};Le.clearAll=(t,e)=>{jr(()=>{Pt.clear(t,e)})};Le.isActive=t=>{let e=!1;return e=Wg().findIndex(s=>s.toastId===t)>-1,e};Le.update=(t,e={})=>{setTimeout(()=>{const s=k5(t);if(s){const r=$e(s),{content:n}=r,o={...r,...e,toastId:e.toastId||t,updateId:Fg()},i=o.render||n;delete o.render,lr(i,o.type,o)}},0)};Le.done=t=>{Le.update(t,{isLoading:!1,progress:1})};Le.promise=K5;function K5(t,{pending:e,error:s,success:r},n){var o,i,l;let c;const u={...n||{},autoClose:!1};e&&(c=ec(e)?Le.loading(e,u):Le.loading(e.render,{...u,...e}));const d={autoClose:(o=n==null?void 0:n.autoClose)!=null?o:!0,closeOnClick:(i=n==null?void 0:n.closeOnClick)!=null?i:!0,closeButton:(l=n==null?void 0:n.autoClose)!=null?l:null,isLoading:void 0,draggable:null,delay:100},h=(p,v,x)=>{if(v==null){Le.remove(c);return}const S={type:p,...d,...n,data:x},R=ec(v)?{render:v}:v;return c?Le.update(c,{...S,...R,isLoading:!1}):Le(R.render,{...S,...R,isLoading:!1}),x},f=tn(t)?t():t;return f.then(p=>{h("success",r,p)}).catch(p=>{h("error",s,p)}),f}Le.POSITION=Io;Le.THEME=fn;Le.TYPE=Ct;Le.TRANSITIONS=n5;const W5={install(t,e={}){C5.useHandler=e.useHandler||(()=>{}),G5(e)}};typeof window<"u"&&(window.Vue3Toastify=W5);function G5(t={}){const e=fa(Dg,t);S5(e)}const Ve=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},J5={class:"relative w-full max-w-5xl bg-gray-900 rounded-2xl shadow-2xl overflow-hidden transform transition-all"},Y5={class:"grid md:grid-cols-2 min-h-[600px]"},X5={class:"p-6 md:p-8 overflow-y-auto max-h-[600px] scrollbar-hide"},Q5={class:"text-2xl font-bold text-white mb-1"},Z5={class:"text-sm text-gray-400 mb-4"},e8={key:0,class:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm"},t8={key:1,class:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-400 text-sm"},s8=["disabled"],r8={key:0},n8={key:1},o8=["type","placeholder"],i8={class:"relative"},a8=["type"],l8={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c8={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},u8={key:2,class:"relative"},d8=["type"],h8={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},f8={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},p8=["disabled"],g8={key:0},v8={key:1},m8={class:"mt-4 text-center"},y8={class:"font-semibold"},b8={__name:"AuthModal",props:{modelValue:Boolean},emits:["update:modelValue","success"],setup(t,{emit:e}){const s=e,r=Zs(),n=new _s;n.setCustomParameters({prompt:"select_account"});const o=N(!0),i=N(""),l=N(""),c=N(""),u=N(""),d=N(""),h=N(!1),f=N(!1),p=N(""),v=N(""),x=N(!1),S=()=>{s("update:modelValue",!1),setTimeout(()=>{p.value="",v.value="",i.value="",l.value="",c.value="",u.value="",d.value=""},300)},R=()=>{o.value=!o.value,p.value="",v.value=""},P=async()=>{x.value=!0,p.value="",v.value="";try{if(o.value){const _=(await pw(r,l.value,c.value)).user,C=await _.getIdToken();await A(_,C),console.log(" Saved to localStorage:",{user:localStorage.getItem("user"),token:localStorage.getItem("token")}),v.value="ng nhp thnh cng!",Le.success("ng nhp thnh cng!"),await new Promise(T=>setTimeout(T,500)),s("success"),S(),window.location.reload()}else{if(c.value!==u.value){p.value="Mt khu xc nhn khng khp",Le.error("Mt khu xc nhn khng khp"),x.value=!1;return}const _=(await fw(r,l.value,c.value)).user;await vw(_,{displayName:d.value||i.value});const C=await _.getIdToken();await A(_,C),v.value="ng k thnh cng! Vui lng ng nhp li.",Le.success("ng k thnh cng!");const T=l.value;setTimeout(()=>{o.value=!0,l.value=T,c.value="",u.value="",i.value="",d.value="",v.value="",p.value=""},1500)}}catch(k){console.error("Firebase auth error:",k);const _={"auth/user-not-found":"Khng tm thy ti khon vi email ny","auth/wrong-password":"Mt khu khng ng","auth/email-already-in-use":"Email  c s dng","auth/weak-password":"Mt khu qu yu (ti thiu 6 k t)","auth/invalid-email":"Email khng hp l","auth/invalid-credential":"Email hoc mt khu khng ng","auth/too-many-requests":"Qu nhiu ln th. Vui lng th li sau"};p.value=_[k.code]||"C li xy ra. Vui lng th li",Le.error(p.value)}finally{x.value=!1}},A=async(k,_)=>{let C=null;try{const L=await(await fetch("http://localhost/HTHREE_film/HTHREE_film/backend/api/auth/sync_user.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebase_uid:k.uid,email:k.email,username:k.displayName||k.email.split("@")[0],full_name:k.displayName})})).json();C=L.success?L.user_id:null,console.log(" MySQL sync result:",L)}catch(w){console.error("Failed to sync user to MySQL:",w)}const T={id:C||k.uid,firebase_uid:k.uid,username:k.displayName||k.email.split("@")[0],email:k.email,full_name:k.displayName,avatar:k.photoURL};localStorage.setItem("user",JSON.stringify(T)),localStorage.setItem("token",_),console.log(" Saved to localStorage:",T)},I=async()=>{x.value=!0,p.value="";try{const _=(await Dw(r,n)).user;let C=null;try{const y=await(await fetch("http://localhost/HTHREE_film/HTHREE_film/backend/api/auth/sync_user.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebase_uid:_.uid,email:_.email,username:_.displayName||_.email.split("@")[0],full_name:_.displayName,avatar:_.photoURL})})).json();y.success&&y.user_id&&(C=y.user_id)}catch(T){console.error("Failed to sync user to MySQL:",T)}localStorage.setItem("user",JSON.stringify({id:C||_.uid,firebase_uid:_.uid,username:_.displayName,email:_.email,full_name:_.displayName,avatar:_.photoURL})),localStorage.setItem("token",_.accessToken),Le.success("ng nhp Google thnh cng!"),setTimeout(()=>{s("success"),S(),window.location.reload()},1e3)}catch(k){console.error("Google auth error:",k),p.value="ng nhp Google tht bi",Le.error(p.value)}finally{x.value=!1}};return(k,_)=>(g(),Ae(dt,{name:"modal"},{default:xe(()=>[t.modelValue?(g(),m("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:$t(S,["self"])},[a("div",J5,[a("button",{onClick:S,class:"absolute top-4 right-4 z-10 text-gray-400 hover:text-white transition-colors"},_[7]||(_[7]=[a("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),a("div",Y5,[_[16]||(_[16]=a("div",{class:"hidden md:block relative overflow-hidden"},[a("img",{src:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=800&q=80",alt:"Cinema",class:"absolute inset-0 w-full h-full object-cover"}),a("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent to-gray-900/50"}),a("div",{class:"absolute inset-0 flex flex-col justify-end p-8 text-white"},[a("div",{class:"flex items-center gap-2 mb-4"},[a("svg",{class:"w-12 h-12 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),a("span",{class:"text-3xl font-bold text-yellow-400"},"HTHREE")]),a("h2",{class:"text-3xl font-bold mb-2"},"Cho mng tr li!"),a("p",{class:"text-gray-300"},"Khm ph hng ngn b phim hay nht")])],-1)),a("div",X5,[_[13]||(_[13]=a("div",{class:"md:hidden flex justify-center mb-6"},[a("div",{class:"flex items-center gap-2"},[a("svg",{class:"w-10 h-10 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),a("span",{class:"text-3xl font-bold text-yellow-400"},"HTHREE")])],-1)),a("h2",Q5,E(o.value?"ng Nhp":"ng K"),1),a("p",Z5,E(o.value?"Cho mng bn tr li!":"To ti khon mi"),1),p.value?(g(),m("div",e8,E(p.value),1)):D("",!0),v.value?(g(),m("div",t8,E(v.value),1)):D("",!0),a("button",{onClick:I,type:"button",disabled:x.value,class:"w-full flex items-center justify-center gap-2 bg-white hover:bg-gray-100 text-gray-800 font-medium py-2.5 rounded-lg transition-all mb-4 text-sm"},[_[8]||(_[8]=a("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",class:"w-4 h-4"},null,-1)),se(" "+E(o.value?"ng nhp":"ng k")+" vi Google ",1)],8,s8),_[14]||(_[14]=a("div",{class:"relative mb-4"},[a("div",{class:"absolute inset-0 flex items-center"},[a("div",{class:"w-full border-t border-gray-700"})]),a("div",{class:"relative flex justify-center text-xs"},[a("span",{class:"px-3 bg-gray-900 text-gray-400"},"Hoc")])],-1)),a("form",{onSubmit:$t(P,["prevent"]),class:"space-y-3"},[o.value?D("",!0):(g(),m("div",r8,[je(a("input",{type:"text",placeholder:"Tn ng nhp","onUpdate:modelValue":_[0]||(_[0]=C=>i.value=C),class:"w-full px-3 py-2.5 text-sm rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-gray-700 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400",required:""},null,512),[[Qe,i.value]])])),o.value?D("",!0):(g(),m("div",n8,[je(a("input",{type:"text",placeholder:"H v tn","onUpdate:modelValue":_[1]||(_[1]=C=>d.value=C),class:"w-full px-3 py-2.5 text-sm rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-gray-700 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"},null,512),[[Qe,d.value]])])),a("div",null,[je(a("input",{type:o.value?"text":"email",placeholder:o.value?"Tn ng nhp hoc Email":"Email","onUpdate:modelValue":_[2]||(_[2]=C=>l.value=C),class:"w-full px-3 py-2.5 text-sm rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-gray-700 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400",required:""},null,8,o8),[[Un,l.value]])]),a("div",i8,[je(a("input",{type:h.value?"text":"password",placeholder:"Mt khu","onUpdate:modelValue":_[3]||(_[3]=C=>c.value=C),class:"w-full px-3 py-2.5 text-sm rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-gray-700 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400",required:""},null,8,a8),[[Un,c.value]]),a("button",{type:"button",onClick:_[4]||(_[4]=C=>h.value=!h.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white"},[h.value?(g(),m("svg",c8,_[10]||(_[10]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(g(),m("svg",l8,_[9]||(_[9]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),o.value?D("",!0):(g(),m("div",u8,[je(a("input",{type:f.value?"text":"password",placeholder:"Nhp li mt khu","onUpdate:modelValue":_[5]||(_[5]=C=>u.value=C),class:"w-full px-3 py-2.5 text-sm rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-gray-700 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400",required:""},null,8,d8),[[Un,u.value]]),a("button",{type:"button",onClick:_[6]||(_[6]=C=>f.value=!f.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white"},[f.value?(g(),m("svg",f8,_[12]||(_[12]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(g(),m("svg",h8,_[11]||(_[11]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])),a("button",{type:"submit",disabled:x.value,class:"w-full py-2.5 text-sm bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-black font-bold rounded-lg transition-all disabled:opacity-50"},[x.value?(g(),m("span",v8,"ang x l...")):(g(),m("span",g8,E(o.value?"ng Nhp":"ng K"),1))],8,p8)],32),a("div",m8,[a("button",{onClick:R,class:"text-sm text-gray-400 hover:text-yellow-400"},[se(E(o.value?"Cha c ti khon?":" c ti khon?")+" ",1),a("span",y8,E(o.value?"ng k ngay":"ng nhp"),1)])]),_[15]||(_[15]=a("div",{class:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700"},[a("p",{class:"text-xs text-gray-400 mb-1.5"},"Ti khon demo:"),a("div",{class:"space-y-0.5 text-xs text-gray-500"},[a("p",null," admin / 123456"),a("p",null," user1 / 123456")])],-1))])])])])):D("",!0)]),_:1}))}},w8=Ve(b8,[["__scopeId","data-v-b95d3a97"]]);let vs=null;function x8(t){vs=t}function cr(){return{success:(t,e=3e3)=>{vs&&vs.success(t,e)},error:(t,e=3e3)=>{vs&&vs.error(t,e)},warning:(t,e=3e3)=>{vs&&vs.warning(t,e)},info:(t,e=3e3)=>{vs&&vs.info(t,e)}}}const _8={class:"flex items-center justify-between px-4 md:px-8 py-3 max-w-[1920px] mx-auto"},k8={class:"flex items-center gap-6 flex-1 max-w-4xl mx-6"},C8={class:"relative flex-1 max-w-md"},E8={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-gray-800 rounded-lg shadow-2xl border border-gray-700 overflow-hidden z-50"},S8=["onMousedown"],T8=["src","alt"],$8={class:"flex-1 min-w-0"},A8={class:"text-white font-medium truncate"},I8={class:"text-gray-400 text-xs truncate mb-1"},P8={class:"flex gap-2 flex-wrap"},R8={key:0,class:"text-xs bg-gray-700 px-2 py-0.5 rounded"},O8={key:1,class:"text-xs bg-yellow-600 text-black px-2 py-0.5 rounded font-semibold"},M8={key:2,class:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded"},j8={class:"p-2 bg-gray-900 text-center border-t border-gray-700"},N8={class:"hidden lg:flex items-center gap-4 text-sm font-medium"},L8={class:"relative group"},B8={class:"absolute top-full left-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all max-h-96 overflow-y-auto border border-gray-700"},D8={class:"relative group"},U8={class:"relative group"},H8={class:"flex items-center gap-3 flex-shrink-0"},V8={key:0,class:"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center"},F8={class:"relative group"},z8={class:"flex items-center gap-2 bg-gray-800 px-3 py-2 rounded-lg hover:bg-gray-700 hover:scale-105 transition-all duration-300"},q8=["src","alt"],K8={key:1,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},W8={class:"text-sm font-medium text-white hidden md:block"},G8={class:"absolute top-full right-0 mt-3 w-64 bg-gray-900 rounded-xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-500 ease-out transform group-hover:translate-y-0 -translate-y-4 group-hover:scale-100 scale-95 border border-yellow-400/30 overflow-hidden backdrop-blur-xl"},J8={key:0,class:"bg-gradient-to-br from-gray-800 to-gray-900 px-4 py-3 border-b border-yellow-400/20"},Y8={class:"flex items-center gap-2.5 mb-2.5"},X8=["src","alt"],Q8={class:"flex-1 min-w-0"},Z8={class:"flex items-center gap-1.5"},e6={class:"text-white font-bold truncate text-sm"},t6={class:"text-gray-400 text-[10px] truncate"},s6={key:1,class:"px-4 py-2.5 bg-gray-800/50 border-b border-gray-700/50"},r6={class:"py-1.5"},n6={key:0,href:"#",class:"flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item"},o6={key:1,href:"#",class:"flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item"},i6={key:2,href:"#",class:"flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item"},a6={key:4,class:"border-t border-gray-700/50 my-1.5"},l6={key:0,class:"lg:hidden bg-gray-900/98 backdrop-blur-lg border-t border-gray-800 shadow-2xl"},c6={class:"px-4 py-6 space-y-2"},u6={key:0,class:"px-4 py-3"},d6={key:1,class:"px-4 py-3 space-y-2"},h6={class:"flex items-center gap-3 mb-3"},f6=["src","alt"],p6={class:"text-white font-bold"},g6={class:"text-gray-400 text-sm"},Gg={__name:"NetflixNavbar",setup(t){const e=ot(),s=To(),r=da(),n=Zs(),o=cr(),i=N(!1),l=N(""),c=N(null),u=N(!1),d=N([]),h=N(!1),f=N(!1),p=N(!1);s.getCategory();const v=()=>{const w=n.currentUser;if(w){c.value=w,console.log(" Navbar - Firebase user:",w.email);return}const y=Gn.getCurrentUser();y&&(c.value=y,console.log(" Navbar - PHP user:",y.email)),yn(n,L=>{if(L)c.value=L,console.log(" Navbar - Firebase auth changed:",L.email);else{const U=Gn.getCurrentUser();U?c.value=U:c.value=null}})},x=be(()=>{var w;return((w=s.getAllCategories)==null?void 0:w.slice(0,10))||[]}),S=()=>{i.value=window.scrollY>50},R=w=>w?w.startsWith("http")?w:`https://phimimg.com/${w}`:"https://placehold.co/50x75/1a1a1a/fff?text=No+Image";let P=null;const A=async()=>{var y;const w=l.value.trim();if(w.length<2){d.value=[],h.value=!1;return}f.value=!0;try{const{searchMovies:L}=await ta(async()=>{const{searchMovies:ce}=await Promise.resolve().then(()=>dA);return{searchMovies:ce}},void 0,import.meta.url),U=await L(w,{limit:5});(U.status==="success"||U.status===!0)&&((y=U.data)!=null&&y.items)?(d.value=U.data.items.slice(0,5),h.value=!0):(d.value=[],h.value=!1)}catch(L){console.error("Error fetching suggestions:",L),d.value=[]}finally{f.value=!1}},I=()=>{clearTimeout(P),P=setTimeout(()=>{A()},300)},k=w=>{h.value=!1,e.push(`/film/${w.slug}`)},_=()=>{if(console.log(" handleSearch called, searchQuery:",l.value),h.value=!1,l.value.trim()){const w=l.value.trim();console.log(" Navigating to /search?q="+w),e.push(`/search?q=${encodeURIComponent(w)}`)}else console.warn(" Search query is empty")},C=()=>{setTimeout(()=>{h.value=!1},200)},T=async()=>{try{await ww(n),Gn.logout(),c.value=null,o.success("  ng xut thnh cng!"),setTimeout(()=>{window.location.reload()},1e3)}catch(w){console.error("Logout error:",w),o.error(" Li khi ng xut. Vui lng th li!")}};return Ge(async()=>{var w;window.addEventListener("scroll",S),(w=s.getAllCategories)!=null&&w.length||await s.getCategory(),v(),await r.fetchCart()}),qt(()=>{window.removeEventListener("scroll",S)}),(w,y)=>{var U,ce,K,B,j,$,b,G,he,z,ve,ye,He,ge,J,F,ae,ee,pe,Me,O,M,H,q,Y,W,ue,re,ne,Z,ie,le;const L=jt("router-link");return g(),m(te,null,[a("nav",{class:X(["fixed top-0 left-0 right-0 z-50 transition-all duration-300",i.value?"bg-gray-900/95 backdrop-blur-sm shadow-lg":"bg-black/30 backdrop-blur-sm"])},[a("div",_8,[Q(L,{to:"/home",class:"flex items-center gap-2 flex-shrink-0"},{default:xe(()=>y[11]||(y[11]=[a("svg",{class:"w-8 h-8 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})],-1),a("span",{class:"text-yellow-400 text-xl font-bold"},"HTHREE",-1)])),_:1}),a("div",k8,[a("div",C8,[je(a("input",{"onUpdate:modelValue":y[0]||(y[0]=oe=>l.value=oe),type:"text",placeholder:"Tm kim phim, din vin",class:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 pl-10 text-sm text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400 transition",onInput:I,onKeyup:It(_,["enter"]),onBlur:C,onFocus:y[1]||(y[1]=oe=>l.value.length>=2&&A())},null,544),[[Qe,l.value]]),y[12]||(y[12]=a("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),h.value&&d.value.length>0?(g(),m("div",E8,[(g(!0),m(te,null,fe(d.value,oe=>(g(),m("div",{key:oe.slug,onMousedown:Ce=>k(oe),class:"flex items-center gap-3 p-3 hover:bg-gray-700 cursor-pointer transition-colors border-b border-gray-700 last:border-b-0"},[a("img",{src:R(oe.poster_url),alt:oe.name,class:"w-12 h-16 object-cover rounded flex-shrink-0",onError:y[2]||(y[2]=Ce=>Ce.target.src="https://placehold.co/50x75/1a1a1a/fff?text=Error")},null,40,T8),a("div",$8,[a("p",A8,E(oe.name),1),a("p",I8,E(oe.origin_name),1),a("div",P8,[oe.year?(g(),m("span",R8,E(oe.year),1)):D("",!0),oe.quality?(g(),m("span",O8,E(oe.quality),1)):D("",!0),oe.lang?(g(),m("span",M8,E(oe.lang),1)):D("",!0)])])],40,S8))),128)),a("div",j8,[a("button",{onMousedown:_,class:"text-yellow-400 text-sm hover:text-yellow-300 font-medium transition-colors"},' Xem tt c kt qu cho "'+E(l.value)+'"  ',33)])])):D("",!0)]),a("ul",N8,[a("li",null,[Q(L,{to:"/list/phim-le/page/1",class:X([i.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors px-2 py-1"])},{default:xe(()=>y[13]||(y[13]=[se(" Phim L ")])),_:1},8,["class"])]),a("li",null,[Q(L,{to:"/list/phim-bo/page/1",class:X([i.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors px-2 py-1"])},{default:xe(()=>y[14]||(y[14]=[se(" Phim B ")])),_:1},8,["class"])]),a("li",L8,[a("button",{class:X([i.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors flex items-center gap-1 px-2 py-1"])},y[15]||(y[15]=[se(" Th loi "),a("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2),a("div",B8,[(g(!0),m(te,null,fe(x.value,oe=>(g(),Ae(L,{key:oe.slug,to:`/category/${oe.slug}/page/1`,class:"block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm"},{default:xe(()=>[se(E(oe.name),1)]),_:2},1032,["to"]))),128))])]),a("li",D8,[a("button",{class:X([i.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors flex items-center gap-1 px-2 py-1"])},y[16]||(y[16]=[se(" Quc gia "),a("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2),y[17]||(y[17]=Ee('<div class="absolute top-full left-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all max-h-96 overflow-y-auto border border-gray-700"><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">Vit Nam</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">Hn Quc</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">Trung Quc</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">M</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">Thi Lan</a></div>',1))]),a("li",null,[a("a",{href:"#",class:X([i.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors px-2 py-1"])}," Xem Chung ",2)]),a("li",U8,[a("button",{class:X([i.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors flex items-center gap-1 px-2 py-1"])},y[18]||(y[18]=[se(" Thm "),a("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2),y[19]||(y[19]=a("div",{class:"absolute top-full left-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all border border-gray-700"},[a("a",{href:"#",class:"block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm"},"Phim yu thch"),a("a",{href:"#",class:"block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm"},"Lch s xem")],-1))])])]),a("div",H8,[Q(L,{to:"/pricing",class:"hidden md:flex items-center gap-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black px-4 py-2 rounded-lg font-semibold text-sm hover:from-yellow-500 hover:to-yellow-600 transition-all hover:scale-105 shadow-lg"},{default:xe(()=>y[20]||(y[20]=[a("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),se(" Nng cp VIP ")])),_:1}),c.value&&(c.value.email==="hient7182@gmail.com"||c.value.email==="admin@hthree.com"||c.value.role==="admin")?(g(),Ae(L,{key:0,to:"/admin",class:"p-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",title:"Admin Panel"},{default:xe(()=>y[21]||(y[21]=[a("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])),_:1})):D("",!0),Q(L,{to:"/cart",class:"relative p-2 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors"},{default:xe(()=>[y[22]||(y[22]=a("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),Ne(r).count>0?(g(),m("span",V8,E(Ne(r).count),1)):D("",!0)]),_:1}),a("div",F8,[a("button",z8,[c.value?(g(),m("img",{key:0,src:((U=c.value)==null?void 0:U.avatar)||((ce=c.value)==null?void 0:ce.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((K=c.value)==null?void 0:K.full_name)||((B=c.value)==null?void 0:B.displayName)||((j=c.value)==null?void 0:j.username)||"User")}&background=f59e0b&color=000`,class:"w-7 h-7 rounded-full border-2 border-yellow-400 shadow-lg",alt:(($=c.value)==null?void 0:$.full_name)||((b=c.value)==null?void 0:b.displayName)||((G=c.value)==null?void 0:G.username)||"User"},null,8,q8)):(g(),m("svg",K8,y[23]||(y[23]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)]))),a("span",W8,E(c.value&&(c.value.displayName||c.value.username)||"Thnh vin"),1)]),a("div",G8,[c.value?(g(),m("div",J8,[a("div",Y8,[a("img",{src:((he=c.value)==null?void 0:he.avatar)||((z=c.value)==null?void 0:z.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((ve=c.value)==null?void 0:ve.full_name)||((ye=c.value)==null?void 0:ye.displayName)||((He=c.value)==null?void 0:He.username)||"User")}&background=f59e0b&color=000`,class:"w-11 h-11 rounded-full border-2 border-yellow-400 shadow-lg",alt:((ge=c.value)==null?void 0:ge.full_name)||((J=c.value)==null?void 0:J.displayName)||((F=c.value)==null?void 0:F.username)||"User"},null,8,X8),a("div",Q8,[a("div",Z8,[a("p",e6,E(((ae=c.value)==null?void 0:ae.full_name)||((ee=c.value)==null?void 0:ee.displayName)||((pe=c.value)==null?void 0:pe.username)),1),y[24]||(y[24]=a("svg",{class:"w-3.5 h-3.5 text-yellow-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1))]),a("p",t6,E((Me=c.value)==null?void 0:Me.email),1)])]),y[25]||(y[25]=a("button",{class:"w-full bg-gradient-to-r from-yellow-400 to-yellow-500 text-black px-3 py-2 rounded-lg font-bold text-xs hover:from-yellow-500 hover:to-yellow-600 hover:scale-105 hover:shadow-xl hover:shadow-yellow-400/50 transition-all duration-300 shadow-lg flex items-center justify-center gap-1.5 group/upgrade"},[a("svg",{class:"w-3.5 h-3.5 group-hover/upgrade:rotate-12 transition-transform duration-300",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),a("span",{class:"group-hover/upgrade:tracking-wider transition-all duration-300"},"Nng cp ngay")],-1))])):D("",!0),c.value?(g(),m("div",s6,y[26]||(y[26]=[Ee('<div class="flex items-center justify-between text-xs"><div class="flex items-center gap-1.5"><svg class="w-3.5 h-3.5 text-gray-400" fill="currentColor" viewBox="0 0 20 20"><path d="M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"></path><path fill-rule="evenodd" d="M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><span class="text-gray-300">S d</span></div><div class="flex items-center gap-1.5"><span class="text-white font-bold">0</span><span class="text-yellow-400 font-bold text-xs"></span><button class="bg-gray-700 hover:bg-gray-600 hover:scale-110 text-white px-2 py-0.5 rounded text-[10px] font-medium transition-all duration-300"> + Np </button></div></div>',1)]))):D("",!0),a("div",r6,[c.value?(g(),m("a",n6,y[27]||(y[27]=[a("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1),a("span",{class:"font-medium text-sm"},"Yu thch",-1)]))):D("",!0),c.value?(g(),m("a",o6,y[28]||(y[28]=[a("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})],-1),a("span",{class:"font-medium text-sm"},"Danh sch",-1)]))):D("",!0),c.value?(g(),m("a",i6,y[29]||(y[29]=[a("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1),a("span",{class:"font-medium text-sm"},"Xem tip",-1)]))):D("",!0),c.value?(g(),Ae(L,{key:3,to:"/account",class:"flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item"},{default:xe(()=>y[30]||(y[30]=[a("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),a("span",{class:"font-medium text-sm"},"Ti khon",-1)])),_:1})):D("",!0),c.value?(g(),m("div",a6)):D("",!0),c.value?(g(),m("button",{key:5,onClick:T,class:"flex items-center gap-2.5 w-full px-4 py-2.5 text-white hover:bg-red-500/20 hover:text-red-400 hover:pl-5 transition-all duration-300 group/item"},y[31]||(y[31]=[a("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-red-400 transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),a("span",{class:"font-medium text-sm"},"Thot",-1)]))):(g(),m("button",{key:6,onClick:y[3]||(y[3]=oe=>p.value=!0),class:"flex items-center gap-2.5 w-full px-4 py-2.5 text-white hover:bg-gray-800 hover:text-yellow-400 hover:pl-5 transition-all duration-300 group/item"},y[32]||(y[32]=[a("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),a("span",{class:"font-medium text-sm"},"ng nhp",-1)])))])])]),a("button",{onClick:y[4]||(y[4]=oe=>u.value=!u.value),class:"lg:hidden p-2 rounded-lg hover:bg-gray-800 transition-colors"},y[33]||(y[33]=[a("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])]),u.value?(g(),m("div",l6,[a("div",c6,[Q(L,{to:"/home",onClick:y[5]||(y[5]=oe=>u.value=!1),class:"block px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},{default:xe(()=>y[34]||(y[34]=[a("div",{class:"flex items-center gap-3"},[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),se(" Trang ch ")],-1)])),_:1}),Q(L,{to:"/list/phim-le/page/1",onClick:y[6]||(y[6]=oe=>u.value=!1),class:"block px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},{default:xe(()=>y[35]||(y[35]=[a("div",{class:"flex items-center gap-3"},[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),se(" Phim L ")],-1)])),_:1}),Q(L,{to:"/list/phim-bo/page/1",onClick:y[7]||(y[7]=oe=>u.value=!1),class:"block px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},{default:xe(()=>y[36]||(y[36]=[a("div",{class:"flex items-center gap-3"},[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})]),se(" Phim B ")],-1)])),_:1}),y[39]||(y[39]=a("div",{class:"border-t border-gray-800 my-4"},null,-1)),c.value?(g(),m("div",d6,[a("div",h6,[a("img",{src:((O=c.value)==null?void 0:O.avatar)||((M=c.value)==null?void 0:M.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((H=c.value)==null?void 0:H.full_name)||((q=c.value)==null?void 0:q.displayName)||((Y=c.value)==null?void 0:Y.username)||"User")}&background=f59e0b&color=000`,class:"w-12 h-12 rounded-full border-2 border-yellow-400",alt:((W=c.value)==null?void 0:W.full_name)||((ue=c.value)==null?void 0:ue.displayName)||((re=c.value)==null?void 0:re.username)||"User"},null,8,f6),a("div",null,[a("p",p6,E(((ne=c.value)==null?void 0:ne.full_name)||((Z=c.value)==null?void 0:Z.displayName)||((ie=c.value)==null?void 0:ie.username)),1),a("p",g6,E((le=c.value)==null?void 0:le.email),1)])]),a("button",{onClick:y[9]||(y[9]=oe=>{T(),u.value=!1}),class:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg font-medium hover:bg-gray-700 transition-all flex items-center justify-center gap-2"},y[38]||(y[38]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),se(" ng xut ")]))])):(g(),m("div",u6,[a("button",{onClick:y[8]||(y[8]=oe=>{p.value=!0,u.value=!1}),class:"w-full bg-yellow-400 text-black px-4 py-3 rounded-lg font-bold hover:bg-yellow-500 transition-all flex items-center justify-center gap-2"},y[37]||(y[37]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),se(" ng nhp ")]))]))])])):D("",!0)],2),Q(w8,{modelValue:p.value,"onUpdate:modelValue":y[10]||(y[10]=oe=>p.value=oe),onSuccess:v},null,8,["modelValue"])],64)}}},v6={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900"},m6={__name:"SplashScreen",setup(t){const e=N(!0);return Ge(()=>{setTimeout(()=>{e.value=!1},2500)}),(s,r)=>(g(),Ae(dt,{name:"fade"},{default:xe(()=>[e.value?(g(),m("div",v6,r[0]||(r[0]=[a("div",{class:"text-center"},[a("div",{class:"mb-6 animate-bounce-slow"},[a("svg",{class:"w-24 h-24 mx-auto text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})])]),a("h1",{class:"text-5xl font-black text-white mb-2 tracking-wider",style:{"text-shadow":"0 0 20px rgba(250, 204, 21, 0.5)"}}," HTHREE-FILM "),a("p",{class:"text-gray-400 text-lg mb-8 font-medium"}," Xem Phim Min Ph Cc Nhanh, Cht Lng Cao V Cp Nht Lin Tc "),a("div",{class:"flex justify-center gap-2"},[a("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0s"}}),a("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.2s"}}),a("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.4s"}})])],-1)]))):D("",!0)]),_:1}))}},y6=Ve(m6,[["__scopeId","data-v-605b96cb"]]),b6={class:"fixed top-4 right-4 z-[99999] flex flex-col gap-3 pointer-events-none"},w6={class:"flex items-start gap-3 p-4 pt-5"},x6={key:0,class:"w-6 h-6 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},_6={key:1,class:"w-6 h-6 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},k6={key:2,class:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},C6={key:3,class:"w-6 h-6 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},E6={class:"flex-1 min-w-0"},S6={class:"text-sm text-gray-300 leading-relaxed"},T6=["onClick"],$6={__name:"CustomToast",setup(t,{expose:e}){const s=N([]);let r=0;const n=(i,l,c,u=3e3)=>{const d=++r,h={id:d,type:i,title:l,message:c,progress:100};s.value.push(h);const f=Date.now(),p=setInterval(()=>{const v=Date.now()-f,x=Math.max(0,100-v/u*100),S=s.value.findIndex(R=>R.id===d);S!==-1&&(s.value[S].progress=x),x===0&&clearInterval(p)},50);return setTimeout(()=>{o(d)},u),d},o=i=>{const l=s.value.findIndex(c=>c.id===i);l!==-1&&s.value.splice(l,1)};return e({success:(i,l)=>n("success","Thnh cng",i,l),error:(i,l)=>n("error","Li",i,l),warning:(i,l)=>n("warning","Cnh bo",i,l),info:(i,l)=>n("info","Thng tin",i,l)}),(i,l)=>(g(),Ae(go,{to:"body"},[a("div",b6,[Q(xc,{name:"toast"},{default:xe(()=>[(g(!0),m(te,null,fe(s.value,c=>(g(),m("div",{key:c.id,class:X(["toast-item pointer-events-auto min-w-[320px] max-w-[400px] bg-gray-900/95 backdrop-blur-xl border rounded-xl shadow-2xl overflow-hidden",[c.type==="success"?"border-green-500/50 shadow-green-500/20":c.type==="error"?"border-red-500/50 shadow-red-500/20":c.type==="warning"?"border-yellow-500/50 shadow-yellow-500/20":"border-blue-500/50 shadow-blue-500/20"]])},[a("div",{class:X(["absolute top-0 left-0 h-1 transition-all duration-100 ease-linear",[c.type==="success"?"bg-green-500":c.type==="error"?"bg-red-500":c.type==="warning"?"bg-yellow-500":"bg-blue-500"]]),style:ht({width:`${c.progress}%`})},null,6),a("div",w6,[a("div",{class:X(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",[c.type==="success"?"bg-green-500/20":c.type==="error"?"bg-red-500/20":c.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"]])},[c.type==="success"?(g(),m("svg",x6,l[0]||(l[0]=[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)]))):c.type==="error"?(g(),m("svg",_6,l[1]||(l[1]=[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)]))):c.type==="warning"?(g(),m("svg",k6,l[2]||(l[2]=[a("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))):(g(),m("svg",C6,l[3]||(l[3]=[a("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},null,-1)])))],2),a("div",E6,[a("p",{class:X(["text-sm font-semibold mb-1",[c.type==="success"?"text-green-400":c.type==="error"?"text-red-400":c.type==="warning"?"text-yellow-400":"text-blue-400"]])},E(c.title),3),a("p",S6,E(c.message),1)]),a("button",{onClick:u=>o(c.id),class:"flex-shrink-0 w-6 h-6 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors"},l[4]||(l[4]=[a("svg",{class:"w-4 h-4 text-gray-400 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,T6)])],2))),128))]),_:1})])]))}},A6=Ve($6,[["__scopeId","data-v-a1e17cb9"]]),I6={class:"bg-gradient-to-b from-gray-900 to-black text-white border-t border-gray-800"},P6={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},R6={class:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8"},O6={class:"space-y-2"},M6={__name:"FooterComponent",setup(t){const e=N(!1),s=()=>{e.value=window.scrollY>300},r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return Ge(()=>{window.addEventListener("scroll",s)}),qt(()=>{window.removeEventListener("scroll",s)}),(n,o)=>{const i=jt("router-link");return g(),m("footer",I6,[a("div",P6,[a("div",R6,[o[5]||(o[5]=Ee('<div class="col-span-1 md:col-span-1"><div class="flex items-center gap-2 mb-4"><svg class="w-10 h-10 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"></path></svg><span class="text-2xl font-bold text-yellow-400">HTHREE</span></div><p class="text-gray-400 text-sm leading-relaxed"> Phim hay c ri - Trang xem phim online cht lng cao min ph, Vietsub, thuyt minh, b ting full HD. </p><div class="flex gap-3 mt-4"><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a></div></div><div><h3 class="text-white font-semibold text-lg mb-4">Hi p</h3><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Chnh sch bo mt</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">iu khon s dng</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Gii thiu</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Lin h</a></li></ul></div>',2)),a("div",null,[o[4]||(o[4]=a("h3",{class:"text-white font-semibold text-lg mb-4"},"Danh Mc",-1)),a("ul",O6,[a("li",null,[Q(i,{to:"/list/phim-le/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:xe(()=>o[0]||(o[0]=[se("Phim L")])),_:1})]),a("li",null,[Q(i,{to:"/list/phim-bo/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:xe(()=>o[1]||(o[1]=[se("Phim B")])),_:1})]),o[2]||(o[2]=a("li",null,[a("a",{href:"#",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},"Chiu Rp")],-1)),o[3]||(o[3]=a("li",null,[a("a",{href:"#",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},"Mi Pht Hnh")],-1))])]),o[6]||(o[6]=Ee('<div><h3 class="text-white font-semibold text-lg mb-4">Th Loi</h3><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Hnh ng</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Hi Hc</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Kinh D</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Tnh Cm</a></li></ul></div>',1))]),o[7]||(o[7]=a("div",{class:"border-t border-gray-800 pt-6"},[a("p",{class:"text-gray-500 text-sm text-center"}," 2024 HTHREE")],-1))]),e.value?(g(),m("button",{key:0,onClick:r,class:"fixed bottom-6 right-6 w-12 h-12 bg-yellow-400 hover:bg-yellow-500 text-black rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 z-50"},o[8]||(o[8]=[a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)]))):D("",!0)])}}},j6={key:0,class:"flex flex-col items-center justify-center flex-grow bg-gradient-to-br from-indigo-100 to-gray-50"},N6={key:1,class:"flex-grow"},L6={__name:"App",setup(t){const e=Rs(),s=N(void 0),r=Zs(),n=N(null),o=cr(),i=be(()=>e.path==="/home");return Ge(()=>{n.value&&x8(n.value);let l=null,c=!1;const u=yn(r,d=>{c=!0,s.value=d,l&&(clearTimeout(l),l=null)});return l=setTimeout(()=>{!c&&s.value===void 0&&(s.value=null,o.error("Khng th kim tra trng thi ng nhp. Vui lng th li!"))},1e4),()=>{u(),l&&clearTimeout(l)}}),(l,c)=>{const u=jt("router-view");return g(),m(te,null,[Q(y6),a("div",{class:X(["flex flex-col min-h-screen",i.value?"bg-black":"bg-gray-50"])},[Q(Gg,{class:X(i.value?"bg-black/90":"shadow-md")},null,8,["class"]),s.value===void 0?(g(),m("div",j6,c[0]||(c[0]=[Ee('<div class="text-center"><svg class="animate-spin h-12 w-12 text-indigo-600 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="text-xl font-semibold text-gray-700">ang kim tra ng nhp...</p></div>',1)]))):(g(),m("main",N6,[Q(u,null,{default:xe(({Component:d,route:h})=>[Q(dt,{name:h.meta.transition||"fade",mode:"out-in"},{default:xe(()=>[(g(),Ae(C0(d),{key:h.path}))]),_:2},1032,["name"])]),_:1})])),Q(M6)],2),Q(A6,{ref_key:"toastRef",ref:n},null,512)],64)}}},B6={class:"min-h-screen bg-black relative overflow-hidden flex items-center justify-center p-4 sm:p-6 lg:p-8"},D6={__name:"WelcomePage",setup(t){const e=ot(),s=()=>{e.push("/home")};return(r,n)=>(g(),m("div",B6,[n[3]||(n[3]=Ee('<div class="absolute inset-0 opacity-20" data-v-ee78f763><div class="absolute top-0 left-0 w-96 h-96 bg-yellow-400 rounded-full filter blur-3xl animate-blob" data-v-ee78f763></div><div class="absolute top-0 right-0 w-96 h-96 bg-yellow-600 rounded-full filter blur-3xl animate-blob animation-delay-2000" data-v-ee78f763></div><div class="absolute bottom-0 left-1/2 w-96 h-96 bg-yellow-500 rounded-full filter blur-3xl animate-blob animation-delay-4000" data-v-ee78f763></div></div><div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-yellow-400 to-transparent" data-v-ee78f763></div><div class="absolute bottom-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-yellow-400 to-transparent" data-v-ee78f763></div>',3)),a("main",{class:"relative z-10 bg-gray-900/80 backdrop-blur-xl p-6 sm:p-8 rounded-2xl shadow-2xl border border-yellow-400/20 max-w-2xl w-full text-center transform opacity-0 scale-95 animate-fade-in-up"},[a("div",{class:"space-y-5"},[n[1]||(n[1]=Ee('<div class="flex justify-center mb-3" data-v-ee78f763><div class="relative" data-v-ee78f763><svg class="w-12 h-12 text-yellow-400 animate-pulse-slow" fill="currentColor" viewBox="0 0 20 20" data-v-ee78f763><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z" data-v-ee78f763></path></svg><div class="absolute -inset-2 bg-yellow-400/20 rounded-full blur-xl" data-v-ee78f763></div></div></div><div class="space-y-2" data-v-ee78f763><p class="text-[10px] sm:text-xs font-medium text-gray-400 uppercase tracking-[0.2em]" data-v-ee78f763>y Ban Nhn Dn</p><p class="text-xs sm:text-sm font-medium text-gray-300 uppercase tracking-[0.15em]" data-v-ee78f763>S Gio Dc v o To</p><h1 class="text-sm sm:text-base font-bold text-white uppercase tracking-wide" data-v-ee78f763> Trng Cao ng Kinh T TP.HCM </h1><p class="text-xs sm:text-sm text-yellow-400 font-semibold italic" data-v-ee78f763>D n Web Thng Mi in T</p></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-5 mt-6 border-t border-b border-yellow-400/20 py-6" data-v-ee78f763><div class="text-left space-y-2" data-v-ee78f763><div class="flex items-center gap-2 mb-2" data-v-ee78f763><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-ee78f763><path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" data-v-ee78f763></path></svg><p class="text-xs sm:text-sm font-bold text-yellow-400 uppercase" data-v-ee78f763>Ging Vin Hng Dn</p></div><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Phm ng Phng</p></div><div class="text-left space-y-2" data-v-ee78f763><div class="flex items-center gap-2 mb-2" data-v-ee78f763><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-ee78f763><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" data-v-ee78f763></path></svg><p class="text-xs sm:text-sm font-bold text-yellow-400 uppercase" data-v-ee78f763>Sinh Vin Thc Hin</p></div><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Phm Trung Tun</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>L Anh Vn</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Trn Lc Kh T</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Nguyn L Anh Th</p></div></div><div class="pt-4" data-v-ee78f763><h2 class="text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 drop-shadow-2xl tracking-tight" data-v-ee78f763> HTHREE </h2><p class="text-base sm:text-lg text-yellow-400/80 font-light tracking-[0.4em] mt-1" data-v-ee78f763>FILM</p></div>',4)),a("button",{onClick:s,class:"mt-8 px-8 py-3 bg-yellow-400 text-black font-bold text-base rounded-full shadow-xl shadow-yellow-400/50 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-yellow-400/70 active:scale-95 focus:outline-none focus:ring-4 focus:ring-yellow-400/50 relative overflow-hidden group","aria-label":"Vo Trang Web Chnh"},n[0]||(n[0]=[a("span",{class:"relative z-10 flex items-center justify-center gap-2"},[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})]),se(" Khm Ph Ngay ")],-1),a("span",{class:"absolute inset-0 bg-yellow-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)])),n[2]||(n[2]=a("p",{class:"text-[10px] text-gray-500 mt-6"}," 2025 HTHREE Film",-1))])])]))}},U6=Ve(D6,[["__scopeId","data-v-ee78f763"]]),H6={class:"comment-form bg-gray-800 rounded-xl p-6 border border-gray-700"},V6={key:0,class:"flex items-center gap-3 mb-4"},F6=["src","alt"],z6={class:"text-white font-medium text-sm"},q6={class:"text-gray-400 text-xs"},K6=["disabled","placeholder"],W6={class:"flex items-center justify-between mt-2"},G6={class:"text-xs text-gray-500"},J6=["disabled"],Y6={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},X6={key:1,class:"mt-4 p-4 bg-gray-900 rounded-lg border border-gray-700"},Q6={key:2,class:"mt-4 p-4 bg-green-900/50 border border-green-500 rounded-lg flex items-center gap-3 animate-fade-in"},Z6={__name:"CommentForm",props:{movieSlug:{type:String,default:null}},emits:["comment-added","login"],setup(t,{emit:e}){const s=cr(),r=t,n=e,o=Zs(),i=N(null),l=()=>{var A;const R=o.currentUser;if(R){i.value=R,console.log(" CommentForm - Firebase user:",R.email);return}const P=localStorage.getItem("user");if(P)try{i.value=JSON.parse(P),console.log(" CommentForm - PHP user:",(A=i.value)==null?void 0:A.email)}catch(I){console.error("Error parsing PHP user:",I)}};Ge(()=>{l(),yn(o,R=>{R?(i.value=R,console.log(" CommentForm - Firebase auth changed:",R.email)):l()}),window.addEventListener("storage",l)});const c=N(""),u=N(!1),d=N(!1),h=N(!1),f=_n.BACKEND_URL,p=()=>{var P,A,I,k;if(h.value||!i.value){const _=((P=i.value)==null?void 0:P.displayName)||((I=(A=i.value)==null?void 0:A.email)==null?void 0:I.split("@")[0])||"User";return`https://ui-avatars.com/api/?name=${encodeURIComponent(_)}&background=f59e0b&color=000&size=128`}if(i.value.photoURL)return i.value.photoURL;const R=i.value.displayName||((k=i.value.email)==null?void 0:k.split("@")[0])||"User";return`https://ui-avatars.com/api/?name=${encodeURIComponent(R)}&background=f59e0b&color=000&size=128`},v=R=>{var A,I,k;h.value=!0;const P=((A=i.value)==null?void 0:A.displayName)||((k=(I=i.value)==null?void 0:I.email)==null?void 0:k.split("@")[0])||"User";R.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(P)}&background=f59e0b&color=000&size=128`},x=R=>{R.shiftKey||(R.preventDefault(),S())},S=async()=>{if(!(!i.value||!c.value.trim())){u.value=!0;try{const R=!!i.value.uid,P=!!i.value.id;console.log(" Submitting comment...",{type:R?"Firebase":"PHP",email:i.value.email,displayName:i.value.displayName||i.value.full_name,uid:i.value.uid,id:i.value.id});let A;if(R){let k=`https://ui-avatars.com/api/?name=${encodeURIComponent(i.value.displayName||i.value.email.split("@")[0])}&background=f59e0b&color=000&size=128`;if(i.value.photoURL)try{const C=await de.post(`${f}/upload_avatar.php`,{firebase_uid:i.value.uid,photo_url:i.value.photoURL});C.data.success&&(k=C.data.avatar_url,console.log(" Avatar uploaded:",k))}catch{console.log(" Avatar upload failed, using fallback")}const _=await de.post(`${f}/users.php`,{firebase_uid:i.value.uid,email:i.value.email,username:i.value.email.split("@")[0],full_name:i.value.displayName||i.value.email.split("@")[0],avatar:k});if(console.log(" Firebase user response:",_.data),!_.data.success)throw new Error("Failed to register/get user");A=_.data.user.id}else if(P)A=i.value.id,console.log(" PHP user ID:",A);else throw new Error("Invalid user type");const I=await de.post(`${f}/comments.php`,{user_id:A,movie_slug:r.movieSlug,content:c.value.trim()});if(I.data.success)d.value=!0,setTimeout(()=>{d.value=!1},3e3),c.value="",n("comment-added"),s.success("Bnh lun  c gi!");else throw new Error(I.data.message||"Failed to submit comment")}catch(R){console.error("Error submitting comment:",R),s.error("Khng th gi bnh lun. Vui lng th li!")}finally{u.value=!1}}};return(R,P)=>{var A;return g(),m("div",H6,[P[5]||(P[5]=a("h3",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[a("span",null,""),se(" Bnh lun ca bn ")],-1)),i.value?(g(),m("div",V6,[a("img",{src:p(),alt:i.value.displayName||i.value.email,class:"w-10 h-10 rounded-full border-2 border-yellow-400 object-cover",onError:v},null,40,F6),a("div",null,[a("p",z6,E(i.value.displayName||((A=i.value.email)==null?void 0:A.split("@")[0])),1),a("p",q6,E(i.value.email),1)])])):D("",!0),je(a("textarea",{"onUpdate:modelValue":P[0]||(P[0]=I=>c.value=I),disabled:!i.value,placeholder:i.value?"Chia s suy ngh ca bn... (Enter  gi, Shift+Enter  xung dng)":"Vui lng ng nhp  bnh lun",class:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400 transition resize-none",rows:"4",maxlength:"500",onKeydown:It(x,["enter"])},null,40,K6),[[Qe,c.value]]),a("div",W6,[a("span",G6,E(c.value.length)+"/500 k t",1),a("button",{onClick:S,disabled:!i.value||!c.value.trim()||u.value,class:"px-6 py-2 bg-yellow-400 text-black font-bold rounded-lg hover:bg-yellow-500 disabled:!bg-gray-600 disabled:!text-gray-400 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 disabled:hover:scale-100 flex items-center gap-2"},[u.value?(g(),m("svg",Y6,P[2]||(P[2]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):D("",!0),a("span",null,E(u.value?"ang gi...":"Gi bnh lun"),1)],8,J6)]),i.value?D("",!0):(g(),m("div",X6,[P[3]||(P[3]=a("p",{class:"text-gray-400 text-sm mb-3"},"Bn cn ng nhp  bnh lun",-1)),a("button",{onClick:P[1]||(P[1]=I=>R.$emit("login")),class:"w-full px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-bold rounded-lg hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 hover:scale-105"}," ng nhp ngay ")])),d.value?(g(),m("div",Q6,P[4]||(P[4]=[a("svg",{class:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),a("span",{class:"text-green-400 text-sm font-medium"},"Bnh lun ca bn  c gi thnh cng! ",-1)]))):D("",!0)])}}},Yc=Ve(Z6,[["__scopeId","data-v-ea02517d"]]),eC={class:"relative w-full max-w-3xl bg-[#181818] rounded-lg shadow-2xl overflow-hidden"},tC={key:0,class:"flex items-center justify-center h-96"},sC={key:1,class:"relative w-full aspect-video bg-black"},rC=["src"],nC=["src"],oC=["src"],iC={key:3,class:"w-full h-full flex items-center justify-center bg-gray-800"},aC={class:"absolute bottom-0 left-0 right-0 p-6"},lC={class:"text-2xl font-bold text-white mb-3"},cC={class:"flex gap-2"},uC={key:0,class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},dC={key:1,class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},hC={class:"p-6 bg-[#181818]"},fC={class:"grid grid-cols-3 gap-6 mb-5"},pC={class:"col-span-2"},gC={class:"flex items-center gap-3 text-sm mb-3"},vC={class:"text-green-400 font-semibold"},mC={class:"text-white"},yC={class:"px-2 py-0.5 border border-gray-500 text-gray-300 text-xs"},bC={class:"space-y-2 text-xs"},wC={key:0},xC={class:"text-white"},_C={key:1},kC={class:"text-white"},CC={key:2},EC={class:"text-white"},SC={key:3},TC={class:"text-white"},$C={key:0,class:"mb-6 border-t border-gray-700 pt-5"},AC={class:"flex items-center justify-between mb-4"},IC={class:"text-gray-400 text-sm"},PC={class:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide"},RC=["onClick"],OC={class:"text-3xl font-bold w-10 flex-shrink-0 text-gray-500 group-hover:text-white transition-colors"},MC={class:"relative w-36 h-20 flex-shrink-0 rounded overflow-hidden bg-gray-700"},jC=["src","alt"],NC={class:"flex-1 min-w-0"},LC={class:"font-bold mb-2 text-base text-white group-hover:text-yellow-400 transition-colors"},BC={class:"text-gray-400 text-sm leading-relaxed line-clamp-2"},DC={class:"text-gray-400 text-sm flex-shrink-0"},UC={key:1,class:"mb-6 border-t border-gray-700 pt-5"},HC={class:"grid grid-cols-3 gap-4"},VC=["onClick"],FC={class:"relative aspect-video bg-gray-800"},zC=["src","alt"],qC={key:0,class:"absolute top-3 right-3"},KC={class:"px-2 py-1 bg-black/80 text-white text-xs font-bold rounded"},WC={class:"p-4"},GC={class:"flex items-start justify-between mb-3"},JC={class:"flex items-center gap-2 flex-wrap flex-1"},YC={key:0,class:"px-2 py-0.5 bg-yellow-600 text-white text-[10px] font-bold rounded"},XC={key:1,class:"px-2 py-0.5 bg-yellow-600 text-white text-[10px] font-bold rounded"},QC={key:2,class:"px-2 py-0.5 bg-blue-600 text-white text-[10px] font-bold rounded"},ZC={key:3,class:"px-2 py-0.5 bg-blue-600 text-white text-[10px] font-bold rounded"},e7={key:4,class:"px-2 py-0.5 bg-gray-700 text-white text-[10px] font-semibold rounded"},t7={key:5,class:"px-2 py-0.5 bg-purple-600 text-white text-[10px] font-bold rounded"},s7={key:6,class:"px-2 py-0.5 bg-green-600 text-white text-[10px] font-bold rounded"},r7={class:"text-gray-300 text-sm leading-relaxed line-clamp-3 mb-2"},n7={class:"flex items-center justify-between text-xs"},o7={key:0,class:"text-gray-500 italic line-clamp-1"},i7={class:"border-t border-gray-700 pt-5"},a7={key:0,class:"mt-6 space-y-4"},l7=["src","alt"],c7={class:"flex-1"},u7={class:"flex items-center gap-2 mb-1"},d7={class:"text-white font-semibold text-sm"},h7={class:"text-gray-500 text-xs"},f7={class:"text-gray-300 text-sm leading-relaxed"},p7={key:1,class:"mt-6 text-center py-8 bg-[#2a2a2a] rounded-lg"},g7={class:"border-t border-gray-700 pt-5 mt-6"},v7={class:"text-xl font-bold text-white mb-4"},m7={class:"space-y-2 text-sm text-gray-400"},y7={key:0},b7={class:"text-white"},w7={key:1},x7={class:"text-white"},_7={key:2},k7={class:"text-white"},C7={key:3},E7={class:"text-white"},S7={__name:"MovieDetailModal",props:{isOpen:Boolean,movieSlug:String},emits:["close","open-movie"],setup(t,{emit:e}){const s=t,r=e,n=N(null),o=N([]),i=N([]),l=N([]),c=N(!1),u=N(!1),d=N(!1),h=N(!0),f=_n.BACKEND_URL,p=be(()=>c.value?i.value:i.value.slice(0,6)),v=()=>{r("close")},x=()=>{c.value=!c.value},S=N(null),R=j=>{var $;return j&&(($=j.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/))==null?void 0:$[1])||""},P=j=>{if(!j)return"";const $=R(j);return $?`https://www.youtube.com/embed/${$}?autoplay=1&mute=1&controls=0&showinfo=0&modestbranding=1&rel=0&iv_load_policy=3&disablekb=1&fs=0&enablejsapi=1&origin=${window.location.origin}`:j},A=()=>{var $;h.value=!h.value;const j=S.value;if(!(!j||!(($=n.value)!=null&&$.trailer_url)))try{const b=h.value?"mute":"unMute";j.contentWindow.postMessage(JSON.stringify({event:"command",func:b,args:[]}),"*"),console.log(` ${h.value?"Muted":"Unmuted"} video`)}catch(b){console.error(" Error toggling mute:",b)}},I=j=>j?j.map($=>$.name).join(", "):"",k=j=>j?j.map($=>$.name).join(", "):"",_=j=>j?j.startsWith("http")?j:`https://phimimg.com/${j}`:"",C=j=>{console.error("Image load error:",j.target.src),j.target.src="https://placehold.co/800x450/1a1a1a/fff?text=No+Image"},T=async()=>{var j,$,b,G,he,z;if(!s.movieSlug){console.error("No movie slug provided");return}console.log(" Fetching movie details for:",s.movieSlug),d.value=!0;try{const ye=await(await fetch(`https://phimapi.com/phim/${s.movieSlug}`)).json();console.log(" API Response:",ye),console.log(" Response status:",ye.status),console.log(" Response movie:",ye.movie),ye.status==="success"&&ye.movie?(n.value=ye.movie,o.value=(($=(j=ye.episodes)==null?void 0:j[0])==null?void 0:$.server_data)||[],console.log(" Movie data loaded:",n.value.name),console.log(" Episodes:",o.value.length)):ye.status===!0&&ye.movie?(n.value=ye.movie,o.value=((G=(b=ye.episodes)==null?void 0:b[0])==null?void 0:G.server_data)||[],console.log(" Movie data loaded (alt):",n.value.name)):ye.movie?(n.value=ye.movie,o.value=((z=(he=ye.episodes)==null?void 0:he[0])==null?void 0:z.server_data)||[],console.log(" Movie data loaded (no status):",n.value.name)):(console.error(" Invalid API response:",ye),console.error(" Available keys:",Object.keys(ye))),await Promise.all([w(),y()])}catch(ve){console.error(" Error fetching movie details:",ve)}finally{d.value=!1}},w=async()=>{var j,$,b;try{console.log(" Fetching similar movies...");const he=await(await fetch("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1")).json();console.log(" Similar movies response:",he);let z=[];if((he.status==="success"||he.status===!0)&&he.items?z=he.items.sort(()=>.5-Math.random()).slice(0,12):(j=he.data)!=null&&j.items&&(z=he.data.items.sort(()=>.5-Math.random()).slice(0,12)),z.length===0){console.error(" No items found in response"),i.value=[];return}console.log(" Similar movies loaded:",z.length);const ve=await Promise.all(z.map(async ye=>{try{const ge=await(await fetch(`https://phimapi.com/phim/${ye.slug}`)).json();return ge.movie?{...ye,content:ge.movie.content||ye.content,description:ge.movie.description||ye.description,thumb_url:ge.movie.thumb_url||ye.thumb_url,poster_url:ge.movie.poster_url||ye.poster_url}:ye}catch{return console.log(" Could not fetch details for:",ye.slug),ye}}));i.value=ve,console.log(" Similar movies with details loaded:",i.value.length),console.log(" First movie thumb_url:",($=ve[0])==null?void 0:$.thumb_url),console.log(" First movie poster_url:",(b=ve[0])==null?void 0:b.poster_url)}catch(G){console.error(" Error fetching similar movies:",G),i.value=[]}},y=async()=>{if(s.movieSlug)try{const j=await de.get(`${f}/comments.php`,{params:{type:"movie",movie_slug:s.movieSlug,limit:50}});j.data.success&&(l.value=j.data.comments||[],console.log(" Comments loaded:",l.value.length))}catch(j){console.error(" Error fetching comments:",j),l.value=[]}},L=j=>{const $=new Date(j),G=Math.floor((new Date-$)/1e3);return G<60?"Va xong":G<3600?`${Math.floor(G/60)} pht trc`:G<86400?`${Math.floor(G/3600)} gi trc`:G<604800?`${Math.floor(G/86400)} ngy trc`:$.toLocaleDateString("vi-VN")},U=j=>{j!=null&&j.slug&&(console.log(" Opening similar movie:",j.name),r("close"),setTimeout(()=>{r("open-movie",j.slug)},100))},ce=(j=null)=>{var b;if(!((b=n.value)!=null&&b.slug))return;let $="full";if(j){const G=j.match(/\d+/);$=G?G[0]:j}else if(o.value.length>0){const G=o.value[0].name,he=G.match(/\d+/);$=he?he[0]:G}r("close"),ta(async()=>{const{useRouter:G}=await Promise.resolve().then(()=>Ty);return{useRouter:G}},void 0,import.meta.url).then(({useRouter:G})=>{G().push(`/film/${n.value.slug}/tap/${encodeURIComponent($)}`)})},K=()=>{ce()},B=(j,$)=>{ce(j.name)};return Ye(()=>s.isOpen,j=>{j?(console.log(" Modal opened with slug:",s.movieSlug),s.movieSlug?T():console.error(" No movie slug provided!"),document.body.style.overflow="hidden"):(document.body.style.overflow="",n.value=null,o.value=[],i.value=[],l.value=[],c.value=!1,u.value=!1,h.value=!0)},{immediate:!0}),(j,$)=>(g(),Ae(go,{to:"body"},[Q(dt,{name:"modal"},{default:xe(()=>{var b,G,he,z,ve,ye,He,ge,J,F,ae,ee,pe,Me,O,M,H,q,Y,W,ue,re,ne,Z;return[t.isOpen?(g(),m("div",{key:0,class:"fixed inset-0 z-[100] flex items-start justify-center overflow-y-auto bg-black/95 pt-8 pb-8 px-4",onClick:$t(v,["self"])},[a("div",eC,[a("button",{onClick:v,class:"absolute top-4 right-4 z-50 w-10 h-10 bg-[#181818] hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"},$[2]||($[2]=[a("svg",{class:"w-6 h-6 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),d.value?(g(),m("div",tC,$[3]||($[3]=[a("div",{class:"text-center"},[a("svg",{class:"animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),a("p",{class:"text-white"},"ang ti thng tin phim...")],-1)]))):(g(),m("div",sC,[(b=n.value)!=null&&b.trailer_url?(g(),m("iframe",{ref_key:"youtubePlayer",ref:S,key:R(n.value.trailer_url),src:P(n.value.trailer_url),class:"w-full h-full",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,rC)):(G=n.value)!=null&&G.thumb_url?(g(),m("img",{key:1,src:_((he=n.value)==null?void 0:he.thumb_url),class:"w-full h-full object-cover",alt:"Movie banner",onError:C},null,40,nC)):(z=n.value)!=null&&z.poster_url?(g(),m("img",{key:2,src:_((ve=n.value)==null?void 0:ve.poster_url),class:"w-full h-full object-cover",alt:"Movie poster",onError:C},null,40,oC)):(g(),m("div",iC,$[4]||($[4]=[a("p",{class:"text-gray-400"},"Khng c nh",-1)]))),$[10]||($[10]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-[#181818] via-transparent to-transparent"},null,-1)),a("div",aC,[a("h2",lC,E(((ye=n.value)==null?void 0:ye.name)||"ang ti..."),1),a("div",cC,[a("button",{onClick:K,class:"px-6 py-2 bg-white text-black font-bold rounded flex items-center gap-2 hover:bg-yellow-400 transition-colors"},$[5]||($[5]=[a("svg",{class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24"},[a("path",{d:"M8 5v14l11-7z","stroke-linejoin":"round","stroke-linecap":"round"})],-1),se(" Pht ")])),$[8]||($[8]=a("button",{class:"w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[a("svg",{class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)),$[9]||($[9]=a("button",{class:"w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[a("svg",{class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})])],-1)),a("button",{onClick:A,class:"ml-auto w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[h.value?(g(),m("svg",uC,$[6]||($[6]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z","clip-rule":"evenodd"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"},null,-1)]))):(g(),m("svg",dC,$[7]||($[7]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"},null,-1)])))])])])])),a("div",hC,[a("div",fC,[a("div",pC,[a("div",gC,[a("span",vC,E((He=n.value)==null?void 0:He.year),1),a("span",mC,E(((ge=n.value)==null?void 0:ge.episode_current)||"Full"),1),a("span",yC,E(((J=n.value)==null?void 0:J.quality)||"HD"),1)]),a("div",null,[a("p",{class:X(["text-white text-sm leading-relaxed",{"line-clamp-3":!u.value}])},E(((F=n.value)==null?void 0:F.content)||((ae=n.value)==null?void 0:ae.description)),3),((Me=((ee=n.value)==null?void 0:ee.content)||((pe=n.value)==null?void 0:pe.description))==null?void 0:Me.length)>200?(g(),m("button",{key:0,onClick:$[0]||($[0]=ie=>u.value=!u.value),class:"text-gray-400 hover:text-white text-xs mt-2 flex items-center gap-1 transition-colors"},[a("span",null,E(u.value?"Thu gn":"Xem thm"),1),(g(),m("svg",{class:X(["w-4 h-4 transition-transform duration-300",{"rotate-180":u.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$[11]||($[11]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])):D("",!0)])]),a("div",bC,[(O=n.value)!=null&&O.actor&&n.value.actor.length?(g(),m("div",wC,[$[12]||($[12]=a("span",{class:"text-gray-400"},"Din vin: ",-1)),a("span",xC,E(n.value.actor.slice(0,3).join(", ")),1)])):D("",!0),(M=n.value)!=null&&M.category?(g(),m("div",_C,[$[13]||($[13]=a("span",{class:"text-gray-400"},"Th loi: ",-1)),a("span",kC,E(I(n.value.category)),1)])):D("",!0),(H=n.value)!=null&&H.country?(g(),m("div",CC,[$[14]||($[14]=a("span",{class:"text-gray-400"},"Quc gia: ",-1)),a("span",EC,E(k(n.value.country)),1)])):D("",!0),(q=n.value)!=null&&q.director&&n.value.director.length?(g(),m("div",SC,[$[15]||($[15]=a("span",{class:"text-gray-400"},"o din: ",-1)),a("span",TC,E(n.value.director.join(", ")),1)])):D("",!0)])]),o.value&&o.value.length>0?(g(),m("div",$C,[a("div",AC,[$[16]||($[16]=a("h3",{class:"text-xl font-bold text-white"},"Tp",-1)),a("span",IC,E((Y=n.value)==null?void 0:Y.name),1)]),a("div",PC,[(g(!0),m(te,null,fe(o.value,(ie,le)=>{var oe,Ce,_e,Pe,Oe;return g(),m("div",{key:le,onClick:it=>B(ie,le),class:"flex items-start gap-4 p-4 bg-[#2a2a2a] hover:bg-[#3a3a3a] rounded cursor-pointer transition-all group border-l-4 border-transparent hover:border-yellow-500"},[a("span",OC,E(le+1),1),a("div",MC,[a("img",{src:_(((oe=n.value)==null?void 0:oe.thumb_url)||((Ce=n.value)==null?void 0:Ce.poster_url)),class:"w-full h-full object-cover",alt:`Episode ${le+1}`,onError:C},null,40,jC),$[17]||($[17]=a("div",{class:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])],-1))]),a("div",NC,[a("h4",LC,E(ie.name||`Tp ${le+1}`),1),a("p",BC,E(((Pe=(_e=n.value)==null?void 0:_e.content)==null?void 0:Pe.substring(0,150))||"Xem ngay  khm ph ni dung hp dn ca tp phim ny."),1)]),a("span",DC,E(((Oe=n.value)==null?void 0:Oe.time)||"56 pht"),1)],8,RC)}),128))])])):D("",!0),i.value.length>0?(g(),m("div",UC,[$[21]||($[21]=a("h3",{class:"text-xl font-bold text-white mb-4"},"Ni dung tng t",-1)),a("div",HC,[(g(!0),m(te,null,fe(p.value,(ie,le)=>(g(),m("div",{key:ie._id||ie.slug||le,onClick:oe=>U(ie),class:"bg-[#2a2a2a] rounded-lg overflow-hidden hover:bg-[#3a3a3a] transition-all duration-300 cursor-pointer group"},[a("div",FC,[a("img",{src:_(ie.thumb_url),alt:ie.name,class:"w-full h-full object-cover object-center",style:{"object-position":"center 20%"},onError:C},null,40,zC),ie.episode_current?(g(),m("div",qC,[a("span",KC,E(ie.episode_current),1)])):D("",!0),$[18]||($[18]=a("div",{class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},[a("div",{class:"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1))]),a("div",WC,[a("div",GC,[a("div",JC,[ie.quality?(g(),m("span",YC,E(ie.quality),1)):(g(),m("span",XC,"HD")),ie.lang?(g(),m("span",QC,E(ie.lang),1)):(g(),m("span",ZC,"Vietsub")),ie.year?(g(),m("span",e7,E(ie.year),1)):D("",!0),ie.type==="series"?(g(),m("span",t7,"Phim b")):ie.type==="single"?(g(),m("span",s7,"Phim l")):D("",!0)]),a("button",{onClick:$[1]||($[1]=$t(()=>{},["stop"])),class:"w-7 h-7 border-2 border-gray-500 hover:border-yellow-400 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-colors flex-shrink-0 ml-2 group"},$[19]||($[19]=[a("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))]),a("p",r7,E(ie.content||ie.description||"Mt b phim hp dn ang ch bn khm ph. Hy xem ngay  bit thm chi tit v ct truyn v dn din vin."),1),a("div",n7,[ie.origin_name?(g(),m("span",o7,E(ie.origin_name),1)):D("",!0)])])],8,VC))),128))]),i.value.length>6?(g(),m("button",{key:0,onClick:x,class:"mt-6 mx-auto w-12 h-12 border-2 border-gray-500 hover:border-yellow-400 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"},[(g(),m("svg",{class:X(["w-6 h-6 text-gray-400 group-hover:text-black transition-all duration-300",{"rotate-180":c.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$[20]||($[20]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])):D("",!0)])):D("",!0),a("div",i7,[$[23]||($[23]=a("h3",{class:"text-lg font-bold text-white mb-4"},"Bnh lun",-1)),Q(Yc,{"movie-slug":s.movieSlug,onCommentAdded:y},null,8,["movie-slug"]),l.value.length>0?(g(),m("div",a7,[(g(!0),m(te,null,fe(l.value,ie=>(g(),m("div",{key:ie.id,class:"flex gap-3 p-4 bg-[#2a2a2a] rounded-lg"},[a("img",{src:ie.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(ie.full_name||"User")}&background=f59e0b&color=000`,alt:ie.full_name,class:"w-10 h-10 rounded-full flex-shrink-0"},null,8,l7),a("div",c7,[a("div",u7,[a("span",d7,E(ie.full_name),1),a("span",h7,E(L(ie.created_at)),1)]),a("p",f7,E(ie.content),1)])]))),128))])):(g(),m("div",p7,$[22]||($[22]=[a("p",{class:"text-gray-400 text-sm"},"Cha c bnh lun no. Hy l ngi u tin!",-1)])))]),a("div",g7,[a("h3",v7,"Gii thiu v "+E((W=n.value)==null?void 0:W.name),1),a("div",m7,[(ue=n.value)!=null&&ue.actor&&n.value.actor.length?(g(),m("div",y7,[$[24]||($[24]=a("span",{class:"text-gray-500"},"Din vin: ",-1)),a("span",b7,E(n.value.actor.join(", ")),1)])):D("",!0),(re=n.value)!=null&&re.category?(g(),m("div",w7,[$[25]||($[25]=a("span",{class:"text-gray-500"},"Th loi: ",-1)),a("span",x7,E(I(n.value.category)),1)])):D("",!0),(ne=n.value)!=null&&ne.country?(g(),m("div",_7,[$[26]||($[26]=a("span",{class:"text-gray-500"},"Series ny: ",-1)),a("span",k7,E(k(n.value.country)),1)])):D("",!0),$[28]||($[28]=a("div",null,[a("span",{class:"text-gray-500"},"Xp hng  tui: "),a("span",{class:"px-2 py-0.5 border border-gray-500 text-white text-xs rounded"},"T18"),a("span",{class:"text-gray-400"}," khoa thn, t hi, bo hnh tnh dc, bo lc")],-1)),(Z=n.value)!=null&&Z.director&&n.value.director.length?(g(),m("div",C7,[$[27]||($[27]=a("span",{class:"text-gray-500"},"o din: ",-1)),a("span",E7,E(n.value.director.join(", ")),1)])):D("",!0)])])])])])):D("",!0)]}),_:1})]))}},Xc=Ve(S7,[["__scopeId","data-v-2485324c"]]),T7={class:"flex items-center gap-3 mb-6"},$7={class:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent"},A7={class:"relative group/row"},I7=["onMouseenter","onClick"],P7={class:"relative rounded-xl overflow-hidden shadow-lg transition-all duration-300 group-hover/card:scale-105 group-hover/card:shadow-2xl group-hover/card:shadow-yellow-400/20"},R7=["src","alt"],O7={class:"absolute bottom-0 left-0 right-0 p-4 transform translate-y-2 group-hover/card:translate-y-0 transition-transform duration-300"},M7={class:"text-sm md:text-base font-bold mb-2 line-clamp-2 text-white"},j7={class:"flex items-center gap-2 text-xs mb-2 opacity-0 group-hover/card:opacity-100 transition-opacity duration-300"},N7={key:0,class:"px-2 py-1 bg-gray-700/80 backdrop-blur-sm rounded text-white font-medium"},L7={key:1,class:"px-2 py-1 bg-yellow-500 rounded text-black font-bold"},B7={class:"flex gap-1 flex-wrap opacity-0 group-hover/card:opacity-100 transition-opacity duration-300 delay-100"},D7={class:"bg-gray-900 rounded-lg overflow-hidden shadow-2xl shadow-yellow-400/20 border border-yellow-400/30 transform transition-all duration-300 hover:scale-105 hover:shadow-yellow-400/40"},U7={class:"relative h-[160px] bg-black group/image"},H7=["src","alt"],V7={key:0,class:"absolute top-2 right-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black px-2 py-1 rounded text-[10px] font-bold shadow-lg"},F7={class:"p-3"},z7={class:"text-base font-bold text-white mb-0.5 line-clamp-1"},q7={class:"text-xs text-yellow-400 mb-2 line-clamp-1"},K7={class:"flex gap-1.5 mb-2"},W7={class:"flex gap-1.5 mb-2 flex-wrap"},G7={key:0,class:"bg-yellow-500 text-black px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},J7={key:1,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},Y7={key:2,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},X7={key:3,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},Q7={key:4,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},Z7={key:5,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},eE={key:6,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},tE={key:7,class:"bg-purple-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold capitalize"},sE={key:8,class:"bg-green-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},rE={key:0,class:"text-[10px] text-gray-400 mb-1.5"},nE={key:0},oE={class:"text-[11px] text-gray-300 line-clamp-2 leading-relaxed"},iE={__name:"MovieRow",props:{title:{type:String,required:!0},movies:{type:Array,default:()=>[]}},setup(t){const e=ot(),s=N(null),r=N(null),n=N(!1),o=N(!1),i=N(null),l=N({}),c=N(!1),u=N(!1),d=N("");let h=null,f=null;const p=w=>{console.log(" Opening movie detail for:",w),w!=null&&w.slug?(console.log(" Movie slug:",w.slug),d.value=w.slug,u.value=!0,C()):console.error(" No slug found for movie:",w)},v=w=>{console.log(" Opening new movie from modal:",w),d.value=w,u.value=!0},x=w=>{if(w.poster_url){const y=w.poster_url.startsWith("http")?w.poster_url:`https://phimimg.com/${w.poster_url}`;return console.log(" Using poster_url:",y),y}if(w.thumb_url){const y=w.thumb_url.startsWith("http")?w.thumb_url:`https://phimimg.com/${w.thumb_url}`;return console.log(" Using thumb_url:",y),y}return w.backdrop_path?(console.log(" Using backdrop_path:",w.backdrop_path),w.backdrop_path):(console.log(" No image found, using placeholder"),"https://placehold.co/250x350/1a1a1a/fff?text=No+Image")},S=w=>{if(w.thumb_url){const y=w.thumb_url.startsWith("http")?w.thumb_url:`https://phimimg.com/${w.thumb_url}`;return console.log(" Preview using thumb_url:",y),y}return w.poster_url?w.poster_url.startsWith("http")?w.poster_url:`https://phimimg.com/${w.poster_url}`:w.backdrop_path?w.backdrop_path:"https://placehold.co/320x160/1a1a1a/fff?text=No+Image"},R=w=>w.category&&Array.isArray(w.category)?w.category.map(y=>typeof y=="object"?y.name:y):w.genres&&Array.isArray(w.genres)?w.genres.map(y=>typeof y=="object"?y.name:y):[],P=w=>{w.slug&&e.push(`/film/${w.slug}`)},A=()=>{s.value&&s.value.scrollBy({left:-800,behavior:"smooth"})},I=()=>{s.value&&s.value.scrollBy({left:800,behavior:"smooth"})},k=async(w,y)=>{console.log(" Mouse enter:",w.name),clearTimeout(h);const U=y.currentTarget.getBoundingClientRect();h=setTimeout(async()=>{var B,j;console.log(" Showing preview for:",w.name);let ce=U.top-60,K=U.left-30;if(K<20&&(K=20),K+320>window.innerWidth&&(K=window.innerWidth-340),ce<20&&(ce=20),ce+400>window.innerHeight&&(ce=window.innerHeight-420),l.value={top:`${ce}px`,left:`${K}px`},i.value=w,o.value=!0,w.slug&&(!w.quality||!w.lang||!w.content))try{const $=(await ta(async()=>{const{default:z}=await Promise.resolve().then(()=>Ng);return{default:z}},void 0,import.meta.url)).default,b=new AbortController,G=setTimeout(()=>b.abort(),3e3),he=await $.get(`https://phimapi.com/phim/${w.slug}`,{signal:b.signal});if(clearTimeout(G),(B=he.data)!=null&&B.movie){const z=he.data.movie,ve={...w,quality:z.quality||w.quality,lang:z.lang||w.lang,content:z.content||w.content,time:z.time||w.time,episode_current:z.episode_current||w.episode_current,type:z.type||w.type,country:z.country||w.country,category:z.category||w.category,chieurap:z.chieurap!==void 0?z.chieurap:w.chieurap,sub_docquyen:z.sub_docquyen!==void 0?z.sub_docquyen:w.sub_docquyen};((j=i.value)==null?void 0:j.slug)===w.slug&&(i.value=ve),Object.assign(w,ve),console.log(" Fetched movie details:",ve.name)}}catch($){console.log(" Could not fetch movie details:",$.message)}},300)},_=()=>{clearTimeout(h),setTimeout(()=>{c.value||C()},100)},C=()=>{c.value=!1,o.value=!1,i.value=null},T=w=>{console.error(" Image failed to load:",w.target.src),w.target.src="https://placehold.co/320x160/1a1a1a/fff?text=Image+Not+Found"};return Ge(()=>{f=new IntersectionObserver(w=>{w.forEach(y=>{y.isIntersecting&&(n.value=!0,f.unobserve(y.target))})},{threshold:.1,rootMargin:"50px"}),r.value&&f.observe(r.value)}),qt(()=>{f&&r.value&&f.unobserve(r.value)}),(w,y)=>(g(),m(te,null,[a("div",{ref_key:"movieRowRef",ref:r,class:X(["movie-row mb-16 px-4 md:px-12 opacity-0 translate-y-10 transition-all duration-700",{"opacity-100 translate-y-0":n.value}])},[a("div",T7,[y[4]||(y[4]=a("div",{class:"w-1 h-8 bg-yellow-400 rounded-full"},null,-1)),a("h2",$7,E(t.title),1)]),a("div",A7,[a("button",{onClick:A,class:"absolute left-2 top-1/2 -translate-y-1/2 z-10 w-14 h-14 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/row:opacity-100 shadow-2xl shadow-yellow-400/50 hover:scale-110 hover:shadow-yellow-400/70 group/arrow"},y[5]||(y[5]=[a("svg",{class:"w-7 h-7 text-black group-hover/arrow:-translate-x-0.5 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"3"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1)])),a("button",{onClick:I,class:"absolute right-2 top-1/2 -translate-y-1/2 z-10 w-14 h-14 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/row:opacity-100 shadow-2xl shadow-yellow-400/50 hover:scale-110 hover:shadow-yellow-400/70 group/arrow"},y[6]||(y[6]=[a("svg",{class:"w-7 h-7 text-black group-hover/arrow:translate-x-0.5 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"3"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1)])),a("div",{ref_key:"scrollContainer",ref:s,class:"flex gap-4 overflow-x-auto scrollbar-hide pb-4 select-none scroll-smooth"},[(g(!0),m(te,null,fe(t.movies,(L,U)=>{var ce;return g(),m("div",{key:L._id||L.slug,class:X(["movie-card flex-none w-[160px] md:w-[220px] lg:w-[260px] cursor-pointer group/card opacity-0 translate-x-8 transition-all duration-500",{"opacity-100 translate-x-0":n.value}]),onMouseenter:K=>k(L,K),onMouseleave:_,onClick:K=>P(L),style:ht({transitionDelay:n.value?`${U*50}ms`:"0ms"})},[a("div",P7,[a("img",{src:x(L),alt:L.title||L.name,class:"w-full h-[240px] md:h-[330px] lg:h-[390px] object-cover transition-transform duration-500 group-hover/card:scale-110",onError:T},null,40,R7),y[7]||(y[7]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-60 group-hover/card:opacity-90 transition-opacity duration-300"},null,-1)),a("div",O7,[a("h3",M7,E(L.title||L.name),1),a("div",j7,[L.year?(g(),m("span",N7,E(L.year),1)):D("",!0),L.quality?(g(),m("span",L7,E(L.quality),1)):D("",!0)]),a("div",B7,[(g(!0),m(te,null,fe((ce=L.category||L.genres)==null?void 0:ce.slice(0,2),K=>(g(),m("span",{key:K.slug||K,class:"text-xs text-gray-300 bg-gray-800/60 backdrop-blur-sm px-2 py-0.5 rounded"},E(K.name||K),1))),128))])]),y[8]||(y[8]=a("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover/card:opacity-100 transition-all duration-300 scale-50 group-hover/card:scale-100"},[a("div",{class:"w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center shadow-xl"},[a("svg",{class:"w-8 h-8 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1))])],46,I7)}),128))],512)])],2),Q(Xc,{"is-open":u.value,"movie-slug":d.value,onClose:y[0]||(y[0]=L=>u.value=!1),onOpenMovie:v},null,8,["is-open","movie-slug"]),(g(),Ae(go,{to:"body"},[o.value&&i.value?(g(),m("div",{key:0,style:ht({...l.value,zIndex:99999}),class:"fixed w-[320px] animate-scale-in-smooth pointer-events-auto",onMouseenter:y[3]||(y[3]=L=>c.value=!0),onMouseleave:C},[a("div",D7,[a("div",U7,[a("img",{src:S(i.value),alt:i.value.name,class:"w-full h-full object-cover",onError:T},null,40,H7),y[9]||(y[9]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"},null,-1)),y[10]||(y[10]=a("div",{class:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover/image:opacity-100 transition-all duration-300"},[a("div",{class:"w-14 h-14 bg-yellow-400 rounded-full flex items-center justify-center shadow-2xl transform transition-all duration-300 group-hover/image:scale-110 animate-pulse-slow"},[a("svg",{class:"w-7 h-7 text-black ml-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1)),i.value.quality?(g(),m("div",V7,E(i.value.quality),1)):D("",!0)]),a("div",F7,[a("h3",z7,E(i.value.name),1),a("p",q7,E(i.value.origin_name),1),a("div",K7,[a("button",{onClick:y[1]||(y[1]=L=>P(i.value)),class:"flex-1 flex items-center justify-center gap-1.5 bg-yellow-400 text-black px-3 py-1.5 rounded-lg font-bold text-xs hover:bg-yellow-500 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-yellow-400/50"},y[11]||(y[11]=[a("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),se(" Xem ngay ")])),y[13]||(y[13]=a("button",{class:"w-8 h-8 bg-gray-800 hover:bg-gray-700 hover:scale-110 rounded-lg flex items-center justify-center transition-all duration-300 group/btn"},[a("svg",{class:"w-3.5 h-3.5 text-white group-hover/btn:text-red-400 transition-colors",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),a("button",{onClick:y[2]||(y[2]=$t(L=>p(i.value),["stop"])),class:"w-8 h-8 bg-gray-800 hover:bg-gray-700 hover:scale-110 rounded-lg flex items-center justify-center transition-all duration-300 group/btn",title:"Cc tp & Thng tin"},y[12]||(y[12]=[a("svg",{class:"w-3.5 h-3.5 text-white group-hover/btn:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]))]),a("div",W7,[i.value.quality?(g(),m("span",G7,E(i.value.quality),1)):D("",!0),i.value.lang?(g(),m("span",J7,E(i.value.lang),1)):i.value.sub_docquyen?(g(),m("span",Y7," Vietsub ")):i.value.chieurap===!1?(g(),m("span",X7," Vietsub ")):D("",!0),i.value.year?(g(),m("span",Q7,E(i.value.year),1)):D("",!0),i.value.time?(g(),m("span",Z7,E(i.value.time),1)):i.value.episode_current?(g(),m("span",eE,E(i.value.episode_current),1)):D("",!0),i.value.type?(g(),m("span",tE,E(i.value.type==="series"?"Phim b":i.value.type==="single"?"Phim l":i.value.type==="hoathinh"?"Hot hnh":i.value.type),1)):D("",!0),i.value.country&&i.value.country.length>0?(g(),m("span",sE,E(Array.isArray(i.value.country)?i.value.country[0].name||i.value.country[0]:i.value.country),1)):D("",!0)]),R(i.value).length?(g(),m("div",rE,[(g(!0),m(te,null,fe(R(i.value).slice(0,3),(L,U)=>(g(),m("span",{key:U},[se(E(L),1),U<Math.min(2,R(i.value).length-1)?(g(),m("span",nE,"  ")):D("",!0)]))),128))])):D("",!0),a("p",oE,E(i.value.content||"ang cp nht m t..."),1)])])],36)):D("",!0)]))],64))}},ut=Ve(iE,[["__scopeId","data-v-f5b12abc"]]),aE={class:"community-section bg-black py-12 px-4 md:px-12"},lE={class:"max-w-[1920px] mx-auto"},cE={class:"mb-10"},uE={class:"mb-8"},dE={class:"relative group/scroll"},hE={class:"relative z-10"},fE={class:"flex gap-3 mb-3 justify-between"},pE={class:"relative flex-shrink-0"},gE=["src","alt"],vE={key:0,class:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 bg-yellow-400 text-black text-[10px] font-bold px-1.5 py-0.5 rounded-full shadow-lg"},mE={class:"flex-shrink-0"},yE=["src","alt"],bE={class:"mb-2"},wE={class:"flex items-center gap-1.5"},xE={class:"text-white font-bold text-sm drop-shadow-lg"},_E={key:0,class:"text-yellow-400 text-xs"},kE={class:"text-gray-200 text-xs leading-relaxed mb-3 line-clamp-2 drop-shadow-md"},CE={class:"flex items-center gap-4 text-gray-300"},EE={class:"flex items-center gap-1.5 hover:text-green-400 transition-colors"},SE={class:"text-xs font-medium"},TE={class:"flex items-center gap-1.5 hover:text-red-400 transition-colors"},$E={class:"text-xs font-medium"},AE={class:"flex items-center gap-1.5 hover:text-blue-400 transition-colors"},IE={class:"text-xs font-medium"},PE={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},RE={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},OE={class:"space-y-2 mb-3"},ME={key:0,class:"text-center py-4 text-gray-500 text-xs"},jE={class:"text-yellow-400 font-bold text-xs w-5"},NE=["src"],LE={class:"flex-1 min-w-0"},BE={class:"text-white text-xs font-medium truncate"},DE={class:"text-gray-400 text-[10px]"},UE={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},HE={class:"space-y-2 mb-3"},VE={key:0,class:"text-center py-4 text-gray-500 text-xs"},FE={class:"text-yellow-400 font-bold text-xs w-5"},zE=["src"],qE={class:"flex-1 min-w-0"},KE={class:"text-white text-xs font-medium truncate"},WE={class:"text-gray-400 text-[10px]"},GE={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},JE={class:"space-y-3 max-h-[400px] overflow-hidden"},YE={class:"flex items-start gap-2 mb-1.5"},XE=["src"],QE={class:"flex-1 min-w-0"},ZE={class:"flex items-center gap-1.5"},eS={class:"text-white text-xs font-medium"},tS={key:0,class:"text-green-400 text-[10px] animate-pulse"},sS={class:"text-gray-400 text-[10px]"},rS={class:"text-gray-300 text-[11px] line-clamp-2 leading-relaxed"},nS={class:"flex items-center justify-between p-4 border-b border-gray-800"},oS={class:"p-4 overflow-y-auto max-h-[calc(80vh-80px)] scrollbar-hide"},iS={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},aS={class:"relative aspect-[2/3] rounded-lg overflow-hidden mb-2"},lS=["src","alt"],cS={class:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},uS={class:"text-white text-sm font-medium line-clamp-2"},dS={class:"text-gray-400 text-xs"},hS={class:"flex items-center justify-between p-4 border-b border-gray-800"},fS={class:"p-4 overflow-y-auto max-h-[calc(80vh-80px)] scrollbar-hide"},pS={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},gS={class:"relative aspect-[2/3] rounded-lg overflow-hidden mb-2"},vS=["src","alt"],mS={class:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},yS={class:"text-white text-sm font-medium line-clamp-2"},bS={class:"text-gray-400 text-xs"},wS={__name:"CommunitySection",setup(t){const e=_n.BACKEND_URL,s=N(null),r=N([]),n=N([]),o=N([]),i=N([]),l=N([]),c=N(!1),u=N(!1),d=N([{id:1,name:"Hoang Gang",avatar:"https://ui-avatars.com/api/?name=Hoang&background=f59e0b&color=000",time:"va xong",text:"lun l b phim tuyt vi nht m ti tng xem"},{id:2,name:"Margaret Qualley",avatar:"https://ui-avatars.com/api/?name=Margaret&background=ef4444&color=fff",time:"2 pht trc",text:"Tuyt vi! Din xut qu nh"},{id:3,name:"Tsukii",avatar:"https://ui-avatars.com/api/?name=Tsukii&background=3b82f6&color=fff",time:"5 pht trc",text:"Cm n  chia s!"}]),h=[{name:"Minh Anh",text:"Phim hay qu! Ti  xem 3 ln ri "},{name:"Tun Kit",text:"CGI nh cao, xng ng 5 sao "},{name:"Linh Chi",text:"Cm ng qu, ti  khc khi xem "},{name:"Hong Long",text:"Din vin din xut rt t nhin "},{name:"Phng Anh",text:"Ct truyn hp dn t u n cui!"},{name:"c Anh",text:"Nhc phim hay lm, nghe mi khng chn "},{name:"Mai Ly",text:"Phim ny ng xem, recommend mi ngi!"},{name:"Quang Huy",text:"o din ti nng tht! Mi cnh u  ngha"},{name:"Tho Nguyn",text:"Tuyt vi! Khng th b l b phim ny"},{name:"Vn Ton",text:"Phim hay nhng hi di, nn chia lm 2 phn xem"},{name:"Bo Trm",text:"Cnh quay p mt, mu sc rc r "},{name:"Hi Nam",text:"Ni dung su sc, ng suy ngm "},{name:"Khnh Linh",text:"Phim ny lm ti nh v tui th..."},{name:"Duy Khnh",text:"Xem xong mun xem li ngay! "},{name:"Thu H",text:"Din vin ph cng din rt hay!"},{name:"Minh Tun",text:"Phim Vit ngy cng cht lng "},{name:"Ngc Anh",text:"Cm n  chia s phim hay! "},{name:"Trung Hiu",text:"Phim ny ng gi tng pht xem!"},{name:"Lan Hng",text:"Ti  gii thiu cho bn b xem ri "},{name:"Quc Bo",text:"Phim hay, nhng cn ph  tt hn"},{name:"Anh Tun",text:"Xem lc 2h sng vn khng bun ng! "},{name:"Hng Giang",text:"Phim ny viral trn TikTok ri "},{name:"Bo Ngc",text:"Mnh  khc ht c hp khn giy "},{name:"Thanh Tng",text:"Phim xut sc! Oscar phi trao gii cho phim ny"},{name:"Kim Ngn",text:"Nhc nn qu nh, ai bit tn bi khng?"},{name:"Vit Anh",text:"Phim ny phi xem  rp mi !"},{name:"Thy Linh",text:"Cnh cui lm ti sc nng "},{name:"ng Khoa",text:"Phim hay nht nm nay lun!"},{name:"Phng Tho",text:"Ti  mua v xem 2 ln ri "},{name:"Hu Ngha",text:"Din vin chnh qu p trai! "},{name:"Thanh H",text:"Phim ny ng  ch i!"},{name:"Minh Qun",text:"Xem xong mun i du lch ngay! "},{name:"T Anh",text:"Phim ny lm ti suy ngh nhiu v cuc sng"},{name:"Hoi Nam",text:"Cnh hnh ng mn nhn qu! "},{name:"Bch Ngc",text:"Ti  recommend cho c cng ty xem ri"},{name:"Quang Minh",text:"Phim ny xng ng trending #1! "},{name:"Hnh Nhn",text:"Xem i xem li vn thy hay!"},{name:"Tun V",text:"Phim ny phi vo top 10 nm!"},{name:"Ngc Trinh",text:"Cm xc ln xung nh tu ln! "},{name:"c Thnh",text:"Phim ny lm ti ci v khc!"},{name:"Mai Phng",text:"o din thin ti! Respect! "},{name:"Hng Nhung",text:"Phim ny s l huyn thoi!"},{name:"Trng i",text:"Xem xong ti  tr thnh fan cng!"},{name:"Yn Nhi",text:"Phim ny phi c phn 2 thi! "},{name:"Cng Phng",text:"Ti  xem trailer 10 ln ri!"},{name:"Tho My",text:"Phim ny ng  i c nm!"},{name:"Xun Trng",text:"Cnh chin u qu honh trng! "},{name:"Diu Hng",text:"Ti s mua a Bluray v su tm!"},{name:"Minh Hng",text:"Phim ny lm ti tin vo tnh yu! "},{name:"Tun Hng",text:"m thanh Dolby Atmos qu nh! "}],f=["f59e0b","ef4444","3b82f6","10b981","ec4899","8b5cf6","14b8a6","f97316"];let p=4,v=null;const x=()=>{var _;return(_=s.value)==null?void 0:_.scrollBy({left:-280,behavior:"smooth"})},S=()=>{var _;return(_=s.value)==null?void 0:_.scrollBy({left:280,behavior:"smooth"})};Ye([c,u],([_,C])=>{_||C?document.body.style.overflow="hidden":document.body.style.overflow=""});const R=async()=>{var _,C,T;try{const[w,y,L]=await Promise.all([de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:1}}),de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:2}}),de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:3}})]),U=[...((_=w.data)==null?void 0:_.items)||[],...((C=y.data)==null?void 0:C.items)||[],...((T=L.data)==null?void 0:T.items)||[]];if(console.log(" API Response - Total movies:",U.length),U.length>0){const ce=U,K=[{name:"N VL",avatar:"https://ui-avatars.com/api/?name=NVL&background=f59e0b&color=000",text:"Tp mt bc mnh nam chnh tht s, tr li cu hi m c ng ng...",likes:1,dislikes:0,replies:4},{name:"Khuong Nguyen",avatar:"https://ui-avatars.com/api/?name=Khuong&background=3b82f6&color=fff",text:"Ci b ny tht s l hay qu, mnh  xem 3 ln ri m vn thy hay!",likes:5,dislikes:0,replies:2},{name:"Doss Nguyen",avatar:"https://ui-avatars.com/api/?name=Doss&background=ef4444&color=fff",text:"Phim hay lm, din xut tuyt vi, cnh quay p mt!",likes:8,dislikes:1,replies:6},{name:"toni_nguyen",avatar:"https://ui-avatars.com/api/?name=Toni&background=10b981&color=fff",text:"Anime nh cao! Miku chan kawaii qu i mt!",likes:12,dislikes:0,replies:8},{name:"Mai Anh",avatar:"https://ui-avatars.com/api/?name=Mai&background=ec4899&color=fff",text:"Cm ng qu! Ti  khc khi xem phn cui...",likes:15,dislikes:0,replies:10},{name:"Hoang Tuan",avatar:"https://ui-avatars.com/api/?name=Hoang&background=8b5cf6&color=fff",text:"CGI nh cao, xng ng 5 sao! Recommend mi ngi xem",likes:20,dislikes:2,replies:12},{name:"Linh Chi",avatar:"https://ui-avatars.com/api/?name=Linh&background=14b8a6&color=fff",text:"Phim hay nhng hi di, nn chia lm 2 phn xem cho  mt",likes:7,dislikes:1,replies:5},{name:"Minh Khoa",avatar:"https://ui-avatars.com/api/?name=Minh&background=f97316&color=fff",text:"o din ti nng tht! Mi cnh quay u  ngha",likes:18,dislikes:0,replies:9}];r.value=ce.slice(0,8).map((G,he)=>{const z=G.poster_url||G.thumb_url||"",ve=z.startsWith("http")?z:`https://phimimg.com/${z}`;return{id:he+1,...K[he],movieTitle:G.name,moviePoster:ve}});const B=8,j=10;o.value=ce.slice(B,B+j).map(G=>{const he=G.poster_url||G.thumb_url||"";return{title:G.name,year:G.year||2024,poster:he.startsWith("http")?he:`https://phimimg.com/${he}`}}),n.value=o.value.slice(0,5);const $=B+j,b=10;l.value=ce.slice($,$+b).map(G=>{const he=G.poster_url||G.thumb_url||"";return{title:G.name,year:G.year||2024,poster:he.startsWith("http")?he:`https://phimimg.com/${he}`}}),i.value=l.value.slice(0,5),console.log(" Total movies from API:",ce.length),console.log(" Trending Movies (display):",n.value.length,n.value),console.log(" Trending Movies (all):",o.value.length),console.log(" Favorite Movies (display):",i.value.length,i.value),console.log(" Favorite Movies (all):",l.value.length),console.log(" Top Comments:",r.value),console.log(" Trending:",n.value),console.log(" Favorites:",i.value)}}catch(w){console.log(" Could not load movies:",w.message)}},P=async()=>{var _;try{const C=await de.get(`${e}/community.php`);if(console.log(" Community data:",C.data),C.data.success){const T=C.data.data;(_=T.recent_comments)!=null&&_.length&&(d.value=T.recent_comments.map(w=>{let y=w.avatar;if(!y||y.includes("ui-avatars.com")){const L=w.full_name||w.username||"User";y=`https://ui-avatars.com/api/?name=${encodeURIComponent(L)}&background=f59e0b&color=000&size=128`}return{id:w.id,name:w.full_name||w.username,avatar:y,time:w.time_ago,text:w.content}}),console.log(" Updated recent comments:",d.value.length),d.value.forEach((w,y)=>{console.log(`Comment ${y+1}:`,{name:w.name,avatar:w.avatar,text:w.text.substring(0,30)})}))}}catch(C){console.log(" Could not load community data:",C.message)}},A=()=>{const _=h[Math.floor(Math.random()*h.length)],C=f[Math.floor(Math.random()*f.length)],T={id:p++,name:_.name,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(_.name)}&background=${C}&color=fff`,time:"va xong",text:_.text};d.value.unshift(T),d.value.length>10&&d.value.pop(),d.value.forEach((w,y)=>{y===0?w.time="va xong":y===1?w.time="1 pht trc":y===2?w.time="2 pht trc":w.time=`${y+1} pht trc`})},I=()=>{const _=()=>{A();const C=Math.floor(Math.random()*2e3)+2e3;v=setTimeout(_,C)};v=setTimeout(_,2e3)},k=()=>{v&&(clearTimeout(v),v=null)};return Ge(()=>{P(),R(),I()}),qt(()=>{k()}),(_,C)=>(g(),m("div",aE,[a("div",lE,[a("div",cE,[Q(Yc,{onCommentAdded:P})]),a("div",uE,[C[19]||(C[19]=a("div",{class:"flex items-center gap-2 mb-4"},[a("div",{class:"w-8 h-8 bg-yellow-400/10 rounded-lg flex items-center justify-center"},[a("span",{class:"text-lg"},"")]),a("h3",{class:"text-base font-bold text-white uppercase tracking-wide"},"TOP BNH LUN")],-1)),a("div",dE,[a("button",{onClick:x,class:"absolute left-1 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-gray-900/90 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/scroll:opacity-100"},C[13]||(C[13]=[a("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),a("button",{onClick:S,class:"absolute right-1 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-gray-900/90 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/scroll:opacity-100"},C[14]||(C[14]=[a("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),a("div",{ref_key:"topScrollRef",ref:s,class:"flex gap-4 overflow-x-auto scrollbar-hide py-4 px-2 scroll-smooth"},[(g(!0),m(te,null,fe(r.value,(T,w)=>(g(),m("div",{key:T.id,class:"flex-none w-[300px] rounded-xl p-4 border border-gray-700/30 hover:border-yellow-400/50 transition-all duration-300 cursor-pointer hover:scale-[1.01] hover:shadow-lg hover:shadow-yellow-400/20 relative overflow-hidden group"},[a("div",{class:"absolute inset-0 bg-cover bg-center transition-all duration-300",style:ht({backgroundImage:`url(${T.moviePoster})`})},null,4),C[18]||(C[18]=a("div",{class:"absolute inset-0 bg-black/70 backdrop-blur-sm group-hover:bg-black/60 transition-all duration-300"},null,-1)),a("div",hE,[a("div",fE,[a("div",pE,[a("img",{src:T.avatar,alt:T.name,class:"w-14 h-14 rounded-full border-3 border-gray-700/50 group-hover:border-yellow-400 transition-all shadow-lg"},null,8,gE),w===0?(g(),m("div",vE,"")):D("",!0)]),a("div",mE,[a("img",{src:T.moviePoster,alt:T.movieTitle,class:"w-16 h-24 rounded-md object-cover border border-gray-700/50 group-hover:border-yellow-400/50 transition-all shadow-lg",onError:C[0]||(C[0]=y=>y.target.src="https://placehold.co/64x96/1a1a1a/fff?text=No+Image")},null,40,yE)])]),a("div",bE,[a("div",wE,[a("h4",xE,E(T.name),1),w===0?(g(),m("span",_E,"")):D("",!0)])]),a("p",kE,E(T.text),1),a("div",CE,[a("button",EE,[C[15]||(C[15]=a("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})],-1)),a("span",SE,E(T.likes),1)]),a("button",TE,[C[16]||(C[16]=a("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"})],-1)),a("span",$E,E(T.dislikes),1)]),a("button",AE,[C[17]||(C[17]=a("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z","clip-rule":"evenodd"})],-1)),a("span",IE,E(T.replies),1)])])])]))),128))],512)])]),a("div",PE,[a("div",RE,[C[20]||(C[20]=a("div",{class:"flex items-center gap-2 mb-3"},[a("span",{class:"text-base"},""),a("h3",{class:"text-sm font-bold text-white uppercase"},"SI NI NHT")],-1)),a("div",OE,[n.value.length===0?(g(),m("div",ME," ang ti phim... ")):D("",!0),(g(!0),m(te,null,fe(n.value,(T,w)=>(g(),m("div",{key:w,class:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[a("span",jE,E(w+1),1),a("img",{src:T.poster,class:"w-8 h-11 rounded object-cover",onError:C[1]||(C[1]=y=>y.target.src="https://placehold.co/32x44/1a1a1a/fff?text=?")},null,40,NE),a("div",LE,[a("p",BE,E(T.title),1),a("p",DE,E(T.year),1)])]))),128))]),a("button",{onClick:C[2]||(C[2]=T=>c.value=!0),class:"w-full py-2 text-xs text-yellow-400 hover:text-yellow-300 font-medium transition-colors border-t border-gray-800 pt-3"}," Xem thm  ")]),a("div",UE,[C[21]||(C[21]=a("div",{class:"flex items-center gap-2 mb-3"},[a("span",{class:"text-base"},""),a("h3",{class:"text-sm font-bold text-white uppercase"},"YU THCH NHT")],-1)),a("div",HE,[i.value.length===0?(g(),m("div",VE," ang ti phim... ")):D("",!0),(g(!0),m(te,null,fe(i.value,(T,w)=>(g(),m("div",{key:w,class:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[a("span",FE,E(w+1),1),a("img",{src:T.poster,class:"w-8 h-11 rounded object-cover",onError:C[3]||(C[3]=y=>y.target.src="https://placehold.co/32x44/1a1a1a/fff?text=?")},null,40,zE),a("div",qE,[a("p",KE,E(T.title),1),a("p",WE,E(T.year),1)])]))),128))]),a("button",{onClick:C[4]||(C[4]=T=>u.value=!0),class:"w-full py-2 text-xs text-yellow-400 hover:text-yellow-300 font-medium transition-colors border-t border-gray-800 pt-3"}," Xem thm  ")]),a("div",GE,[C[22]||(C[22]=a("div",{class:"flex items-center gap-2 mb-3"},[a("span",{class:"text-base"},""),a("h3",{class:"text-sm font-bold text-white uppercase"},"BNH LUN MI")],-1)),a("div",JE,[Q(xc,{name:"comment-list"},{default:xe(()=>[(g(!0),m(te,null,fe(d.value.slice(0,5),T=>(g(),m("div",{key:T.id,class:"p-2 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[a("div",YE,[a("img",{src:T.avatar,class:"w-7 h-7 rounded-full"},null,8,XE),a("div",QE,[a("div",ZE,[a("p",eS,E(T.name),1),T.time==="va xong"?(g(),m("span",tS,"")):D("",!0)]),a("p",sS,E(T.time),1)])]),a("p",rS,E(T.text),1)]))),128))]),_:1})])])])]),Q(dt,{name:"modal"},{default:xe(()=>[c.value?(g(),m("div",{key:0,onClick:C[8]||(C[8]=T=>c.value=!1),class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"},[a("div",{onClick:C[7]||(C[7]=$t(()=>{},["stop"])),class:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden border border-gray-800 modal-content"},[a("div",nS,[C[24]||(C[24]=a("div",{class:"flex items-center gap-2"},[a("span",{class:"text-2xl"},""),a("h2",{class:"text-xl font-bold text-white"},"SI NI NHT")],-1)),a("button",{onClick:C[5]||(C[5]=T=>c.value=!1),class:"text-gray-400 hover:text-white transition-colors"},C[23]||(C[23]=[a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a("div",oS,[a("div",iS,[(g(!0),m(te,null,fe(o.value,(T,w)=>(g(),m("div",{key:w,class:"group cursor-pointer"},[a("div",aS,[a("img",{src:T.poster,alt:T.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:C[6]||(C[6]=y=>y.target.src="https://placehold.co/200x300/1a1a1a/fff?text=No+Image")},null,40,lS),a("div",cS,E(w+1),1)]),a("p",uS,E(T.title),1),a("p",dS,E(T.year),1)]))),128))])])])])):D("",!0)]),_:1}),Q(dt,{name:"modal"},{default:xe(()=>[u.value?(g(),m("div",{key:0,onClick:C[12]||(C[12]=T=>u.value=!1),class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"},[a("div",{onClick:C[11]||(C[11]=$t(()=>{},["stop"])),class:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden border border-gray-800 modal-content"},[a("div",hS,[C[26]||(C[26]=a("div",{class:"flex items-center gap-2"},[a("span",{class:"text-2xl"},""),a("h2",{class:"text-xl font-bold text-white"},"YU THCH NHT")],-1)),a("button",{onClick:C[9]||(C[9]=T=>u.value=!1),class:"text-gray-400 hover:text-white transition-colors"},C[25]||(C[25]=[a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a("div",fS,[a("div",pS,[(g(!0),m(te,null,fe(l.value,(T,w)=>(g(),m("div",{key:w,class:"group cursor-pointer"},[a("div",gS,[a("img",{src:T.poster,alt:T.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:C[10]||(C[10]=y=>y.target.src="https://placehold.co/200x300/1a1a1a/fff?text=No+Image")},null,40,vS),a("div",mS,E(w+1),1)]),a("p",yS,E(T.title),1),a("p",bS,E(T.year),1)]))),128))])])])])):D("",!0)]),_:1})]))}},xS=Ve(wS,[["__scopeId","data-v-a90a47ad"]]),_S={class:"featured-section"},kS={class:"carousel-container"},CS={class:"card-inner"},ES=["src","alt"],SS={class:"card-overlay"},TS={class:"card-content"},$S={class:"card-title"},AS={class:"card-meta"},IS={class:"card-year"},PS={class:"card-rating"},RS={class:"carousel-indicators"},OS=["onClick"],MS={__name:"FeaturedCarousel",setup(t){const e=N([]),s=N(0),r=N(null),n=N(!1),o=N(0),i=N(0),l=N(0),c=I=>{const k=I-s.value,_=Math.abs(k);if(_>5)return{display:"none"};const C=30-_,T=_===0?1.05:1-_*.12,w=1-_*.2,y=k*70+l.value,L=_*15,U=k*6;return{transform:`translateX(${y}%) translateY(${L}px) scale(${T}) rotateY(${U}deg)`,zIndex:C,opacity:w,transition:n.value?"none":"all 0.7s cubic-bezier(0.34, 1.56, 0.64, 1)"}},u=()=>{s.value<e.value.length-1?s.value++:s.value=0,h(s.value)},d=()=>{s.value>0?s.value--:s.value=e.value.length-1,h(s.value)},h=I=>{s.value=I,setTimeout(()=>{const k=document.querySelector(".carousel-indicators"),_=document.querySelector(".indicator.active");k&&_&&_.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},100)},f=I=>{I.target.src="https://placehold.co/300x450/1a1a1a/fff?text=No+Image"},p=I=>{n.value=!0,o.value=I.clientX,i.value=I.clientX},v=I=>{if(!n.value)return;I.preventDefault(),i.value=I.clientX;const k=i.value-o.value,_=100,C=k/window.innerWidth*300;l.value=Math.max(-100,Math.min(_,C))},x=()=>{if(!n.value)return;const I=i.value-o.value;I>30?d():I<-30&&u(),n.value=!1,l.value=0},S=I=>{n.value=!0,o.value=I.touches[0].clientX,i.value=I.touches[0].clientX},R=I=>{if(!n.value)return;I.preventDefault(),i.value=I.touches[0].clientX;const k=i.value-o.value,_=100,C=k/window.innerWidth*300;l.value=Math.max(-100,Math.min(_,C))},P=()=>{x()},A=async()=>{var I,k;try{const _=await de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:1}});(k=(I=_.data)==null?void 0:I.items)!=null&&k.length&&(e.value=_.data.items.slice(0,20).map(C=>{var T;return{title:C.name,year:C.year||2024,rating:(Math.random()*2+7).toFixed(1),poster:(T=C.poster_url)!=null&&T.startsWith("http")?C.poster_url:`https://phimimg.com/${C.poster_url}`}}),s.value=Math.floor(e.value.length/2))}catch(_){console.error("Failed to fetch movies:",_)}};return Ge(()=>{A(),document.addEventListener("mousemove",v),document.addEventListener("mouseup",x);const I=r.value;I&&(I.addEventListener("touchmove",R),I.addEventListener("touchend",P))}),qt(()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",x);const I=r.value;I&&(I.removeEventListener("touchmove",R),I.removeEventListener("touchend",P))}),(I,k)=>(g(),m("div",_S,[k[3]||(k[3]=a("div",{class:"section-header"},[a("h2",{class:"section-title"}," Phim  C"),a("p",{class:"section-subtitle"},"Nhng b phim c  xut dnh ring cho bn")],-1)),a("div",kS,[a("div",{class:"cards-wrapper",ref_key:"cardsWrapper",ref:r,onMousedown:p,onTouchstart:S},[(g(!0),m(te,null,fe(e.value,(_,C)=>(g(),m("div",{key:C,class:"movie-card",style:ht(c(C))},[a("div",CS,[a("img",{src:_.poster,alt:_.title,class:"card-poster",onError:f},null,40,ES),a("div",SS,[a("div",TS,[a("h3",$S,E(_.title),1),a("div",AS,[a("span",IS,E(_.year),1),a("span",PS," "+E(_.rating),1)]),k[0]||(k[0]=a("button",{class:"card-button"},[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})]),se(" Xem Ngay ")],-1))])])])],4))),128))],544),a("div",{class:"carousel-controls"},[a("button",{onClick:d,class:"control-btn prev-btn"},k[1]||(k[1]=[a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),a("button",{onClick:u,class:"control-btn next-btn"},k[2]||(k[2]=[a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),a("div",RS,[(g(!0),m(te,null,fe(e.value,(_,C)=>(g(),m("button",{key:C,onClick:T=>h(C),class:X(["indicator",{active:s.value===C}])},null,10,OS))),128))])])]))}},jS=Ve(MS,[["__scopeId","data-v-1f117a6b"]]),NS={class:"bg-black min-h-screen text-white"},LS={key:0,class:"absolute inset-0 z-10 overflow-hidden"},BS=["src"],DS={key:1,class:"absolute inset-0"},US=["src","alt"],HS={class:"relative z-10 h-full flex items-center container mx-auto px-4 sm:px-6 lg:px-8 pt-20"},VS={class:"max-w-2xl"},FS={class:"text-3xl md:text-4xl lg:text-5xl font-extrabold mb-3 uppercase tracking-tight leading-tight text-white",style:{"text-shadow":"3px 3px 10px rgba(0,0,0,1), 0 0 30px rgba(0,0,0,0.9), 0 0 50px rgba(0,0,0,0.7)"}},zS={class:"text-base md:text-lg text-white mb-4 font-semibold",style:{"text-shadow":"2px 2px 8px rgba(0,0,0,1), 0 0 15px rgba(0,0,0,0.8)"}},qS={class:"flex flex-wrap gap-2 mb-4"},KS={key:0,class:"bg-yellow-500 text-black px-3 py-1 rounded text-xs font-bold uppercase shadow-xl"},WS={key:1,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold uppercase shadow-xl border-2 border-gray-700"},GS={key:2,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},JS={key:3,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},YS={key:0,class:"flex flex-wrap gap-2 mb-5 text-sm"},XS={class:"text-sm md:text-base mb-6 line-clamp-3 text-white leading-relaxed max-w-xl font-semibold",style:{"text-shadow":"2px 2px 8px rgba(0,0,0,1), 0 0 15px rgba(0,0,0,0.9)"}},QS={class:"flex flex-wrap gap-3"},ZS=["onClick"],eT=["onClick"],tT={class:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-2"},sT=["onClick"],rT={class:"container mx-auto px-4 sm:px-6 lg:px-8 pt-10 pb-10 relative z-20"},nT={__name:"Homepage",setup(t){const e=ot(),s=N([]),r=N(0),n=N([]),o=N([]),i=N([]),l=N([]),c=N([]),u=N([]),d=N([]),h=N(!1),f=N(""),p=N(null);let v=0,x=0,S=!1;const R=N(!1),P=N(""),A=be(()=>s.value[r.value]||null),I=$=>{$!=null&&$.slug&&(P.value=$.slug,R.value=!0)},k=$=>{console.log(" Opening new movie from modal:",$),P.value=$,R.value=!0},_=$=>{$!=null&&$.slug&&e.push(`/film/${$.slug}`)},C=$=>{if(!$)return"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg";if($.thumb_url){const b=$.thumb_url.startsWith("http")?$.thumb_url:`https://phimimg.com/${$.thumb_url}`;return console.log(" Banner using thumb_url:",b),b}return $.poster_url?$.poster_url.startsWith("http")?$.poster_url:`https://phimimg.com/${$.poster_url}`:"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},T=$=>{$.target.src="https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},w=$=>{var G,he;if(!$){h.value=!1,f.value="";return}let b=$;if($.includes("youtube.com/watch")){const z=(G=$.split("v=")[1])==null?void 0:G.split("&")[0];b=`https://www.youtube.com/embed/${z}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${z}&iv_load_policy=3&disablekb=1&fs=0&vq=hd1080&hd=1&quality=highres`}else if($.includes("youtu.be/")){const z=(he=$.split("youtu.be/")[1])==null?void 0:he.split("?")[0];b=`https://www.youtube.com/embed/${z}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${z}&iv_load_policy=3&disablekb=1&fs=0&vq=hd1080&hd=1&quality=highres`}h.value=!1,setTimeout(()=>{f.value=b,h.value=!0},500)},y=()=>{r.value=(r.value+1)%s.value.length;const $=s.value[r.value];$!=null&&$.trailer_url?w($.trailer_url):h.value=!1},L=()=>{r.value=r.value===0?s.value.length-1:r.value-1;const $=s.value[r.value];$!=null&&$.trailer_url?w($.trailer_url):h.value=!1},U=$=>{r.value=$;const b=s.value[$];b!=null&&b.trailer_url?w(b.trailer_url):h.value=!1},ce=$=>{S||Math.abs($.deltaX)>Math.abs($.deltaY)&&($.preventDefault(),S=!0,$.deltaX>0?y():L(),setTimeout(()=>{S=!1},800))},K=$=>{v=$.changedTouches[0].screenX},B=$=>{x=$.changedTouches[0].screenX},j=()=>{if(S)return;const $=v-x;Math.abs($)>50&&(S=!0,$>0?y():L(),setTimeout(()=>{S=!1},800))};return Ge(async()=>{var $,b,G,he,z,ve,ye,He,ge,J,F,ae,ee,pe,Me,O,M,H;try{console.log(" Loading movies from API...");const[q,Y,W,ue,re,ne,Z,ie,le]=await Promise.all([de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=2"),de.get("https://phimapi.com/v1/api/danh-sach/phim-bo?page=1&limit=30"),de.get("https://phimapi.com/v1/api/danh-sach/phim-le?page=1&limit=30"),de.get("https://phimapi.com/v1/api/quoc-gia/han-quoc?page=1&limit=25"),de.get("https://phimapi.com/v1/api/quoc-gia/trung-quoc?page=1&limit=25"),de.get("https://phimapi.com/v1/api/quoc-gia/nhat-ban?page=1&limit=25"),de.get("https://phimapi.com/v1/api/tim-kiem?keyword=hoc vien sieu anh hung")]);console.log(" API calls completed");try{const _e=((b=($=le==null?void 0:le.data)==null?void 0:$.data)==null?void 0:b.items)||[];if(console.log(" My Hero Academia search results:",_e.length),_e.length>0){const Pe=_e[0];try{const Oe=await de.get(`https://phimapi.com/phim/${Pe.slug}`);(G=Oe.data)!=null&&G.movie?s.value.push({...Pe,content:Oe.data.movie.content||Pe.content,trailer_url:Oe.data.movie.trailer_url}):s.value.push(Pe)}catch{console.log(" Could not fetch My Hero detail, using basic info"),s.value.push(Pe)}}}catch{console.log(" My Hero Academia search failed, skipping")}const oe=((he=q.data.items)==null?void 0:he.slice(0,2))||((ve=(z=q.data.data)==null?void 0:z.items)==null?void 0:ve.slice(0,2))||[];for(const _e of oe)if(_e!=null&&_e.slug)try{const Pe=await de.get(`https://phimapi.com/phim/${_e.slug}`);(ye=Pe.data)!=null&&ye.movie?s.value.push({..._e,content:Pe.data.movie.content||_e.content,trailer_url:Pe.data.movie.trailer_url}):s.value.push(_e)}catch{s.value.push(_e)}(He=s.value[0])!=null&&He.trailer_url&&w(s.value[0].trailer_url),console.log(" Featured movies loaded:",s.value.length);const Ce=Y.data.items||((ge=Y.data.data)==null?void 0:ge.items)||[];n.value=Ce.sort((_e,Pe)=>{const Oe={FHD:3,HD:2,SD:1,"":0},it=Oe[_e.quality]||0,at=Oe[Pe.quality]||0;if(it!==at)return at-it;const Nt=parseInt(_e.year)||0;return(parseInt(Pe.year)||0)-Nt}),o.value=W.data.items||((J=W.data.data)==null?void 0:J.items)||[],i.value=((F=ue.data.data)==null?void 0:F.items)||[],l.value=((ae=re.data.data)==null?void 0:ae.items)||[],c.value=((ee=ne.data.data)==null?void 0:ee.items)||[],u.value=((pe=Z.data.data)==null?void 0:pe.items)||[],d.value=((Me=ie.data.data)==null?void 0:Me.items)||[],console.log(" Movies loaded successfully"),console.log(" Featured:",(O=A.value)==null?void 0:O.name),console.log(" Content:",(H=(M=A.value)==null?void 0:M.content)==null?void 0:H.substring(0,100))}catch(q){console.error(" Error loading movies:",q),Le.error("Khng th ti d liu phim")}}),qt(()=>{}),($,b)=>{var G,he,z,ve,ye,He;return g(),m("div",NS,[a("div",{ref_key:"heroBannerRef",ref:p,class:"relative h-[85vh] overflow-hidden group/hero pt-16",onWheel:ce,onTouchstart:K,onTouchmove:B,onTouchend:j},[(g(!0),m(te,null,fe(s.value,(ge,J)=>{var F;return g(),m("div",{key:ge.slug,class:X(["absolute inset-0 transition-opacity duration-700",r.value===J?"opacity-100 z-10":"opacity-0 z-0"])},[h.value&&r.value===J&&f.value?(g(),m("div",LS,[a("iframe",{src:f.value,class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.77vh] h-[56.25vw] min-h-full min-w-full",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:"",style:{"pointer-events":"none"}},null,8,BS),b[1]||(b[1]=a("div",{class:"absolute inset-0 pointer-events-none"},[a("div",{class:"absolute top-0 right-0 w-32 h-20 bg-black"})],-1))])):D("",!0),!h.value||r.value!==J?(g(),m("div",DS,[a("img",{src:C(ge),class:"w-full h-full object-cover",alt:ge.name,onError:T},null,40,US),b[2]||(b[2]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent"},null,-1)),b[3]||(b[3]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"},null,-1))])):D("",!0),a("div",HS,[a("div",VS,[a("h1",FS,E((ge==null?void 0:ge.name)||"KHM PH PHIM HAY"),1),a("p",zS,E((ge==null?void 0:ge.origin_name)||""),1),a("div",qS,[ge!=null&&ge.quality?(g(),m("span",KS,E(ge.quality),1)):D("",!0),ge!=null&&ge.lang?(g(),m("span",WS,E(ge.lang),1)):D("",!0),ge!=null&&ge.year?(g(),m("span",GS,E(ge.year),1)):D("",!0),ge!=null&&ge.time?(g(),m("span",JS,E(ge.time),1)):D("",!0)]),(F=ge==null?void 0:ge.category)!=null&&F.length?(g(),m("div",YS,[(g(!0),m(te,null,fe(ge.category.slice(0,4),(ae,ee)=>(g(),m("span",{key:ee,class:"text-white font-bold",style:{"text-shadow":"2px 2px 6px rgba(0,0,0,1), 0 0 10px rgba(0,0,0,0.9)"}},E(ae.name),1))),128))])):D("",!0),a("p",XS,E((ge==null?void 0:ge.content)||"Khm ph nhng b phim tuyt vi cng HTHREE"),1),a("div",QS,[a("button",{onClick:ae=>_(ge),class:"flex items-center gap-2 bg-yellow-400 text-black px-8 py-3.5 rounded-full font-bold text-base hover:bg-yellow-500 transition-all shadow-xl hover:scale-105"},b[4]||(b[4]=[a("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),se(" Xem Ngay ")]),8,ZS),b[6]||(b[6]=a("button",{class:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3.5 rounded-full font-bold text-base hover:bg-white/30 transition-all border border-white/30"},[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),a("button",{onClick:ae=>I(ge),class:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3.5 rounded-full font-bold text-base hover:bg-white/30 transition-all border border-white/30",title:"Cc tp & Thng tin"},b[5]||(b[5]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),8,eT)])])])],2)}),128)),a("div",tT,[(g(!0),m(te,null,fe(s.value,(ge,J)=>(g(),m("button",{key:`dot-${ge.slug}`,onClick:F=>U(J),class:X(["transition-all duration-500 ease-out rounded-full transform hover:scale-125",r.value===J?"w-10 h-2.5 bg-yellow-400 shadow-lg shadow-yellow-400/50":"w-2.5 h-2.5 bg-white/50 hover:bg-white/80"])},null,10,sT))),128))])],544),Q(jS),a("div",rT,[(G=o.value)!=null&&G.length?(g(),Ae(ut,{key:0,title:" Phim Mi Cp Nht",movies:o.value},null,8,["movies"])):D("",!0),(he=i.value)!=null&&he.length?(g(),Ae(ut,{key:1,title:" Phim B Hot",movies:i.value},null,8,["movies"])):D("",!0),(z=l.value)!=null&&z.length?(g(),Ae(ut,{key:2,title:" Phim L Mi",movies:l.value},null,8,["movies"])):D("",!0),(ve=c.value)!=null&&ve.length?(g(),Ae(ut,{key:3,title:" Phim Hn Quc",movies:c.value},null,8,["movies"])):D("",!0),(ye=u.value)!=null&&ye.length?(g(),Ae(ut,{key:4,title:" Phim Trung Quc",movies:u.value},null,8,["movies"])):D("",!0),(He=d.value)!=null&&He.length?(g(),Ae(ut,{key:5,title:" Phim Anime",movies:d.value},null,8,["movies"])):D("",!0)]),Q(xS),Q(Xc,{"is-open":R.value,"movie-slug":P.value,onClose:b[0]||(b[0]=ge=>R.value=!1),onOpenMovie:k},null,8,["is-open","movie-slug"])])}}},oT=Ve(nT,[["__scopeId","data-v-b70a0d60"]]),iT={class:"banner-carousel mb-16 px-4 md:px-12"},aT={class:"flex items-center gap-3 mb-6"},lT={class:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent"},cT={class:"relative group/carousel"},uT={class:"relative h-[400px] md:h-[500px] rounded-2xl overflow-hidden"},dT=["src","alt"],hT={class:"absolute inset-0 flex items-end"},fT={class:"p-8 md:p-12 max-w-2xl"},pT={class:"text-3xl md:text-5xl font-bold mb-3 drop-shadow-2xl"},gT={class:"text-sm md:text-base text-gray-300 mb-3"},vT={class:"flex gap-2 mb-4 flex-wrap"},mT={key:0,class:"bg-yellow-500 text-black px-3 py-1 rounded text-xs font-bold uppercase shadow-xl"},yT={key:1,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold uppercase shadow-xl border-2 border-gray-700"},bT={key:2,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},wT={key:3,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},xT={key:0,class:"flex flex-wrap gap-2 mb-4 text-sm"},_T={class:"text-sm md:text-base text-gray-200 mb-6 line-clamp-2 leading-relaxed"},kT=["onClick"],CT={class:"absolute bottom-6 left-1/2 -translate-x-1/2 z-20 flex gap-2"},ET=["onClick"],ST={__name:"BannerCarousel",props:{title:{type:String,required:!0},movies:{type:Array,default:()=>[]}},setup(t){const e=t,s=ot(),r=N(0);let n=null;const o=f=>f.thumb_url?f.thumb_url.startsWith("http")?f.thumb_url:`https://phimimg.com/${f.thumb_url}`:f.poster_url?f.poster_url.startsWith("http")?f.poster_url:`https://phimimg.com/${f.poster_url}`:"https://placehold.co/1200x500/1a1a1a/fff?text=Banner",i=()=>{r.value=(r.value+1)%e.movies.length},l=()=>{r.value=r.value===0?e.movies.length-1:r.value-1},c=f=>{r.value=f},u=f=>{f.slug&&s.push(`/film/${f.slug}`)},d=()=>{n=setInterval(()=>{i()},8e3)},h=()=>{n&&clearInterval(n)};return Ge(()=>{d()}),qt(()=>{h()}),(f,p)=>(g(),m("div",iT,[a("div",aT,[p[0]||(p[0]=a("div",{class:"w-1 h-8 bg-yellow-400 rounded-full"},null,-1)),a("h2",lT,E(t.title),1)]),a("div",cT,[a("div",uT,[(g(!0),m(te,null,fe(t.movies,(v,x)=>{var S;return g(),m("div",{key:v.slug,class:X(["absolute inset-0 transition-all duration-1000 ease-in-out",r.value===x?"opacity-100 scale-100 z-10":"opacity-0 scale-105 z-0"])},[a("img",{src:o(v),alt:v.name,class:"w-full h-full object-cover"},null,8,dT),p[2]||(p[2]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-black via-black/70 to-transparent"},null,-1)),p[3]||(p[3]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/30"},null,-1)),a("div",hT,[a("div",fT,[a("h3",pT,E(v.name),1),a("p",gT,E(v.origin_name),1),a("div",vT,[v.quality?(g(),m("span",mT,E(v.quality),1)):D("",!0),v.lang?(g(),m("span",yT,E(v.lang),1)):D("",!0),v.year?(g(),m("span",bT,E(v.year),1)):D("",!0),v.time?(g(),m("span",wT,E(v.time),1)):D("",!0)]),(S=v==null?void 0:v.category)!=null&&S.length?(g(),m("div",xT,[(g(!0),m(te,null,fe(v.category.slice(0,4),(R,P)=>(g(),m("span",{key:P,class:"text-gray-300 font-semibold"},E(R.name),1))),128))])):D("",!0),a("p",_T,E(v.content),1),a("button",{onClick:R=>u(v),class:"flex items-center gap-2 bg-yellow-400 text-black px-6 py-3 rounded-full font-bold hover:bg-yellow-500 transition-all shadow-lg hover:shadow-yellow-400/50"},p[1]||(p[1]=[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),se(" Xem Ngay ")]),8,kT)])])],2)}),128))]),a("button",{onClick:l,class:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-black/50 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/carousel:opacity-100 hover:scale-110"},p[4]||(p[4]=[a("svg",{class:"w-6 h-6 text-white hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),a("button",{onClick:i,class:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-black/50 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/carousel:opacity-100 hover:scale-110"},p[5]||(p[5]=[a("svg",{class:"w-6 h-6 text-white hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),a("div",CT,[(g(!0),m(te,null,fe(t.movies,(v,x)=>(g(),m("button",{key:`dot-${v.slug}`,onClick:S=>c(x),class:X(["transition-all duration-500 rounded-full",r.value===x?"w-8 h-2 bg-yellow-400":"w-2 h-2 bg-white/50 hover:bg-white/80 hover:scale-125"])},null,10,ET))),128))])])]))}},Ah=Ve(ST,[["__scopeId","data-v-57e5b631"]]),TT={class:"netflix-home bg-black min-h-screen text-white"},$T={class:"hero-section relative h-[85vh] overflow-hidden group/hero"},AT={class:"absolute inset-0"},IT=["src","alt"],PT={class:"relative z-10 h-full flex items-center"},RT={class:"container mx-auto px-4 md:px-12 flex items-end pb-20 gap-8"},OT={class:"flex-1 max-w-3xl"},MT={class:"text-4xl md:text-6xl lg:text-7xl font-bold mb-4 drop-shadow-2xl uppercase tracking-tight leading-tight"},jT={class:"text-sm md:text-base text-gray-300 mb-3"},NT={class:"flex gap-2 mb-4 flex-wrap"},LT={key:0,class:"bg-yellow-500 text-black px-3 py-1 rounded text-xs font-bold uppercase shadow-xl"},BT={key:1,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold uppercase shadow-xl border-2 border-gray-700"},DT={key:2,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},UT={key:3,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},HT={class:"flex gap-3 mb-4 flex-wrap text-sm"},VT={class:"text-sm md:text-base mb-6 line-clamp-3 text-gray-200 max-w-2xl leading-relaxed"},FT={class:"flex gap-4 items-center"},zT=["onClick"],qT=["onClick"],KT={class:"hidden xl:flex flex-col gap-3 flex-shrink-0"},WT=["onClick"],GT=["src","alt"],JT={class:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-2"},YT=["onClick"],XT={class:"movie-rows -mt-20 relative z-20 pb-20"},QT={__name:"NetflixHomepage",setup(t){const e=ot(),s=N([]),r=N(0);let n=null;const o=N([]),i=N([]),l=N([]),c=N([]),u=N([]),d=N([]),h=N([]),f=N([]),p=N([]),v=N([]),x=N([]),S=N([]),R=N([]),P=L=>{L!=null&&L.slug&&e.push(`/film/${L.slug}`)},A=L=>{if(console.log(" getBannerImage called with movie:",L),!L)return console.log(" No movie provided, using fallback"),"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg";if(L.thumb_url){const U=L.thumb_url.startsWith("http")?L.thumb_url:`https://phimimg.com/${L.thumb_url}`;return console.log(" Using thumb_url:",U),U}if(L.poster_url){const U=L.poster_url.startsWith("http")?L.poster_url:`https://phimimg.com/${L.poster_url}`;return console.log(" Using poster_url:",U),U}return console.log(" No image found, using fallback"),"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},I=L=>{L.target.src="https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},k=()=>{r.value=(r.value+1)%s.value.length,y()},_=()=>{r.value=r.value===0?s.value.length-1:r.value-1,y()},C=L=>{r.value=L,y()},T=()=>{n=setInterval(()=>{k()},1e4)},w=()=>{n&&clearInterval(n)},y=()=>{w(),T()};return Ge(async()=>{var L,U,ce,K,B,j,$,b,G,he,z,ve,ye,He;try{console.log(" Starting to load movies from API...");const[ge,J,F,ae,ee,pe,Me,O,M,H,q,Y,W,ue]=await Promise.all([de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),de.get("https://phimapi.com/v1/api/quoc-gia/han-quoc?page=1"),de.get("https://phimapi.com/v1/api/quoc-gia/trung-quoc?page=1"),de.get("https://phimapi.com/v1/api/quoc-gia/nhat-ban?page=1"),de.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=2"),de.get("https://phimapi.com/v1/api/danh-sach/phim-bo?page=1"),de.get("https://phimapi.com/v1/api/danh-sach/phim-le?page=1"),de.get("https://phimapi.com/v1/api/the-loai/hanh-dong?page=1"),de.get("https://phimapi.com/v1/api/the-loai/tam-ly?page=1"),de.get("https://phimapi.com/v1/api/the-loai/hai-huoc?page=1"),de.get("https://phimapi.com/v1/api/the-loai/kinh-di?page=1"),de.get("https://phimapi.com/v1/api/tim-kiem?keyword=hoc vien sieu anh hung"),de.get("https://phimapi.com/v1/api/tim-kiem?keyword=one punch man")]);console.log(" Featured API response:",ge.data);const re=ge.data.items||((L=ge.data.data)==null?void 0:L.items)||[];s.value=re.slice(0,5),console.log(" Featured movies count:",s.value.length),o.value=J.data.items||((U=J.data.data)==null?void 0:U.items)||[],i.value=((ce=F.data.data)==null?void 0:ce.items)||[],l.value=((K=ae.data.data)==null?void 0:K.items)||[],c.value=((B=ee.data.data)==null?void 0:B.items)||[],u.value=pe.data.items||((j=pe.data.data)==null?void 0:j.items)||[],d.value=(($=Me.data.data)==null?void 0:$.items)||[],h.value=((b=O.data.data)==null?void 0:b.items)||[],f.value=((G=M.data.data)==null?void 0:G.items)||[],p.value=((he=H.data.data)==null?void 0:he.items)||[],v.value=((z=q.data.data)==null?void 0:z.items)||[],x.value=((ve=Y.data.data)==null?void 0:ve.items)||[],S.value=(((ye=W.data.data)==null?void 0:ye.items)||[]).slice(0,5),R.value=(((He=ue.data.data)==null?void 0:He.items)||[]).slice(0,5),console.log(" All movies loaded successfully"),T()}catch(ge){console.error(" Error loading movies:",ge),Le.error("Khng th ti d liu phim")}}),qt(()=>{w()}),(L,U)=>{var ce,K,B,j,$,b,G,he,z,ve,ye,He,ge;return g(),m("div",TT,[Q(Gg),a("div",$T,[(g(!0),m(te,null,fe(s.value,(J,F)=>{var ae;return g(),m("div",{key:J.slug,class:X(["absolute inset-0 transition-opacity duration-700",r.value===F?"opacity-100 z-10":"opacity-0 z-0"])},[a("div",AT,[a("img",{src:A(J),class:"w-full h-full object-cover",alt:J.name,onError:I},null,40,IT),U[0]||(U[0]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-black/40"},null,-1)),U[1]||(U[1]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/50"},null,-1))]),a("div",PT,[a("div",RT,[a("div",OT,[a("h1",MT,E((J==null?void 0:J.name)||"Khm ph nhng b phim tuyt vi"),1),a("p",jT,E((J==null?void 0:J.origin_name)||""),1),a("div",NT,[J!=null&&J.quality?(g(),m("span",LT,E(J.quality),1)):D("",!0),J!=null&&J.lang?(g(),m("span",BT,E(J.lang),1)):D("",!0),J!=null&&J.year?(g(),m("span",DT,E(J.year),1)):D("",!0),J!=null&&J.time?(g(),m("span",UT,E(J.time),1)):D("",!0)]),a("div",HT,[(g(!0),m(te,null,fe((ae=J==null?void 0:J.category)==null?void 0:ae.slice(0,4),ee=>(g(),m("span",{key:ee.slug,class:"text-gray-300"},E(ee.name),1))),128))]),a("p",VT,E((J==null?void 0:J.content)||"Khm ph nhng b phim tuyt vi cng HTHREE"),1),a("div",FT,[a("button",{onClick:ee=>P(J),class:"btn-play flex items-center justify-center gap-3 bg-yellow-400 text-black px-6 py-3 rounded-full font-bold text-base hover:bg-yellow-500 transition-all shadow-lg hover:shadow-yellow-400/50"},U[2]||(U[2]=[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),se(" Xem Ngay ")]),8,zT),U[4]||(U[4]=a("button",{class:"btn-icon flex items-center justify-center w-12 h-12 bg-gray-800/80 text-white rounded-full hover:bg-gray-700 transition-all"},[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),a("button",{onClick:ee=>P(J),class:"btn-icon flex items-center justify-center w-12 h-12 bg-gray-800/80 text-white rounded-full hover:bg-gray-700 transition-all"},U[3]||(U[3]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,qT)])]),a("div",KT,[(g(!0),m(te,null,fe(s.value,(ee,pe)=>(g(),m("div",{key:ee.slug,onClick:Me=>C(pe),class:X(["w-32 h-20 rounded-lg overflow-hidden cursor-pointer transition-all hover:scale-105 hover:ring-2 hover:ring-yellow-400",pe===r.value?"ring-2 ring-yellow-400":""])},[a("img",{src:ee.thumb_url||ee.poster_url||"https://placehold.co/128x80/333/fff?text=Movie",alt:ee.name,class:"w-full h-full object-cover"},null,8,GT)],10,WT))),128))])])])],2)}),128)),a("button",{onClick:_,class:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-14 h-14 bg-black/50 hover:bg-black/80 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/hero:opacity-100"},U[5]||(U[5]=[a("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),a("button",{onClick:k,class:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-14 h-14 bg-black/50 hover:bg-black/80 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/hero:opacity-100"},U[6]||(U[6]=[a("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),a("div",JT,[(g(!0),m(te,null,fe(s.value,(J,F)=>(g(),m("button",{key:`hero-dot-${J.slug}`,onClick:ae=>C(F),class:X(["transition-all rounded-full",r.value===F?"w-10 h-2.5 bg-yellow-400":"w-2.5 h-2.5 bg-white/50 hover:bg-white/80"])},null,10,YT))),128))]),U[7]||(U[7]=a("div",{class:"absolute bottom-0 left-0 right-0 h-40 bg-gradient-to-t from-black to-transparent pointer-events-none"},null,-1))]),a("div",XT,[(ce=S.value)!=null&&ce.length?(g(),Ae(Ah,{key:0,title:" Hc Vin Siu Anh Hng",movies:S.value},null,8,["movies"])):D("",!0),(K=R.value)!=null&&K.length?(g(),Ae(Ah,{key:1,title:" m Pht Cht Lun",movies:R.value},null,8,["movies"])):D("",!0),(B=o.value)!=null&&B.length?(g(),Ae(ut,{key:2,title:" Phim Mi Cp Nht",movies:o.value},null,8,["movies"])):D("",!0),(j=i.value)!=null&&j.length?(g(),Ae(ut,{key:3,title:" Phim Hn Quc",movies:i.value},null,8,["movies"])):D("",!0),($=l.value)!=null&&$.length?(g(),Ae(ut,{key:4,title:" Phim Trung Quc",movies:l.value},null,8,["movies"])):D("",!0),(b=c.value)!=null&&b.length?(g(),Ae(ut,{key:5,title:" Phim Anime",movies:c.value},null,8,["movies"])):D("",!0),(G=u.value)!=null&&G.length?(g(),Ae(ut,{key:6,title:" Phim  C",movies:u.value},null,8,["movies"])):D("",!0),(he=d.value)!=null&&he.length?(g(),Ae(ut,{key:7,title:" Phim B Hot",movies:d.value},null,8,["movies"])):D("",!0),(z=h.value)!=null&&z.length?(g(),Ae(ut,{key:8,title:" Phim L Mi",movies:h.value},null,8,["movies"])):D("",!0),(ve=f.value)!=null&&ve.length?(g(),Ae(ut,{key:9,title:" Phim Hnh ng",movies:f.value},null,8,["movies"])):D("",!0),(ye=p.value)!=null&&ye.length?(g(),Ae(ut,{key:10,title:" Phim Tm L",movies:p.value},null,8,["movies"])):D("",!0),(He=v.value)!=null&&He.length?(g(),Ae(ut,{key:11,title:" Phim Hi Hc",movies:v.value},null,8,["movies"])):D("",!0),(ge=x.value)!=null&&ge.length?(g(),Ae(ut,{key:12,title:" Phim Kinh D",movies:x.value},null,8,["movies"])):D("",!0)])])}}},ZT=Ve(QT,[["__scopeId","data-v-fd1d6030"]]),e$=["src","alt"],t$={key:0,class:"absolute top-1 left-0 bg-black/60 text-white text-[10px] px-1.5 py-0.5 rounded-sm"},s$={key:1,class:"absolute top-8 left-0 text-white bg-red-500 text-xs font-semibold px-2 py-1 rounded-sm shadow-md"},r$={class:"absolute bottom-0 left-0 right-0 p-2.5 sm:p-3 text-white z-10"},n$=["title"],o$=["title"],i$={__name:"MovieCardRecommended",props:{movie:{type:Object,default:null},trending:{type:Boolean,default:!1}},setup(t){const e=n=>{if(!n)return"https://via.placeholder.com/400x600/1a1a1a/ffffff?text=No+Movie";const o=n.poster_path||n.poster_url||n.backdrop_path||n.thumb_url;return(n.title==="Hai Cuc i Mt Tri Tim (Bc S Tim)"||n.name==="Hai Cuc i Mt Tri Tim (Bc S Tim)")&&console.log(" First movie image check:",{title:n.title||n.name,backdrop_path:n.backdrop_path,poster_path:n.poster_path,selected:o}),o?o.startsWith("http")?o:`https://phimimg.com/${o}`:"https://via.placeholder.com/400x600/1a1a1a/ffffff?text=No+Image"},s=n=>{},r=n=>{n.target.src="https://via.placeholder.com/400x600/1a1a1a/ffffff?text=Error"};return(n,o)=>{var i;return t.movie?(g(),Ae(Ne(Yi),{key:0,to:`/film/${(i=t.movie)==null?void 0:i.slug}`,class:"relative block w-full aspect-[2/3] rounded-md overflow-hidden group transition-transform duration-300 ease-out hover:scale-105"},{default:xe(()=>{var l,c,u,d,h,f,p,v,x,S,R,P,A,I;return[a("img",{src:e(t.movie),alt:((l=t.movie)==null?void 0:l.title)||((c=t.movie)==null?void 0:c.name)||"Movie Poster",class:"w-full h-full object-cover",onError:r,onLoad:s,loading:"lazy"},null,40,e$),o[0]||(o[0]=a("div",{class:"absolute bottom-0 left-0 right-0 h-2/5 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),(u=t.movie)!=null&&u.episode_current&&((d=t.movie)!=null&&d.lang)?(g(),m("div",t$,E(t.movie.episode_current)+" + "+E(t.movie.lang),1)):D("",!0),t.trending?(g(),m("div",s$," Trending ")):D("",!0),a("div",r$,[a("h3",{class:"text-sm sm:text-base font-bold truncate group-hover:whitespace-normal group-hover:text-phim-red transition-colors",title:((h=t.movie)==null?void 0:h.title)||((f=t.movie)==null?void 0:f.name)},E(((p=t.movie)==null?void 0:p.title)||((v=t.movie)==null?void 0:v.name)),9,n$),(x=t.movie)!=null&&x.original_title||(S=t.movie)!=null&&S.origin_name?(g(),m("p",{key:0,class:"text-xs text-gray-300 truncate group-hover:whitespace-normal",title:((R=t.movie)==null?void 0:R.original_title)||((P=t.movie)==null?void 0:P.origin_name)},E(((A=t.movie)==null?void 0:A.original_title)||((I=t.movie)==null?void 0:I.origin_name)),9,o$)):D("",!0)]),o[1]||(o[1]=a("div",{class:"absolute inset-0 opacity-0 flex justify-center items-center group-hover:opacity-100 transition-opacity duration-300"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white opacity-80"},[a("circle",{cx:"12",cy:"12",r:"10"}),a("polygon",{points:"10 8 16 12 10 16 10 8"})])],-1))]}),_:1},8,["to"])):D("",!0)}}},ga=Ve(i$,[["__scopeId","data-v-d7f1c3e5"]]),a$={class:"min-h-screen bg-gray-900 text-white"},l$={key:0,class:"flex justify-center items-center h-screen"},c$={key:1,class:"flex justify-center items-center h-screen text-red-400"},u$={class:"text-xl font-semibold"},d$={key:2,class:"flex justify-center items-center h-screen text-gray-400"},h$={key:3},f$={class:"relative w-full h-[70vh] min-h-[500px]"},p$={class:"absolute inset-0"},g$=["src","alt"],v$={key:0,class:"absolute inset-0 z-10 bg-black"},m$=["src","title"],y$={key:1,class:"absolute inset-0 flex items-end"},b$={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 w-full"},w$={class:"max-w-2xl"},x$={class:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-3 drop-shadow-lg"},_$={class:"flex flex-wrap items-center gap-3 mb-4"},k$={class:"text-green-400 font-semibold text-lg"},C$={class:"px-3 py-1 border-2 border-gray-400 text-white text-sm font-semibold rounded"},E$={class:"text-white"},S$={class:"flex items-center gap-1"},T$={class:"text-white font-semibold"},$$={class:"text-gray-200 text-base md:text-lg leading-relaxed mb-6 line-clamp-3"},A$={class:"flex flex-wrap gap-3"},I$={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8"},P$={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},R$={class:"lg:col-span-2 space-y-6"},O$={class:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-gray-700"},M$={class:"text-gray-300 leading-relaxed"},j$={class:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-gray-700"},N$={class:"space-y-3"},L$={key:0},B$={class:"text-white mt-1"},D$={key:1},U$={class:"text-white mt-1"},H$={class:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 backdrop-blur-sm p-6 rounded-xl border border-yellow-500/30 h-full flex flex-col"},V$={class:"space-y-3 text-sm flex-1 flex flex-col justify-center"},F$={class:"flex items-start gap-2"},z$={class:"text-white font-semibold"},q$={class:"flex items-start gap-2"},K$={class:"text-white font-semibold"},W$={class:"flex items-start gap-2"},G$={class:"text-white font-semibold"},J$={class:"flex items-start gap-2"},Y$={class:"text-white font-semibold"},X$={class:"flex items-start gap-2"},Q$={class:"text-white font-semibold"},Z$={class:"flex items-start gap-2"},e9={class:"text-white font-semibold"},t9={key:0,class:"bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700 p-6"},s9={class:"flex items-center justify-between mb-6"},r9={class:"text-gray-400 text-sm"},n9={class:"space-y-3 max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700 pr-2"},o9=["onClick"],i9={class:"flex gap-4 p-4"},a9={class:"flex-shrink-0 w-12 flex items-center justify-center"},l9={class:"flex-shrink-0 w-36 h-20 bg-gray-700 rounded-lg overflow-hidden relative"},c9=["src","alt"],u9={class:"flex-1 min-w-0"},d9={class:"flex items-start justify-between gap-2 mb-2"},h9={class:"text-xs text-gray-400 whitespace-nowrap"},f9={class:"text-sm text-gray-400 line-clamp-2 leading-relaxed"},p9={key:1,class:"bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700 p-6"},g9={key:0,class:"text-center text-gray-400 py-8"},v9={key:1,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},m9={class:"bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700 p-6"},y9={key:0,class:"text-center py-8"},b9={key:1,class:"space-y-4"},w9={class:"flex gap-3"},x9=["src","alt"],_9={class:"flex-1"},k9={class:"flex items-center gap-2 mb-1"},C9={class:"text-white font-semibold"},E9={class:"text-gray-500 text-xs"},S9={class:"text-gray-300 leading-relaxed"},T9={class:"flex items-center gap-4 mt-2"},$9={class:"text-gray-400 hover:text-yellow-400 text-sm flex items-center gap-1 transition-colors"},A9={key:2,class:"text-center py-12 bg-gray-800/30 rounded-lg border border-gray-700"},I9={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",role:"dialog","aria-labelledby":"trailer-title"},P9={class:"bg-gray-900 text-white rounded-xl shadow-2xl p-8 w-full max-w-4xl relative"},R9={id:"trailer-title",class:"text-2xl font-semibold mb-4"},O9={key:0,class:"aspect-video w-full"},M9=["src","title"],j9={key:1,class:"text-gray-400 text-center"},N9={__name:"MovieDetail",setup(t){const e=Rs();ot();const s=N(null),r=N(!0),n=N(null),o=N(!1),i=N(e.params.filmName),l=N([]),c=N(!1),u=N([]),d=N(!1),h=N(!1),f=N(null),p=N(""),v=N(""),x=N([]),S=w=>{if(!w)return null;const y=w.match(/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([\w-]+)/);return y?`https://www.youtube.com/embed/${y[1]}`:null},R=N(null),P=async()=>{var w,y,L,U;r.value=!0,n.value=null,s.value=null,x.value=[],console.log("moviedetail.vue: Bt u fetchMovieDetail. filmSlug:",i.value);try{if(!i.value){console.warn("moviedetail.vue: filmSlug khng c gi tr, khng th fetch."),n.value="URL phim khng hp l.",r.value=!1;return}const K=await(await ta(async()=>{const{default:$}=await Promise.resolve().then(()=>Ng);return{default:$}},void 0,import.meta.url)).default.get(`https://phimapi.com/phim/${i.value}`),B=K.data.movie,j=K.data.episodes||[];console.log("moviedetail.vue: API response:",K.data),B?(s.value={id:B._id,title:B.name,original_title:B.origin_name,slug:B.slug,overview:B.content,poster_path:B.poster_url,backdrop_path:B.thumb_url,release_date:B.year?`${B.year}-01-01`:null,vote_average:((w=B.tmdb)==null?void 0:w.vote_average)||0,vote_count:((y=B.tmdb)==null?void 0:y.vote_count)||0,runtime:B.time,genres:((L=B.category)==null?void 0:L.map($=>$.name))||[],country:((U=B.country)==null?void 0:U.map($=>$.name))||[],actor:B.actor||[],director:B.director||[],quality:B.quality,lang:B.lang,episode_current:B.episode_current,episode_total:B.episode_total,trailer_url:B.trailer_url,type:B.type,year:B.year,status:B.status,chieurap:B.chieurap},j.length>0&&j[0].server_data&&(x.value=j[0].server_data),R.value=S(s.value.trailer_url),console.log("moviedetail.vue:  ti thnh cng d liu phim:",s.value),console.log("moviedetail.vue: Episodes:",x.value),s.value.genres&&s.value.genres.length>0&&A(s.value.genres,s.value.id),I()):(n.value="Khng tm thy thng tin phim vi slug ny.",console.warn("moviedetail.vue: API khng tr v d liu phim."))}catch(ce){console.error("moviedetail.vue: Li khng xc nh khi fetch chi tit phim:",ce),n.value="Khng th ti thng tin phim. Vui lng th li sau."}finally{r.value=!1,console.log("moviedetail.vue: Kt thc fetchMovieDetail. Loading:",r.value,"Error:",n.value)}},A=async(w,y)=>{c.value=!0,l.value=[];try{const{data:L,error:U}=await hn.from("movies").select("*").overlaps("genres",w).not("id","eq",y).order("vote_average",{ascending:!1}).limit(4);U?console.error("Li khi fetch phim lin quan:",U):(l.value=L||[],console.log("moviedetail.vue: Phim lin quan  ti:",l.value))}catch(L){console.error("Li khng xc nh khi fetch phim lin quan:",L)}finally{c.value=!1}},I=async()=>{if(i.value){d.value=!0;try{const w=await de.get(`${_n.BACKEND_URL}/comments.php`,{params:{type:"movie",movie_slug:i.value,limit:20}});w.data.success&&(u.value=w.data.comments||[],console.log(" Comments loaded:",u.value.length))}catch(w){console.error(" Error fetching comments:",w),u.value=[]}finally{d.value=!1}}},k=w=>{const y=new Date(w),U=Math.floor((new Date-y)/1e3);return U<60?"Va xong":U<3600?`${Math.floor(U/60)} pht trc`:U<86400?`${Math.floor(U/3600)} gi trc`:U<604800?`${Math.floor(U/86400)} ngy trc`:y.toLocaleDateString("vi-VN")};Ye(()=>e.params.filmName,w=>{i.value=w,console.log("moviedetail.vue: route.params.filmName  thay i thnh:",w),i.value&&P()},{immediate:!0});const _=()=>{if(!s.value||x.value.length===0)return;const w=x.value[0];C(w),window.scrollTo({top:0,behavior:"smooth"})},C=w=>{!w||!w.link_embed||(f.value=w.link_embed,p.value=w.name,v.value=w.slug,h.value=!0,window.scrollTo({top:0,behavior:"smooth"}))},T=()=>{h.value=!1,f.value=null,p.value="",v.value=""};return(w,y)=>(g(),m("div",a$,[r.value?(g(),m("div",l$,y[2]||(y[2]=[Ee('<div class="text-center" data-v-2f68cc31><svg class="animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-2f68cc31><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-2f68cc31></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-2f68cc31></path></svg><p class="text-xl font-semibold text-gray-300" data-v-2f68cc31>ang ti thng tin phim...</p></div>',1)]))):n.value?(g(),m("div",c$,[a("p",u$,E(n.value),1)])):s.value?(g(),m("div",h$,[a("div",f$,[a("div",p$,[a("img",{src:s.value.backdrop_path||s.value.poster_path||"https://placehold.co/1920x1080/1f2937/fbbf24?text=No+Image",alt:s.value.title,class:"w-full h-full object-cover",onerror:"this.onerror=null;this.src='https://placehold.co/1920x1080/1f2937/fbbf24?text=No+Image';"},null,8,g$),y[4]||(y[4]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/60 to-transparent"},null,-1)),y[5]||(y[5]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-gray-900 via-transparent to-transparent"},null,-1))]),h.value&&f.value?(g(),m("div",v$,[a("iframe",{src:f.value,title:`Xem ${s.value.title} ${p.value}`,class:"w-full h-full",frameborder:"0",allowfullscreen:"",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"},null,8,m$),a("button",{onClick:T,class:"absolute top-4 right-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 shadow-lg z-20"},y[6]||(y[6]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z","clip-rule":"evenodd"})],-1),se(" ng ")]))])):D("",!0),h.value?D("",!0):(g(),m("div",y$,[a("div",b$,[a("div",w$,[a("h1",x$,E(s.value.title),1),a("div",_$,[a("span",k$,E(s.value.year),1),y[8]||(y[8]=a("span",{class:"text-white"},"",-1)),a("span",C$,E(s.value.quality||"HD"),1),y[9]||(y[9]=a("span",{class:"text-white"},"",-1)),a("span",E$,E(s.value.episode_current||"Full"),1),y[10]||(y[10]=a("span",{class:"text-white"},"",-1)),a("div",S$,[y[7]||(y[7]=a("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),a("span",T$,E(s.value.vote_average||"N/A"),1)])]),a("p",$$,E(s.value.overview),1),a("div",A$,[a("button",{onClick:_,class:"bg-white hover:bg-yellow-400 text-black font-bold py-3 px-8 rounded-md transition-all duration-300 flex items-center gap-3 shadow-lg hover:shadow-yellow-500/50 text-lg transform hover:scale-105"},y[11]||(y[11]=[a("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),se(" Pht ")])),a("button",{onClick:y[0]||(y[0]=L=>o.value=!0),class:"bg-gray-600/80 hover:bg-gray-500/80 backdrop-blur-sm text-white font-semibold py-3 px-6 rounded-md transition-all duration-300 flex items-center gap-2 hover:scale-105"},y[12]||(y[12]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),se(" Thng tin ")]))])])])]))]),a("div",I$,[a("div",P$,[a("div",R$,[a("div",O$,[y[13]||(y[13]=a("h2",{class:"text-2xl font-bold text-white mb-4 flex items-center gap-2"},[a("svg",{class:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),se(" Gii thiu ")],-1)),a("p",M$,E(s.value.overview),1)]),a("div",j$,[y[16]||(y[16]=a("h2",{class:"text-2xl font-bold text-white mb-4 flex items-center gap-2"},[a("svg",{class:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),se(" Din vin & o din ")],-1)),a("div",N$,[s.value.actor&&s.value.actor.length?(g(),m("div",L$,[y[14]||(y[14]=a("span",{class:"text-gray-400 font-semibold"},"Din vin:",-1)),a("p",B$,E(s.value.actor.join(", ")),1)])):D("",!0),s.value.director&&s.value.director.length?(g(),m("div",D$,[y[15]||(y[15]=a("span",{class:"text-gray-400 font-semibold"},"o din:",-1)),a("p",U$,E(s.value.director.join(", ")),1)])):D("",!0)])])]),a("div",null,[a("div",H$,[y[29]||(y[29]=a("h3",{class:"text-xl font-bold text-yellow-400 mb-4"},"Thng tin",-1)),a("div",V$,[a("div",F$,[y[18]||(y[18]=a("svg",{class:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),a("div",null,[y[17]||(y[17]=a("span",{class:"text-gray-400"},"Th loi:",-1)),a("p",z$,E(s.value.genres&&s.value.genres.length>0?s.value.genres.join(", "):"N/A"),1)])]),a("div",q$,[y[20]||(y[20]=a("svg",{class:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),a("div",null,[y[19]||(y[19]=a("span",{class:"text-gray-400"},"Thi lng:",-1)),a("p",K$,E(s.value.runtime||"N/A"),1)])]),a("div",W$,[y[22]||(y[22]=a("svg",{class:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),a("div",null,[y[21]||(y[21]=a("span",{class:"text-gray-400"},"Quc gia:",-1)),a("p",G$,E(s.value.country&&s.value.country.length>0?s.value.country.join(", "):"N/A"),1)])]),a("div",J$,[y[24]||(y[24]=a("svg",{class:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),a("div",null,[y[23]||(y[23]=a("span",{class:"text-gray-400"},"Cht lng:",-1)),a("p",Y$,E(s.value.quality||"HD"),1)])]),a("div",X$,[y[26]||(y[26]=a("svg",{class:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})],-1)),a("div",null,[y[25]||(y[25]=a("span",{class:"text-gray-400"},"Ngn ng:",-1)),a("p",Q$,E(s.value.lang||"Vietsub"),1)])]),a("div",Z$,[y[28]||(y[28]=a("svg",{class:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),a("div",null,[y[27]||(y[27]=a("span",{class:"text-gray-400"},"Tnh trng:",-1)),a("p",e9,E(s.value.status||"ang cp nht"),1)])])])])])]),x.value.length>0?(g(),m("div",t9,[a("div",s9,[y[30]||(y[30]=a("h2",{class:"text-2xl font-bold text-white flex items-center gap-2"},[a("svg",{class:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),se(" Tp phim ")],-1)),a("span",r9,E(x.value.length)+" tp",1)]),a("div",n9,[(g(!0),m(te,null,fe(x.value,(L,U)=>(g(),m("div",{key:U,onClick:ce=>C(L),class:X([{"border-l-4 border-yellow-500 bg-gray-700/50":v.value===L.slug,"border-l-4 border-transparent":v.value!==L.slug},"bg-gray-800/50 hover:bg-gray-700/50 rounded-lg overflow-hidden cursor-pointer transition-all duration-300 group"])},[a("div",i9,[a("div",a9,[a("span",{class:X(["text-2xl font-bold transition-colors",v.value===L.slug?"text-yellow-400":"text-gray-500 group-hover:text-white"])},E(U+1),3)]),a("div",l9,[a("img",{src:s.value.backdrop_path||s.value.poster_path||"https://placehold.co/160x90/374151/fbbf24?text="+(U+1),alt:`${L.name} thumbnail`,class:"w-full h-full object-cover",loading:"lazy",onerror:"this.onerror=null;this.src='https://placehold.co/160x90/374151/fbbf24?text=' + (index + 1);"},null,8,c9),y[31]||(y[31]=a("div",{class:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[a("div",{class:"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1))]),a("div",u9,[a("div",d9,[a("h3",{class:X(["font-bold text-base transition-colors",v.value===L.slug?"text-yellow-400":"text-white group-hover:text-yellow-400"])},E(L.name),3),a("span",h9,E(s.value.runtime||"56 pht"),1)]),a("p",f9,E(s.value.overview?s.value.overview.substring(0,120)+"...":"Xem ngay  khm ph ni dung hp dn ca tp phim ny."),1)])])],10,o9))),128))])])):D("",!0),l.value.length>0?(g(),m("div",p9,[y[33]||(y[33]=a("h2",{class:"text-2xl font-bold text-white mb-6 flex items-center gap-2"},[a("svg",{class:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})]),se(" Phim lin quan ")],-1)),c.value?(g(),m("div",g9,y[32]||(y[32]=[a("svg",{class:"animate-spin h-8 w-8 text-yellow-400 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),se(" ang ti... ")]))):(g(),m("div",v9,[(g(!0),m(te,null,fe(l.value,L=>(g(),Ae(ga,{key:L.id,movie:L,trending:!1},null,8,["movie"]))),128))]))])):D("",!0),a("div",m9,[y[37]||(y[37]=a("h2",{class:"text-2xl font-bold text-white mb-6 flex items-center gap-2"},[a("svg",{class:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]),se(" Bnh lun ")],-1)),Q(Yc,{"movie-slug":i.value,onCommentAdded:I,class:"mb-6"},null,8,["movie-slug"]),d.value?(g(),m("div",y9,y[34]||(y[34]=[a("div",{class:"relative w-12 h-12 mx-auto mb-4"},[a("div",{class:"absolute inset-0 border-4 border-yellow-400/30 rounded-full"}),a("div",{class:"absolute inset-0 border-4 border-yellow-400 rounded-full border-t-transparent animate-spin"})],-1),a("p",{class:"text-gray-400"},"ang ti bnh lun...",-1)]))):u.value.length>0?(g(),m("div",b9,[(g(!0),m(te,null,fe(u.value,L=>(g(),m("div",{key:L.id,class:"bg-gray-800/50 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-colors"},[a("div",w9,[a("img",{src:L.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(L.full_name||"User")}&background=f59e0b&color=000`,alt:L.full_name,class:"w-10 h-10 rounded-full flex-shrink-0"},null,8,x9),a("div",_9,[a("div",k9,[a("span",C9,E(L.full_name||L.username),1),a("span",E9,E(L.time_ago||k(L.created_at)),1)]),a("p",S9,E(L.content),1),a("div",T9,[a("button",$9,[y[35]||(y[35]=a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})],-1)),a("span",null,E(L.likes||0),1)])])])])]))),128))])):(g(),m("div",A9,y[36]||(y[36]=[a("svg",{class:"w-16 h-16 text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),a("p",{class:"text-gray-400"},"Cha c bnh lun no. Hy l ngi u tin!",-1)])))])]),o.value?(g(),m("div",I9,[a("div",P9,[a("button",{onClick:y[1]||(y[1]=L=>o.value=!1),class:"absolute top-4 right-4 text-white text-3xl hover:text-yellow-400 transition-colors","aria-label":"ng trailer"},"  "),a("h2",R9,"Trailer: "+E(s.value.title),1),R.value?(g(),m("div",O9,[a("iframe",{src:R.value,title:`Trailer - ${s.value.title}`,class:"w-full h-full rounded-lg",frameborder:"0",allowfullscreen:"",loading:"lazy"},null,8,M9)])):(g(),m("p",j9,"Khng c trailer."))])])):D("",!0)])):(g(),m("div",d$,y[3]||(y[3]=[a("p",{class:"text-xl font-semibold"},"Khng tm thy thng tin phim hoc khng ti c d liu.",-1)])))]))}},L9=Ve(N9,[["__scopeId","data-v-2f68cc31"]]),B9={class:"min-h-screen bg-gray-900 text-white"},D9={key:0,class:"flex justify-center items-center h-screen"},U9={class:"text-center animate-fade-in"},H9={class:"text-xl font-semibold text-red-400"},V9={key:1,class:"flex justify-center items-center h-screen"},F9={key:2,class:"animate-fade-in"},z9={class:"relative bg-black"},q9={class:"max-w-[1920px] mx-auto"},K9={class:"aspect-video w-full"},W9=["src","title"],G9={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},J9={class:"mb-8 animate-slide-up"},Y9={class:"text-3xl md:text-4xl font-bold text-white mb-3"},X9={class:"flex flex-wrap items-center gap-3 text-sm"},Q9={class:"px-3 py-1 bg-yellow-500 text-black font-bold rounded-full"},Z9={class:"text-gray-400"},eA={class:"px-2 py-1 border border-gray-600 text-gray-300 rounded"},tA={class:"text-gray-400"},sA={key:0,class:"animate-slide-up",style:{"animation-delay":"0.1s"}},rA={class:"bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700 p-6"},nA={class:"flex items-center justify-between mb-6"},oA={class:"text-gray-400 text-sm"},iA={class:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-3 max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700 pr-2"},aA=["onClick","aria-label"],lA={class:"text-sm"},cA={__name:"WatchMovie",setup(t){const e=Rs(),s=ot(),r=N(null),n=N(null),o=N([]),i=N(null),l=N(e.params.filmName),c=N(e.params.tap),u=f=>f.startsWith("Tp ")?f.substring(4).trim():f,d=f=>{const p=u(f);s.push(`/film/${l.value}/tap/${encodeURIComponent(p)}`)},h=async()=>{var f,p;i.value=null,r.value=null,n.value=null,o.value=[];try{const v=await de.get(`https://phimapi.com/phim/${l.value}`),x=v.data.movie,S=((p=(f=v.data.episodes)==null?void 0:f[0])==null?void 0:p.server_data)||[];if(r.value=x,o.value=S,x.type==="single"){const R=S.find(P=>P.name.toLowerCase().includes("full"));n.value=(R==null?void 0:R.link_embed)||null}else{const R=S.find(P=>parseInt(u(P.name))===parseInt(c.value));n.value=(R==null?void 0:R.link_embed)||null}n.value||(i.value="Khng tm thy link tp phim hoc tp phim khng tn ti.")}catch(v){console.error("Li khi fetch d liu phim  xem:",v),i.value="Khng ti c d liu phim hoc tp phim. Vui lng th li sau.",r.value=null,n.value=null,o.value=[]}};return Ye(()=>e.params,f=>{l.value=f.filmName,c.value=f.tap,h()},{immediate:!0}),(f,p)=>(g(),m("div",B9,[i.value?(g(),m("div",D9,[a("div",U9,[p[0]||(p[0]=a("div",{class:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4"},[a("svg",{class:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("p",H9,E(i.value),1)])])):!r.value||!n.value?(g(),m("div",V9,p[1]||(p[1]=[Ee('<div class="text-center" data-v-d78a908c><div class="relative w-20 h-20 mx-auto mb-6" data-v-d78a908c><div class="absolute inset-0 border-4 border-yellow-400/30 rounded-full" data-v-d78a908c></div><div class="absolute inset-0 border-4 border-yellow-400 rounded-full border-t-transparent animate-spin" data-v-d78a908c></div></div><p class="text-xl font-semibold text-gray-300 animate-pulse" data-v-d78a908c>ang ti phim...</p></div>',1)]))):(g(),m("div",F9,[a("div",z9,[a("div",q9,[a("div",K9,[a("iframe",{src:n.value,title:`Xem ${r.value.name} ${r.value.type==="single"?"Full":`Tp ${c.value}`}`,class:"w-full h-full",frameborder:"0",allowfullscreen:"",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"},null,8,W9)])])]),a("div",G9,[a("div",J9,[a("h1",Y9,E(r.value.name),1),a("div",X9,[a("span",Q9,E(r.value.type==="single"?"Full":`Tp ${c.value}`),1),a("span",Z9,E(r.value.year),1),p[2]||(p[2]=a("span",{class:"text-gray-400"},"",-1)),a("span",eA,E(r.value.quality||"HD"),1),p[3]||(p[3]=a("span",{class:"text-gray-400"},"",-1)),a("span",tA,E(r.value.lang||"Vietsub"),1)])]),o.value.length>1?(g(),m("div",sA,[a("div",rA,[a("div",nA,[p[4]||(p[4]=a("h2",{class:"text-2xl font-bold text-white flex items-center gap-2"},[a("svg",{class:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),se(" Danh sch tp ")],-1)),a("span",oA,E(o.value.length)+" tp",1)]),a("div",iA,[(g(!0),m(te,null,fe(o.value,(v,x)=>(g(),m("button",{key:x,onClick:S=>d(v.name),class:X([{"bg-yellow-500 text-black ring-2 ring-yellow-400 shadow-lg shadow-yellow-500/50 scale-105":u(v.name)===c.value,"bg-gray-700 hover:bg-gray-600 text-white hover:scale-105":u(v.name)!==c.value},"aspect-square flex items-center justify-center rounded-lg font-bold transition-all duration-300 hover:shadow-lg group"]),"aria-label":`Xem tp ${v.name}`},[a("span",lA,E(u(v.name)),1)],10,aA))),128))])])])):D("",!0)])]))]))}},uA=Ve(cA,[["__scopeId","data-v-d78a908c"]]),Jg=!1,Yg="https://phimapi.com/v1/api",va=async(t={})=>{const{type_list:e="phim-bo",page:s=1,sort_field:r="_id",sort_type:n="desc",sort_lang:o,category:i,country:l,year:c,limit:u=20}=t;try{if(!Jg){const d=new URLSearchParams({page:s.toString(),sort_field:r,sort_type:n,limit:u.toString()});o&&d.append("sort_lang",o),i&&d.append("category",i),l&&d.append("country",l),c&&d.append("year",c.toString());const h=`${Yg}/danh-sach/${e}?${d.toString()}`;return console.log(" Fetching movies:",h),(await de.get(h)).data}}catch(d){throw console.error(" Error fetching movies:",d),d}},Po=t=>({...t,backdrop_path:t.thumb_url||"https://placehold.co/400x600/1a1a1a/fff?text=No+Image",poster_path:t.poster_url||t.thumb_url,title:t.name,original_title:t.origin_name}),Xg=async(t,e={})=>{try{const{page:s=1,limit:r=20,sort_field:n,sort_type:o,sort_lang:i,category:l,country:c,year:u}=e,d=new URLSearchParams({keyword:t,page:s.toString(),limit:r.toString()});n&&d.append("sort_field",n),o&&d.append("sort_type",o),i&&d.append("sort_lang",i),l&&d.append("category",l),c&&d.append("country",c),u&&d.append("year",u.toString());const h=Jg?`${Yg}/search.php?${d.toString()}`:`https://phimapi.com/v1/api/tim-kiem?${d.toString()}`;return console.log(" Searching movies:",h),(await de.get(h)).data}catch(s){throw console.error(" Error searching movies:",s),s}},dA=Object.freeze(Object.defineProperty({__proto__:null,getMovieList:va,mapMovieData:Po,searchMovies:Xg},Symbol.toStringTag,{value:"Module"})),hA={class:"text-white bg-[#da966e] text-xs px-2 py-1 rounded-sm h-fit font-bold min-w-[28px] text-center"},fA=["src","alt"],pA={class:"flex flex-col text-gray-100 text-sm flex-grow"},gA=["title"],vA={class:"text-xs text-gray-400 mt-1"},mA={class:"flex text-yellow-400 mt-1"},yA={__name:"Rank",props:{trendingMovie:{type:Object,default:null},index:{type:Number,required:!0}},setup(t){const e=t,s=be(()=>{var r;return Math.round(((r=e.trendingMovie)==null?void 0:r.vote_average)/2||0)});return Ye(()=>e.trendingMovie,r=>{r?(console.log(`Rank.vue (Index ${e.index}): trendingMovie received:`,r),console.log(`Rank.vue (Index ${e.index}): poster_path:`,r.backdrop_path),console.log(`Rank.vue (Index ${e.index}): title:`,r.title)):console.log(`Rank.vue (Index ${e.index}): trendingMovie is null.`)},{immediate:!0}),(r,n)=>{var o;return t.trendingMovie?(g(),Ae(Ne(Yi),{key:0,to:`/film/${(o=t.trendingMovie)==null?void 0:o.slug}`,class:"flex items-start gap-3 mb-4 p-2 rounded-lg transition-colors duration-200 hover:bg-gray-600 cursor-pointer"},{default:xe(()=>[a("span",hA,E(t.index+1),1),a("img",{src:t.trendingMovie.backdrop_path,alt:t.trendingMovie.title||"Movie Thumbnail",class:"w-[55px] h-[70px] object-cover rounded shadow",onerror:"this.onerror=null;this.src='https://placehold.co/55x70/ccc/fff?text=No+Img';"},null,8,fA),a("div",pA,[a("span",{class:"font-semibold leading-tight break-words",title:t.trendingMovie.title},E(t.trendingMovie.title),9,gA),a("span",vA,E(t.trendingMovie.year),1),a("div",mA,[(g(),m(te,null,fe(5,i=>a("svg",{key:i,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",class:X([i<=s.value?"text-yellow-400":"text-gray-500","w-3 h-3 mr-0.5"]),fill:"currentColor"},n[0]||(n[0]=[a("path",{d:"M316.9 18.6L225.4 150.3 49.9 171.6c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l129.9 68.3c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L350.6 150.3 259.1 18.6c-10.7-20.9-39.1-20.9-49.8 0z"},null,-1)]),2)),64))])])]),_:1},8,["to"])):D("",!0)}}},Qc=Ve(yA,[["__scopeId","data-v-782ffcc8"]]),Zc=Eo("recommendedMovies",{state:()=>({recommended:[],loading:!1,error:null}),actions:{async getRecommendedMovies(){this.loading=!0,this.error=null;try{const{data:t,error:e}=await hn.from("movies").select("*").order("vote_average",{ascending:!1}).limit(25);if(e)throw e;this.recommended=t||[],console.log("Pinia Store 'recommendedMovies': Phim  c  ti t Supabase:",this.recommended)}catch(t){console.error("Li khi ly phim  c t Supabase (Pinia Store):",t),this.error=t.message}finally{this.loading=!1}},setRecommendedMovies(t){this.loading=!1,this.error=null,this.recommended=t,console.log("Pinia Store 'recommendedMovies': D liu phim  c  c t th cng:",this.recommended)},setLoading(t){this.loading=t},setError(t){this.error=t}},getters:{getRecommended:t=>t.recommended,getLoading:t=>t.loading,getError:t=>t.error}}),ma=Eo("country",{state:()=>({countries:[],loading:!1,error:null}),actions:{async getCountry(){this.loading=!0,this.error=null;try{const{data:t,error:e}=await hn.from("movies").select("country");if(e)throw e;let s=new Set;t&&t.forEach(r=>{r.country&&Array.isArray(r.country)&&r.country.forEach(n=>{typeof n=="string"&&n.trim()!==""&&s.add(n.trim())})}),this.countries=Array.from(s).map(r=>({name:r,slug:r.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})).sort((r,n)=>r.name.localeCompare(n.name)),console.log("Country Store:  ti countries t Supabase (t bng movies):",this.countries)}catch(t){console.error("Error fetching countries from Supabase (from movies table):",t.message),this.error=t.message,this.countries=[]}finally{this.loading=!1}}},getters:{getAllCountries:t=>t.countries,filterCountries:t=>e=>e?t.countries.filter(s=>s.name.toLowerCase().includes(e.toLowerCase())):t.countries,getLoading:t=>t.loading,getError:t=>t.error}}),bA={class:"min-h-screen bg-black text-white"},wA={class:"relative bg-gradient-to-b from-gray-900 to-black pt-20 pb-12 px-4"},xA={class:"max-w-7xl mx-auto"},_A={class:"flex items-center gap-2 text-sm mb-6 animate-fade-in"},kA={class:"text-yellow-400 font-medium"},CA={class:"text-4xl md:text-5xl font-bold mb-4 animate-slide-up"},EA={class:"bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent"},SA={class:"max-w-7xl mx-auto px-4 py-8"},TA={key:0,class:"space-y-8"},$A={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},AA={key:1,class:"text-center py-20 animate-fade-in"},IA={class:"text-gray-400"},PA={class:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 mb-8 border border-gray-800 shadow-xl animate-fade-in"},RA={class:"flex flex-wrap gap-4"},OA={class:"relative"},MA=["value"],jA={class:"relative"},NA=["value"],LA={class:"relative"},BA=["value"],DA={class:"mt-4 pt-4 border-t border-gray-800"},UA={class:"text-sm text-gray-400"},HA={class:"text-yellow-400 font-semibold"},VA={key:0},FA={class:"flex flex-col lg:flex-row gap-8"},zA={class:"flex-1"},qA={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},KA={key:1,class:"text-center py-20 animate-fade-in"},WA={class:"lg:w-80 flex-shrink-0"},GA={class:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800 sticky top-24 animate-fade-in"},JA={key:0,class:"space-y-3 max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-800"},YA={key:1,class:"text-gray-500 text-center py-8"},XA={key:0,class:"flex justify-center mt-12 animate-fade-in"},QA={class:"inline-flex items-center gap-2 bg-gray-900/50 backdrop-blur-sm rounded-xl p-2 border border-gray-800"},ZA=["disabled"],eI={key:0,class:"px-3 text-gray-600"},tI=["onClick"],sI=["disabled"],rI=20,nI={__name:"ListBaseType",setup(t){const e=Rs(),s=ot(),r=Zc(),n=To(),o=ma(),i=N([]),l=N(1),c=N(!0),u=N(null),d=N(parseInt(e.params.pageNumber)||1),h=N(e.query.category||""),f=N(e.query.country||""),p=N(e.query.year||""),v=be(()=>{const C=e.path;return C.includes("/phim-le")?"phim-le":C.includes("/phim-bo")?"phim-bo":C.includes("/le")?"le":C.includes("/bo")?"bo":"phim-le"}),x=be(()=>e.params.typeSlug||v.value),S=be(()=>{const C=[],T=x.value;if(T==="phim-le"||T==="le"?C.push("Phim L"):T==="phim-bo"||T==="bo"?C.push("Phim B"):T==="tv-shows"?C.push("TV Shows"):T==="hoat-hinh"&&C.push("Hot Hnh"),h.value){const w=n.getAllCategories.find(y=>y.slug===h.value);w&&C.push(w.name)}if(f.value){const w=o.getAllCountries.find(y=>y.slug===f.value);w&&C.push(w.name)}return p.value&&C.push(`Nm ${p.value}`),C.length>0?C.join(" - "):"Danh Sch Phim"}),R=be(()=>{const C=new Date().getFullYear(),T=[];for(let w=C;w>=C-20;w--)T.push(w);return T}),P=()=>{const C={};h.value&&(C.category=h.value),f.value&&(C.country=f.value),p.value&&(C.year=p.value),s.push({path:`/${v.value}/page/1`,query:C})},A=()=>{h.value="",f.value="",p.value="",s.push({path:`/${v.value}/page/1`,query:{}})},I=async()=>{var C;c.value=!0,u.value=null,i.value=[];try{const T={page:d.value,limit:rI,sort_field:"modified.time",sort_type:"desc"},w=x.value;w==="phim-le"||w==="le"?T.type="single":w==="phim-bo"||w==="bo"?T.type="series":w==="tv-shows"?T.type="tvshows":w==="hoat-hinh"&&(T.type="hoathinh"),h.value&&(T.category=h.value),f.value&&(T.country=f.value),p.value&&(T.year=parseInt(p.value));const y=await va(T);if(y.status&&y.data){i.value=(y.data.items||[]).map(Po);const L=(C=y.data.params)==null?void 0:C.pagination;L?l.value=L.totalPages||L.total_page||1:y.data.pagination?l.value=y.data.pagination.totalPages||y.data.pagination.total_page||1:l.value=1}else i.value=[],l.value=1}catch(T){console.error("Error fetching movies:",T),u.value="Khng th ti d liu phim. Vui lng th li sau.",i.value=[],l.value=1}finally{c.value=!1}},k=C=>{if(C>=1&&C<=l.value){const T={};h.value&&(T.category=h.value),f.value&&(T.country=f.value),p.value&&(T.year=p.value),s.push({path:`/${v.value}/page/${C}`,query:T})}},_=()=>{const C=new Set,T=2;C.add(1),l.value>1&&C.add(l.value);for(let L=d.value-T;L<=d.value+T;L++)L>=1&&L<=l.value&&C.add(L);const w=Array.from(C).sort((L,U)=>L-U),y=[];for(let L=0;L<w.length;L++)y.push(w[L]),L<w.length-1&&w[L+1]-w[L]>1&&y.push("ellipsis");return y};return Ge(async()=>{r.getRecommended.length===0&&await r.getRecommendedMovies(),n.getAllCategories.length===0&&await n.getCategory(),o.getAllCountries.length===0&&await o.getCountry(),Ye(()=>e.params,C=>{d.value=parseInt(C.pageNumber)||1,n.getAllCategories.length>0&&o.getAllCountries.length>0&&I()},{immediate:!0}),Ye(()=>e.query,C=>{h.value=C.category||"",f.value=C.country||"",p.value=C.year||"",n.getAllCategories.length>0&&o.getAllCountries.length>0&&I()},{deep:!0}),n.getAllCategories.length>0&&o.getAllCountries.length>0&&I()}),(C,T)=>{const w=jt("router-link");return g(),m("div",bA,[a("div",wA,[a("div",xA,[a("nav",_A,[Q(w,{to:"/home",class:"text-gray-400 hover:text-yellow-400 transition-colors"},{default:xe(()=>T[5]||(T[5]=[se(" Trang ch ")])),_:1}),T[6]||(T[6]=a("svg",{class:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),a("span",kA,E(S.value),1)]),a("h1",CA,[a("span",EA,E(S.value),1)]),T[7]||(T[7]=a("p",{class:"text-gray-400 text-lg animate-slide-up animation-delay-100"}," Khm ph b su tp phim c sc ",-1))])]),a("div",SA,[c.value?(g(),m("div",TA,[T[9]||(T[9]=Ee('<div class="bg-gray-900/50 rounded-xl p-6 animate-pulse" data-v-3e97d9c7><div class="flex flex-wrap gap-4" data-v-3e97d9c7><div class="h-10 bg-gray-800 rounded-lg w-40" data-v-3e97d9c7></div><div class="h-10 bg-gray-800 rounded-lg w-40" data-v-3e97d9c7></div><div class="h-10 bg-gray-800 rounded-lg w-32" data-v-3e97d9c7></div></div></div>',1)),a("div",$A,[(g(),m(te,null,fe(10,y=>a("div",{key:y,class:"animate-pulse"},T[8]||(T[8]=[a("div",{class:"aspect-[2/3] bg-gray-800 rounded-lg mb-2"},null,-1),a("div",{class:"h-4 bg-gray-800 rounded w-3/4 mb-2"},null,-1),a("div",{class:"h-3 bg-gray-800 rounded w-1/2"},null,-1)]))),64))])])):u.value?(g(),m("div",AA,[T[10]||(T[10]=a("div",{class:"inline-flex items-center justify-center w-20 h-20 bg-red-500/10 rounded-full mb-4"},[a("svg",{class:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),T[11]||(T[11]=a("h3",{class:"text-xl font-semibold text-red-400 mb-2"},"C li xy ra",-1)),a("p",IA,E(u.value),1)])):(g(),m(te,{key:2},[a("div",PA,[T[21]||(T[21]=a("h2",{class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},[a("svg",{class:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),se(" B Lc ")],-1)),a("div",RA,[a("div",OA,[je(a("select",{"onUpdate:modelValue":T[0]||(T[0]=y=>h.value=y),onChange:P,class:"appearance-none bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 pr-10 text-white focus:outline-none focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 transition-all hover:border-gray-600 cursor-pointer min-w-[180px]"},[T[12]||(T[12]=a("option",{value:""},"Tt c th loi",-1)),(g(!0),m(te,null,fe(Ne(n).getAllCategories,y=>(g(),m("option",{key:y.slug,value:y.slug},E(y.name),9,MA))),128))],544),[[Tr,h.value]]),T[13]||(T[13]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),a("div",jA,[je(a("select",{"onUpdate:modelValue":T[1]||(T[1]=y=>f.value=y),onChange:P,class:"appearance-none bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 pr-10 text-white focus:outline-none focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 transition-all hover:border-gray-600 cursor-pointer min-w-[180px]"},[T[14]||(T[14]=a("option",{value:""},"Tt c quc gia",-1)),(g(!0),m(te,null,fe(Ne(o).getAllCountries,y=>(g(),m("option",{key:y.slug,value:y.slug},E(y.name),9,NA))),128))],544),[[Tr,f.value]]),T[15]||(T[15]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),a("div",LA,[je(a("select",{"onUpdate:modelValue":T[2]||(T[2]=y=>p.value=y),onChange:P,class:"appearance-none bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 pr-10 text-white focus:outline-none focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 transition-all hover:border-gray-600 cursor-pointer min-w-[140px]"},[T[16]||(T[16]=a("option",{value:""},"Tt c nm",-1)),(g(!0),m(te,null,fe(R.value,y=>(g(),m("option",{key:y,value:y},E(y),9,BA))),128))],544),[[Tr,p.value]]),T[17]||(T[17]=a("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),h.value||f.value||p.value?(g(),m("button",{key:0,onClick:A,class:"bg-gray-800 hover:bg-yellow-400/10 border border-gray-700 hover:border-yellow-400 rounded-lg px-4 py-2.5 text-gray-300 hover:text-yellow-400 transition-all flex items-center gap-2 group"},T[18]||(T[18]=[a("svg",{class:"w-4 h-4 transition-transform group-hover:rotate-90 duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),se(" Xa b lc ")]))):D("",!0)]),a("div",DA,[a("p",UA,[T[19]||(T[19]=se(" Tm thy ")),a("span",HA,E(i.value.length),1),T[20]||(T[20]=se(" phim ")),l.value>1?(g(),m("span",VA," - Trang "+E(d.value)+"/"+E(l.value),1)):D("",!0)])])]),a("div",FA,[a("div",zA,[i.value&&i.value.length>0?(g(),m("div",qA,[(g(!0),m(te,null,fe(i.value,(y,L)=>(g(),Ae(ga,{key:y.slug||y.id||L,movie:y,trending:!1,class:"animate-fade-in-up",style:ht({animationDelay:`${L*50}ms`})},null,8,["movie","style"]))),128))])):(g(),m("div",KA,T[22]||(T[22]=[Ee('<div class="inline-flex items-center justify-center w-20 h-20 bg-gray-800 rounded-full mb-4" data-v-3e97d9c7><svg class="w-10 h-10 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3e97d9c7><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z" data-v-3e97d9c7></path></svg></div><h3 class="text-xl font-semibold text-gray-400 mb-2" data-v-3e97d9c7>Khng tm thy phim</h3><p class="text-gray-500" data-v-3e97d9c7>Th thay i b lc  xem thm phim</p>',3)])))]),a("aside",WA,[a("div",GA,[T[23]||(T[23]=Ee('<div class="flex items-center gap-2 mb-6" data-v-3e97d9c7><div class="w-8 h-8 bg-yellow-400/10 rounded-lg flex items-center justify-center" data-v-3e97d9c7><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-3e97d9c7><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" data-v-3e97d9c7></path></svg></div><h3 class="text-lg font-bold text-white" data-v-3e97d9c7>Bng Xp Hng</h3></div>',1)),Ne(r).getRecommended.length>0?(g(),m("div",JA,[(g(!0),m(te,null,fe(Ne(r).getRecommended.slice(0,10),(y,L)=>(g(),Ae(Qc,{key:y.slug||y.id||L,trendingMovie:y,index:L,class:"animate-fade-in",style:ht({animationDelay:`${L*100}ms`})},null,8,["trendingMovie","index","style"]))),128))])):(g(),m("p",YA,"ang ti..."))])])]),l.value>1?(g(),m("div",XA,[a("nav",QA,[a("button",{onClick:T[3]||(T[3]=y=>k(d.value-1)),disabled:d.value===1,class:X(["p-2 rounded-lg transition-all",d.value===1?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-yellow-400 hover:bg-gray-800"])},T[24]||(T[24]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),10,ZA),(g(!0),m(te,null,fe(_(),(y,L)=>(g(),m(te,{key:L},[y==="ellipsis"?(g(),m("span",eI,"...")):(g(),m("button",{key:1,onClick:U=>k(y),class:X(["min-w-[40px] h-10 rounded-lg font-medium transition-all",d.value===y?"bg-yellow-400 text-black shadow-lg shadow-yellow-400/50":"text-gray-400 hover:text-white hover:bg-gray-800"])},E(y),11,tI))],64))),128)),a("button",{onClick:T[4]||(T[4]=y=>k(d.value+1)),disabled:d.value===l.value,class:X(["p-2 rounded-lg transition-all",d.value===l.value?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-yellow-400 hover:bg-gray-800"])},T[25]||(T[25]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),10,sI)])])):D("",!0)],64))])])}}},oI=Ve(nI,[["__scopeId","data-v-3e97d9c7"]]),iI={class:"relative flex-1"},aI=["aria-expanded"],lI={key:0,class:"px-4 py-2 text-gray-500"},cI={key:1,class:"px-4 py-2 text-gray-500"},uI=["onClick","onKeydown"],dI={class:"relative flex-1"},hI=["aria-expanded"],fI={key:0,class:"px-4 py-2 text-gray-500"},pI={key:1,class:"px-4 py-2 text-gray-500"},gI=["onClick","onKeydown"],vI={class:"relative flex-1"},mI=["aria-expanded"],yI={key:0,class:"px-4 py-2 text-gray-500"},bI={key:1,class:"px-4 py-2 text-gray-500"},wI=["onClick","onKeydown"],xI={class:"flex gap-2"},_I=["disabled"],kI={key:0,class:"flex items-center"},CI={key:1},EI={__name:"FilterBar",props:{baseSlug:{type:String,default:""},basePath:{type:String,required:!0},selectedCategory:{type:String,default:""},selectedCountry:{type:String,default:""},selectedYear:{type:String,default:""},allCategories:{type:Array,default:()=>[]},allCountries:{type:Array,default:()=>[]},availableYears:{type:Array,default:()=>[]}},emits:["update:selectedCategory","update:selectedCountry","update:selectedYear"],setup(t,{emit:e}){const s=t,r=e;ma(),To();const n=Rs(),o=ot(),i=N(!1),l=N(!1),c=N(!1),u=N(!1),d=N(""),h=N(""),f=N(""),p=N(""),v=N(s.selectedCategory),x=N(s.selectedCountry),S=N(s.selectedYear);Ye(()=>s.selectedCategory,K=>{v.value=K,console.log("FilterBar: props.selectedCategory changed to:",K,"internalSelectedCategory:",v.value)}),Ye(()=>s.selectedCountry,K=>{x.value=K,console.log("FilterBar: props.selectedCountry changed to:",K,"internalSelectedCountry:",x.value)}),Ye(()=>s.selectedYear,K=>{S.value=K,console.log("FilterBar: props.selectedYear changed to:",K,"internalSelectedYear:",S.value)});const R=be(()=>{const K=s.allCategories.find(B=>B.slug===v.value);return K?K.name:"Chn Th Loi"}),P=be(()=>{if(x.value==="")return"Tt c Quc gia";const K=s.allCountries.find(B=>B.slug===x.value);return K?K.name:"Chn Quc Gia"}),A=be(()=>s.allCategories.filter(K=>{var B;return(B=K==null?void 0:K.name)==null?void 0:B.toLowerCase().includes(d.value.toLowerCase())})),I=be(()=>s.allCountries.filter(K=>{var B;return(B=K==null?void 0:K.name)==null?void 0:B.toLowerCase().includes(h.value.toLowerCase())})),k=be(()=>s.availableYears.filter(K=>String(K).toLowerCase().includes(f.value.toLowerCase()))),_=K=>{const B=i.value,j=l.value,$=c.value;i.value=!1,l.value=!1,c.value=!1,d.value="",h.value="",f.value="",K==="category"&&!B?i.value=!0:K==="country"&&!j?l.value=!0:K==="year"&&!$&&(c.value=!0)},C=(K,B)=>{v.value=K,r("update:selectedCategory",K),i.value=!1},T=(K,B)=>{x.value=K,r("update:selectedCountry",K),l.value=!1},w=K=>{S.value=String(K),r("update:selectedYear",String(K)),c.value=!1},y=()=>{v.value="",x.value="",S.value="",r("update:selectedCategory",""),r("update:selectedCountry",""),r("update:selectedYear","");const K=n.params.pageNumber||1;let B=`/${s.basePath}`;s.baseSlug&&(B+=`/${s.baseSlug}`),B+=`/page/${K}`,o.push({path:B,query:{}}),i.value=!1,l.value=!1,c.value=!1,d.value="",h.value="",f.value=""},L=N(null),U=K=>{L.value&&!L.value.contains(K.target)&&(i.value=!1,l.value=!1,c.value=!1,d.value="",h.value="",f.value="")},ce=async()=>{u.value=!0,p.value="";try{const B=n.params.pageNumber||1,j={};v.value&&(j.category=v.value),x.value&&(j.country=x.value),S.value&&(j.year=S.value);let $=[];s.basePath&&$.push(s.basePath),s.baseSlug&&$.push(s.baseSlug),$.push("page",B);const b=`/${$.join("/")}`;await o.push({path:b,query:j})}catch(K){console.error("Li khi lc:",K),p.value=" c li xy ra khi lc phim. Vui lng th li!"}finally{u.value=!1}};return Ge(()=>{document.addEventListener("click",U),console.log("FilterBar onMounted: props.selectedCountry:",s.selectedCountry,"internalSelectedCountry:",x.value)}),vc(()=>{document.removeEventListener("click",U)}),Ye(()=>n.query,K=>{v.value=K.category||"",x.value=K.country||"",S.value=K.year||"",console.log("FilterBar watch route.query: internalSelectedCountry updated to:",x.value)},{deep:!0,immediate:!0}),(K,B)=>(g(),m("div",{class:"relative flex flex-col sm:flex-row bg-gray-800 rounded-xl p-2 gap-2",ref_key:"filterRef",ref:L},[a("div",iI,[a("button",{onClick:B[0]||(B[0]=j=>_("category")),onKeydown:B[1]||(B[1]=It(j=>_("category"),["enter"])),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg flex items-center justify-between text-sm font-medium hover:bg-gray-600 transition-colors duration-200","aria-expanded":i.value,"aria-controls":"category-dropdown"},[a("span",null,E(R.value),1),(g(),m("svg",{class:X(["w-4 h-4 transform transition-transform duration-200",{"rotate-180":i.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},B[15]||(B[15]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],40,aI),i.value?(g(),m("div",{key:0,id:"category-dropdown",class:X(["absolute z-50 mt-2 w-full bg-white text-gray-900 rounded-lg shadow-xl max-h-80 overflow-y-auto transform transition-all duration-300 scrollbar-thin",i.value?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"])},[je(a("input",{"onUpdate:modelValue":B[2]||(B[2]=j=>d.value=j),type:"text",placeholder:"Tm th loi...",class:"w-full px-4 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Qe,d.value]]),a("div",{onClick:B[3]||(B[3]=j=>C("")),onKeydown:B[4]||(B[4]=It(j=>C(""),["enter"])),class:X(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":v.value===""}]),tabindex:"0"}," Tt c Th loi ",34),A.value.length===0&&d.value!==""?(g(),m("div",lI,"Khng tm thy th loi.")):s.allCategories.length===0&&d.value===""?(g(),m("div",cI,"Khng c th loi no.")):D("",!0),(g(!0),m(te,null,fe(A.value,j=>(g(),m("div",{key:j.slug,onClick:$=>C(j.slug,j.name),onKeydown:It($=>C(j.slug,j.name),["enter"]),class:X(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":v.value===j.slug}]),tabindex:"0"},E(j.name),43,uI))),128))],2)):D("",!0)]),a("div",dI,[a("button",{onClick:B[5]||(B[5]=j=>_("country")),onKeydown:B[6]||(B[6]=It(j=>_("country"),["enter"])),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg flex items-center justify-between text-sm font-medium hover:bg-gray-600 transition-colors duration-200","aria-expanded":l.value,"aria-controls":"country-dropdown"},[a("span",null,E(P.value),1),(g(),m("svg",{class:X(["w-4 h-4 transform transition-transform duration-200",{"rotate-180":l.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},B[16]||(B[16]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],40,hI),l.value?(g(),m("div",{key:0,id:"country-dropdown",class:X(["absolute z-50 mt-2 w-full bg-white text-gray-900 rounded-lg shadow-xl max-h-80 overflow-y-auto transform transition-all duration-300 scrollbar-thin",l.value?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"])},[je(a("input",{"onUpdate:modelValue":B[7]||(B[7]=j=>h.value=j),type:"text",placeholder:"Tm quc gia...",class:"w-full px-4 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Qe,h.value]]),a("div",{onClick:B[8]||(B[8]=j=>T("")),onKeydown:B[9]||(B[9]=It(j=>T(""),["enter"])),class:X(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":x.value===""}]),tabindex:"0"}," Tt c Quc gia ",34),I.value.length===0&&h.value!==""?(g(),m("div",fI,"Khng tm thy quc gia.")):s.allCountries.length===0&&h.value===""?(g(),m("div",pI,"Khng c quc gia no.")):D("",!0),(g(!0),m(te,null,fe(I.value,j=>(g(),m("div",{key:j.slug,onClick:$=>T(j.slug,j.name),onKeydown:It($=>T(j.slug,j.name),["enter"]),class:X(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":x.value===j.slug}]),tabindex:"0"},E(j.name),43,gI))),128))],2)):D("",!0)]),a("div",vI,[a("button",{onClick:B[10]||(B[10]=j=>_("year")),onKeydown:B[11]||(B[11]=It(j=>_("year"),["enter"])),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg flex items-center justify-between text-sm font-medium hover:bg-gray-600 transition-colors duration-200","aria-expanded":c.value,"aria-controls":"year-dropdown"},[a("span",null,E(S.value||"Tt c Nm"),1),(g(),m("svg",{class:X(["w-4 h-4 transform transition-transform duration-200",{"rotate-180":c.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},B[17]||(B[17]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],40,mI),c.value?(g(),m("div",{key:0,id:"year-dropdown",class:X(["absolute z-50 mt-2 w-full bg-white text-gray-900 rounded-lg shadow-xl max-h-80 overflow-y-auto transform transition-all duration-300 scrollbar-thin",c.value?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"])},[je(a("input",{"onUpdate:modelValue":B[12]||(B[12]=j=>f.value=j),type:"text",placeholder:"Tm nm...",class:"w-full px-4 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Qe,f.value]]),a("div",{onClick:B[13]||(B[13]=j=>w("")),onKeydown:B[14]||(B[14]=It(j=>w(""),["enter"])),class:X(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":S.value===""}]),tabindex:"0"}," Tt c Nm ",34),k.value.length===0&&f.value!==""?(g(),m("div",yI,"Khng tm thy nm.")):s.availableYears.length===0&&f.value===""?(g(),m("div",bI,"Khng c nm no.")):D("",!0),(g(!0),m(te,null,fe(k.value,j=>(g(),m("div",{key:j,onClick:$=>w(j),onKeydown:It($=>w(j),["enter"]),class:X(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":S.value===String(j)}]),tabindex:"0"},E(j),43,wI))),128))],2)):D("",!0)]),a("div",xI,[a("button",{onClick:ce,class:"bg-blue-600 text-white py-3 px-6 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors duration-200 disabled:bg-blue-400",disabled:u.value},[u.value?(g(),m("span",kI,B[18]||(B[18]=[a("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),se(" ang lc... ")]))):(g(),m("span",CI,"Lc Phim"))],8,_I),a("button",{onClick:y,class:"bg-gray-600 text-white py-3 px-4 rounded-lg text-sm font-medium hover:bg-gray-500 transition-colors duration-200"}," Xa B Lc ")])],512))}},SI=Ve(EI,[["__scopeId","data-v-9d05ca70"]]),TI={class:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white py-8"},$I={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},AI={key:0,class:"flex justify-center items-center h-96"},II={key:1,class:"text-center text-red-400 text-lg py-12"},PI={class:"text-xl font-semibold"},RI={class:"w-full flex flex-col lg:flex-row gap-6 mt-6"},OI={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 flex-[4]"},MI={key:1,class:"text-center col-span-full text-gray-400 text-lg"},jI={class:"lg:w-1/4 flex-1 bg-gray-900 p-4 rounded-xl shadow-md"},NI={key:0,class:"space-y-4 max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700 pr-2"},LI={key:1,class:"text-gray-400 text-lg"},BI={class:"flex justify-center mt-10"},DI={role:"navigation","aria-label":"pagination",class:"mx-auto flex w-full justify-center"},UI={class:"flex flex-row items-center gap-2"},HI={key:0,class:"flex size-9 items-center justify-center text-gray-400"},VI=["onClick","aria-label"],FI=20,zI={__name:"ListBaseCategory",setup(t){const e=Rs(),s=ot(),r=Zc(),n=To(),o=ma(),i=N([]),l=N(1),c=N(!0),u=N(null),d=N(e.params.categorySlug),h=N(parseInt(e.params.pageNumber)||1),f=N(e.query.category||""),p=N(e.query.country||""),v=N(e.query.year||""),x=be(()=>{const A=new Date().getFullYear(),I=[];for(let k=A;k>=A-20;k--)I.push(k);return I});be(()=>{if(n.getAllCategories.length>0&&f.value){const A=n.getAllCategories.find(I=>I.slug===f.value);return A?A.name:null}if(n.getAllCategories.length>0&&d.value){const A=n.getAllCategories.find(I=>I.slug===d.value);return A?A.name:null}return null}),be(()=>{if(o.getAllCountries.length>0&&p.value){const A=o.getAllCountries.find(I=>I.slug===p.value);return A?A.name:null}return null});const S=async()=>{var A;c.value=!0,u.value=null,i.value=[],l.value=1,console.log("ListBaseCategory: Bt u fetchMovies t API."),console.log("ListBaseCategory: Selected Category Slug (query):",f.value),console.log("ListBaseCategory: Selected Country Slug (query):",p.value),console.log("ListBaseCategory: Selected Year (query):",v.value),console.log("ListBaseCategory: Route Category Slug (path):",d.value),console.log("ListBaseCategory: Current Page:",h.value);try{const I={page:h.value,limit:FI,sort_field:"modified.time",sort_type:"desc"},k=f.value||d.value;if(k&&(I.category=k,console.log("ListBaseCategory: p dng lc theo Th loi:",k)),p.value&&(I.country=p.value,console.log("ListBaseCategory: p dng lc theo Quc gia:",p.value)),v.value){const C=parseInt(v.value);isNaN(C)||(I.year=C,console.log("ListBaseCategory: p dng lc theo Nm:",C))}const _=await va(I);if(_.status&&_.data){i.value=(_.data.items||[]).map(Po);const C=(A=_.data.params)==null?void 0:A.pagination;C&&(l.value=C.totalPages||1),console.log("ListBaseCategory: Phim  ti t API:",i.value.length,"phim"),console.log("ListBaseCategory: Tng s trang:",l.value)}else console.warn("ListBaseCategory: API khng tr v d liu hp l"),i.value=[],l.value=1}catch(I){console.error("Li khi fetch phim t API (ListBaseCategory):",I),u.value="Khng th ti d liu phim. Vui lng th li sau.",i.value=[],l.value=1}finally{c.value=!1,console.log("ListBaseCategory: Kt thc fetchMovies. Loading:",c.value,"Error:",u.value)}},R=A=>{if(A>=1&&A<=l.value){let I=["category"];d.value&&I.push(encodeURIComponent(d.value)),I.push("page",A);const k={};f.value&&(k.category=encodeURIComponent(f.value)),p.value&&(k.country=encodeURIComponent(p.value)),v.value&&(k.year=encodeURIComponent(v.value)),s.push({path:`/${I.join("/")}`,query:k})}},P=()=>{const A=new Set,I=2;A.add(1),l.value>1&&A.add(l.value);for(let C=h.value-I;C<=h.value+I;C++)C>=1&&C<=l.value&&A.add(C);let k=Array.from(A).sort((C,T)=>C-T),_=[];for(let C=0;C<k.length;C++)_.push(k[C]),C<k.length-1&&k[C+1]-k[C]>1&&_.push("ellipsis");return _};return Ge(async()=>{console.log("ListBaseCategory: Component mounted."),r.getRecommended.length===0?(console.log("ListBaseCategory: Fetching recommended movies for sidebar..."),await r.getRecommendedMovies()):console.log("ListBaseCategory: Recommended movies already in store. Count:",r.getRecommended.length),n.getAllCategories.length===0?(console.log("ListBaseCategory: Fetching categories..."),await n.getCategory(),console.log("ListBaseCategory: Categories loaded. Count:",n.getAllCategories.length,"Data:",n.getAllCategories)):console.log("ListBaseCategory: Categories already in store. Count:",n.getAllCategories.length,"Data:",n.getAllCategories),o.getAllCountries.length===0?(console.log("ListBaseCategory: Fetching countries..."),await o.getCountry(),console.log("ListBaseCategory: Countries loaded. Count:",o.getAllCountries.length,"Data:",o.getAllCountries)):console.log("ListBaseCategory: Countries already in store. Count:",o.getAllCountries.length,"Data:",o.getAllCountries),console.log("ListBaseCategory: Available years computed:",x.value),Ye(()=>e.params,A=>{d.value=A.categorySlug||"",h.value=parseInt(A.pageNumber)||1,console.log("ListBaseCategory: route.params changed. Triggering fetchMovies (if stores ready)."),n.getAllCategories.length>0&&o.getAllCountries.length>0&&S()},{immediate:!0}),Ye(()=>e.query,A=>{f.value=A.category||"",p.value=A.country||"",v.value=A.year||"",console.log("ListBaseCategory: route.query changed. Triggering fetchMovies (if stores ready)."),n.getAllCategories.length>0&&o.getAllCountries.length>0&&S()},{deep:!0,immediate:!1}),Ye([()=>n.getAllCategories.length,()=>o.getAllCountries.length,()=>n.getLoading,()=>o.getLoading],([A,I,k,_],[C,T,w,y])=>{A>0&&I>0&&!k&&!_&&(c.value||(console.log("ListBaseCategory: Category or Country store data loaded and not loading. Triggering fetchMovies."),S()))}),n.getAllCategories.length>0&&o.getAllCountries.length>0?(console.log("ListBaseCategory: Stores already have data, calling fetchMovies for initial load."),S()):console.log("ListBaseCategory: Stores empty on initial mount, waiting for watchers.")}),(A,I)=>(g(),m("div",TI,[a("div",$I,[c.value?(g(),m("div",AI,I[5]||(I[5]=[Ee('<div class="text-center" data-v-7418d755><svg class="animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-7418d755><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-7418d755></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-7418d755></path></svg><p class="text-xl font-semibold text-gray-300" data-v-7418d755>ang ti phim...</p></div>',1)]))):u.value?(g(),m("div",II,[a("p",PI,E(u.value),1)])):(g(),m(te,{key:2},[Q(SI,{baseSlug:d.value,basePath:"category",allCategories:Ne(n).getAllCategories,allCountries:Ne(o).getAllCountries,availableYears:x.value,selectedCategory:f.value,"onUpdate:selectedCategory":I[0]||(I[0]=k=>f.value=k),selectedCountry:p.value,"onUpdate:selectedCountry":I[1]||(I[1]=k=>p.value=k),selectedYear:v.value,"onUpdate:selectedYear":I[2]||(I[2]=k=>v.value=k),isLoadingCategories:Ne(n).getLoading,isLoadingCountries:Ne(o).getLoading,isLoadingYears:!1},null,8,["baseSlug","allCategories","allCountries","availableYears","selectedCategory","selectedCountry","selectedYear","isLoadingCategories","isLoadingCountries"]),a("div",RI,[a("div",OI,[i.value&&i.value.length>0?(g(!0),m(te,{key:0},fe(i.value,(k,_)=>(g(),Ae(ga,{key:k.slug||k.id||_,movie:k,trending:!1},null,8,["movie"]))),128)):(g(),m("p",MI,"Khng c d liu phim cho th loi ny."))]),a("div",jI,[I[6]||(I[6]=a("h3",{class:"uppercase text-yellow-400 text-sm border-b-2 border-dashed border-gray-600 pb-2 mb-4"}," Bng Xp Hng ",-1)),Ne(r).getRecommended.length>0?(g(),m("div",NI,[(g(!0),m(te,null,fe(Ne(r).getRecommended.slice(0,8),(k,_)=>(g(),Ae(Qc,{key:k.slug||k.id||_,trendingMovie:k,index:_},null,8,["trendingMovie","index"]))),128))])):(g(),m("p",LI,"Khng c d liu xp hng."))])]),a("div",BI,[a("nav",DI,[a("ul",UI,[a("li",null,[a("button",{onClick:I[3]||(I[3]=k=>R(h.value-1)),class:X([{"opacity-50 pointer-events-none":h.value===1},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700 disabled:opacity-50"]),"aria-label":"Previous page"},I[7]||(I[7]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-left"},[a("path",{d:"m15 18-6-6 6-6"})],-1)]),2)]),(g(!0),m(te,null,fe(P(),(k,_)=>(g(),m("li",{key:_},[k==="ellipsis"?(g(),m("span",HI,I[8]||(I[8]=[Ee('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-more-horizontal" data-v-7418d755><circle cx="12" cy="12" r="1" data-v-7418d755></circle><circle cx="19" cy="12" r="1" data-v-7418d755></circle><circle cx="5" cy="12" r="1" data-v-7418d755></circle></svg><span class="sr-only" data-v-7418d755>More pages</span>',2)]))):(g(),m("button",{key:1,onClick:C=>R(k),class:X([{"bg-yellow-400 text-black":h.value===k,"hover:bg-gray-700":h.value!==k},"inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-all h-9 px-4 py-1"]),"aria-label":`Page ${k}`},E(k),11,VI))]))),128)),a("li",null,[a("button",{onClick:I[4]||(I[4]=k=>R(h.value+1)),class:X([{"opacity-50 pointer-events-none":h.value===l.value},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700 disabled:opacity-50"]),"aria-label":"Next page"},I[9]||(I[9]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-right"},[a("path",{d:"m9 18 6-6-6-6"})],-1)]),2)])])])])],64))])]))}},qI=Ve(zI,[["__scopeId","data-v-7418d755"]]),KI={class:"min-h-screen bg-black text-white"},WI={class:"relative bg-gradient-to-b from-gray-900 to-black pt-20 pb-12 px-4"},GI={class:"max-w-7xl mx-auto"},JI={class:"flex items-center gap-2 text-sm mb-6 animate-fade-in"},YI={class:"text-yellow-400 font-medium"},XI={class:"text-4xl md:text-5xl font-bold mb-4 animate-slide-up"},QI={class:"bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent"},ZI={class:"max-w-7xl mx-auto px-4 py-8"},eP={key:0,class:"space-y-8"},tP={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},sP={key:1,class:"text-center py-20 animate-fade-in"},rP={class:"text-gray-400"},nP={class:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 mb-8 border border-gray-800 animate-fade-in",style:{overflow:"visible"}},oP={class:"flex flex-wrap gap-4",style:{overflow:"visible"}},iP={style:{position:"relative"}},aP={class:"truncate"},lP={key:0,class:"absolute left-0 w-full min-w-[220px] bg-gray-800 border-2 border-yellow-400 rounded-lg shadow-2xl max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700",style:{"z-index":"99999",top:"calc(100% + 8px)",position:"absolute !important","box-shadow":"0 25px 50px -12px rgba(0, 0, 0, 0.8)"}},cP=["onClick"],uP={style:{position:"relative"}},dP={class:"truncate"},hP={key:0,class:"absolute left-0 w-full min-w-[220px] bg-gray-800 border-2 border-yellow-400 rounded-lg shadow-2xl max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700",style:{"z-index":"99999",top:"calc(100% + 8px)",position:"absolute !important","box-shadow":"0 25px 50px -12px rgba(0, 0, 0, 0.8)"}},fP=["onClick"],pP={style:{position:"relative"}},gP={class:"truncate"},vP={key:0,class:"absolute top-full left-0 mt-2 w-full min-w-[180px] bg-gray-800 border border-gray-700 rounded-lg shadow-2xl shadow-black/50 max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700",style:{"z-index":"9999"}},mP=["onClick"],yP={class:"mt-4 pt-4 border-t border-gray-800"},bP={class:"text-sm text-gray-400"},wP={class:"text-yellow-400 font-semibold"},xP={key:0},_P={class:"flex flex-col lg:flex-row gap-8"},kP={class:"flex-1"},CP={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},EP={key:1,class:"text-center py-20 animate-fade-in"},SP={class:"lg:w-80 flex-shrink-0"},TP={class:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800 sticky top-24 animate-fade-in"},$P={key:0,class:"space-y-3 max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-800"},AP={key:1,class:"text-gray-500 text-center py-8"},IP={key:0,class:"flex justify-center mt-12 animate-fade-in"},PP={class:"inline-flex items-center gap-2 bg-gray-900/50 backdrop-blur-sm rounded-xl p-2 border border-gray-800"},RP=["disabled"],OP={key:0,class:"px-3 text-gray-600"},MP=["onClick"],jP=["disabled"],NP=20,LP={__name:"ListBaseNational",setup(t){const e=Rs(),s=ot(),r=Zc(),n=To(),o=ma(),i=N([]),l=N(1),c=N(!0),u=N(null),d=N(e.params.countrySlug),h=N(parseInt(e.params.pageNumber)||1),f=N(e.query.country||""),p=N(e.query.category||""),v=N(e.query.year||""),x=N(null),S=be(()=>{const B=[];if(p.value){const $=n.getAllCategories.find(b=>b.slug===p.value);$&&B.push($.name)}const j=f.value||d.value;if(j){const $=o.getAllCountries.find(b=>b.slug===j);$&&B.push($.name)}return v.value&&B.push(`Nm ${v.value}`),B.length>0?B.join(" - "):"Danh Sch Phim"}),R=be(()=>{const B=new Date().getFullYear(),j=[];for(let $=B;$>=B-20;$--)j.push($);return j}),P=be(()=>{if(!p.value)return"Tt c th loi";const B=n.getAllCategories.find(j=>j.slug===p.value);return B?B.name:"Tt c th loi"}),A=be(()=>{if(!f.value)return"Tt c quc gia";const B=o.getAllCountries.find(j=>j.slug===f.value);return B?B.name:"Tt c quc gia"}),I=be(()=>v.value?v.value:"Tt c nm"),k=B=>{x.value=x.value===B?null:B},_=B=>{p.value=B,x.value=null,w()},C=B=>{f.value=B,x.value=null,w()},T=B=>{v.value=B,x.value=null,w()},w=()=>{const B=d.value?`country/${encodeURIComponent(d.value)}`:"country",j={};p.value&&(j.category=p.value),f.value&&(j.country=f.value),v.value&&(j.year=v.value),s.push({path:`/${B}/page/1`,query:j})},y=()=>{p.value="",f.value="",v.value="",x.value=null,s.push({path:`/${d.value?`country/${d.value}`:"country"}/page/1`,query:{}})},L=async()=>{var B;c.value=!0,u.value=null,i.value=[];try{const j={page:h.value,limit:NP,sort_field:"modified.time",sort_type:"desc"},$=f.value||d.value;$&&(j.country=$),p.value&&(j.category=p.value),v.value&&(j.year=parseInt(v.value));const b=await va(j);if(b.status&&b.data){i.value=(b.data.items||[]).map(Po);const G=(B=b.data.params)==null?void 0:B.pagination;G&&(l.value=G.totalPages||1)}else i.value=[],l.value=1}catch(j){console.error("Error fetching movies:",j),u.value="Khng th ti d liu phim. Vui lng th li sau.",i.value=[],l.value=1}finally{c.value=!1}},U=B=>{if(B>=1&&B<=l.value){const j=d.value?`country/${encodeURIComponent(d.value)}`:"country",$={};p.value&&($.category=p.value),f.value&&($.country=f.value),v.value&&($.year=v.value),s.push({path:`/${j}/page/${B}`,query:$})}},ce=()=>{const B=new Set,j=2;B.add(1),l.value>1&&B.add(l.value);for(let G=h.value-j;G<=h.value+j;G++)G>=1&&G<=l.value&&B.add(G);const $=Array.from(B).sort((G,he)=>G-he),b=[];for(let G=0;G<$.length;G++)b.push($[G]),G<$.length-1&&$[G+1]-$[G]>1&&b.push("ellipsis");return b},K={mounted(B,j){B.clickOutsideEvent=$=>{B===$.target||B.contains($.target)||j.value()},document.addEventListener("click",B.clickOutsideEvent)},unmounted(B){document.removeEventListener("click",B.clickOutsideEvent)}};return Ge(async()=>{r.getRecommended.length===0&&await r.getRecommendedMovies(),n.getAllCategories.length===0&&await n.getCategory(),o.getAllCountries.length===0&&await o.getCountry(),Ye(()=>e.params,B=>{d.value=B.countrySlug||"",h.value=parseInt(B.pageNumber)||1,n.getAllCategories.length>0&&o.getAllCountries.length>0&&L()},{immediate:!0}),Ye(()=>e.query,B=>{p.value=B.category||"",f.value=B.country||"",v.value=B.year||"",n.getAllCategories.length>0&&o.getAllCountries.length>0&&L()},{deep:!0}),n.getAllCategories.length>0&&o.getAllCountries.length>0&&L()}),(B,j)=>{const $=jt("router-link");return g(),m("div",KI,[a("div",WI,[a("div",GI,[a("nav",JI,[Q($,{to:"/home",class:"text-gray-400 hover:text-yellow-400 transition-colors"},{default:xe(()=>j[8]||(j[8]=[se(" Trang ch ")])),_:1}),j[9]||(j[9]=a("svg",{class:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),a("span",YI,E(S.value),1)]),a("h1",XI,[a("span",QI,E(S.value),1)]),j[10]||(j[10]=a("p",{class:"text-gray-400 text-lg animate-slide-up animation-delay-100"}," Khm ph b su tp phim c sc ",-1))])]),a("div",ZI,[c.value?(g(),m("div",eP,[j[12]||(j[12]=Ee('<div class="bg-gray-900/50 rounded-xl p-6 animate-pulse" data-v-1e6d5e2c><div class="flex flex-wrap gap-4" data-v-1e6d5e2c><div class="h-10 bg-gray-800 rounded-lg w-40" data-v-1e6d5e2c></div><div class="h-10 bg-gray-800 rounded-lg w-40" data-v-1e6d5e2c></div><div class="h-10 bg-gray-800 rounded-lg w-32" data-v-1e6d5e2c></div></div></div>',1)),a("div",tP,[(g(),m(te,null,fe(10,b=>a("div",{key:b,class:"animate-pulse"},j[11]||(j[11]=[a("div",{class:"aspect-[2/3] bg-gray-800 rounded-lg mb-2"},null,-1),a("div",{class:"h-4 bg-gray-800 rounded w-3/4 mb-2"},null,-1),a("div",{class:"h-3 bg-gray-800 rounded w-1/2"},null,-1)]))),64))])])):u.value?(g(),m("div",sP,[j[13]||(j[13]=a("div",{class:"inline-flex items-center justify-center w-20 h-20 bg-red-500/10 rounded-full mb-4"},[a("svg",{class:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),j[14]||(j[14]=a("h3",{class:"text-xl font-semibold text-red-400 mb-2"},"C li xy ra",-1)),a("p",rP,E(u.value),1)])):(g(),m(te,{key:2},[a("div",nP,[a("div",oP,[je((g(),m("div",iP,[a("button",{onClick:j[0]||(j[0]=b=>k("category")),class:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 text-white hover:border-yellow-400 transition-all min-w-[180px] flex items-center justify-between group"},[a("span",aP,E(P.value),1),(g(),m("svg",{class:X(["w-4 h-4 ml-2 transition-transform duration-300 group-hover:text-yellow-400",{"rotate-180":x.value==="category"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j[15]||(j[15]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),Q(dt,{name:"dropdown"},{default:xe(()=>[x.value==="category"?(g(),m("div",lP,[a("button",{onClick:j[1]||(j[1]=b=>_("")),class:"w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white border-b border-gray-700"}," Tt c th loi "),(g(!0),m(te,null,fe(Ne(n).getAllCategories,b=>(g(),m("button",{key:b.slug,onClick:G=>_(b.slug),class:X(["w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white",{"bg-yellow-400/20 text-yellow-400":p.value===b.slug}])},E(b.name),11,cP))),128))])):D("",!0)]),_:1})])),[[K,()=>x.value!=="category"||(x.value=null)]]),je((g(),m("div",uP,[a("button",{onClick:j[2]||(j[2]=b=>k("country")),class:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 text-white hover:border-yellow-400 transition-all min-w-[180px] flex items-center justify-between group"},[a("span",dP,E(A.value),1),(g(),m("svg",{class:X(["w-4 h-4 ml-2 transition-transform duration-300 group-hover:text-yellow-400",{"rotate-180":x.value==="country"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j[16]||(j[16]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),Q(dt,{name:"dropdown"},{default:xe(()=>[x.value==="country"?(g(),m("div",hP,[a("button",{onClick:j[3]||(j[3]=b=>C("")),class:"w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white border-b border-gray-700"}," Tt c quc gia "),(g(!0),m(te,null,fe(Ne(o).getAllCountries,b=>(g(),m("button",{key:b.slug,onClick:G=>C(b.slug),class:X(["w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white",{"bg-yellow-400/20 text-yellow-400":f.value===b.slug}])},E(b.name),11,fP))),128))])):D("",!0)]),_:1})])),[[K,()=>x.value!=="country"||(x.value=null)]]),je((g(),m("div",pP,[a("button",{onClick:j[4]||(j[4]=b=>k("year")),class:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 text-white hover:border-yellow-400 transition-all min-w-[140px] flex items-center justify-between group"},[a("span",gP,E(I.value),1),(g(),m("svg",{class:X(["w-4 h-4 ml-2 transition-transform duration-300 group-hover:text-yellow-400",{"rotate-180":x.value==="year"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j[17]||(j[17]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),Q(dt,{name:"dropdown"},{default:xe(()=>[x.value==="year"?(g(),m("div",vP,[a("button",{onClick:j[5]||(j[5]=b=>T("")),class:"w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white border-b border-gray-700"}," Tt c nm "),(g(!0),m(te,null,fe(R.value,b=>(g(),m("button",{key:b,onClick:G=>T(b),class:X(["w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white",{"bg-yellow-400/20 text-yellow-400":v.value===b}])},E(b),11,mP))),128))])):D("",!0)]),_:1})])),[[K,()=>x.value!=="year"||(x.value=null)]]),p.value||f.value||v.value?(g(),m("button",{key:0,onClick:y,class:"bg-gray-800 hover:bg-yellow-400/10 border border-gray-700 hover:border-yellow-400 rounded-lg px-4 py-2.5 text-gray-300 hover:text-yellow-400 transition-all flex items-center gap-2 group"},j[18]||(j[18]=[a("svg",{class:"w-4 h-4 transition-transform group-hover:rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),se(" Xa b lc ")]))):D("",!0)]),a("div",yP,[a("p",bP,[j[19]||(j[19]=se(" Tm thy ")),a("span",wP,E(i.value.length),1),j[20]||(j[20]=se(" phim ")),l.value>1?(g(),m("span",xP," - Trang "+E(h.value)+"/"+E(l.value),1)):D("",!0)])])]),a("div",_P,[a("div",kP,[i.value&&i.value.length>0?(g(),m("div",CP,[(g(!0),m(te,null,fe(i.value,(b,G)=>(g(),Ae(ga,{key:b.slug||b.id||G,movie:b,trending:!1,class:"animate-fade-in-up",style:ht({animationDelay:`${G*50}ms`})},null,8,["movie","style"]))),128))])):(g(),m("div",EP,j[21]||(j[21]=[Ee('<div class="inline-flex items-center justify-center w-20 h-20 bg-gray-800 rounded-full mb-4" data-v-1e6d5e2c><svg class="w-10 h-10 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-1e6d5e2c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z" data-v-1e6d5e2c></path></svg></div><h3 class="text-xl font-semibold text-gray-400 mb-2" data-v-1e6d5e2c>Khng tm thy phim</h3><p class="text-gray-500" data-v-1e6d5e2c>Th thay i b lc  xem thm phim</p>',3)])))]),a("aside",SP,[a("div",TP,[j[22]||(j[22]=Ee('<div class="flex items-center gap-2 mb-6" data-v-1e6d5e2c><div class="w-8 h-8 bg-yellow-400/10 rounded-lg flex items-center justify-center" data-v-1e6d5e2c><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-1e6d5e2c><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" data-v-1e6d5e2c></path></svg></div><h3 class="text-lg font-bold text-white" data-v-1e6d5e2c>Bng Xp Hng</h3></div>',1)),Ne(r).getRecommended.length>0?(g(),m("div",$P,[(g(!0),m(te,null,fe(Ne(r).getRecommended.slice(0,10),(b,G)=>(g(),Ae(Qc,{key:b.slug||b.id||G,trendingMovie:b,index:G,class:"animate-fade-in",style:ht({animationDelay:`${G*100}ms`})},null,8,["trendingMovie","index","style"]))),128))])):(g(),m("p",AP,"ang ti..."))])])]),l.value>1?(g(),m("div",IP,[a("nav",PP,[a("button",{onClick:j[6]||(j[6]=b=>U(h.value-1)),disabled:h.value===1,class:X(["p-2 rounded-lg transition-all",h.value===1?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-yellow-400 hover:bg-gray-800"])},j[23]||(j[23]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),10,RP),(g(!0),m(te,null,fe(ce(),(b,G)=>(g(),m(te,{key:G},[b==="ellipsis"?(g(),m("span",OP,"...")):(g(),m("button",{key:1,onClick:he=>U(b),class:X(["min-w-[40px] h-10 rounded-lg font-medium transition-all",h.value===b?"bg-yellow-400 text-black shadow-lg shadow-yellow-400/50":"text-gray-400 hover:text-white hover:bg-gray-800"])},E(b),11,MP))],64))),128)),a("button",{onClick:j[7]||(j[7]=b=>U(h.value+1)),disabled:h.value===l.value,class:X(["p-2 rounded-lg transition-all",h.value===l.value?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-yellow-400 hover:bg-gray-800"])},j[24]||(j[24]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),10,jP)])])):D("",!0)],64))])])}}},BP=Ve(LP,[["__scopeId","data-v-1e6d5e2c"]]),DP={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white py-16 px-4 sm:px-6 lg:px-8 overflow-hidden"},UP={__name:"Contact",setup(t){const e=()=>{alert("Tnh nng form lin h ang c pht trin!")};return(s,r)=>(g(),m("div",DP,[a("div",{class:"max-w-7xl mx-auto"},[r[1]||(r[1]=Ee('<div class="text-center mb-12 animate-fade-in" data-v-f918404e><h1 class="text-5xl sm:text-6xl font-extrabold text-yellow-400 uppercase tracking-wide bg-gradient-to-r from-yellow-400 to-yellow-300 bg-clip-text text-transparent" data-v-f918404e> HTHREE </h1><p class="mt-4 text-lg sm:text-xl text-gray-300" data-v-f918404e>Nn tng xem phim nh cao - Cht lng Full HD, cp nht mi ngy</p></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-10" data-v-f918404e><div class="relative group" data-v-f918404e><div class="rounded-xl overflow-hidden shadow-2xl transition-all duration-300 group-hover:shadow-yellow-400/50" data-v-f918404e><img src="https://univn.vn/wp-content/uploads/2020/12/thiet-ke-web-xem-phim.jpg" alt="Ni tht rp HTHREE" class="w-full h-96 object-cover transform transition-transform duration-300 group-hover:scale-105" data-v-f918404e></div><div class="absolute inset-0 bg-gray-900 bg-opacity-10 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300" data-v-f918404e><p class="text-yellow-400 text-xl font-semibold bg-black bg-opacity-50 px-4 py-2 rounded" data-v-f918404e>Khm ph khng gian xem phim ng cp</p></div></div><div class="bg-gray-800 p-6 rounded-xl shadow-lg space-y-6" data-v-f918404e><p class="text-xl leading-relaxed font-semibold text-gray-200" data-v-f918404e> HTHREE mang n tri nghim xem phim trc tuyn vi hn 10.000+ b phim cht lng Full HD, giao din thn thin, v cp nht a dng mi ngy. Chng ti cam kt mang n s gii tr nh cao cho mi gia nh v c nhn. </p><ul class="list-none space-y-3 text-gray-300 text-base" data-v-f918404e><li class="flex items-center gap-2" data-v-f918404e><span class="text-yellow-400" data-v-f918404e></span> Qung co trn mn hnh, tip cn hng ngn khn gi</li><li class="flex items-center gap-2" data-v-f918404e><span class="text-yellow-400" data-v-f918404e></span> T chc s kin thng hiu hoc fan offline chuyn nghip</li><li class="flex items-center gap-2" data-v-f918404e><span class="text-yellow-400" data-v-f918404e></span> Xem phim bom tn ring t cng ngi thn, bn b</li><li class="flex items-center gap-2" data-v-f918404e><span class="text-yellow-400" data-v-f918404e></span> t a im cho hp bo, o to, hoc s kin c bit</li></ul></div></div>',2)),a("div",{class:"mt-12 bg-gray-800 p-6 rounded-xl shadow-lg"},[r[0]||(r[0]=Ee('<h2 class="text-2xl font-bold text-yellow-400 mb-4" data-v-f918404e>Lin H Vi HTHREE</h2><p class="text-gray-300 mb-6" data-v-f918404e>Hy kt ni ngay hm nay  nhn c s h tr tt nht!</p><div class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-v-f918404e><div class="flex items-center gap-3 p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors" data-v-f918404e><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-f918404e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-f918404e></path></svg><div data-v-f918404e><p class="text-sm text-gray-400" data-v-f918404e>Email</p><a href="mailto:CS@HTHREE.VN" class="text-blue-400 hover:underline" data-v-f918404e>CS@HTHREE.VN</a></div></div><div class="flex items-center gap-3 p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors" data-v-f918404e><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-f918404e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" data-v-f918404e></path></svg><div data-v-f918404e><p class="text-sm text-gray-400" data-v-f918404e>Hotline</p><a href="tel:0123.456.789" class="text-blue-400 hover:underline" data-v-f918404e>0123.456.789</a></div></div></div>',3)),a("button",{onClick:e,class:"mt-6 w-full bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:-translate-y-1"}," Lin H Ngay ")])])]))}},HP=Ve(UP,[["__scopeId","data-v-f918404e"]]),VP={class:"min-h-screen bg-black font-sans flex flex-col"},FP={class:"bg-black border-b border-gray-800 px-8 py-4"},zP={class:"flex items-center justify-between"},qP={class:"flex flex-1 justify-center"},KP={class:"flex w-full max-w-7xl"},WP={class:"w-80 flex-shrink-0 flex flex-col pl-8 pr-8 py-8"},GP={class:"mb-8"},JP={class:"flex-1 space-y-1"},YP=["onClick"],XP={key:0,class:"absolute inset-0 bg-[#2a2a2a]/40 rounded-lg transition-opacity duration-300 ease-out opacity-0 group-hover:opacity-100",style:{"z-index":"-1"}},QP={key:1,class:"absolute inset-0 bg-[#2a2a2a]/40 rounded-lg",style:{"z-index":"-1"}},ZP={key:2,class:"absolute left-0 top-0 w-1 h-full bg-yellow-400 animate-slide-down-bar",style:{"z-index":"10"}},eR={class:"text-base relative z-10"},tR={class:"flex-1 overflow-y-auto"},sR={class:"max-w-4xl px-8 py-8"},rR={class:"w-full"},nR={key:0,class:"flex justify-center items-center min-h-[400px]"},oR={key:1,class:"text-center py-12"},iR={key:2},aR={key:0},lR={class:"flex items-center justify-between mb-4"},cR={class:"inline-block bg-yellow-400 text-black text-xs font-bold px-3 py-1 rounded-full"},uR={key:0,class:"space-y-4 mb-6"},dR={class:"flex items-start justify-between mb-3"},hR={class:"flex-1"},fR={class:"flex items-center gap-2 mb-2"},pR={class:"text-lg font-bold text-white"},gR={class:"text-xs text-gray-300"},vR={class:"text-gray-200 text-sm"},mR={class:"text-gray-300 text-xs mt-1"},yR={class:"text-right"},bR={class:"flex justify-between text-xs text-gray-300 mb-1"},wR={class:"w-full bg-gray-700/50 rounded-full h-1.5 overflow-hidden"},xR={class:"text-xs text-gray-400 mt-1"},_R={key:1,class:"bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700 rounded-lg p-6 mb-6 text-center"},kR={class:"space-y-3"},CR={key:1},ER={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6"},SR={class:"mb-6"},TR={class:"text-gray-300"},$R={class:"text-gray-400 text-sm"},AR={key:2},IR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6"},PR={key:1,class:"p-4 bg-[#2a2a2a] rounded-lg border border-gray-700"},RR={class:"border-t border-gray-800 mt-2 pt-2"},OR={class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group"},MR={class:"flex items-center flex-1"},jR={class:"text-left flex-1"},NR={class:"text-gray-400 text-sm"},LR={class:"border-t border-gray-800 mt-2 pt-2"},BR={class:"flex items-center flex-1"},DR={class:"text-left flex-1"},UR={key:0,class:"text-gray-400 text-sm"},HR={key:1,class:"text-gray-400 text-sm"},VR={key:2,class:"flex items-center gap-1 mt-1"},FR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6"},zR={key:3},qR={key:4},KR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6"},WR={class:"flex items-center justify-between mb-4"},GR={class:"flex items-center"},JR={class:"w-12 h-12 bg-blue-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl"},YR={class:"text-white font-medium"},XR={key:5},QR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6"},ZR={class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group mb-2"},eO={class:"flex items-center flex-1"},tO={class:"w-12 h-12 bg-blue-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl"},sO={class:"text-left flex-1"},rO={class:"text-white font-medium"},nO={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 max-w-md w-full animate-fade-in"},oO={class:"mb-6"},iO={class:"flex gap-3"},aO={key:1,class:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4"},lO={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 max-w-md w-full animate-fade-in"},cO={key:0},uO={class:"mb-6"},dO=["disabled"],hO={key:1},fO={class:"mb-4"},pO={class:"mb-4"},gO={class:"relative"},vO=["type"],mO={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},yO={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bO={class:"mb-6"},wO={class:"relative"},xO=["type"],_O={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},kO={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},CO={class:"flex gap-3"},EO=["disabled"],SO={__name:"Account",setup(t){const e=Zs(),s=cr(),r=ot(),n=N(null),o=N(!0),i=N("overview"),l=N(!1),c=N(""),u=N(localStorage.getItem("userPhoneNumber")||""),d=N(!1),h=N(!1),f=N(1),p=ft({email:"",token:"",newPassword:"",confirmPassword:""}),v=N(!1),x=N(!1),S=N(!1);ft({current:"",new:"",confirm:""});const R=ft({displayName:""}),P=[{id:"overview",label:"Tng quan",icon:()=>et("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[et("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])},{id:"membership",label:"T cch thnh vin",icon:()=>et("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[et("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])},{id:"password",label:"Bo mt",icon:()=>et("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[et("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])},{id:"devices",label:"Thit b",icon:()=>et("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[et("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})])},{id:"profile",label:"H s",icon:()=>et("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[et("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])},{id:"settings",label:"Ci t",icon:()=>et("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[et("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),et("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}],A=N([]),I=N(!1),k=async()=>{const $=localStorage.getItem("user");if($)try{const G=JSON.parse($).id;I.value=!0;const ve=await(await fetch(`http://localhost/HTHREE_film/HTHREE_film/backend/api/user_subscription.php?user_id=${G}`)).json();ve.success&&ve.data&&(A.value=Array.isArray(ve.data)?ve.data:[ve.data],console.log(" Subscriptions:",A.value))}catch(b){console.error("Failed to fetch subscription:",b)}finally{I.value=!1}},_=$=>{const b={basic:"from-blue-900 via-blue-800 to-cyan-900 border-blue-700",premium:"from-red-900 via-red-800 to-orange-900 border-red-700",vip:"from-purple-900 via-purple-800 to-pink-900 border-purple-700",free:"from-gray-800 via-gray-700 to-gray-900 border-gray-700"};return b[$]||b.free};Ge(()=>{yn(e,$=>{n.value=$,$?(R.displayName=$.displayName||"",h.value=$.providerData.some(b=>b.providerId==="google.com"),k()):r.push("/home"),o.value=!1})});const C=()=>{var b,G;if(!((G=(b=n.value)==null?void 0:b.metadata)!=null&&G.creationTime))return"1/2025";const $=new Date(n.value.metadata.creationTime);return`${$.getMonth()+1}/${$.getFullYear()}`},T=()=>{const $=new Date;return $.setMonth($.getMonth()+1),`${$.getDate()} thng ${$.getMonth()+1}, ${$.getFullYear()}`},w=()=>{c.value=u.value,l.value=!0},y=()=>{l.value=!1,c.value=""},L=()=>{if(!c.value.trim()){s.error("Vui lng nhp s in thoi!");return}if(!/^[0-9]{10,11}$/.test(c.value.replace(/\s/g,""))){s.error("S in thoi khng hp l! Vui lng nhp 10-11 ch s.");return}u.value=c.value,localStorage.setItem("userPhoneNumber",c.value);const b=localStorage.getItem("user");if(b){const G=JSON.parse(b);G.phone=c.value,G.phone_number=c.value,localStorage.setItem("user",JSON.stringify(G)),console.log(" Updated user phone in localStorage:",c.value)}s.success("Lu s in thoi thnh cng!"),y()},U=()=>{u.value="",localStorage.removeItem("userPhoneNumber"),s.success(" xa s in thoi!"),y()},ce=()=>{var $;f.value=1,p.email=(($=n.value)==null?void 0:$.email)||"",p.token="",p.newPassword="",p.confirmPassword="",d.value=!0},K=()=>{d.value=!1,f.value=1},B=async()=>{if(!p.email){s.error("Vui lng nhp email!");return}v.value=!0;try{const b=await(await fetch("http://localhost/HTHREE_Film/backend/api/change-password.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"send_code",email:p.email})})).json();b.success?(s.success(b.message),f.value=2):s.error(b.message)}catch{s.error("Li kt ni server!")}finally{v.value=!1}},j=async()=>{if(!p.token){s.error("Vui lng nhp m xc thc!");return}if(!p.newPassword){s.error("Vui lng nhp mt khu mi!");return}if(p.newPassword!==p.confirmPassword){s.error("Mt khu xc nhn khng khp!");return}if(p.newPassword.length<6){s.error("Mt khu phi c t nht 6 k t!");return}v.value=!0;try{const b=await(await fetch("http://localhost/HTHREE_Film/backend/api/change-password.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"verify_and_change",email:p.email,token:p.token,newPassword:p.newPassword})})).json();b.success?(s.success("i mt khu thnh cng! Mt khu mi  c lu."),K()):s.error(b.message)}catch{s.error("Li kt ni server!")}finally{v.value=!1}};return($,b)=>{var he,z,ve,ye,He,ge;const G=jt("router-link");return g(),m("div",VP,[a("div",FP,[a("div",zP,[Q(G,{to:"/home",class:"flex items-center gap-2"},{default:xe(()=>b[14]||(b[14]=[a("svg",{class:"w-8 h-8 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24"},[a("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})],-1),a("span",{class:"text-2xl font-bold text-white"},"HTHREE",-1)])),_:1})])]),a("div",qP,[a("div",KP,[a("aside",WP,[a("div",GP,[Q(G,{to:"/home",class:"inline-flex items-center text-gray-400 hover:text-white transition-colors font-medium text-sm"},{default:xe(()=>b[15]||(b[15]=[a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),se(" Quay li HTHREE Film ")])),_:1})]),a("nav",JP,[(g(),m(te,null,fe(P,J=>a("button",{key:J.id,onClick:F=>i.value=J.id,class:X(["w-full flex items-center px-4 py-3 text-left rounded-lg transition-all duration-500 ease-out relative group",i.value===J.id?"text-white font-semibold":"text-gray-400 hover:text-white"]),style:{isolation:"isolate"}},[i.value!==J.id?(g(),m("div",XP)):D("",!0),i.value===J.id?(g(),m("div",QP)):D("",!0),i.value===J.id?(g(),m("div",ZP)):D("",!0),(g(),Ae(C0(J.icon),{class:"w-5 h-5 mr-3 transition-transform duration-500 ease-out group-hover:scale-105 relative z-10"})),a("span",eR,E(J.label),1)],10,YP)),64))])]),a("div",tR,[a("div",sR,[a("main",rR,[o.value?(g(),m("div",nR,b[16]||(b[16]=[a("svg",{class:"animate-spin h-8 w-8 text-yellow-400",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):n.value?(g(),m("div",iR,[i.value==="overview"?(g(),m("div",aR,[b[28]||(b[28]=a("h1",{class:"text-3xl font-bold text-white mb-2 tracking-tight"},"Ti khon",-1)),b[29]||(b[29]=a("p",{class:"text-gray-300 mb-8"},"Thng tin t cch thnh vin",-1)),a("div",lR,[a("div",null,[a("span",cR," Thnh vin t thng "+E(C()),1)]),a("button",{onClick:b[0]||(b[0]=J=>Ne(r).push("/pricing")),class:"text-yellow-400 hover:text-yellow-300 text-sm font-medium flex items-center transition-colors"},b[19]||(b[19]=[a("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),se(" Mua thm gi ")]))]),A.value.length>0?(g(),m("div",uR,[(g(!0),m(te,null,fe(A.value,J=>(g(),m("div",{key:J.id,class:X(["bg-gradient-to-br border rounded-lg p-5 shadow-lg transition-all hover:scale-[1.02]",_(J.plan_slug)])},[a("div",dR,[a("div",hR,[a("div",fR,[a("h3",pR,E(J.plan_name),1),a("span",gR,E(J.quality),1)]),a("p",vR,"Ht hn: "+E(J.end_date_formatted),1),a("p",mR,E(J.days_remaining>0?`Cn li ${J.days_remaining} ngy`:" ht hn"),1)]),a("div",yR,[a("span",{class:X(["inline-block px-2 py-1 rounded-full text-xs font-bold",{"bg-green-500 text-white":J.subscription_status==="active","bg-yellow-500 text-black":J.subscription_status==="expiring_soon","bg-red-500 text-white":J.subscription_status==="expired"}])},E(J.subscription_status==="active"?"Hot ng":J.subscription_status==="expiring_soon"?"Sp ht":"Ht hn"),3)])]),a("div",null,[a("div",bR,[a("span",null,E(J.start_date_formatted),1),a("span",null,E(J.end_date_formatted),1)]),a("div",wR,[a("div",{class:X(["h-full rounded-full transition-all duration-500",{"bg-gradient-to-r from-green-400 to-green-500":J.progress<70,"bg-gradient-to-r from-yellow-400 to-yellow-500":J.progress>=70&&J.progress<90,"bg-gradient-to-r from-red-400 to-red-500":J.progress>=90}]),style:ht({width:J.progress+"%"})},null,6)]),a("p",xR,E(J.used_days)+"/"+E(J.total_days)+" ngy ",1)])],2))),128))])):I.value?D("",!0):(g(),m("div",_R,[b[20]||(b[20]=a("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),b[21]||(b[21]=a("h3",{class:"text-xl font-bold text-white mb-2"},"Cha c gi ng k",-1)),b[22]||(b[22]=a("p",{class:"text-gray-400 mb-4"},"ng k gi  tri nghim y  tnh nng",-1)),a("button",{onClick:b[1]||(b[1]=J=>Ne(r).push("/pricing")),class:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-bold px-6 py-3 rounded-lg hover:from-yellow-500 hover:to-yellow-600 transition-all"}," Xem cc gi ng k ")])),a("div",kR,[b[26]||(b[26]=Ee('<h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4" data-v-425a3834>Lin kt nhanh</h3><button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4" data-v-425a3834></path></svg><span class="text-white font-medium" data-v-425a3834>Thay i gi dch v</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" data-v-425a3834></path></svg><span class="text-white font-medium" data-v-425a3834>Qun l phng thc thanh ton</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Mua thm mt sut thnh vin b sung</p><p class="text-gray-400 text-sm" data-v-425a3834>Chia s HTHREE vi ngi khng sng cng bn.</p></div></div><div class="flex items-center gap-2" data-v-425a3834><span class="bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded" data-v-425a3834>Mi</span><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></div></button>',4)),a("button",{onClick:b[2]||(b[2]=J=>i.value="devices"),class:"w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group"},b[23]||(b[23]=[Ee('<div class="flex items-center" data-v-425a3834><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" data-v-425a3834></path></svg><span class="text-white font-medium" data-v-425a3834>Qun l quyn truy cp v thit b</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg>',2)])),a("button",{onClick:b[3]||(b[3]=J=>i.value="password"),class:"w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group"},b[24]||(b[24]=[Ee('<div class="flex items-center" data-v-425a3834><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-425a3834></path></svg><span class="text-white font-medium" data-v-425a3834>Cp nht mt khu</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg>',2)])),b[27]||(b[27]=Ee('<button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" data-v-425a3834></path></svg><span class="text-white font-medium" data-v-425a3834>Chuyn h s</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-425a3834></path></svg><span class="text-white font-medium" data-v-425a3834>iu chnh tnh nng kim sot ca cha m</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button>',2)),a("button",{onClick:b[4]||(b[4]=J=>i.value="profile"),class:"w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group"},b[25]||(b[25]=[Ee('<div class="flex items-center flex-1" data-v-425a3834><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Qun l h s</p><p class="text-gray-400 text-sm" data-v-425a3834>Kim sot v cp php ca cha m</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg>',2)]))])])):D("",!0),i.value==="membership"?(g(),m("div",CR,[b[33]||(b[33]=Ee('<h1 class="text-3xl font-bold text-white mb-2 tracking-tight" data-v-425a3834>T cch thnh vin</h1><p class="text-gray-400 mb-8" data-v-425a3834>Thng tin gi dch v</p><div class="bg-gradient-to-r from-purple-900 to-indigo-900 border border-purple-700 rounded-lg p-6 mb-6" data-v-425a3834><h2 class="text-2xl font-bold text-white mb-2" data-v-425a3834>Gi Cao cp</h2><p class="text-gray-200 mb-4" data-v-425a3834> phn gii video 4K vi m thanh khng gian, khng qung co khi xem v hn th na.</p><button class="w-full bg-white/10 hover:bg-white/20 border border-white/30 rounded-lg p-4 transition-all flex items-center justify-between group mt-4" data-v-425a3834><span class="text-white font-medium" data-v-425a3834>Thay i gi dch v</span><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full bg-white/10 hover:bg-white/20 border border-white/30 rounded-lg p-4 transition-all flex items-center justify-between group mt-3" data-v-425a3834><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Mua thm mt sut thnh vin b sung</p><p class="text-gray-300 text-sm" data-v-425a3834>Chia s HTHREE vi ngi khng sng cng bn.</p></div><div class="flex items-center gap-2" data-v-425a3834><span class="bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded" data-v-425a3834>Mi</span><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></div></button></div>',3)),a("div",ER,[b[31]||(b[31]=a("h3",{class:"text-xl font-bold text-white mb-4"},"Thng tin thanh ton",-1)),a("div",SR,[b[30]||(b[30]=a("h4",{class:"text-white font-semibold mb-2"},"Ln thanh ton tip theo",-1)),a("p",TR,E(T()),1),a("p",$R,"Ghi n trc tip: "+E(n.value.email),1)]),b[32]||(b[32]=Ee('<button class="w-full bg-[#2a2a2a] hover:bg-[#3a3a3a] border border-gray-700 rounded-lg p-4 transition-all flex items-center justify-between group mb-3" data-v-425a3834><span class="text-white font-medium" data-v-425a3834>Qun l phng thc thanh ton</span><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full bg-[#2a2a2a] hover:bg-[#3a3a3a] border border-gray-700 rounded-lg p-4 transition-all flex items-center justify-between group mb-3" data-v-425a3834><span class="text-white font-medium" data-v-425a3834>i m qu tng hoc khuyn mi</span><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full bg-[#2a2a2a] hover:bg-[#3a3a3a] border border-gray-700 rounded-lg p-4 transition-all flex items-center justify-between group" data-v-425a3834><span class="text-white font-medium" data-v-425a3834>Xem lch s thanh ton</span><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button>',3))]),b[34]||(b[34]=a("div",{class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6"},[a("button",{class:"w-full text-center text-red-400 hover:text-red-300 font-medium transition-colors"}," Hy t cch thnh vin ")],-1))])):D("",!0),i.value==="password"?(g(),m("div",AR,[b[48]||(b[48]=a("h1",{class:"text-3xl font-bold text-white mb-2 tracking-tight"},"Bo mt",-1)),b[49]||(b[49]=a("p",{class:"text-gray-400 mb-8"},"Thng tin ti khon",-1)),a("div",IR,[h.value?D("",!0):(g(),m("button",{key:0,onClick:ce,class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group"},b[35]||(b[35]=[Ee('<div class="flex items-center" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-425a3834></path></svg><span class="text-white font-medium" data-v-425a3834>Mt khu</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg>',2)]))),h.value?(g(),m("div",PR,b[36]||(b[36]=[Ee('<div class="flex items-start" data-v-425a3834><svg class="w-5 h-5 mr-3 text-blue-400 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20" data-v-425a3834><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" data-v-425a3834></path></svg><div data-v-425a3834><p class="text-white text-sm font-medium" data-v-425a3834>ng nhp bng Google</p><p class="text-gray-400 text-xs mt-1" data-v-425a3834>Bn ang s dng ti khon Google. Mt khu c qun l bi Google.</p></div></div>',1)]))):D("",!0),a("div",RR,[a("button",OR,[a("div",MR,[b[39]||(b[39]=a("svg",{class:"w-6 h-6 mr-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),a("div",jR,[b[37]||(b[37]=a("p",{class:"text-white font-medium"},"Email",-1)),a("p",NR,E(n.value.email),1),b[38]||(b[38]=a("div",{class:"flex items-center gap-1 mt-1"},[a("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),a("span",{class:"text-green-500 text-xs"}," xc minh")],-1))])]),b[40]||(b[40]=a("svg",{class:"w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])]),a("div",LR,[a("button",{onClick:w,class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group"},[a("div",BR,[b[43]||(b[43]=a("svg",{class:"w-6 h-6 mr-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)),a("div",DR,[b[42]||(b[42]=a("p",{class:"text-white font-medium"},"in thoi di ng",-1)),u.value?(g(),m("p",UR,E(u.value),1)):(g(),m("p",HR,"Thm s in thoi")),u.value?(g(),m("div",VR,b[41]||(b[41]=[a("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),a("span",{class:"text-green-500 text-xs"}," lu",-1)]))):D("",!0)])]),b[44]||(b[44]=a("svg",{class:"w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])]),a("div",FR,[b[46]||(b[46]=a("h3",{class:"text-lg font-semibold text-white mb-4"},"Truy cp v quyn ring t",-1)),a("button",{onClick:b[5]||(b[5]=J=>i.value="devices"),class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group"},b[45]||(b[45]=[Ee('<div class="flex items-center flex-1" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Truy cp v thit b</p><p class="text-gray-400 text-sm" data-v-425a3834>Qun l thit b  ng nhp</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg>',2)])),b[47]||(b[47]=Ee('<div class="border-t border-gray-800 mt-2 pt-2" data-v-425a3834><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Chuyn h s</p><div class="flex items-center gap-1 mt-1" data-v-425a3834><span class="bg-blue-500 text-white text-xs font-bold px-2 py-0.5 rounded" data-v-425a3834>Mi</span></div></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button></div><div class="border-t border-gray-800 mt-2 pt-2" data-v-425a3834><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Truy cp thng tin c nhn</p><p class="text-gray-400 text-sm" data-v-425a3834>Yu cu bn sao thng tin c nhn ca bn</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button></div><div class="border-t border-gray-800 mt-2 pt-2" data-v-425a3834><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Th nghim tnh nng</p><p class="text-gray-400 text-sm" data-v-425a3834>Bt</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button></div>',3))]),b[50]||(b[50]=a("div",{class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6"},[a("button",{class:"w-full text-center text-red-400 hover:text-red-300 font-medium transition-colors"}," Xa ti khon ")],-1))])):D("",!0),i.value==="devices"?(g(),m("div",zR,b[51]||(b[51]=[Ee('<h1 class="text-3xl font-bold text-white mb-2 tracking-tight" data-v-425a3834>Thit b</h1><p class="text-gray-400 mb-8" data-v-425a3834>Truy cp ti khon</p><div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6" data-v-425a3834><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Truy cp v thit b</p><p class="text-gray-400 text-sm" data-v-425a3834>Qun l thit b  ng nhp</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button></div><div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6" data-v-425a3834><h3 class="text-lg font-semibold text-white mb-4" data-v-425a3834>Ti xung thit b di ng</h3><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Thit b ti xung di ng</p><p class="text-gray-400 text-sm" data-v-425a3834>ang dng 0/6 thit b ti xung</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button></div>',4)]))):D("",!0),i.value==="settings"?(g(),m("div",qR,[b[55]||(b[55]=a("h1",{class:"text-3xl font-bold text-white mb-2 tracking-tight"},"Qun l h s v ty chn",-1)),a("div",KR,[a("div",WR,[a("div",GR,[a("div",JR,E(((he=n.value.displayName)==null?void 0:he.charAt(0))||((z=n.value.email)==null?void 0:z.charAt(0))||"U"),1),a("div",null,[a("p",YR,E(n.value.displayName||((ve=n.value.email)==null?void 0:ve.split("@")[0])),1),b[52]||(b[52]=a("p",{class:"text-gray-400 text-sm"}," thng tin tt c ni dung v tn h",-1))])]),b[53]||(b[53]=a("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),b[54]||(b[54]=Ee('<button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-425a3834></path></svg><div class="text-left" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Kha h s</p><p class="text-gray-400 text-sm" data-v-425a3834>Bt</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button>',1))]),b[56]||(b[56]=Ee('<div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6" data-v-425a3834><h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4" data-v-425a3834>Ty chn</h3><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Ngn ng</p><p class="text-gray-400 text-sm" data-v-425a3834>Ting Vit, English</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>iu chnh tnh nng kim sot ca cha m</p><p class="text-gray-400 text-sm" data-v-425a3834>t gii hn  tui v cc phn</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Hnh thc ph </p><p class="text-gray-400 text-sm" data-v-425a3834>Ty chnh cch hin th ph </p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" data-v-425a3834></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Ci t pht li</p><p class="text-gray-400 text-sm" data-v-425a3834>Ci t t ng pht v cht lng m thanh, hnh nh</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Ci t thng bo</p><p class="text-gray-400 text-sm" data-v-425a3834>Qun l thng bo cho email, tin nhn v thng bo y</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Hot ng xem</p><p class="text-gray-400 text-sm" data-v-425a3834>Qun l lch s xem v nh gi</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-425a3834><div class="flex items-center" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Ci t quyn ring t v d liu</p><p class="text-gray-400 text-sm" data-v-425a3834>Qun l vic s dng thng tin c nhn</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button></div><div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6" data-v-425a3834><button class="w-full flex items-center justify-center p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><svg class="w-5 h-5 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" data-v-425a3834></path></svg><span class="text-gray-400 font-medium" data-v-425a3834>Xa h s</span></button><p class="text-gray-500 text-xs text-center mt-2" data-v-425a3834>Khng th khi phc h s  xa.</p></div>',2))])):D("",!0),i.value==="profile"?(g(),m("div",XR,[b[61]||(b[61]=Ee('<h1 class="text-3xl font-bold text-white mb-2 tracking-tight" data-v-425a3834>H s</h1><p class="text-gray-400 mb-8" data-v-425a3834>Tnh nng kim sot v cp php ca cha m</p><div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6" data-v-425a3834><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>iu chnh tnh nng kim sot ca cha m</p><p class="text-gray-400 text-sm" data-v-425a3834>Ci t gii hn  tui, chn tc phm</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><div class="border-t border-gray-800 mt-2 pt-2" data-v-425a3834><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" data-v-425a3834></path></svg><div class="text-left flex-1" data-v-425a3834><p class="text-white font-medium" data-v-425a3834>Chuyn h s</p><p class="text-gray-400 text-sm" data-v-425a3834>Sao chp h s sang ti khon khc</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button></div></div>',3)),a("div",QR,[b[59]||(b[59]=a("h3",{class:"text-lg font-semibold text-white mb-4"},"Thit lp h s",-1)),a("button",ZR,[a("div",eO,[a("div",tO,E(((ye=n.value.displayName)==null?void 0:ye.charAt(0))||((He=n.value.email)==null?void 0:He.charAt(0))||"U"),1),a("div",sO,[a("p",rO,E(n.value.displayName||((ge=n.value.email)==null?void 0:ge.split("@")[0])),1),b[57]||(b[57]=a("span",{class:"bg-blue-500 text-white text-xs font-bold px-2 py-0.5 rounded"},"H s ca bn",-1))])]),b[58]||(b[58]=a("svg",{class:"w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),b[60]||(b[60]=Ee('<button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group mb-2" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><div class="w-12 h-12 bg-yellow-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl" data-v-425a3834> P2 </div><p class="text-white font-medium" data-v-425a3834>Profile 2</p></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group mb-2" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><div class="w-12 h-12 bg-purple-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl" data-v-425a3834> P3 </div><p class="text-white font-medium" data-v-425a3834>Profile 3</p></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group mb-2" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><div class="w-12 h-12 bg-pink-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl" data-v-425a3834> P4 </div><p class="text-white font-medium" data-v-425a3834>Profile 4</p></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-425a3834><div class="flex items-center flex-1" data-v-425a3834><div class="w-12 h-12 bg-cyan-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl" data-v-425a3834> P5 </div><p class="text-white font-medium" data-v-425a3834>Profile 5</p></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-425a3834><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-425a3834></path></svg></button>',4))])])):D("",!0)])):(g(),m("div",oR,[b[18]||(b[18]=a("p",{class:"text-xl text-gray-400 mb-4"},"Vui lng ng nhp  xem thng tin ti khon.",-1)),Q(G,{to:"/auth",class:"inline-block bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg transition-colors"},{default:xe(()=>b[17]||(b[17]=[se(" ng Nhp Ngay ")])),_:1})]))])])])])]),l.value?(g(),m("div",{key:0,class:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:$t(y,["self"])},[a("div",nO,[a("div",{class:"flex items-center justify-between mb-6"},[b[63]||(b[63]=a("h2",{class:"text-2xl font-bold text-white"},"S in thoi",-1)),a("button",{onClick:y,class:"text-gray-400 hover:text-white transition-colors"},b[62]||(b[62]=[a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a("div",oO,[b[64]||(b[64]=a("label",{class:"block text-gray-300 text-sm font-medium mb-2"}," Nhp s in thoi ca bn ",-1)),je(a("input",{"onUpdate:modelValue":b[6]||(b[6]=J=>c.value=J),type:"tel",placeholder:"0123456789",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors",maxlength:"11"},null,512),[[Qe,c.value]]),b[65]||(b[65]=a("p",{class:"text-gray-500 text-xs mt-2"},"Nhp 10-11 ch s",-1))]),a("div",iO,[a("button",{onClick:L,class:"flex-1 bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg transition-colors"}," Lu "),u.value?(g(),m("button",{key:0,onClick:U,class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-colors"}," Xa ")):D("",!0),a("button",{onClick:y,class:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"}," Hy ")])])])):D("",!0),d.value?(g(),m("div",aO,[a("div",lO,[a("div",{class:"flex items-center justify-between mb-6"},[b[67]||(b[67]=a("h2",{class:"text-2xl font-bold text-white"},"i mt khu",-1)),a("button",{onClick:K,class:"text-gray-400 hover:text-white transition-colors"},b[66]||(b[66]=[a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),f.value===1?(g(),m("div",cO,[b[69]||(b[69]=a("p",{class:"text-gray-300 mb-4"},"Nhp email ca bn  nhn m xc thc",-1)),a("div",uO,[b[68]||(b[68]=a("label",{class:"block text-gray-300 text-sm font-medium mb-2"},"Email",-1)),je(a("input",{"onUpdate:modelValue":b[7]||(b[7]=J=>p.email=J),type:"email",placeholder:"email@example.com",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors"},null,512),[[Qe,p.email]])]),a("button",{onClick:B,disabled:v.value,class:"w-full bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},E(v.value?"ang gi...":"Gi m xc thc"),9,dO)])):D("",!0),f.value===2?(g(),m("div",hO,[b[77]||(b[77]=a("p",{class:"text-gray-300 mb-4"},"Nhp m xc thc  gi n email v mt khu mi",-1)),a("div",fO,[b[70]||(b[70]=a("label",{class:"block text-gray-300 text-sm font-medium mb-2"},"M xc thc (6 s)",-1)),je(a("input",{"onUpdate:modelValue":b[8]||(b[8]=J=>p.token=J),type:"text",placeholder:"     ",maxlength:"6",autocomplete:"off",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors text-center text-2xl tracking-widest"},null,512),[[Qe,p.token]])]),a("div",pO,[b[73]||(b[73]=a("label",{class:"block text-gray-300 text-sm font-medium mb-2"},"Mt khu mi",-1)),a("div",gO,[je(a("input",{"onUpdate:modelValue":b[9]||(b[9]=J=>p.newPassword=J),type:x.value?"text":"password",placeholder:"       ",autocomplete:"new-password",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 pr-12 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors"},null,8,vO),[[Un,p.newPassword]]),a("button",{onClick:b[10]||(b[10]=J=>x.value=!x.value),type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-yellow-400 transition-colors"},[x.value?(g(),m("svg",yO,b[72]||(b[72]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(g(),m("svg",mO,b[71]||(b[71]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])]),a("div",bO,[b[76]||(b[76]=a("label",{class:"block text-gray-300 text-sm font-medium mb-2"},"Xc nhn mt khu",-1)),a("div",wO,[je(a("input",{"onUpdate:modelValue":b[11]||(b[11]=J=>p.confirmPassword=J),type:S.value?"text":"password",placeholder:"       ",autocomplete:"new-password",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 pr-12 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors"},null,8,xO),[[Un,p.confirmPassword]]),a("button",{onClick:b[12]||(b[12]=J=>S.value=!S.value),type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-yellow-400 transition-colors"},[S.value?(g(),m("svg",kO,b[75]||(b[75]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(g(),m("svg",_O,b[74]||(b[74]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])]),a("div",CO,[a("button",{onClick:b[13]||(b[13]=J=>f.value=1),class:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"}," Quay li "),a("button",{onClick:j,disabled:v.value,class:"flex-1 bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},E(v.value?"ang x l...":"i mt khu"),9,EO)])])):D("",!0)])])):D("",!0)])}}},TO=Ve(SO,[["__scopeId","data-v-425a3834"]]),$O={class:"hero min-h-[500px] bg-base-200 relative overflow-hidden"},AO={class:"hero-content text-left relative z-10 max-w-7xl w-full"},IO={class:"max-w-2xl"},PO={class:"flex gap-2 mb-4"},RO={class:"badge badge-warning"},OO={class:"badge badge-info"},MO={class:"text-5xl font-bold mb-4 drop-shadow-lg"},jO={class:"text-lg mb-2 text-base-content/90"},NO={class:"mb-6 line-clamp-3 text-base-content/80"},LO={class:"flex gap-2 mt-6"},BO={class:"flex gap-2 flex-wrap"},DO={__name:"HeroBanner",props:{featuredMovie:{type:Object,default:null}},setup(t){return(e,s)=>{var r,n,o,i,l,c,u,d;return g(),m("div",$O,[a("div",{class:"absolute inset-0 bg-cover bg-center",style:ht({backgroundImage:`url(${((r=t.featuredMovie)==null?void 0:r.poster_url)||"https://placehold.co/1920x1080/1a1a1a/fff"})`})},s[0]||(s[0]=[a("div",{class:"absolute inset-0 bg-gradient-to-r from-base-100 via-base-100/80 to-transparent"},null,-1)]),4),a("div",AO,[a("div",IO,[a("div",PO,[s[1]||(s[1]=a("div",{class:"badge badge-error"},"HOT",-1)),a("div",RO,E(((n=t.featuredMovie)==null?void 0:n.year)||"2024"),1),a("div",OO,E(((o=t.featuredMovie)==null?void 0:o.quality)||"HD"),1)]),a("h1",MO,E(((i=t.featuredMovie)==null?void 0:i.name)||"Phim ni bt"),1),a("p",jO,E(((l=t.featuredMovie)==null?void 0:l.origin_name)||"Original Title"),1),a("p",NO,E(((c=t.featuredMovie)==null?void 0:c.description)||"M t phim s hin th  y. y l mt b phim hp dn vi nhiu tnh tit th v..."),1),s[3]||(s[3]=Ee('<div class="flex gap-3"><button class="btn btn-primary btn-lg gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"></path></svg> Xem ngay </button><button class="btn btn-outline btn-lg gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Thng tin </button></div>',1)),a("div",LO,[s[2]||(s[2]=a("span",{class:"text-sm text-base-content/70"},"Th loi:",-1)),a("div",BO,[(g(!0),m(te,null,fe((d=(u=t.featuredMovie)==null?void 0:u.genres)==null?void 0:d.slice(0,4),h=>(g(),m("span",{key:h,class:"text-sm text-primary font-medium"},E(h),1))),128))])])])])])}}},UO={class:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 group"},HO={class:"relative overflow-hidden aspect-[2/3]"},VO=["src","alt"],FO={class:"badge badge-primary absolute top-2 right-2"},zO={class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4"},qO={class:"text-white w-full"},KO={class:"text-sm line-clamp-2 mb-2"},WO={class:"card-body p-4"},GO={class:"card-title text-base line-clamp-1"},JO={key:0,class:"badge badge-secondary badge-sm"},YO={class:"text-sm text-base-content/70 line-clamp-1"},XO={class:"card-actions justify-between items-center mt-2"},QO={class:"flex gap-1"},ZO={class:"rating rating-sm"},eM={class:"text-xs ml-1"},Qg={__name:"MovieCard",props:{movie:{type:Object,required:!0}},setup(t){const e=N(!1),s=()=>{e.value=!0};return(r,n)=>{var o;return g(),m(te,null,[a("div",UO,[a("figure",HO,[a("img",{src:t.movie.thumb_url||"https://placehold.co/300x450/1a1a1a/fff?text=No+Image",alt:t.movie.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,VO),a("div",FO,E(t.movie.quality||"HD"),1),a("div",zO,[a("div",qO,[a("p",KO,E(t.movie.description||"Cha c m t"),1),a("div",{class:"flex gap-2"},[n[2]||(n[2]=a("button",{class:"btn btn-primary btn-sm flex-1"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})]),se(" Xem ngay ")],-1)),a("button",{onClick:s,class:"btn btn-circle btn-sm bg-gray-800 hover:bg-gray-700 border-gray-600",title:"Cc tp & Thng tin"},n[1]||(n[1]=[a("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]))])])])]),a("div",WO,[a("h2",GO,[se(E(t.movie.name)+" ",1),t.movie.year?(g(),m("div",JO,E(t.movie.year),1)):D("",!0)]),a("p",YO,E(t.movie.origin_name||t.movie.name),1),a("div",XO,[a("div",QO,[(g(!0),m(te,null,fe((o=t.movie.genres)==null?void 0:o.slice(0,2),i=>(g(),m("div",{class:"badge badge-outline badge-sm",key:i},E(i),1))),128))]),a("div",ZO,[n[3]||(n[3]=a("input",{type:"radio",class:"mask mask-star-2 bg-orange-400",disabled:"",checked:""},null,-1)),a("span",eM,E(t.movie.rating||"8.5"),1)])])])]),Q(Xc,{"is-open":e.value,"movie-slug":t.movie.slug,onClose:n[0]||(n[0]=i=>e.value=!1)},null,8,["is-open","movie-slug"])],64)}}},tM={class:"mb-8"},sM={class:"flex justify-between items-center mb-4"},rM={class:"text-2xl font-bold"},nM={class:"carousel carousel-center space-x-4 p-4 bg-base-200 rounded-box"},Ih={__name:"MovieCarousel",props:{title:{type:String,required:!0},movies:{type:Array,default:()=>[]},viewAllLink:{type:String,default:""}},setup(t){return(e,s)=>{const r=jt("router-link");return g(),m("div",tM,[a("div",sM,[a("h2",rM,E(t.title),1),t.viewAllLink?(g(),Ae(r,{key:0,to:t.viewAllLink,class:"btn btn-ghost btn-sm gap-2"},{default:xe(()=>s[0]||(s[0]=[se(" Xem tt c "),a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1},8,["to"])):D("",!0)]),a("div",nM,[(g(!0),m(te,null,fe(t.movies,n=>(g(),m("div",{key:n.slug,class:"carousel-item w-48"},[Q(r,{to:`/film/${n.slug}`,class:"w-full"},{default:xe(()=>[Q(Qg,{movie:n},null,8,["movie"])]),_:2},1032,["to"])]))),128))])])}}},oM={class:"min-h-screen bg-base-100"},iM={class:"container mx-auto px-4 py-8"},aM={class:"flex justify-end mb-6"},lM={class:"swap swap-rotate btn btn-circle btn-ghost"},cM={class:"mb-8"},uM={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},dM={__name:"DemoUI",setup(t){const e=N([{slug:"avatar-2",name:"Avatar: The Way of Water",origin_name:"Avatar 2",thumb_url:"https://image.tmdb.org/t/p/w500/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",poster_url:"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",year:2024,quality:"HD",rating:8.5,genres:["Hnh ng","Phiu lu","Khoa hc vin tng"],description:"Jake Sully sng cng gia nh mi ca mnh trn hnh tinh Pandora. Khi mt mi e da quen thuc tr li  hon thnh nhng g  bt u trc y, Jake phi lm vic vi Neytiri v qun i ca chng tc Na vi  bo v hnh tinh ca h."},{slug:"one-piece",name:"One Piece",origin_name:"",thumb_url:"https://image.tmdb.org/t/p/w500/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg",year:2024,quality:"HD",rating:9.2,genres:["Anime","Phiu lu","Hi"],description:"Monkey D. Luffy v bng hi tc M Rm tip tc cuc hnh trnh tm kim kho bu One Piece huyn thoi."},{slug:"squid-game",name:"Squid Game",origin_name:" ",thumb_url:"https://image.tmdb.org/t/p/w500/dDlEmu3EZ0Pgg93K2SVNLCjCSvE.jpg",year:2024,quality:"HD",rating:8.8,genres:["Hnh ng","Kinh d","Drama"],description:"Hng trm ngi chi thiu tin chp nhn mt li mi k l  tham gia vo cc tr chi tr con. ang ch i h l mt gii thng hp dn - v nhng ri ro cht ngi."},{slug:"the-last-of-us",name:"The Last of Us",origin_name:"The Last of Us",thumb_url:"https://image.tmdb.org/t/p/w500/uKvVjHNqB5VmOrdxqAt2F7J78ED.jpg",year:2024,quality:"HD",rating:9,genres:["Hnh ng","Phiu lu","Drama"],description:"Hai mi nm sau khi nn vn minh hin i b ph hy, Joel, mt ngi sng st cng rn, c thu  a Ellie, mt c gi 14 tui, ra khi vng cch ly n p."},{slug:"wednesday",name:"Wednesday",origin_name:"Wednesday",thumb_url:"https://image.tmdb.org/t/p/w500/9PFonBhy4cQy7Jz20NpMygczOkv.jpg",year:2024,quality:"HD",rating:8.7,genres:["Hi","B n","Kinh d"],description:"Wednesday Addams ang c gng lm ch kh nng ngoi cm ca mnh, ngn chn mt cn thnh n git ngi ang khng b th trn a phng v gii quyt b n siu nhin mi m cha m c  gp phi 25 nm trc."}]),s=r=>{const n=document.documentElement;r.target.checked?n.setAttribute("data-theme","light"):n.setAttribute("data-theme","dark")};return(r,n)=>{const o=jt("router-link");return g(),m("div",oM,[Q(DO,{featuredMovie:e.value[0]},null,8,["featuredMovie"]),a("div",iM,[a("div",aM,[a("label",lM,[a("input",{type:"checkbox",onChange:s},null,32),n[0]||(n[0]=a("svg",{class:"swap-on fill-current w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[a("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})],-1)),n[1]||(n[1]=a("svg",{class:"swap-off fill-current w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[a("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})],-1))])]),n[3]||(n[3]=Ee('<div class="stats stats-vertical lg:stats-horizontal shadow mb-8 w-full"><div class="stat"><div class="stat-figure text-primary"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path></svg></div><div class="stat-title">Tng phim</div><div class="stat-value text-primary">25.6K</div><div class="stat-desc">Cp nht hng ngy</div></div><div class="stat"><div class="stat-figure text-secondary"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><div class="stat-title">Lt xem</div><div class="stat-value text-secondary">2.6M</div><div class="stat-desc"> 400 (22%)</div></div><div class="stat"><div class="stat-figure text-accent"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg></div><div class="stat-title">Thnh vin</div><div class="stat-value text-accent">1,200</div><div class="stat-desc"> 90 (14%)</div></div></div>',1)),Q(Ih,{title:" Phim Hot Nht",movies:e.value,viewAllLink:"/category/hot/page/1"},null,8,["movies"]),Q(Ih,{title:" Phim B Mi",movies:e.value,viewAllLink:"/category/phim-bo/page/1"},null,8,["movies"]),a("div",cM,[n[2]||(n[2]=a("h2",{class:"text-2xl font-bold mb-4"}," Phim L",-1)),a("div",uM,[(g(!0),m(te,null,fe(e.value.slice(0,10),i=>(g(),Ae(o,{key:i.slug,to:`/film/${i.slug}`},{default:xe(()=>[Q(Qg,{movie:i},null,8,["movie"])]),_:2},1032,["to"]))),128))])]),n[4]||(n[4]=Ee('<div class="flex justify-center"><div class="join"><button class="join-item btn"></button><button class="join-item btn btn-active">1</button><button class="join-item btn">2</button><button class="join-item btn">3</button><button class="join-item btn">4</button><button class="join-item btn"></button></div></div>',1))])])}}},hM={class:"bg-black min-h-screen text-white p-8"},fM={class:"grid grid-cols-3 gap-4 mb-8"},pM={class:"bg-gray-900 p-4 rounded"},gM={class:"mt-8"},vM={__name:"TestImages",setup(t){const e=N([]),s=n=>{const o=` Image failed: ${n.target.src}`;console.error(o),e.value.push(o)},r=n=>{const o=` Image loaded: ${n.target.src}`;console.log(o),e.value.push(o)};return(n,o)=>{const i=jt("router-link");return g(),m("div",hM,[o[5]||(o[5]=a("h1",{class:"text-3xl font-bold mb-8"}," Test Images",-1)),a("div",fM,[o[1]||(o[1]=a("div",null,[a("h3",{class:"mb-2"},"1. Placeholder (Should work)"),a("img",{src:"https://via.placeholder.com/400x600/1a1a1a/ffffff?text=Test",class:"w-full h-64 object-cover rounded",alt:"Test 1"})],-1)),o[2]||(o[2]=a("div",null,[a("h3",{class:"mb-2"},"2. TMDB (Should work)"),a("img",{src:"https://image.tmdb.org/t/p/w500/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",class:"w-full h-64 object-cover rounded",alt:"Test 2"})],-1)),a("div",null,[o[0]||(o[0]=a("h3",{class:"mb-2"},"3. phimimg.com (Your Supabase URL)",-1)),a("img",{src:"https://phimimg.com/upload/vod/20250916-1/0207ea115f4bfe35d90af8f8807d4cbe.jpg",class:"w-full h-64 object-cover rounded",alt:"Test 3",onError:s,onLoad:r},null,32)])]),a("div",pM,[o[3]||(o[3]=a("h3",{class:"font-bold mb-2"},"Console Log:",-1)),(g(!0),m(te,null,fe(e.value,(l,c)=>(g(),m("div",{key:c,class:"text-sm mb-1"},E(l),1))),128))]),a("div",gM,[Q(i,{to:"/home",class:"btn bg-red-600 px-6 py-2 rounded"},{default:xe(()=>o[4]||(o[4]=[se("  Back to Home ")])),_:1})])])}}},mM={class:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white py-8"},yM={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},bM={class:"mb-8"},wM={class:"text-3xl font-bold mb-2"},xM={class:"text-yellow-400"},_M={key:0,class:"text-gray-400"},kM={key:0,class:"flex justify-center items-center h-96"},CM={key:1,class:"text-center text-red-400 text-lg py-12"},EM={class:"text-xl font-semibold"},SM={key:2,class:"text-center py-12"},TM={class:"text-xl text-gray-400"},$M={key:3},AM={class:"space-y-4 mb-8"},IM={class:"flex-shrink-0 w-32 sm:w-40 md:w-48"},PM=["src","alt"],RM={class:"flex-1 py-3 pr-4 min-w-0"},OM={class:"text-lg font-bold text-white group-hover:text-yellow-400 transition-colors truncate"},MM={class:"text-sm text-gray-400 truncate mb-2"},jM={class:"flex flex-wrap gap-2 text-xs mb-2"},NM={key:0,class:"bg-blue-500 text-white px-2 py-1 rounded font-medium"},LM={key:1,class:"bg-yellow-500 text-black px-2 py-1 rounded font-semibold"},BM={key:2,class:"bg-purple-500 text-white px-2 py-1 rounded font-medium"},DM={key:3,class:"bg-green-500 text-white px-2 py-1 rounded font-medium"},UM={key:0,class:"text-sm text-gray-300 line-clamp-2 hidden sm:block"},HM={key:0,class:"flex justify-center mt-10"},VM={role:"navigation","aria-label":"pagination",class:"mx-auto flex w-full justify-center"},FM={class:"flex flex-row items-center gap-2"},zM=["disabled"],qM={key:0,class:"flex size-9 items-center justify-center text-gray-400"},KM=["onClick","aria-label"],WM=["disabled"],GM=20,JM={__name:"SearchResults",setup(t){const e=Rs(),s=ot(),r=N(""),n=N([]),o=N(!1),i=N(null),l=N(1),c=N(1),u=N(0),d=async()=>{var v;let p=e.query.q;if(!p||!p.trim()){n.value=[],i.value="Vui lng nhp t kha tm kim";return}p=p.trim().replace(/\s+/g," "),r.value=p,o.value=!0,i.value=null,console.log(" Searching for:",p,"Page:",l.value);try{const x=await Xg(p,{page:l.value,limit:GM});if(console.log(" Search response:",x),console.log(" Response status:",x.status),console.log(" Response data:",x.data),(x.status==="success"||x.status===!0)&&x.data){n.value=(x.data.items||[]).map(R=>{const P=Po(R);return P.poster_path&&!P.poster_path.startsWith("http")&&(P.poster_path=`https://phimimg.com/${P.poster_path}`),P.backdrop_path&&!P.backdrop_path.startsWith("http")&&(P.backdrop_path=`https://phimimg.com/${P.backdrop_path}`),P});const S=(v=x.data.params)==null?void 0:v.pagination;S?(c.value=S.totalPages||1,u.value=S.totalItems||n.value.length):(c.value=1,u.value=n.value.length),console.log(" Found:",n.value.length,"movies"),console.log(" Movies:",n.value)}else console.warn(" Khng parse c response"),console.warn("Response:",x),n.value=[],c.value=1,u.value=0}catch(x){console.error(" Search error:",x),i.value="Khng th tm kim. Vui lng th li sau.",n.value=[]}finally{o.value=!1}},h=p=>{p>=1&&p<=c.value&&(l.value=p,s.push({path:"/search",query:{q:r.value,page:p}}))},f=()=>{const p=new Set,v=2;p.add(1),c.value>1&&p.add(c.value);for(let R=l.value-v;R<=l.value+v;R++)R>=1&&R<=c.value&&p.add(R);let x=Array.from(p).sort((R,P)=>R-P),S=[];for(let R=0;R<x.length;R++)S.push(x[R]),R<x.length-1&&x[R+1]-x[R]>1&&S.push("ellipsis");return S};return Ye(()=>[e.query.q,e.query.page],([p,v])=>{r.value=p||"",l.value=parseInt(v)||1,d()},{immediate:!0}),(p,v)=>{const x=jt("router-link");return g(),m("div",mM,[a("div",yM,[a("div",bM,[a("h1",wM,[v[3]||(v[3]=se(" Kt qu tm kim: ")),a("span",xM,E(r.value),1)]),!o.value&&n.value.length>0?(g(),m("p",_M," Tm thy "+E(u.value)+" kt qu ",1)):D("",!0)]),o.value?(g(),m("div",kM,v[4]||(v[4]=[Ee('<div class="text-center" data-v-20712c04><svg class="animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-20712c04><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-20712c04></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-20712c04></path></svg><p class="text-xl font-semibold text-gray-300" data-v-20712c04>ang tm kim...</p></div>',1)]))):i.value?(g(),m("div",CM,[a("p",EM,E(i.value),1)])):n.value.length===0?(g(),m("div",SM,[v[5]||(v[5]=a("svg",{class:"w-24 h-24 mx-auto mb-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),a("p",TM,'Khng tm thy kt qu no cho "'+E(r.value)+'"',1),v[6]||(v[6]=a("p",{class:"text-gray-500 mt-2"},"Th tm kim vi t kha khc",-1))])):(g(),m("div",$M,[a("div",AM,[(g(!0),m(te,null,fe(n.value,(S,R)=>(g(),Ae(x,{key:S.slug||S.id||R,to:`/film/${S.slug}`,class:"flex gap-4 bg-gray-800 rounded-lg overflow-hidden hover:bg-gray-750 transition-colors group"},{default:xe(()=>[a("div",IM,[a("img",{src:S.backdrop_path||S.poster_path||"https://placehold.co/300x169/1a1a1a/fff?text=No+Image",alt:S.title,class:"w-full h-full object-cover aspect-video",onError:v[0]||(v[0]=P=>P.target.src="https://placehold.co/300x169/1a1a1a/fff?text=Error")},null,40,PM)]),a("div",RM,[a("h3",OM,E(S.title),1),a("p",MM,E(S.original_title),1),a("div",jM,[S.year?(g(),m("span",NM,E(S.year),1)):D("",!0),S.quality?(g(),m("span",LM,E(S.quality),1)):D("",!0),S.lang?(g(),m("span",BM,E(S.lang),1)):D("",!0),S.episode_current?(g(),m("span",DM,E(S.episode_current),1)):D("",!0)]),S.overview?(g(),m("p",UM,E(S.overview),1)):D("",!0)])]),_:2},1032,["to"]))),128))]),c.value>1?(g(),m("div",HM,[a("nav",VM,[a("ul",FM,[a("li",null,[a("button",{onClick:v[1]||(v[1]=S=>h(l.value-1)),disabled:l.value===1,class:X([{"opacity-50 pointer-events-none":l.value===1},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700"]),"aria-label":"Previous page"},v[7]||(v[7]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"m15 18-6-6 6-6"})],-1)]),10,zM)]),(g(!0),m(te,null,fe(f(),(S,R)=>(g(),m("li",{key:R},[S==="ellipsis"?(g(),m("span",qM,v[8]||(v[8]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("circle",{cx:"12",cy:"12",r:"1"}),a("circle",{cx:"19",cy:"12",r:"1"}),a("circle",{cx:"5",cy:"12",r:"1"})],-1)]))):(g(),m("button",{key:1,onClick:P=>h(S),class:X([{"bg-yellow-400 text-black":l.value===S,"hover:bg-gray-700":l.value!==S},"inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-all h-9 px-4 py-1"]),"aria-label":`Page ${S}`},E(S),11,KM))]))),128)),a("li",null,[a("button",{onClick:v[2]||(v[2]=S=>h(l.value+1)),disabled:l.value===c.value,class:X([{"opacity-50 pointer-events-none":l.value===c.value},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700"]),"aria-label":"Next page"},v[9]||(v[9]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"m9 18 6-6-6-6"})],-1)]),10,WM)])])])])):D("",!0)]))])])}}},YM=Ve(JM,[["__scopeId","data-v-20712c04"]]),XM={class:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in"},QM={class:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border-2 border-gray-700 shadow-2xl animate-scale-in"},ZM={class:"p-8"},ej={class:"text-center mb-8"},tj={class:"text-3xl font-black text-white mb-2"},sj={class:"text-gray-400"},rj={class:"bg-gray-800/50 rounded-xl p-6 mb-6 border border-gray-700"},nj={class:"flex justify-between items-center mb-4"},oj={class:"text-white font-bold"},ij={class:"flex justify-between items-center mb-4"},aj={class:"flex items-center gap-2"},lj={class:"text-white font-bold w-20 text-center"},cj={class:"flex justify-between items-center pt-4 border-t border-gray-700"},uj={class:"text-3xl font-black text-red-500"},dj={class:"space-y-2"},hj=["value"],fj={class:"flex-1"},pj={class:"text-white font-bold"},gj={class:"text-gray-400 text-sm"},vj=["disabled"],mj={key:0,class:"flex items-center justify-center gap-2"},yj={key:1,class:"flex items-center justify-center gap-2"},bj={__name:"PaymentModal",props:{plan:{type:Object,required:!0}},emits:["close","success"],setup(t,{emit:e}){const s=cr(),r=t,n=e,o=Ss(),i=N(1),l=N(!1),u=(()=>{var k,_,C;const P=localStorage.getItem("user"),A=localStorage.getItem("userPhoneNumber");let I={};if(P)try{I=JSON.parse(P)}catch(T){console.error("Error parsing user data:",T)}return{name:I.full_name||I.displayName||((k=o.user)==null?void 0:k.full_name)||((_=o.user)==null?void 0:_.displayName)||"",email:I.email||((C=o.user)==null?void 0:C.email)||"",phone:A||I.phone||I.phone_number||""}})(),d=N({name:u.name,email:u.email,phone:u.phone,paymentMethod:"bank_transfer"}),h=[{value:"vnpay",label:"VNPay",description:"Thanh ton qua VNPay (ATM, Visa, MasterCard)"},{value:"momo",label:"MoMo",description:"Thanh ton qua v MoMo"},{value:"bank_transfer",label:"Chuyn khon ngn hng",description:"Chuyn khon trc tip"}],f=be(()=>r.plan.price*i.value),p=async()=>{var P,A,I,k;l.value=!0;try{const _=localStorage.getItem("user");let C=null;if(_)try{C=JSON.parse(_).id}catch(y){console.error("Error parsing user data:",y)}C||(C=((P=o.user)==null?void 0:P.id)||((A=o.user)==null?void 0:A.uid)),console.log("Creating order with user_id:",C,"plan_id:",r.plan.id);const T={user_id:C,customer_name:d.value.name,customer_email:d.value.email,customer_phone:d.value.phone,payment_method:d.value.paymentMethod,plan_id:r.plan.id,duration_months:i.value},w=await Lg(T);w.success&&(s.success("t hng thnh cng! ang chuyn n trang ti khon..."),n("success",w.data),setTimeout(()=>{window.location.href="/account"},1500))}catch(_){s.error(((k=(I=_.response)==null?void 0:I.data)==null?void 0:k.message)||"Khng th to n hng")}finally{l.value=!1}},v=P=>new Intl.NumberFormat("vi-VN").format(P)+"",x=P=>({free:"",basic:"",premium:"",vip:""})[P]||"",S=P=>{const A={free:"bg-gradient-to-br from-gray-700 to-gray-600",basic:"bg-gradient-to-br from-blue-600 to-cyan-500",premium:"bg-gradient-to-br from-red-600 to-yellow-500",vip:"bg-gradient-to-br from-purple-600 to-pink-500"};return A[P]||A.free},R=P=>{const A={free:"bg-gray-700 text-white hover:bg-gray-600",basic:"bg-gradient-to-r from-blue-600 to-cyan-500 text-white shadow-lg shadow-blue-500/50 hover:shadow-blue-500/70",premium:"bg-gradient-to-r from-red-600 to-yellow-500 text-white shadow-lg shadow-red-500/50 hover:shadow-red-500/70",vip:"bg-gradient-to-r from-purple-600 to-pink-500 text-white shadow-lg shadow-purple-500/50 hover:shadow-purple-500/70"};return A[P]||A.free};return(P,A)=>(g(),Ae(go,{to:"body"},[a("div",XM,[a("div",{class:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:A[0]||(A[0]=I=>P.$emit("close"))}),a("div",QM,[a("button",{onClick:A[1]||(A[1]=I=>P.$emit("close")),class:"absolute top-4 right-4 w-10 h-10 rounded-full bg-gray-800 hover:bg-gray-700 flex items-center justify-center transition-colors z-10"},A[8]||(A[8]=[a("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),a("div",ZM,[a("div",ej,[a("div",{class:X(["w-20 h-20 mx-auto mb-4 rounded-2xl flex items-center justify-center text-4xl",S(t.plan.slug)])},E(x(t.plan.slug)),3),a("h2",tj," Thanh ton gi "+E(t.plan.name),1),a("p",sj,E(t.plan.description),1)]),a("div",rj,[a("div",nj,[A[9]||(A[9]=a("span",{class:"text-gray-400"},"Gi  chn",-1)),a("span",oj,E(t.plan.name)+" - "+E(t.plan.quality),1)]),a("div",ij,[A[12]||(A[12]=a("span",{class:"text-gray-400"},"Thi hn",-1)),a("div",aj,[a("button",{onClick:A[2]||(A[2]=I=>i.value>1&&i.value--),class:"w-8 h-8 rounded-lg bg-gray-700 hover:bg-gray-600 flex items-center justify-center"},A[10]||(A[10]=[a("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])),a("span",lj,E(i.value)+" thng",1),a("button",{onClick:A[3]||(A[3]=I=>i.value<12&&i.value++),class:"w-8 h-8 rounded-lg bg-gray-700 hover:bg-gray-600 flex items-center justify-center"},A[11]||(A[11]=[a("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))])]),a("div",cj,[A[13]||(A[13]=a("span",{class:"text-xl font-bold text-white"},"Tng cng",-1)),a("span",uj,E(v(f.value)),1)])]),a("form",{onSubmit:$t(p,["prevent"]),class:"space-y-4"},[a("div",null,[A[14]||(A[14]=a("label",{class:"block text-gray-400 text-sm mb-2"},"H tn *",-1)),je(a("input",{"onUpdate:modelValue":A[4]||(A[4]=I=>d.value.name=I),type:"text",required:"",class:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-red-600 focus:outline-none transition-colors",placeholder:"Nguyn Vn A"},null,512),[[Qe,d.value.name]])]),a("div",null,[A[15]||(A[15]=a("label",{class:"block text-gray-400 text-sm mb-2"},"Email *",-1)),je(a("input",{"onUpdate:modelValue":A[5]||(A[5]=I=>d.value.email=I),type:"email",required:"",class:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-red-600 focus:outline-none transition-colors",placeholder:"email@example.com"},null,512),[[Qe,d.value.email]])]),a("div",null,[A[16]||(A[16]=a("label",{class:"block text-gray-400 text-sm mb-2"},"S in thoi",-1)),je(a("input",{"onUpdate:modelValue":A[6]||(A[6]=I=>d.value.phone=I),type:"tel",class:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-red-600 focus:outline-none transition-colors",placeholder:"0901234567"},null,512),[[Qe,d.value.phone]])]),a("div",null,[A[17]||(A[17]=a("label",{class:"block text-gray-400 text-sm mb-3"},"Phng thc thanh ton *",-1)),a("div",dj,[(g(),m(te,null,fe(h,I=>a("label",{key:I.value,class:X(["flex items-center gap-3 p-4 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors border-2",d.value.paymentMethod===I.value?"border-red-600":"border-transparent"])},[je(a("input",{"onUpdate:modelValue":A[7]||(A[7]=k=>d.value.paymentMethod=k),type:"radio",value:I.value,class:"w-5 h-5 text-red-600"},null,8,hj),[[_c,d.value.paymentMethod]]),a("div",fj,[a("p",pj,E(I.label),1),a("p",gj,E(I.description),1)])],2)),64))])]),a("button",{type:"submit",disabled:l.value,class:X(["w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",R(t.plan.slug)])},[l.value?(g(),m("span",mj,A[18]||(A[18]=[a("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),se(" ang x l... ")]))):(g(),m("span",yj,[A[19]||(A[19]=a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),se(" Xc nhn thanh ton "+E(v(f.value)),1)]))],10,vj)],32)])])])]))}},wj=Ve(bj,[["__scopeId","data-v-bf52cd7b"]]),xj={class:"min-h-screen bg-black relative overflow-hidden"},_j={class:"relative z-10 container mx-auto px-4 py-20"},kj={class:"text-center mb-16 animate-fade-in"},Cj={class:"relative inline-flex items-center gap-1 bg-gray-800/50 backdrop-blur-sm rounded-full p-1.5 border border-gray-700"},Ej={key:0,class:"text-center py-20"},Sj={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-[1400px] mx-auto"},Tj=["onMouseenter"],$j={key:0,class:"absolute -top-3 left-1/2 -translate-x-1/2"},Aj={class:"mb-6 relative"},Ij={key:0,class:"absolute -top-2 -right-2 bg-white text-black text-xs font-bold px-2 py-1 rounded-full shadow-lg animate-bounce"},Pj={class:"mb-6"},Rj={class:"flex items-baseline gap-2"},Oj={class:"text-gray-400"},Mj={key:0,class:"mt-1"},jj={class:"text-gray-500 text-sm line-through"},Nj={class:"text-green-400 text-sm font-bold ml-2"},Lj={key:1,class:"text-gray-500 text-sm mt-1"},Bj={class:"space-y-3 mb-8"},Dj={key:0,"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},Uj={key:1,"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},Hj={class:"text-sm"},Vj={class:"space-y-3"},Fj=["onClick","disabled"],zj={class:"relative flex items-center justify-center gap-2"},qj=["onClick"],Kj={key:0,class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shine"},Wj={class:"relative flex items-center justify-center gap-2"},Gj={key:1,class:"mt-4 text-center text-yellow-400 text-sm font-bold animate-pulse"},Jj={__name:"Pricing",setup(t){const e=ot(),s=Ss(),r=da(),n=cr(),o=N([]),i=N(!1),l=N(!1),c=N(null),u=N(null),d=N("monthly"),h=N(null);Ge(async()=>{await f()});const f=async()=>{i.value=!0;try{const T=await Yk(!0);T.success&&(o.value=T.data)}catch{n.error("Khng th ti danh sch gi")}finally{i.value=!1}},p=async T=>{if(!s.user){n.warning("Vui lng ng nhp  thm vo gi hng"),e.push("/account");return}h.value=T.id;try{await r.addItem(T.id,1),n.success(`  thm gi ${T.name} vo gi hng`)}catch(w){n.error(w.message||"Khng th thm vo gi hng")}finally{h.value=null}},v=T=>{if(!s.user){n.warning("Vui lng ng nhp  mua gi"),e.push("/account");return}if(T.slug==="free"){n.info("Bn ang dng gi min ph");return}c.value=T,l.value=!0},x=()=>{l.value=!1,n.success("Thanh ton thnh cng! Gi  c kch hot"),e.push("/account")},S=T=>T===0?"Min ph":new Intl.NumberFormat("vi-VN").format(T)+"",R=T=>T===0?0:d.value==="yearly"?Math.round(T*12*.85):T,P=T=>{const w=[{text:T.has_ads?"C qung co":"Khng qung co",checked:!T.has_ads,iconClass:T.has_ads?"text-red-500":"text-green-500"},{text:`${T.max_devices} thit b ng thi`,checked:!0,iconClass:"text-green-500"},{text:T.can_download?"Ti v xem offline":"Khng ti v",checked:T.can_download,iconClass:T.can_download?"text-green-500":"text-gray-500"}];return T.early_access&&w.push({text:"Xem trc phim mi",checked:!0,iconClass:"text-yellow-500"}),w},A=T=>({free:"",basic:"",premium:"",vip:""})[T]||"",I=T=>{const w={free:"bg-gradient-to-r from-gray-600 to-gray-400",basic:"bg-gradient-to-r from-blue-600 to-cyan-500",premium:"bg-gradient-to-r from-red-600 to-yellow-500",vip:"bg-gradient-to-r from-purple-600 to-pink-500"};return w[T]||w.free},k=T=>{const w={free:"bg-gradient-to-br from-gray-700 to-gray-600",basic:"bg-gradient-to-br from-blue-600 to-cyan-500",premium:"bg-gradient-to-br from-red-600 to-yellow-500",vip:"bg-gradient-to-br from-purple-600 to-pink-500"};return w[T]||w.free},_=T=>{const w={free:"bg-gray-700 text-gray-300",basic:"bg-blue-600/20 text-blue-400 border border-blue-500/50",premium:"bg-red-600/20 text-red-400 border border-red-500/50",vip:"bg-purple-600/20 text-purple-400 border border-purple-500/50"};return w[T]||w.free},C=T=>{const w={free:"bg-gray-700 text-white",basic:"bg-gradient-to-r from-blue-600 to-cyan-500 text-white shadow-lg shadow-blue-500/50",premium:"bg-gradient-to-r from-red-600 to-yellow-500 text-white shadow-lg shadow-red-500/50",vip:"bg-gradient-to-r from-purple-600 to-pink-500 text-white shadow-lg shadow-purple-500/50"};return w[T]||w.free};return(T,w)=>(g(),m("div",xj,[w[12]||(w[12]=a("div",{class:"absolute inset-0"},[a("div",{class:"absolute top-0 left-1/4 w-96 h-96 bg-red-600/10 rounded-full blur-3xl animate-pulse"}),a("div",{class:"absolute bottom-0 right-1/4 w-96 h-96 bg-yellow-600/10 rounded-full blur-3xl animate-pulse",style:{"animation-delay":"1s"}})],-1)),a("div",_j,[a("div",kj,[w[5]||(w[5]=a("h1",{class:"text-6xl font-black text-white mb-4"},[se(" Chn gi "),a("span",{class:"text-red-600"},"ph hp"),se(" vi bn ")],-1)),w[6]||(w[6]=a("p",{class:"text-xl text-gray-400 mb-8"}," Xem phim khng gii hn  Hy bt c lc no ",-1)),a("div",Cj,[a("div",{class:"absolute top-1.5 h-[calc(100%-12px)] bg-gradient-to-r from-red-600 to-red-700 rounded-full shadow-lg transition-all duration-500 ease-out",style:ht({left:d.value==="monthly"?"6px":"calc(50% + 2px)",width:(d.value==="monthly","calc(50% - 8px)")})},null,4),a("button",{onClick:w[0]||(w[0]=y=>d.value="monthly"),class:X(["relative z-10 px-8 py-3 rounded-full font-bold transition-all duration-300 transform hover:scale-105",d.value==="monthly"?"text-white":"text-gray-400 hover:text-white"])}," Theo thng ",2),a("button",{onClick:w[1]||(w[1]=y=>d.value="yearly"),class:X(["relative z-10 px-8 py-3 rounded-full font-bold transition-all duration-300 transform hover:scale-105",d.value==="yearly"?"text-white":"text-gray-400 hover:text-white"])},w[4]||(w[4]=[se(" Theo nm "),a("span",{class:"absolute -top-1 -right-1 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full animate-bounce"}," -15% ",-1)]),2)])]),i.value?(g(),m("div",Ej,w[7]||(w[7]=[a("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-t-red-600 border-r-transparent border-b-red-600 border-l-transparent"},null,-1)]))):(g(),m("div",Sj,[(g(!0),m(te,null,fe(o.value,(y,L)=>(g(),m("div",{key:y.id,onMouseenter:U=>u.value=y.slug,onMouseleave:w[2]||(w[2]=U=>u.value=null),class:X(["group relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-6 border-2 transition-all duration-300 animate-slide-up",[y.slug==="premium"?"border-red-600/50 lg:scale-105 shadow-lg shadow-red-600/10":"border-gray-700/50 hover:border-gray-600",u.value===y.slug?"scale-105 -translate-y-2 shadow-2xl":""]]),style:ht({animationDelay:`${L*.1}s`})},[a("div",{class:X(["absolute -inset-0.5 rounded-2xl opacity-0 transition-opacity duration-300 blur-lg -z-10",[I(y.slug),u.value===y.slug?"opacity-30":""]])},null,2),w[11]||(w[11]=a("div",{class:"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none",style:{background:"linear-gradient(135deg, transparent 0%, rgba(255,255,255,0.03) 50%, transparent 100%)"}},null,-1)),y.slug==="premium"?(g(),m("div",$j,w[8]||(w[8]=[a("span",{class:"bg-gradient-to-r from-red-600 to-yellow-500 text-white px-4 py-1 rounded-full text-xs font-bold uppercase shadow-lg animate-pulse"},"  Ph bin nht ",-1)]))):D("",!0),a("div",Aj,[a("div",{class:X(["w-20 h-20 rounded-2xl flex items-center justify-center text-4xl shadow-lg transform transition-all duration-300",[k(y.slug),u.value===y.slug?"scale-110 rotate-3":""]])},E(A(y.slug)),3),u.value===y.slug?(g(),m("div",Ij," Click  chn ")):D("",!0)]),a("h3",{class:X(["text-3xl font-black mb-2 transition-all duration-300",u.value===y.slug?"text-red-500 scale-105":"text-white"])},E(y.name),3),a("div",{class:X(["inline-block px-3 py-1 rounded-full text-xs font-bold mb-6",_(y.slug)])},E(y.quality),3),a("div",Pj,[a("div",Rj,[a("span",{class:X(["text-5xl font-black text-white transition-all duration-300",u.value===y.slug?"scale-110":""])},E(S(R(y.price))),3),a("span",Oj,E(d.value==="monthly"?"/thng":"/nm"),1)]),d.value==="yearly"&&y.price>0?(g(),m("div",Mj,[a("span",jj,E(S(y.price*12))+"/nm ",1),a("span",Nj," Tit kim "+E(S(y.price*12*.15))+" ",1)])):D("",!0),y.price>0&&d.value==="monthly"?(g(),m("p",Lj,"  "+E(Math.round(y.price/30).toLocaleString())+"/ngy ",1)):D("",!0)]),a("ul",Bj,[(g(!0),m(te,null,fe(P(y),(U,ce)=>(g(),m("li",{key:ce,class:X(["flex items-center gap-2 text-gray-300 transition-all duration-300",u.value===y.slug?"translate-x-1":""]),style:ht({transitionDelay:u.value===y.slug?`${ce*50}ms`:"0ms"})},[(g(),m("svg",{class:X(["w-5 h-5 flex-shrink-0",U.iconClass]),fill:"currentColor",viewBox:"0 0 20 20"},[U.checked?(g(),m("path",Dj)):(g(),m("path",Uj))],2)),a("span",Hj,E(U.text),1)],6))),128))]),a("div",Vj,[y.slug!=="free"?(g(),m("button",{key:0,onClick:$t(U=>p(y),["stop"]),disabled:h.value===y.id,class:X(["relative w-full py-3 rounded-xl font-bold text-center transition-all duration-300 overflow-hidden border-2",[u.value===y.slug?"scale-105":"",y.slug==="basic"?"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white":"",y.slug==="premium"?"border-red-500 text-red-400 hover:bg-red-500 hover:text-white":"",y.slug==="vip"?"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white":"",h.value===y.id?"opacity-50 cursor-not-allowed":""]])},[a("span",zj,[w[9]||(w[9]=a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),se(" "+E(h.value===y.id?"ang thm...":"Thm vo gi"),1)])],10,Fj)):D("",!0),a("button",{onClick:$t(U=>v(y),["stop"]),class:X(["relative w-full py-4 rounded-xl font-bold text-center transition-all duration-300 overflow-hidden",[C(y.slug),u.value===y.slug?"scale-105 shadow-lg":""]])},[u.value===y.slug?(g(),m("div",Kj)):D("",!0),a("span",Wj,[w[10]||(w[10]=a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),se(" "+E(y.slug==="free"?" Dng min ph":"Mua ngay"),1)])],10,qj)]),y.slug==="premium"&&u.value===y.slug?(g(),m("div",Gj,"  c 85% khch hng la chn ")):D("",!0)],46,Tj))),128))]))]),l.value?(g(),Ae(wj,{key:0,plan:c.value,onClose:w[3]||(w[3]=y=>l.value=!1),onSuccess:x},null,8,["plan"])):D("",!0)]))}},Yj=Ve(Jj,[["__scopeId","data-v-4916df21"]]),Xj={class:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl shadow-2xl max-w-md w-full border border-gray-700 overflow-hidden"},Qj={class:"p-6"},Zj={class:"flex justify-center mb-4"},eN={key:0,class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tN={key:1,class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},sN={key:2,class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},rN={class:"text-2xl font-bold text-white text-center mb-3"},nN={class:"text-gray-400 text-center mb-6"},oN={class:"flex gap-3"},iN={__name:"ConfirmModal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:"Xc nhn"},message:{type:String,default:"Bn c chc chn mun thc hin hnh ng ny?"},confirmText:{type:String,default:"Xc nhn"},cancelText:{type:String,default:"Hy"},type:{type:String,default:"warning",validator:t=>["danger","warning","info"].includes(t)}},emits:["update:modelValue","confirm","cancel"],setup(t,{emit:e}){const s=t,r=e,n=be(()=>({danger:"bg-gradient-to-br from-red-600 to-red-700",warning:"bg-gradient-to-br from-yellow-600 to-orange-500",info:"bg-gradient-to-br from-blue-600 to-blue-700"})[s.type]),o=be(()=>({danger:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-red-600/30",warning:"bg-gradient-to-r from-yellow-600 to-orange-500 hover:from-yellow-700 hover:to-orange-600 shadow-yellow-600/30",info:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-blue-600/30"})[s.type]),i=()=>{r("confirm"),r("update:modelValue",!1)},l=()=>{r("cancel"),r("update:modelValue",!1)};return(c,u)=>(g(),Ae(go,{to:"body"},[Q(dt,{name:"modal"},{default:xe(()=>[t.modelValue?(g(),m("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:$t(l,["self"])},[u[4]||(u[4]=a("div",{class:"absolute inset-0 bg-black/80 backdrop-blur-sm"},null,-1)),a("div",Xj,[u[3]||(u[3]=a("div",{class:"h-1 bg-gradient-to-r from-red-600 to-yellow-500"},null,-1)),a("div",Qj,[a("div",Zj,[a("div",{class:X(["w-16 h-16 rounded-full flex items-center justify-center",n.value])},[t.type==="danger"?(g(),m("svg",eN,u[0]||(u[0]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))):t.type==="warning"?(g(),m("svg",tN,u[1]||(u[1]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(g(),m("svg",sN,u[2]||(u[2]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))],2)]),a("h3",rN,E(t.title),1),a("p",nN,E(t.message),1),a("div",oN,[a("button",{onClick:l,class:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-xl font-bold transition-all hover:scale-105 active:scale-95"},E(t.cancelText),1),a("button",{onClick:i,class:X(["flex-1 text-white px-6 py-3 rounded-xl font-bold transition-all hover:scale-105 active:scale-95 shadow-lg",o.value])},E(t.confirmText),3)])])])])):D("",!0)]),_:1})]))}},aN=Ve(iN,[["__scopeId","data-v-baf841f7"]]),lN={class:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black"},cN={class:"relative overflow-hidden"},uN={class:"container mx-auto px-4 py-10 relative"},dN={class:"flex items-center gap-2 text-sm text-gray-400 mb-6"},hN={class:"flex items-center justify-between"},fN={class:"flex items-center gap-4"},pN={class:"text-gray-400 flex items-center gap-2"},gN={class:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-600 text-white text-xs font-bold"},vN={class:"container mx-auto px-4 py-12"},mN={key:0,class:"text-center py-20"},yN={key:1,class:"max-w-2xl mx-auto text-center py-20"},bN={class:"flex flex-col sm:flex-row gap-4 justify-center"},wN={key:2,class:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-7xl mx-auto"},xN={class:"lg:col-span-2 space-y-5"},_N={class:"relative flex items-start gap-6"},kN={class:"flex-1 min-w-0"},CN={class:"flex items-start justify-between mb-3"},EN={class:"flex-1"},SN={class:"flex items-center gap-3 mb-1"},TN={class:"text-2xl font-bold text-white"},$N={class:"text-gray-400 text-sm"},AN=["onClick"],IN={class:"flex flex-wrap gap-2 mb-5"},PN={class:"flex items-center gap-1.5 bg-gradient-to-r from-gray-700 to-gray-600 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-sm"},RN={class:"flex items-center gap-1.5 bg-gradient-to-r from-blue-600 to-blue-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-sm"},ON={key:0,class:"flex items-center gap-1.5 bg-gradient-to-r from-green-600 to-green-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-sm"},MN={key:1,class:"flex items-center gap-1.5 bg-gradient-to-r from-purple-600 to-purple-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-sm"},jN={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 pt-4 border-t border-gray-700/50"},NN={class:"flex items-center gap-3"},LN={class:"flex items-center gap-2 bg-gray-800/80 backdrop-blur-sm rounded-xl p-1.5 border border-gray-700 relative"},BN={key:0,class:"absolute inset-0 bg-gray-900/80 backdrop-blur-sm rounded-xl flex items-center justify-center z-10"},DN=["onClick","disabled"],UN={class:"relative w-24 text-center"},HN=["onClick","disabled"],VN={class:"text-right"},FN={class:"text-3xl font-black bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent"},zN={class:"text-sm text-gray-400 flex items-center justify-end gap-1"},qN={class:"lg:col-span-1"},KN={class:"sticky top-4 space-y-4"},WN={class:"relative overflow-hidden bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-2xl"},GN={class:"relative"},JN={class:"mb-6"},YN={class:"flex gap-2"},XN=["disabled"],QN={key:0,class:"flex items-center gap-2 text-red-400 text-sm mt-3 bg-red-500/10 px-3 py-2 rounded-lg border border-red-500/20"},ZN={key:0,class:"flex items-center gap-2 text-green-400 text-sm mt-3 bg-green-500/10 px-3 py-2 rounded-lg border border-green-500/20"},eL={class:"font-bold"},tL={class:"space-y-3 mb-6 pb-6 border-b border-gray-700/50"},sL={class:"flex justify-between text-gray-400"},rL={class:"font-semibold text-white"},nL={key:0,class:"flex justify-between text-green-400 font-bold"},oL={class:"flex justify-between items-center mb-6 p-4 bg-gradient-to-r from-red-600/10 to-yellow-500/10 rounded-xl border border-red-600/20"},iL={class:"text-3xl font-black bg-gradient-to-r from-red-500 to-yellow-500 bg-clip-text text-transparent"},aL={__name:"Cart",setup(t){const e=da(),s=Ss(),r=cr(),n=N(""),o=N(null),i=N(!1),l=N(null),c=N(null),u=N({id:null,delta:0}),d=N(!1),h=N({title:"",message:"",type:"warning",confirmText:"Xc nhn",onConfirm:()=>{}});Ge(async()=>{await e.fetchCart()});const f=be(()=>o.value?o.value.final_total_formatted:e.cartTotalFormatted),p=async(k,_)=>{const C=e.items.find(w=>w.id===k),T=_-C.quantity;u.value={id:k,delta:T},setTimeout(()=>{u.value={id:null,delta:0}},1e3),c.value=k;try{const[w]=await Promise.all([e.updateQuantity(k,_),new Promise(L=>setTimeout(L,600))]),y=T>0?"Tng":"Gim";r.success(`${y} thi hn thnh cng: ${_} thng`),o.value=null}catch(w){r.error(w.message||"Khng th cp nht")}finally{c.value=null}},v=async k=>{h.value={title:"Xa gi khi gi hng?",message:"Bn c chc chn mun xa gi ny khi gi hng? Hnh ng ny khng th hon tc.",type:"danger",confirmText:"Xa ngay",onConfirm:async()=>{try{await Promise.all([e.removeItem(k),new Promise(_=>setTimeout(_,400))]),r.success(" xa khi gi hng"),o.value=null}catch(_){r.error(_.message||"Khng th xa")}}},d.value=!0},x=async()=>{h.value={title:"Xa ton b gi hng?",message:"Bn c chc chn mun xa tt c cc gi trong gi hng? Hnh ng ny khng th hon tc.",type:"danger",confirmText:"Xa tt c",onConfirm:async()=>{try{await Promise.all([e.clear(),new Promise(k=>setTimeout(k,500))]),r.success(" xa ton b gi hng"),o.value=null}catch(k){r.error(k.message||"Khng th xa")}}},d.value=!0},S=async()=>{var k,_,C;if(n.value){i.value=!0,l.value=null;try{const T=await Bg(n.value,e.total,(k=s.user)==null?void 0:k.id);T.success&&(o.value=T.data,r.success(T.message))}catch(T){l.value=((C=(_=T.response)==null?void 0:_.data)==null?void 0:C.message)||"M khng hp l",o.value=null}finally{i.value=!1}}},R=k=>({free:"",basic:"",premium:"",vip:""})[k]||"",P=k=>{const _={free:"bg-gradient-to-br from-gray-700 to-gray-600",basic:"bg-gradient-to-br from-blue-600 to-cyan-500",premium:"bg-gradient-to-br from-red-600 to-yellow-500",vip:"bg-gradient-to-br from-purple-600 to-pink-500"};return _[k]||_.free},A=k=>({free:"MIN PH",basic:"PH BIN",premium:"BN CHY",vip:"CAO CP"})[k]||"",I=k=>{const _={free:"bg-gray-600 text-white",basic:"bg-blue-600 text-white",premium:"bg-gradient-to-r from-red-600 to-yellow-500 text-white",vip:"bg-gradient-to-r from-purple-600 to-pink-500 text-white"};return _[k]||_.free};return(k,_)=>{const C=jt("router-link");return g(),m("div",lN,[Q(aN,{modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=T=>d.value=T),title:h.value.title,message:h.value.message,type:h.value.type,"confirm-text":h.value.confirmText,onConfirm:h.value.onConfirm},null,8,["modelValue","title","message","type","confirm-text","onConfirm"]),a("div",cN,[_[11]||(_[11]=a("div",{class:"absolute inset-0 opacity-5"},[a("div",{class:"absolute inset-0",style:{"background-image":"radial-gradient(circle at 2px 2px, white 1px, transparent 0)","background-size":"40px 40px"}})],-1)),a("div",uN,[a("div",dN,[Q(C,{to:"/",class:"hover:text-white transition-colors"},{default:xe(()=>_[2]||(_[2]=[se("Trang ch")])),_:1}),_[4]||(_[4]=a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),Q(C,{to:"/pricing",class:"hover:text-white transition-colors"},{default:xe(()=>_[3]||(_[3]=[se("Gi dch v")])),_:1}),_[5]||(_[5]=a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),_[6]||(_[6]=a("span",{class:"text-white font-medium"},"Gi hng",-1))]),a("div",hN,[a("div",fN,[_[9]||(_[9]=a("div",{class:"w-16 h-16 rounded-2xl bg-gradient-to-br from-red-600 to-yellow-500 flex items-center justify-center shadow-lg shadow-red-500/20"},[a("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),a("div",null,[_[8]||(_[8]=a("h1",{class:"text-4xl font-black text-white mb-1 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent"}," Gi hng ca bn ",-1)),a("p",pN,[a("span",gN,E(Ne(e).count),1),_[7]||(_[7]=se(" gi  chn "))])])]),Q(C,{to:"/pricing",class:"group flex items-center gap-2 bg-gray-800/50 backdrop-blur-sm text-gray-300 hover:text-white px-6 py-3 rounded-xl transition-all hover:bg-gray-800 border border-gray-700 hover:border-gray-600"},{default:xe(()=>_[10]||(_[10]=[a("svg",{class:"w-5 h-5 transition-transform group-hover:-translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),se(" Tip tc mua sm ")])),_:1})])])]),a("div",vN,[Ne(e).loading?(g(),m("div",mN,_[12]||(_[12]=[a("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-t-red-600 border-r-transparent border-b-red-600 border-l-transparent"},null,-1),a("p",{class:"text-gray-400 mt-4"},"ang ti gi hng...",-1)]))):Ne(e).isEmpty?(g(),m("div",yN,[_[15]||(_[15]=Ee('<div class="relative w-48 h-48 mx-auto mb-8" data-v-282041ce><div class="absolute inset-0 bg-gradient-to-br from-gray-800 to-gray-900 rounded-full animate-pulse" data-v-282041ce></div><div class="absolute inset-0 flex items-center justify-center" data-v-282041ce><svg class="w-24 h-24 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-282041ce><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" data-v-282041ce></path></svg></div><div class="absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-bounce" data-v-282041ce></div><div class="absolute bottom-0 left-0 w-2 h-2 bg-yellow-500 rounded-full animate-bounce" style="animation-delay:0.2s;" data-v-282041ce></div></div><h2 class="text-4xl font-black text-white mb-4" data-v-282041ce>Gi hng trng</h2><p class="text-gray-400 text-lg mb-10 max-w-md mx-auto" data-v-282041ce> Hy chn gi ph hp vi bn  bt u tri nghim xem phim khng gii hn </p>',3)),a("div",bN,[Q(C,{to:"/pricing",class:"group inline-flex items-center justify-center gap-2 bg-gradient-to-r from-red-600 to-yellow-500 text-white px-8 py-4 rounded-xl font-bold hover:from-red-700 hover:to-yellow-600 transition-all hover:scale-105 shadow-lg shadow-red-500/20"},{default:xe(()=>_[13]||(_[13]=[a("svg",{class:"w-5 h-5 transition-transform group-hover:rotate-12",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),se(" Xem cc gi dch v ")])),_:1}),Q(C,{to:"/",class:"inline-flex items-center justify-center gap-2 bg-gray-800/50 backdrop-blur-sm text-white px-8 py-4 rounded-xl font-bold hover:bg-gray-800 transition-all border border-gray-700 hover:border-gray-600"},{default:xe(()=>_[14]||(_[14]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})],-1),se(" Khm ph phim ")])),_:1})])])):(g(),m("div",wN,[a("div",xN,[Q(xc,{name:"cart-item"},{default:xe(()=>[(g(!0),m(te,null,fe(Ne(e).items,T=>(g(),m("div",{key:T.id,class:"group relative bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/50 hover:border-gray-600 transition-all duration-300 hover:shadow-2xl hover:shadow-red-500/10 hover:-translate-y-1"},[_[26]||(_[26]=a("div",{class:"absolute inset-0 rounded-2xl bg-gradient-to-br from-red-600/0 to-yellow-500/0 group-hover:from-red-600/5 group-hover:to-yellow-500/5 transition-all duration-300"},null,-1)),a("div",_N,[a("div",{class:X(["w-20 h-20 rounded-2xl flex items-center justify-center text-3xl shadow-lg flex-shrink-0 transition-transform group-hover:scale-110 group-hover:rotate-3",P(T.plan_slug)])},E(R(T.plan_slug)),3),a("div",kN,[a("div",CN,[a("div",EN,[a("div",SN,[a("h3",TN,E(T.plan_name),1),a("span",{class:X(["px-2 py-1 rounded-lg text-xs font-bold",I(T.plan_slug)])},E(A(T.plan_slug)),3)]),a("p",$N,E(T.description),1)]),a("button",{onClick:w=>v(T.id),class:"group/btn text-gray-500 hover:text-red-500 transition-all p-2 hover:bg-red-500/10 rounded-lg hover:scale-110",title:"Xa khi gi hng"},_[16]||(_[16]=[a("svg",{class:"w-5 h-5 transition-transform group-hover/btn:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,AN)]),a("div",IN,[a("span",PN,[_[17]||(_[17]=a("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})],-1)),se(" "+E(T.quality),1)]),a("span",RN,[_[18]||(_[18]=a("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)),se(" "+E(T.max_devices)+" thit b ",1)]),T.has_ads?D("",!0):(g(),m("span",ON,_[19]||(_[19]=[a("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),se(" Khng qung co ")]))),T.can_download?(g(),m("span",MN,_[20]||(_[20]=[a("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),se(" Ti v ")]))):D("",!0)]),a("div",jN,[a("div",NN,[_[24]||(_[24]=a("span",{class:"text-gray-400 text-sm font-medium"},"Thi hn:",-1)),a("div",LN,[c.value===T.id?(g(),m("div",BN,_[21]||(_[21]=[a("div",{class:"w-5 h-5 border-2 border-t-red-500 border-r-transparent border-b-red-500 border-l-transparent rounded-full animate-spin"},null,-1)]))):D("",!0),a("button",{onClick:w=>p(T.id,T.quantity-1),disabled:T.quantity<=1||c.value===T.id,class:"w-9 h-9 rounded-lg bg-gray-700 hover:bg-red-600 flex items-center justify-center transition-all disabled:opacity-30 disabled:cursor-not-allowed hover:scale-110 active:scale-95"},_[22]||(_[22]=[a("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M20 12H4"})],-1)]),8,DN),a("div",UN,[a("span",{class:X(["text-white font-bold text-lg transition-all block",{"scale-110":c.value===T.id}])},E(T.quantity)+" thng ",3),Q(dt,{name:"bounce"},{default:xe(()=>[u.value.id===T.id&&u.value.delta!==0?(g(),m("span",{key:0,class:X(["absolute -top-2 right-0 text-xs font-bold px-1.5 py-0.5 rounded-full",u.value.delta>0?"bg-green-500 text-white":"bg-red-500 text-white"])},E(u.value.delta>0?"+":"")+E(u.value.delta),3)):D("",!0)]),_:2},1024)]),a("button",{onClick:w=>p(T.id,T.quantity+1),disabled:T.quantity>=12||c.value===T.id,class:"w-9 h-9 rounded-lg bg-gray-700 hover:bg-green-600 flex items-center justify-center transition-all disabled:opacity-30 disabled:cursor-not-allowed hover:scale-110 active:scale-95"},_[23]||(_[23]=[a("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M12 4v16m8-8H4"})],-1)]),8,HN)])]),a("div",VN,[a("p",FN,E(T.subtotal_formatted),1),a("p",zN,[_[25]||(_[25]=a("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)),se(" "+E(T.price_formatted)+"/thng ",1)])])])])])]))),128))]),_:1})]),a("div",qN,[a("div",KN,[a("div",WN,[_[37]||(_[37]=a("div",{class:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-red-600/10 to-yellow-500/10 rounded-full blur-3xl"},null,-1)),a("div",GN,[_[36]||(_[36]=Ee('<div class="flex items-center gap-3 mb-6" data-v-282041ce><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-red-600 to-yellow-500 flex items-center justify-center" data-v-282041ce><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-282041ce><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" data-v-282041ce></path></svg></div><h2 class="text-2xl font-bold text-white" data-v-282041ce>Tng n hng</h2></div>',1)),a("div",JN,[_[30]||(_[30]=a("label",{class:"flex items-center gap-2 text-gray-400 text-sm font-medium mb-3"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})]),se(" M gim gi ")],-1)),a("div",YN,[je(a("input",{"onUpdate:modelValue":_[1]||(_[1]=T=>n.value=T),type:"text",placeholder:"Nhp m gim gi",class:"flex-1 bg-gray-800/80 backdrop-blur-sm text-white px-4 py-3 rounded-xl border border-gray-700 focus:border-red-600 focus:outline-none focus:ring-2 focus:ring-red-600/20 transition-all placeholder:text-gray-500",onKeyup:It(S,["enter"])},null,544),[[Qe,n.value]]),a("button",{onClick:S,disabled:i.value||!n.value,class:"bg-gradient-to-r from-red-600 to-red-700 text-white px-5 py-3 rounded-xl hover:from-red-700 hover:to-red-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-bold hover:scale-105 active:scale-95 shadow-lg shadow-red-600/20"},E(i.value?"...":"p dng"),9,XN)]),Q(dt,{name:"fade"},{default:xe(()=>[l.value?(g(),m("p",QN,[_[27]||(_[27]=a("svg",{class:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),se(" "+E(l.value),1)])):D("",!0)]),_:1}),Q(dt,{name:"fade"},{default:xe(()=>[o.value?(g(),m("p",ZN,[_[28]||(_[28]=a("svg",{class:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),_[29]||(_[29]=se("  p dng m ")),a("span",eL,E(o.value.code),1)])):D("",!0)]),_:1})]),a("div",tL,[a("div",sL,[_[31]||(_[31]=a("span",{class:"flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})]),se(" Tm tnh ")],-1)),a("span",rL,E(Ne(e).cartTotalFormatted),1)]),Q(dt,{name:"fade"},{default:xe(()=>[o.value?(g(),m("div",nL,[_[32]||(_[32]=a("span",{class:"flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z","clip-rule":"evenodd"})]),se(" Gim gi ")],-1)),a("span",null,"-"+E(o.value.discount_amount_formatted),1)])):D("",!0)]),_:1})]),a("div",oL,[_[33]||(_[33]=a("span",{class:"text-gray-300 text-lg font-semibold"},"Tng cng",-1)),a("span",iL,E(f.value),1)]),Q(C,{to:"/checkout",class:"group block w-full bg-gradient-to-r from-red-600 to-yellow-500 text-white text-center py-4 rounded-xl font-bold hover:from-red-700 hover:to-yellow-600 transition-all hover:scale-105 active:scale-95 shadow-lg shadow-red-600/30 mb-3"},{default:xe(()=>_[34]||(_[34]=[a("span",{class:"flex items-center justify-center gap-2"},[a("svg",{class:"w-5 h-5 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),se(" Thanh ton ngay ")],-1)])),_:1}),a("button",{onClick:x,class:"group w-full text-center text-gray-400 hover:text-red-400 transition-all text-sm font-medium py-2 hover:bg-red-500/5 rounded-lg"},_[35]||(_[35]=[a("span",{class:"flex items-center justify-center gap-2"},[a("svg",{class:"w-4 h-4 transition-transform group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),se(" Xa ton b gi hng ")],-1)]))])]),_[38]||(_[38]=Ee('<div class="bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-800" data-v-282041ce><div class="flex items-center justify-center gap-6 text-gray-400 text-xs" data-v-282041ce><div class="flex items-center gap-2" data-v-282041ce><svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20" data-v-282041ce><path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-282041ce></path></svg><span data-v-282041ce>Thanh ton an ton</span></div><div class="flex items-center gap-2" data-v-282041ce><svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20" data-v-282041ce><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-282041ce></path></svg><span data-v-282041ce>Hy bt k lc no</span></div></div></div>',1))])])]))])])}}},lL=Ve(aL,[["__scopeId","data-v-282041ce"]]),$n=_n.BACKEND_URL;class cL{async createVNPayPayment(e){try{return(await de.post(`${$n}/payment/vnpay_create.php`,e)).data}catch(s){throw console.error("VNPay payment error:",s),s}}async createMoMoPayment(e){try{return(await de.post(`${$n}/payment/momo_create.php`,e)).data}catch(s){throw console.error("MoMo payment error:",s),s}}async createZaloPayPayment(e){try{return(await de.post(`${$n}/payment/zalopay_create.php`,e)).data}catch(s){throw console.error("ZaloPay payment error:",s),s}}async createBankTransfer(e){try{return(await de.post(`${$n}/payment/bank_transfer.php`,e)).data}catch(s){throw console.error("Bank transfer error:",s),s}}async verifyPayment(e){try{return(await de.post(`${$n}/payment/verify.php`,e)).data}catch(s){throw console.error("Payment verification error:",s),s}}generateBankQRCode(e){const{bank:s,accountNo:r,accountName:n,amount:o,description:i}=e;return`https://img.vietqr.io/image/${s}-${r}-compact2.jpg?amount=${o}&addInfo=${encodeURIComponent(i)}&accountName=${encodeURIComponent(n)}`}}const el=new cL,uL={class:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black"},dL={class:"container mx-auto px-4 py-8 max-w-7xl"},hL={key:0,class:"max-w-md mx-auto text-center py-20"},fL={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},pL={class:"lg:col-span-2 space-y-6"},gL={class:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/50"},vL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mL={class:"md:col-span-2"},yL={key:0,class:"text-red-400 text-sm mt-1"},bL={key:0,class:"text-red-400 text-sm mt-1"},wL={class:"md:col-span-2"},xL={class:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/50"},_L={class:"space-y-4"},kL=["value"],CL={class:"absolute top-3 right-3"},EL={class:"relative flex items-start gap-4"},SL={class:"flex-shrink-0"},TL=["src","alt"],$L={key:1,class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},AL={class:"flex-1 min-w-0 pt-1"},IL={class:"text-white font-bold text-base mb-1.5 group-hover:text-red-400 transition-colors"},PL={class:"text-gray-400 text-xs leading-relaxed"},RL=["disabled"],OL={key:0,class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},ML={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jL={class:"lg:col-span-1"},NL={class:"sticky top-24 space-y-4"},LL={class:"bg-gradient-to-br from-gray-900/95 to-gray-800/95 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-2xl"},BL={class:"space-y-3 mb-4 pb-4 border-b border-gray-700/50"},DL={class:"flex items-start gap-3"},UL={class:"flex-1 min-w-0"},HL={class:"flex items-start justify-between mb-1"},VL={class:"text-white font-bold text-sm"},FL={class:"text-white font-bold text-sm"},zL={class:"text-gray-400 text-xs"},qL={class:"flex flex-wrap gap-1 mt-2"},KL={class:"bg-gray-700 text-white px-2 py-0.5 rounded text-xs"},WL={class:"bg-blue-600 text-white px-2 py-0.5 rounded text-xs"},GL={class:"mb-4"},JL={class:"flex gap-2"},YL=["disabled"],XL={key:0,class:"flex items-center gap-2 text-red-400 text-xs mt-2 bg-red-500/10 px-2 py-1.5 rounded border border-red-500/20"},QL={key:0,class:"flex items-center gap-2 text-green-400 text-xs mt-2 bg-green-500/10 px-2 py-1.5 rounded border border-green-500/20"},ZL={class:"font-bold"},eB={class:"space-y-2 mb-4 pb-4 border-b border-gray-700/50"},tB={class:"flex justify-between text-gray-400 text-sm"},sB={class:"font-semibold text-white"},rB={key:0,class:"flex justify-between text-green-400 font-bold text-sm"},nB={class:"flex justify-between items-center mb-4 p-3 bg-gradient-to-r from-red-600/10 to-yellow-500/10 rounded-xl border border-red-600/20"},oB={class:"text-2xl font-black bg-gradient-to-r from-red-500 to-yellow-500 bg-clip-text text-transparent"},iB={__name:"Checkout",setup(t){const e=ot(),s=da(),r=Ss(),n=cr(),o=N(!1),i=N(""),l=N(null),c=N(!1),u=N(null),d=ft({customer_name:"",customer_email:"",customer_phone:"",payment_method:"bank_transfer",note:""}),h=ft({customer_name:"",customer_email:""});N(!1);const f=[{value:"vnpay",label:"VNPay",description:"Thanh ton qua VNPay (ATM, Visa, MasterCard)",icon:"https://cdn.haitrieu.com/wp-content/uploads/2022/10/Logo-VNPAY-QR.png",color:"from-white to-gray-100",iconClass:"p-2"},{value:"momo",label:"MoMo",description:"Thanh ton qua v in t MoMo",icon:"https://cdn.haitrieu.com/wp-content/uploads/2022/10/Logo-MoMo-Square.png",color:"from-pink-500 to-pink-600"},{value:"bank_transfer",label:"Chuyn khon ngn hng",description:"Chuyn khon trc tip qua ngn hng",svgIcon:!0,color:"from-green-500 to-green-600"}],p=be(()=>l.value?l.value.final_total_formatted:s.cartTotalFormatted),v=be(()=>d.customer_name.trim()!==""&&d.customer_email.trim()!==""&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.customer_email));Ge(async()=>{if(await s.fetchCart(),r.user){const I=localStorage.getItem("user"),k=I?JSON.parse(I):r.user;d.customer_name=k.full_name||k.displayName||k.username||"",d.customer_email=k.email||"",d.customer_phone=k.phone||k.phone_number||"",console.log(" Checkout - Auto-filled:",{name:d.customer_name,email:d.customer_email,phone:d.customer_phone})}});const x=I=>{I==="customer_name"?h.customer_name=d.customer_name.trim()===""?"Vui lng nhp h tn":"":I==="customer_email"&&(d.customer_email.trim()===""?h.customer_email="Vui lng nhp email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.customer_email)?h.customer_email="":h.customer_email="Email khng hp l")},S=async()=>{var I,k,_;if(i.value){c.value=!0,u.value=null;try{const C=await Bg(i.value,s.total,(I=r.user)==null?void 0:I.id);C.success&&(l.value=C.data,n.success(C.message))}catch(C){u.value=((_=(k=C.response)==null?void 0:k.data)==null?void 0:_.message)||"M khng hp l",l.value=null}finally{c.value=!1}}},R=async()=>{var I,k,_,C,T;if(x("customer_name"),x("customer_email"),!v.value){n.error("Vui lng in y  thng tin");return}if(s.isEmpty){n.error("Gi hng trng");return}if(!r.user){n.error("Vui lng ng nhp"),e.push("/account");return}o.value=!0;try{const w=localStorage.getItem("user");let y=null;if(w)try{y=JSON.parse(w).id}catch(U){console.error("Error parsing user data:",U)}y||(y=((I=r.user)==null?void 0:I.id)||((k=r.user)==null?void 0:k.uid)),console.log("Creating order from cart with user_id:",y);const[L]=await Promise.all([Lg({user_id:y,customer_name:d.customer_name,customer_email:d.customer_email,customer_phone:d.customer_phone,payment_method:d.payment_method,note:d.note,coupon_code:((_=l.value)==null?void 0:_.code)||null}),new Promise(U=>setTimeout(U,800))]);if(L.success){const U=L.data.order_code,ce=L.data.total;if(d.payment_method==="vnpay"){const K={order_code:U,amount:ce,order_info:`Thanh toan don hang ${U}`},B=await el.createVNPayPayment(K);B.success&&(window.location.href=B.payment_url)}else if(d.payment_method==="momo"){const K={order_code:U,amount:ce,order_info:`Thanh toan don hang ${U}`},B=await el.createMoMoPayment(K);B.success&&(window.location.href=B.payment_url)}else if(d.payment_method==="zalopay"){const K={order_code:U,amount:ce,order_info:`Thanh toan don hang ${U}`},B=await el.createZaloPayPayment(K);B.success&&(window.location.href=B.payment_url)}else if(d.payment_method==="bank_transfer")n.success("t hng thnh cng! Vui lng chuyn khon  kch hot gi."),e.push(`/payment-return?order_code=${U}&status=pending&method=bank_transfer`);else{n.success("t hng thnh cng!");try{await de.post("http://localhost/HTHREE_film/HTHREE_film/backend/api/payment/activate_subscription.php",{order_code:U})}catch(K){console.error("Failed to activate subscription:",K)}e.push(`/payment-return?order_code=${U}&status=success`)}}}catch(w){n.error(((T=(C=w.response)==null?void 0:C.data)==null?void 0:T.message)||"Khng th to n hng")}finally{o.value=!1}},P=I=>({free:"",basic:"",premium:"",vip:""})[I]||"",A=I=>{const k={free:"bg-gradient-to-br from-gray-700 to-gray-600",basic:"bg-gradient-to-br from-blue-600 to-cyan-500",premium:"bg-gradient-to-br from-red-600 to-yellow-500",vip:"bg-gradient-to-br from-purple-600 to-pink-500"};return k[I]||k.free};return(I,k)=>{const _=jt("router-link");return g(),m("div",uL,[k[31]||(k[31]=Ee('<div class="bg-gray-900/50 border-b border-gray-800 sticky top-0 z-40 backdrop-blur-sm" data-v-4e0955ce><div class="container mx-auto px-4 py-4" data-v-4e0955ce><div class="flex items-center justify-center max-w-3xl mx-auto" data-v-4e0955ce><div class="flex items-center" data-v-4e0955ce><div class="flex items-center justify-center w-10 h-10 rounded-full bg-green-600 text-white" data-v-4e0955ce><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" data-v-4e0955ce><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" data-v-4e0955ce></path></svg></div><span class="ml-2 text-sm text-gray-400 hidden sm:inline" data-v-4e0955ce>Gi hng</span></div><div class="w-16 sm:w-24 h-0.5 bg-red-600 mx-2" data-v-4e0955ce></div><div class="flex items-center" data-v-4e0955ce><div class="flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-r from-red-600 to-yellow-500 text-white font-bold" data-v-4e0955ce> 2 </div><span class="ml-2 text-sm text-white font-medium hidden sm:inline" data-v-4e0955ce>Thanh ton</span></div><div class="w-16 sm:w-24 h-0.5 bg-gray-700 mx-2" data-v-4e0955ce></div><div class="flex items-center" data-v-4e0955ce><div class="flex items-center justify-center w-10 h-10 rounded-full bg-gray-700 text-gray-400 font-bold" data-v-4e0955ce> 3 </div><span class="ml-2 text-sm text-gray-400 hidden sm:inline" data-v-4e0955ce>Hon tt</span></div></div></div></div>',1)),a("div",dL,[Ne(s).isEmpty?(g(),m("div",hL,[k[9]||(k[9]=Ee('<div class="w-24 h-24 mx-auto mb-6 bg-gray-800 rounded-full flex items-center justify-center" data-v-4e0955ce><svg class="w-12 h-12 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4e0955ce><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" data-v-4e0955ce></path></svg></div><h2 class="text-2xl font-bold text-white mb-4" data-v-4e0955ce>Gi hng trng</h2><p class="text-gray-400 mb-6" data-v-4e0955ce>Vui lng thm gi vo gi hng trc khi thanh ton</p>',3)),Q(_,{to:"/pricing",class:"inline-flex items-center gap-2 bg-gradient-to-r from-red-600 to-yellow-500 text-white px-6 py-3 rounded-xl font-bold hover:from-red-700 hover:to-yellow-600 transition-all"},{default:xe(()=>k[8]||(k[8]=[a("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),se(" Xem cc gi ")])),_:1})])):(g(),m("div",fL,[a("div",pL,[a("form",{onSubmit:$t(R,["prevent"]),class:"space-y-6"},[a("div",gL,[k[14]||(k[14]=Ee('<div class="flex items-center gap-3 mb-6" data-v-4e0955ce><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center" data-v-4e0955ce><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4e0955ce><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-4e0955ce></path></svg></div><h2 class="text-2xl font-bold text-white" data-v-4e0955ce>Thng tin khch hng</h2></div>',1)),a("div",vL,[a("div",mL,[k[10]||(k[10]=a("label",{class:"flex items-center gap-2 text-gray-400 text-sm font-medium mb-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),se(" H v tn "),a("span",{class:"text-red-500"},"*")],-1)),je(a("input",{"onUpdate:modelValue":k[0]||(k[0]=C=>d.customer_name=C),type:"text",required:"",class:"w-full bg-gray-800/80 backdrop-blur-sm text-white px-4 py-3 rounded-xl border border-gray-700 focus:border-red-600 focus:outline-none focus:ring-2 focus:ring-red-600/20 transition-all placeholder:text-gray-500",placeholder:"Nguyn Vn A",onBlur:k[1]||(k[1]=C=>x("customer_name"))},null,544),[[Qe,d.customer_name]]),h.customer_name?(g(),m("p",yL,E(h.customer_name),1)):D("",!0)]),a("div",null,[k[11]||(k[11]=a("label",{class:"flex items-center gap-2 text-gray-400 text-sm font-medium mb-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),se(" Email "),a("span",{class:"text-red-500"},"*")],-1)),je(a("input",{"onUpdate:modelValue":k[2]||(k[2]=C=>d.customer_email=C),type:"email",required:"",class:"w-full bg-gray-800/80 backdrop-blur-sm text-white px-4 py-3 rounded-xl border border-gray-700 focus:border-red-600 focus:outline-none focus:ring-2 focus:ring-red-600/20 transition-all placeholder:text-gray-500",placeholder:"email@example.com",onBlur:k[3]||(k[3]=C=>x("customer_email"))},null,544),[[Qe,d.customer_email]]),h.customer_email?(g(),m("p",bL,E(h.customer_email),1)):D("",!0)]),a("div",null,[k[12]||(k[12]=a("label",{class:"flex items-center gap-2 text-gray-400 text-sm font-medium mb-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})]),se(" S in thoi ")],-1)),je(a("input",{"onUpdate:modelValue":k[4]||(k[4]=C=>d.customer_phone=C),type:"tel",class:"w-full bg-gray-800/80 backdrop-blur-sm text-white px-4 py-3 rounded-xl border border-gray-700 focus:border-red-600 focus:outline-none focus:ring-2 focus:ring-red-600/20 transition-all placeholder:text-gray-500",placeholder:"0901234567"},null,512),[[Qe,d.customer_phone]])]),a("div",wL,[k[13]||(k[13]=a("label",{class:"flex items-center gap-2 text-gray-400 text-sm font-medium mb-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})]),se(" Ghi ch ")],-1)),je(a("textarea",{"onUpdate:modelValue":k[5]||(k[5]=C=>d.note=C),rows:"3",class:"w-full bg-gray-800/80 backdrop-blur-sm text-white px-4 py-3 rounded-xl border border-gray-700 focus:border-red-600 focus:outline-none focus:ring-2 focus:ring-red-600/20 transition-all placeholder:text-gray-500 resize-none",placeholder:"Ghi ch thm cho n hng (nu c)"},null,512),[[Qe,d.note]])])])]),a("div",xL,[k[17]||(k[17]=Ee('<div class="flex items-center gap-3 mb-6" data-v-4e0955ce><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center" data-v-4e0955ce><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4e0955ce><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" data-v-4e0955ce></path></svg></div><h2 class="text-2xl font-bold text-white" data-v-4e0955ce>Phng thc thanh ton</h2></div>',1)),a("div",_L,[(g(),m(te,null,fe(f,C=>a("label",{key:C.value,class:"relative group cursor-pointer"},[je(a("input",{"onUpdate:modelValue":k[6]||(k[6]=T=>d.payment_method=T),type:"radio",value:C.value,class:"peer sr-only"},null,8,kL),[[_c,d.payment_method]]),a("div",{class:X(["relative overflow-hidden p-5 bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm rounded-2xl border-2 transition-all duration-300 hover:border-gray-600 group-hover:scale-[1.02] group-hover:shadow-xl",d.payment_method===C.value?"border-red-500 shadow-lg shadow-red-500/20":"border-gray-700/50"])},[a("div",CL,[a("div",{class:X(["w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 group-hover:scale-110",d.payment_method===C.value?"border-red-500 bg-red-500":"border-gray-600"])},[(g(),m("svg",{class:X(["w-4 h-4 text-white transition-opacity duration-300",d.payment_method===C.value?"opacity-100":"opacity-0"]),fill:"currentColor",viewBox:"0 0 20 20"},k[15]||(k[15]=[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]),2))],2)]),a("div",{class:X(["absolute inset-0 bg-gradient-to-br transition-opacity duration-300",[C.color,d.payment_method===C.value?"opacity-10":"opacity-0"]])},null,2),a("div",EL,[a("div",SL,[a("div",{class:X(["w-14 h-14 rounded-xl bg-gradient-to-br flex items-center justify-center shadow-lg transition-transform group-hover:scale-110",[C.color,C.iconClass]])},[C.icon?(g(),m("img",{key:0,src:C.icon,alt:C.label,class:"w-10 h-10 object-contain"},null,8,TL)):C.svgIcon?(g(),m("svg",$L,k[16]||(k[16]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"},null,-1)]))):D("",!0)],2)]),a("div",AL,[a("h3",IL,E(C.label),1),a("p",PL,E(C.description),1)])]),a("div",{class:X(["absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r opacity-0 peer-checked:opacity-100 transition-opacity duration-300",C.color])},null,2)],2)])),64))])]),a("button",{type:"submit",disabled:o.value||!v.value,class:"w-full bg-gradient-to-r from-red-600 to-yellow-500 text-white py-4 rounded-xl font-bold text-lg hover:from-red-700 hover:to-yellow-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 shadow-lg shadow-red-600/30 flex items-center justify-center gap-2"},[o.value?(g(),m("svg",OL,k[18]||(k[18]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(g(),m("svg",ML,k[19]||(k[19]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),a("span",null,E(o.value?"ang x l...":"Xc nhn t hng"),1)],8,RL),k[20]||(k[20]=Ee('<div class="flex items-center justify-center gap-6 text-gray-400 text-xs" data-v-4e0955ce><div class="flex items-center gap-2" data-v-4e0955ce><svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20" data-v-4e0955ce><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" data-v-4e0955ce></path></svg><span data-v-4e0955ce>Bo mt SSL</span></div><div class="flex items-center gap-2" data-v-4e0955ce><svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20" data-v-4e0955ce><path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-4e0955ce></path></svg><span data-v-4e0955ce>Thanh ton an ton</span></div></div>',1))],32)]),a("div",jL,[a("div",NL,[a("div",LL,[k[29]||(k[29]=Ee('<div class="flex items-center gap-3 mb-6" data-v-4e0955ce><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-600 to-purple-700 flex items-center justify-center" data-v-4e0955ce><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4e0955ce><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" data-v-4e0955ce></path></svg></div><h2 class="text-xl font-bold text-white" data-v-4e0955ce>n hng ca bn</h2></div>',1)),a("div",BL,[(g(!0),m(te,null,fe(Ne(s).items,C=>(g(),m("div",{key:C.id,class:"group p-3 bg-gray-800/50 rounded-xl hover:bg-gray-800 transition-all"},[a("div",DL,[a("div",{class:X(["w-12 h-12 rounded-lg flex items-center justify-center text-xl flex-shrink-0",A(C.plan_slug)])},E(P(C.plan_slug)),3),a("div",UL,[a("div",HL,[a("h3",VL,E(C.plan_name),1),a("span",FL,E(C.subtotal_formatted),1)]),a("p",zL,E(C.quantity)+" thng  "+E(C.price_formatted),1),a("div",qL,[a("span",KL,E(C.quality),1),a("span",WL,E(C.max_devices)+" thit b",1)])])])]))),128))]),a("div",GL,[k[24]||(k[24]=a("label",{class:"flex items-center gap-2 text-gray-400 text-sm font-medium mb-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})]),se(" M gim gi ")],-1)),a("div",JL,[je(a("input",{"onUpdate:modelValue":k[7]||(k[7]=C=>i.value=C),type:"text",placeholder:"Nhp m",class:"flex-1 bg-gray-800/80 backdrop-blur-sm text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-red-600 focus:outline-none focus:ring-2 focus:ring-red-600/20 transition-all placeholder:text-gray-500 text-sm",onKeyup:It(S,["enter"])},null,544),[[Qe,i.value]]),a("button",{onClick:S,disabled:c.value||!i.value,class:"bg-gradient-to-r from-red-600 to-red-700 text-white px-4 py-2 rounded-lg hover:from-red-700 hover:to-red-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-bold text-sm hover:scale-105 active:scale-95"},E(c.value?"...":"p dng"),9,YL)]),Q(dt,{name:"fade"},{default:xe(()=>[u.value?(g(),m("p",XL,[k[21]||(k[21]=a("svg",{class:"w-3 h-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),se(" "+E(u.value),1)])):D("",!0)]),_:1}),Q(dt,{name:"fade"},{default:xe(()=>[l.value?(g(),m("p",QL,[k[22]||(k[22]=a("svg",{class:"w-3 h-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),k[23]||(k[23]=se("  p dng m ")),a("span",ZL,E(l.value.code),1)])):D("",!0)]),_:1})]),a("div",eB,[a("div",tB,[k[25]||(k[25]=a("span",null,"Tm tnh",-1)),a("span",sB,E(Ne(s).cartTotalFormatted),1)]),Q(dt,{name:"fade"},{default:xe(()=>[l.value?(g(),m("div",rB,[k[26]||(k[26]=a("span",null,"Gim gi",-1)),a("span",null,"-"+E(l.value.discount_amount_formatted),1)])):D("",!0)]),_:1})]),a("div",nB,[k[27]||(k[27]=a("span",{class:"text-gray-300 font-semibold"},"Tng cng",-1)),a("span",oB,E(p.value),1)]),Q(_,{to:"/cart",class:"flex items-center justify-center gap-2 w-full text-gray-400 hover:text-white transition-all text-sm py-2 hover:bg-gray-800/50 rounded-lg"},{default:xe(()=>k[28]||(k[28]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),se(" Quay li gi hng ")])),_:1})]),k[30]||(k[30]=Ee('<div class="bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-800" data-v-4e0955ce><div class="space-y-3" data-v-4e0955ce><div class="flex items-center gap-3 text-gray-400 text-xs" data-v-4e0955ce><svg class="w-5 h-5 text-green-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" data-v-4e0955ce><path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-4e0955ce></path></svg><div data-v-4e0955ce><p class="text-white font-medium" data-v-4e0955ce>Thanh ton an ton 100%</p><p class="text-gray-500" data-v-4e0955ce>M ha SSL 256-bit</p></div></div><div class="flex items-center gap-3 text-gray-400 text-xs" data-v-4e0955ce><svg class="w-5 h-5 text-blue-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" data-v-4e0955ce><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-4e0955ce></path></svg><div data-v-4e0955ce><p class="text-white font-medium" data-v-4e0955ce>Hy bt k lc no</p><p class="text-gray-500" data-v-4e0955ce>Khng rng buc di hn</p></div></div><div class="flex items-center gap-3 text-gray-400 text-xs" data-v-4e0955ce><svg class="w-5 h-5 text-yellow-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" data-v-4e0955ce><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" data-v-4e0955ce></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" data-v-4e0955ce></path></svg><div data-v-4e0955ce><p class="text-white font-medium" data-v-4e0955ce>H tr 24/7</p><p class="text-gray-500" data-v-4e0955ce>Lun sn sng gip </p></div></div></div></div>',1))])])]))])])}}},aB=Ve(iB,[["__scopeId","data-v-4e0955ce"]]),lB={class:"bg-gray-800 rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-gray-700"},cB={class:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between"},uB={class:"text-2xl font-bold text-white"},dB={class:"p-6 space-y-6"},hB={class:"bg-gray-900 rounded-lg p-4"},fB={class:"grid grid-cols-2 gap-4 text-sm"},pB={class:"text-white font-medium"},gB={class:"text-white font-medium"},vB={class:"text-white font-medium"},mB={class:"text-white font-medium"},yB={class:"bg-gray-900 rounded-lg p-4"},bB={class:"space-y-2"},wB={class:"text-white font-medium"},xB={class:"text-gray-400 text-sm"},_B={class:"text-white font-semibold"},kB={class:"bg-gray-900 rounded-lg p-4"},CB={class:"space-y-2 text-sm"},EB={class:"flex justify-between"},SB={class:"text-white"},TB={class:"flex justify-between"},$B={class:"text-green-400"},AB={class:"flex justify-between text-lg font-bold pt-2 border-t border-gray-700"},IB={class:"text-yellow-400"},PB={class:"flex justify-between pt-2"},RB={class:"text-white"},OB={class:"bg-gray-900 rounded-lg p-4"},MB={class:"grid grid-cols-2 gap-4"},jB={class:"mt-4"},NB={class:"sticky bottom-0 bg-gray-800 border-t border-gray-700 px-6 py-4 flex justify-end gap-3"},LB={__name:"AdminOrderModal",props:{show:Boolean,order:Object},emits:["close","save"],setup(t,{emit:e}){const s=t,r=e,n=N({payment_status:"",status:"",admin_note:""});Ye(()=>s.order,u=>{u&&(n.value={payment_status:u.payment_status,status:u.status,admin_note:u.admin_note||""})},{immediate:!0});const o=u=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u||0),i=u=>u?new Date(u).toLocaleString("vi-VN"):"N/A",l=u=>({vnpay:"VNPay",momo:"MoMo",zalopay:"ZaloPay",bank_transfer:"Chuyn khon",cod:"COD"})[u]||u,c=()=>{r("save",{id:s.order.id,...n.value})};return(u,d)=>{var h,f,p,v,x,S,R,P,A,I;return t.show?(g(),m("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:d[5]||(d[5]=$t(k=>u.$emit("close"),["self"]))},[a("div",lB,[a("div",cB,[a("h2",uB,"Chi tit n hng #"+E((h=t.order)==null?void 0:h.order_code),1),a("button",{onClick:d[0]||(d[0]=k=>u.$emit("close")),class:"text-gray-400 hover:text-white transition"},d[6]||(d[6]=[a("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a("div",dB,[a("div",hB,[d[11]||(d[11]=a("h3",{class:"text-lg font-semibold text-white mb-3"},"Thng tin khch hng",-1)),a("div",fB,[a("div",null,[d[7]||(d[7]=a("p",{class:"text-gray-400"},"Tn:",-1)),a("p",pB,E((f=t.order)==null?void 0:f.customer_name),1)]),a("div",null,[d[8]||(d[8]=a("p",{class:"text-gray-400"},"Email:",-1)),a("p",gB,E((p=t.order)==null?void 0:p.customer_email),1)]),a("div",null,[d[9]||(d[9]=a("p",{class:"text-gray-400"},"S in thoi:",-1)),a("p",vB,E(((v=t.order)==null?void 0:v.customer_phone)||"N/A"),1)]),a("div",null,[d[10]||(d[10]=a("p",{class:"text-gray-400"},"Ngy t:",-1)),a("p",mB,E(i((x=t.order)==null?void 0:x.created_at)),1)])])]),a("div",yB,[d[12]||(d[12]=a("h3",{class:"text-lg font-semibold text-white mb-3"},"Sn phm",-1)),a("div",bB,[(g(!0),m(te,null,fe((S=t.order)==null?void 0:S.items,k=>(g(),m("div",{key:k.id,class:"flex justify-between items-center py-2 border-b border-gray-700 last:border-0"},[a("div",null,[a("p",wB,E(k.plan_name),1),a("p",xB,E(k.duration_months)+" thng  "+E(o(k.plan_price)),1)]),a("p",_B,E(o(k.total)),1)]))),128))])]),a("div",kB,[d[17]||(d[17]=a("h3",{class:"text-lg font-semibold text-white mb-3"},"Thanh ton",-1)),a("div",CB,[a("div",EB,[d[13]||(d[13]=a("span",{class:"text-gray-400"},"Tm tnh:",-1)),a("span",SB,E(o((R=t.order)==null?void 0:R.subtotal)),1)]),a("div",TB,[d[14]||(d[14]=a("span",{class:"text-gray-400"},"Gim gi:",-1)),a("span",$B,"-"+E(o((P=t.order)==null?void 0:P.discount)),1)]),a("div",AB,[d[15]||(d[15]=a("span",{class:"text-white"},"Tng cng:",-1)),a("span",IB,E(o((A=t.order)==null?void 0:A.total)),1)]),a("div",PB,[d[16]||(d[16]=a("span",{class:"text-gray-400"},"Phng thc:",-1)),a("span",RB,E(l((I=t.order)==null?void 0:I.payment_method)),1)])])]),a("div",OB,[d[23]||(d[23]=a("h3",{class:"text-lg font-semibold text-white mb-3"},"Cp nht trng thi",-1)),a("div",MB,[a("div",null,[d[19]||(d[19]=a("label",{class:"block text-gray-400 text-sm mb-2"},"Trng thi thanh ton",-1)),je(a("select",{"onUpdate:modelValue":d[1]||(d[1]=k=>n.value.payment_status=k),class:"w-full bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-700"},d[18]||(d[18]=[a("option",{value:"pending"},"Ch thanh ton",-1),a("option",{value:"paid"}," thanh ton",-1),a("option",{value:"failed"},"Tht bi",-1),a("option",{value:"refunded"}," hon tin",-1)]),512),[[Tr,n.value.payment_status]])]),a("div",null,[d[21]||(d[21]=a("label",{class:"block text-gray-400 text-sm mb-2"},"Trng thi n hng",-1)),je(a("select",{"onUpdate:modelValue":d[2]||(d[2]=k=>n.value.status=k),class:"w-full bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-700"},d[20]||(d[20]=[a("option",{value:"pending"},"Ch x l",-1),a("option",{value:"processing"},"ang x l",-1),a("option",{value:"completed"},"Hon thnh",-1),a("option",{value:"cancelled"}," hy",-1)]),512),[[Tr,n.value.status]])])]),a("div",jB,[d[22]||(d[22]=a("label",{class:"block text-gray-400 text-sm mb-2"},"Ghi ch admin",-1)),je(a("textarea",{"onUpdate:modelValue":d[3]||(d[3]=k=>n.value.admin_note=k),rows:"3",class:"w-full bg-gray-800 text-white rounded-lg px-4 py-2 border border-gray-700",placeholder:"Thm ghi ch..."},null,512),[[Qe,n.value.admin_note]])])])]),a("div",NB,[a("button",{onClick:d[4]||(d[4]=k=>u.$emit("close")),class:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition"}," ng "),a("button",{onClick:c,class:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition"}," Lu thay i ")])])])):D("",!0)}}},BB={class:"min-h-screen bg-gray-900"},DB={class:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50"},UB={class:"px-6 py-4 flex items-center justify-between"},HB={class:"flex items-center gap-4"},VB={class:"flex items-center gap-4"},FB={class:"text-gray-400"},zB={class:"flex"},qB={class:"w-64 bg-gray-800 min-h-screen p-6"},KB={class:"space-y-2"},WB=["onClick"],GB={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},JB=["d"],YB={class:"font-medium"},XB={class:"flex-1 p-8"},QB={key:0,class:"space-y-6"},ZB={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},eD={class:"bg-gray-800 rounded-xl p-6 border border-gray-700"},tD={class:"flex items-center justify-between"},sD={class:"text-3xl font-bold text-white mt-2"},rD={class:"bg-gray-800 rounded-xl p-6 border border-gray-700"},nD={class:"flex items-center justify-between"},oD={class:"text-3xl font-bold text-white mt-2"},iD={class:"bg-gray-800 rounded-xl p-6 border border-gray-700"},aD={class:"flex items-center justify-between"},lD={class:"text-3xl font-bold text-white mt-2"},cD={class:"bg-gray-800 rounded-xl p-6 border border-gray-700"},uD={class:"flex items-center justify-between"},dD={class:"text-3xl font-bold text-white mt-2"},hD={key:1,class:"space-y-6"},fD={class:"flex items-center justify-between mb-6"},pD={class:"flex gap-3"},gD={class:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden"},vD={class:"overflow-x-auto"},mD={class:"w-full"},yD={class:"divide-y divide-gray-700"},bD={class:"px-6 py-4 text-sm font-medium text-white"},wD={class:"px-6 py-4 text-sm text-gray-300"},xD={class:"text-xs text-gray-500"},_D={class:"px-6 py-4 text-sm font-semibold text-white"},kD={class:"px-6 py-4 text-sm"},CD={class:"px-6 py-4 text-sm"},ED={class:"px-6 py-4 text-sm text-gray-400"},SD={class:"px-6 py-4 text-sm"},TD={class:"flex items-center gap-2"},$D=["onClick"],AD=["onClick","disabled"],ID={key:1,class:"text-xs text-green-400"},PD={key:2,class:"space-y-6"},RD={class:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden"},OD={class:"overflow-x-auto"},MD={class:"w-full"},jD={class:"divide-y divide-gray-700"},ND={class:"px-6 py-4 text-sm text-white"},LD={class:"px-6 py-4 text-sm text-gray-300"},BD={class:"px-6 py-4 text-sm text-gray-300"},DD={class:"px-6 py-4 text-sm"},UD={class:"px-3 py-1 rounded-full text-xs font-medium bg-blue-600/20 text-blue-400"},HD={class:"px-6 py-4 text-sm text-gray-400"},VD={class:"px-6 py-4 text-sm"},FD=["onClick"],zD={key:3,class:"space-y-6"},qD={class:"flex items-center justify-between mb-6"},KD={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},WD={class:"flex items-center justify-between mb-4"},GD={class:"text-xl font-bold text-white"},JD={class:"text-3xl font-bold text-white mb-4"},YD={class:"space-y-2 mb-6"},XD={class:"text-sm text-gray-400 flex items-center gap-2"},QD={class:"text-sm text-gray-400 flex items-center gap-2"},ZD={class:"flex gap-2"},eU=["onClick"],tU=["onClick"],sU={key:4,class:"space-y-6"},rU={class:"flex items-center justify-between mb-6"},nU={class:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden"},oU={class:"overflow-x-auto"},iU={class:"w-full"},aU={class:"divide-y divide-gray-700"},lU={class:"px-6 py-4 text-sm font-bold text-white"},cU={class:"px-6 py-4 text-sm text-gray-300"},uU={class:"px-6 py-4 text-sm text-green-400 font-semibold"},dU={class:"px-6 py-4 text-sm text-gray-400"},hU={class:"px-6 py-4 text-sm text-gray-400"},fU={class:"px-6 py-4 text-sm"},pU={class:"px-6 py-4 text-sm"},gU=["onClick"],vU=["onClick"],mU={__name:"Admin",setup(t){const e=ot(),s=Ss(),r=N("dashboard"),n=N("all"),o=N(!1),i=N(!1),l=N({totalOrders:0,totalRevenue:0,totalUsers:0,pendingOrders:0}),c=N([]),u=N([]),d=N([]),h=N([]),f=[{id:"dashboard",label:"Dashboard",iconPath:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{id:"orders",label:"n hng",iconPath:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"},{id:"users",label:"Khch hng",iconPath:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"},{id:"plans",label:"Gi dch v",iconPath:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"},{id:"coupons",label:"M gim gi",iconPath:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"}],p=be(()=>n.value==="all"?c.value:c.value.filter($=>$.status===n.value||$.payment_status===n.value));Ge(async()=>{await v()});const v=async()=>{try{const $="http://localhost/HTHREE_film/HTHREE_film/backend/api",[b,G,he,z]=await Promise.all([de.get(`${$}/orders.php`),de.get(`${$}/users.php`),de.get(`${$}/plans.php`),de.get(`${$}/coupons.php`)]);c.value=b.data.data||[],u.value=G.data.data||[],d.value=he.data.data||[],h.value=z.data.data||[],l.value={totalOrders:c.value.length,totalRevenue:c.value.reduce((ve,ye)=>ve+parseFloat(ye.total||0),0),totalUsers:u.value.length,pendingOrders:c.value.filter(ve=>ve.status==="pending").length}}catch($){console.error("Error loading admin data:",$)}},x=$=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format($),S=$=>$?new Date($).toLocaleDateString("vi-VN"):"N/A",R=$=>{const b={pending:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-600/20 text-yellow-400",paid:"px-3 py-1 rounded-full text-xs font-medium bg-green-600/20 text-green-400",failed:"px-3 py-1 rounded-full text-xs font-medium bg-red-600/20 text-red-400"};return b[$]||b.pending},P=$=>({pending:"Ch thanh ton",paid:" thanh ton",failed:"Tht bi"})[$]||$,A=$=>{const b={pending:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-600/20 text-yellow-400",processing:"px-3 py-1 rounded-full text-xs font-medium bg-blue-600/20 text-blue-400",completed:"px-3 py-1 rounded-full text-xs font-medium bg-green-600/20 text-green-400",cancelled:"px-3 py-1 rounded-full text-xs font-medium bg-red-600/20 text-red-400"};return b[$]||b.pending},I=$=>({pending:"Ch x l",processing:"ang x l",completed:"Hon thnh",cancelled:" hy"})[$]||$,k=N(null),_=N(!1),C=$=>{k.value=$,_.value=!0},T=N(null),w=async $=>{if(confirm(`Xc nhn duyt n hng ${$.order_code}?`)){T.value=$.id;try{const he=await(await fetch("http://localhost/HTHREE_film/HTHREE_film/backend/api/admin/approve_order.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:$.id})})).json();he.success?(toast.success("n hng  c duyt v kch hot subscription!"),await fetchOrders()):toast.error(he.message||"Khng th duyt n hng")}catch(b){console.error("Error approving order:",b),toast.error("C li xy ra khi duyt n hng")}finally{T.value=null}}},y=async $=>{try{await de.put("http://localhost/HTHREE_film/HTHREE_film/backend/api/orders.php",$),await v(),_.value=!1,alert("Cp nht thnh cng!")}catch(b){alert("Li: "+b.message)}},L=$=>{alert(`Chi tit khch hng: ${$.email}`)},U=$=>{alert(`Chnh sa gi: ${$.name}`)},ce=async $=>{try{await de.put("http://localhost/HTHREE_film/HTHREE_film/backend/api/plans.php",{id:$.id,is_active:!$.is_active}),await v()}catch(b){alert("Li: "+b.message)}},K=$=>{alert(`Chnh sa m: ${$.code}`)},B=async $=>{try{await de.put("http://localhost/HTHREE_film/HTHREE_film/backend/api/coupons.php",{id:$.id,is_active:!$.is_active}),await v()}catch(b){alert("Li: "+b.message)}},j=()=>{s.logout(),e.push("/")};return($,b)=>{var he;const G=jt("router-link");return g(),m("div",BB,[a("header",DB,[a("div",UB,[a("div",HB,[Q(G,{to:"/home",class:"flex items-center gap-2"},{default:xe(()=>b[4]||(b[4]=[a("svg",{class:"w-8 h-8 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24"},[a("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})],-1),a("span",{class:"text-xl font-bold text-white"},"HTHREE Admin",-1)])),_:1})]),a("div",VB,[a("span",FB,E((he=Ne(s).user)==null?void 0:he.email),1),a("button",{onClick:j,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition"}," ng xut ")])])]),a("div",zB,[a("aside",qB,[a("nav",KB,[(g(),m(te,null,fe(f,z=>a("button",{key:z.id,onClick:ve=>r.value=z.id,class:X(["w-full flex items-center gap-3 px-4 py-3 rounded-lg transition",r.value===z.id?"bg-red-600 text-white":"text-gray-400 hover:bg-gray-700 hover:text-white"])},[(g(),m("svg",GB,[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:z.iconPath},null,8,JB)])),a("span",YB,E(z.label),1)],10,WB)),64))])]),a("main",XB,[r.value==="dashboard"?(g(),m("div",QB,[b[13]||(b[13]=a("h1",{class:"text-3xl font-bold text-white mb-6"},"Dashboard",-1)),a("div",ZB,[a("div",eD,[a("div",tD,[a("div",null,[b[5]||(b[5]=a("p",{class:"text-gray-400 text-sm"},"Tng n hng",-1)),a("p",sD,E(l.value.totalOrders),1)]),b[6]||(b[6]=a("div",{class:"w-12 h-12 bg-blue-600/20 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])],-1))])]),a("div",rD,[a("div",nD,[a("div",null,[b[7]||(b[7]=a("p",{class:"text-gray-400 text-sm"},"Doanh thu",-1)),a("p",oD,E(x(l.value.totalRevenue)),1)]),b[8]||(b[8]=a("div",{class:"w-12 h-12 bg-green-600/20 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),a("div",iD,[a("div",aD,[a("div",null,[b[9]||(b[9]=a("p",{class:"text-gray-400 text-sm"},"Khch hng",-1)),a("p",lD,E(l.value.totalUsers),1)]),b[10]||(b[10]=a("div",{class:"w-12 h-12 bg-purple-600/20 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1))])]),a("div",cD,[a("div",uD,[a("div",null,[b[11]||(b[11]=a("p",{class:"text-gray-400 text-sm"},"n ch x l",-1)),a("p",dD,E(l.value.pendingOrders),1)]),b[12]||(b[12]=a("div",{class:"w-12 h-12 bg-yellow-600/20 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])])])])):D("",!0),r.value==="orders"?(g(),m("div",hD,[a("div",fD,[b[15]||(b[15]=a("h1",{class:"text-3xl font-bold text-white"},"Qun l n hng",-1)),a("div",pD,[je(a("select",{"onUpdate:modelValue":b[0]||(b[0]=z=>n.value=z),class:"px-4 py-2 bg-gray-800 text-white rounded-lg border border-gray-700"},b[14]||(b[14]=[Ee('<option value="all">Tt c</option><option value="pending">Ch x l</option><option value="paid"> thanh ton</option><option value="completed">Hon thnh</option><option value="cancelled"> hy</option>',5)]),512),[[Tr,n.value]])])]),a("div",gD,[a("div",vD,[a("table",mD,[b[16]||(b[16]=a("thead",{class:"bg-gray-700"},[a("tr",null,[a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"M n"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Khch hng"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Tng tin"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Thanh ton"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Trng thi"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Ngy to"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Thao tc")])],-1)),a("tbody",yD,[(g(!0),m(te,null,fe(p.value,z=>(g(),m("tr",{key:z.id,class:"hover:bg-gray-700/50"},[a("td",bD,E(z.order_code),1),a("td",wD,[a("div",null,E(z.customer_name),1),a("div",xD,E(z.customer_email),1)]),a("td",_D,E(x(z.total)),1),a("td",kD,[a("span",{class:X(R(z.payment_status))},E(P(z.payment_status)),3)]),a("td",CD,[a("span",{class:X(A(z.status))},E(I(z.status)),3)]),a("td",ED,E(S(z.created_at)),1),a("td",SD,[a("div",TD,[a("button",{onClick:ve=>C(z),class:"text-blue-400 hover:text-blue-300"}," Xem ",8,$D),z.payment_status==="pending"?(g(),m("button",{key:0,onClick:ve=>w(z),disabled:T.value===z.id,class:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-xs font-medium disabled:opacity-50"},E(T.value===z.id?"ang duyt...":"Duyt n"),9,AD)):z.payment_status==="paid"?(g(),m("span",ID,"   duyt ")):D("",!0)])])]))),128))])])])])])):D("",!0),r.value==="users"?(g(),m("div",PD,[b[18]||(b[18]=a("h1",{class:"text-3xl font-bold text-white mb-6"},"Qun l khch hng",-1)),a("div",RD,[a("div",OD,[a("table",MD,[b[17]||(b[17]=a("thead",{class:"bg-gray-700"},[a("tr",null,[a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"ID"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Email"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Tn"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Gi hin ti"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Ngy tham gia"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Thao tc")])],-1)),a("tbody",jD,[(g(!0),m(te,null,fe(u.value,z=>(g(),m("tr",{key:z.id,class:"hover:bg-gray-700/50"},[a("td",ND,E(z.id),1),a("td",LD,E(z.email),1),a("td",BD,E(z.full_name||"N/A"),1),a("td",DD,[a("span",UD,E(z.current_plan||"Free"),1)]),a("td",HD,E(S(z.created_at)),1),a("td",VD,[a("button",{onClick:ve=>L(z),class:"text-blue-400 hover:text-blue-300"}," Chi tit ",8,FD)])]))),128))])])])])])):D("",!0),r.value==="plans"?(g(),m("div",zD,[a("div",qD,[b[19]||(b[19]=a("h1",{class:"text-3xl font-bold text-white"},"Qun l gi dch v",-1)),a("button",{onClick:b[1]||(b[1]=z=>o.value=!0),class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition"}," + Thm gi mi ")]),a("div",KD,[(g(!0),m(te,null,fe(d.value,z=>(g(),m("div",{key:z.id,class:"bg-gray-800 rounded-xl border border-gray-700 p-6"},[a("div",WD,[a("h3",GD,E(z.name),1),a("span",{class:X([z.is_active?"bg-green-600/20 text-green-400":"bg-gray-600/20 text-gray-400","px-2 py-1 rounded text-xs font-medium"])},E(z.is_active?"Active":"Inactive"),3)]),a("p",JD,[se(E(x(z.price)),1),b[20]||(b[20]=a("span",{class:"text-sm text-gray-400"},"/thng",-1))]),a("ul",YD,[a("li",XD,[b[21]||(b[21]=a("svg",{class:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),se(" Cht lng: "+E(z.quality),1)]),a("li",QD,[b[22]||(b[22]=a("svg",{class:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),se(" "+E(z.max_devices)+" thit b ",1)])]),a("div",ZD,[a("button",{onClick:ve=>U(z),class:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition text-sm"}," Sa ",8,eU),a("button",{onClick:ve=>ce(z),class:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition text-sm"},E(z.is_active?"Tt":"Bt"),9,tU)])]))),128))])])):D("",!0),r.value==="coupons"?(g(),m("div",sU,[a("div",rU,[b[23]||(b[23]=a("h1",{class:"text-3xl font-bold text-white"},"Qun l m gim gi",-1)),a("button",{onClick:b[2]||(b[2]=z=>i.value=!0),class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition"}," + Thm m mi ")]),a("div",nU,[a("div",oU,[a("table",iU,[b[24]||(b[24]=a("thead",{class:"bg-gray-700"},[a("tr",null,[a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"M"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"M t"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Gim gi"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"}," dng"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Hn s dng"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Trng thi"),a("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase"},"Thao tc")])],-1)),a("tbody",aU,[(g(!0),m(te,null,fe(h.value,z=>(g(),m("tr",{key:z.id,class:"hover:bg-gray-700/50"},[a("td",lU,E(z.code),1),a("td",cU,E(z.description),1),a("td",uU,E(z.discount_type==="percent"?z.discount_value+"%":x(z.discount_value)),1),a("td",dU,E(z.usage_count)+"/"+E(z.usage_limit||""),1),a("td",hU,E(S(z.end_date)),1),a("td",fU,[a("span",{class:X([z.is_active?"bg-green-600/20 text-green-400":"bg-red-600/20 text-red-400","px-3 py-1 rounded-full text-xs font-medium"])},E(z.is_active?"Hot ng":"Tt"),3)]),a("td",pU,[a("button",{onClick:ve=>K(z),class:"text-blue-400 hover:text-blue-300 mr-3"}," Sa ",8,gU),a("button",{onClick:ve=>B(z),class:"text-yellow-400 hover:text-yellow-300"},E(z.is_active?"Tt":"Bt"),9,vU)])]))),128))])])])])])):D("",!0)])]),Q(LB,{show:_.value,order:k.value,onClose:b[3]||(b[3]=z=>_.value=!1),onSave:y},null,8,["show","order"])])}}},yU=[{path:"/",name:"Welcome",component:U6},{path:"/home",name:"Homepage",component:oT},{path:"/pricing",name:"Pricing",component:Yj},{path:"/cart",name:"Cart",component:lL},{path:"/checkout",name:"Checkout",component:aB},{path:"/admin",name:"Admin",component:mU},{path:"/netflix",name:"NetflixHome",component:ZT},{path:"/demo",name:"DemoUI",component:dM},{path:"/test-images",name:"TestImages",component:vM},{path:"/film/:filmName",name:"MovieDetail",component:L9,props:!0},{path:"/film/:filmName/tap/:tap",name:"WatchMovie",component:uA,props:!0},{path:"/list/:type/page/:pageNumber",name:"ListBaseType",component:oI,props:!0},{path:"/category/:categorySlug?/page/:pageNumber",name:"ListBaseCategory",component:qI,props:!0},{path:"/country/:countrySlug?/page/:pageNumber",name:"ListBaseNational",component:BP,props:!0},{path:"/contact",name:"Contact",component:HP},{path:"/account",name:"Account",component:TO},{path:"/search",name:"Search",component:YM}],Zg=wf({history:df("./"),routes:yU,scrollBehavior(t,e,s){return{top:0,behavior:"smooth"}}});var bU="firebase",wU="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(bU,wU,"app");const xU={apiKey:"AIzaSyAiwMHCsSrqX20x8o90R5hksRxUPVmnwKM",authDomain:"hthree-94a3e.firebaseapp.com",projectId:"hthree-94a3e",storageBucket:"hthree-94a3e.firebasestorage.app",messagingSenderId:"917487991713",appId:"1:917487991713:web:68dd73293f38d7fe2229e0",measurementId:"G-9LNBDMVK0M"},_U=Pf(xU),eu=Zs(_U);mw(eu,Ap).catch(t=>{console.error("Error setting persistence:",t)});const ya=tf(L6),ev=O4();ya.use(Zg);ya.use(ev);const kU=Ss(ev);kU.initAuth();Zg.beforeEach((t,e,s)=>{const r=t.matched.some(o=>o.meta.requiresAuth),n=eu.currentUser;r&&!n?(console.log("Cha ng nhp (Firebase), chuyn hng v /auth"),s("/auth")):s()});let tl=!1;yn(eu,t=>{tl=!!t,ya.config.globalProperties.$isAuthenticated=tl,console.log("Firebase Auth state changed. isAuthenticated:",tl)});ya.mount("#app");
