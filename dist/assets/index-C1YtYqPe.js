const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./movieApi-B-WNwMn1.js","./useErrorHandler-svuVN1QS.js","./NetflixHomepage-KixIRhxu.js","./NetflixHomepage-DaF0RcGy.css","./MovieDetail-B5RwK4_5.js","./MovieCardRecommended-BRxuRFuj.js","./MovieCardRecommended-_uzs5TfP.css","./MovieDetail-CCzYKY1Y.css","./WatchMovie-DUmqM1xO.js","./WatchMovie-DMhpZVtX.css","./ListBaseType-P-ZhHaVt.js","./country-D-H98W2a.js","./country-tn0RQdqM.css","./ListBaseType-BU-68pVX.css","./ListBaseCategory-CkyNVIWy.js","./ListBaseCategory-BspsSTlx.css","./ListBaseNational-fkOrr257.js","./ListBaseNational-COpFSnOy.css","./Contact-CEUKKB0g.js","./Contact-CLC8FJQy.css","./Account-CQFRiiHa.js","./Account-cl5BGAXj.css","./SearchResults-DOPt5HEV.js","./SearchResults-Dfl-sKSy.css","./Pricing-DOLrCv6b.js","./cartStore-D_r8iXdu.js","./Pricing--MZ1-oR4.css","./Checkout-Ct1SW-2o.js","./Checkout-CTs7MMg3.css","./Admin-Bs8kA9f9.js","./Admin-D5eUfUC9.css","./Library-Djj3U_GP.js","./Library-Dl76tMyS.css"])))=>i.map(i=>d[i]);
function Ay(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function iu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Xe={},Os=[],Sn=()=>{},Oy=()=>!1,Ia=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),au=t=>t.startsWith("onUpdate:"),gt=Object.assign,lu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ry=Object.prototype.hasOwnProperty,qe=(t,e)=>Ry.call(t,e),_e=Array.isArray,Rs=t=>Qo(t)==="[object Map]",Qs=t=>Qo(t)==="[object Set]",fd=t=>Qo(t)==="[object Date]",Oe=t=>typeof t=="function",ot=t=>typeof t=="string",gn=t=>typeof t=="symbol",Qe=t=>t!==null&&typeof t=="object",Ep=t=>(Qe(t)||Oe(t))&&Oe(t.then)&&Oe(t.catch),xp=Object.prototype.toString,Qo=t=>xp.call(t),Py=t=>Qo(t).slice(8,-1),kp=t=>Qo(t)==="[object Object]",cu=t=>ot(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yo=iu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Aa=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ny=/-(\w)/g,tn=Aa(t=>t.replace(Ny,(e,n)=>n?n.toUpperCase():"")),Ly=/\B([A-Z])/g,Tr=Aa(t=>t.replace(Ly,"-$1").toLowerCase()),Oa=Aa(t=>t.charAt(0).toUpperCase()+t.slice(1)),hl=Aa(t=>t?`on${Oa(t)}`:""),yr=(t,e)=>!Object.is(t,e),Mi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Tp=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},ta=t=>{const e=parseFloat(t);return isNaN(e)?t:e},$y=t=>{const e=ot(t)?Number(t):NaN;return isNaN(e)?t:e};let pd;const Ra=()=>pd||(pd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Er(t){if(_e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ot(r)?Uy(r):Er(r);if(s)for(const o in s)e[o]=s[o]}return e}else if(ot(t)||Qe(t))return t}const My=/;(?![^(]*\))/g,Dy=/:([^]+)/,jy=/\/\*[^]*?\*\//g;function Uy(t){const e={};return t.replace(jy,"").split(My).forEach(n=>{if(n){const r=n.split(Dy);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ae(t){let e="";if(ot(t))e=t;else if(_e(t))for(let n=0;n<t.length;n++){const r=Ae(t[n]);r&&(e+=r+" ")}else if(Qe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Fy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",By=iu(Fy);function Sp(t){return!!t||t===""}function Hy(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=is(t[r],e[r]);return n}function is(t,e){if(t===e)return!0;let n=fd(t),r=fd(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=gn(t),r=gn(e),n||r)return t===e;if(n=_e(t),r=_e(e),n||r)return n&&r?Hy(t,e):!1;if(n=Qe(t),r=Qe(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!is(t[i],e[i]))return!1}}return String(t)===String(e)}function uu(t,e){return t.findIndex(n=>is(n,e))}const Cp=t=>!!(t&&t.__v_isRef===!0),B=t=>ot(t)?t:t==null?"":_e(t)||Qe(t)&&(t.toString===xp||!Oe(t.toString))?Cp(t)?B(t.value):JSON.stringify(t,Ip,2):String(t),Ip=(t,e)=>Cp(e)?Ip(t,e.value):Rs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],o)=>(n[fl(r,o)+" =>"]=s,n),{})}:Qs(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>fl(n))}:gn(e)?fl(e):Qe(e)&&!_e(e)&&!kp(e)?String(e):e,fl=(t,e="")=>{var n;return gn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lt;class Ap{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Lt,!e&&Lt&&(this.index=(Lt.scopes||(Lt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Lt;try{return Lt=this,e()}finally{Lt=n}}}on(){Lt=this}off(){Lt=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function du(t){return new Ap(t)}function Op(){return Lt}function Vy(t,e=!1){Lt&&Lt.cleanups.push(t)}let et;const pl=new WeakSet;class Rp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Lt&&Lt.active&&Lt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pl.has(this)&&(pl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Np(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gd(this),Lp(this);const e=et,n=fn;et=this,fn=!0;try{return this.fn()}finally{$p(this),et=e,fn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)pu(e);this.deps=this.depsTail=void 0,gd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xl(this)&&this.run()}get dirty(){return Xl(this)}}let Pp=0,_o,bo;function Np(t,e=!1){if(t.flags|=8,e){t.next=bo,bo=t;return}t.next=_o,_o=t}function hu(){Pp++}function fu(){if(--Pp>0)return;if(bo){let e=bo;for(bo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;_o;){let e=_o;for(_o=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Lp(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $p(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),pu(r),Wy(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Xl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Mp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Mp(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Po))return;t.globalVersion=Po;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Xl(t)){t.flags&=-3;return}const n=et,r=fn;et=t,fn=!0;try{Lp(t);const s=t.fn(t._value);(e.version===0||yr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{et=n,fn=r,$p(t),t.flags&=-3}}function pu(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)pu(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Wy(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let fn=!0;const Dp=[];function Sr(){Dp.push(fn),fn=!1}function Cr(){const t=Dp.pop();fn=t===void 0?!0:t}function gd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=et;et=void 0;try{e()}finally{et=n}}}let Po=0;class qy{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!et||!fn||et===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==et)n=this.activeLink=new qy(et,this),et.deps?(n.prevDep=et.depsTail,et.depsTail.nextDep=n,et.depsTail=n):et.deps=et.depsTail=n,jp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=et.depsTail,n.nextDep=void 0,et.depsTail.nextDep=n,et.depsTail=n,et.deps===n&&(et.deps=r)}return n}trigger(e){this.version++,Po++,this.notify(e)}notify(e){hu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{fu()}}}function jp(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)jp(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const na=new WeakMap,rs=Symbol(""),Ql=Symbol(""),No=Symbol("");function Ct(t,e,n){if(fn&&et){let r=na.get(t);r||na.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new gu),s.map=r,s.key=n),s.track()}}function Un(t,e,n,r,s,o){const i=na.get(t);if(!i){Po++;return}const a=l=>{l&&l.trigger()};if(hu(),e==="clear")i.forEach(a);else{const l=_e(t),c=l&&cu(n);if(l&&n==="length"){const u=Number(r);i.forEach((h,f)=>{(f==="length"||f===No||!gn(f)&&f>=u)&&a(h)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),c&&a(i.get(No)),e){case"add":l?c&&a(i.get("length")):(a(i.get(rs)),Rs(t)&&a(i.get(Ql)));break;case"delete":l||(a(i.get(rs)),Rs(t)&&a(i.get(Ql)));break;case"set":Rs(t)&&a(i.get(rs));break}}fu()}function zy(t,e){const n=na.get(t);return n&&n.get(e)}function gs(t){const e=Ce(t);return e===t?e:(Ct(e,"iterate",No),Qt(t)?e:e.map(It))}function Pa(t){return Ct(t=Ce(t),"iterate",No),t}const Ky={__proto__:null,[Symbol.iterator](){return gl(this,Symbol.iterator,It)},concat(...t){return gs(this).concat(...t.map(e=>_e(e)?gs(e):e))},entries(){return gl(this,"entries",t=>(t[1]=It(t[1]),t))},every(t,e){return Pn(this,"every",t,e,void 0,arguments)},filter(t,e){return Pn(this,"filter",t,e,n=>n.map(It),arguments)},find(t,e){return Pn(this,"find",t,e,It,arguments)},findIndex(t,e){return Pn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Pn(this,"findLast",t,e,It,arguments)},findLastIndex(t,e){return Pn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Pn(this,"forEach",t,e,void 0,arguments)},includes(...t){return ml(this,"includes",t)},indexOf(...t){return ml(this,"indexOf",t)},join(t){return gs(this).join(t)},lastIndexOf(...t){return ml(this,"lastIndexOf",t)},map(t,e){return Pn(this,"map",t,e,void 0,arguments)},pop(){return io(this,"pop")},push(...t){return io(this,"push",t)},reduce(t,...e){return md(this,"reduce",t,e)},reduceRight(t,...e){return md(this,"reduceRight",t,e)},shift(){return io(this,"shift")},some(t,e){return Pn(this,"some",t,e,void 0,arguments)},splice(...t){return io(this,"splice",t)},toReversed(){return gs(this).toReversed()},toSorted(t){return gs(this).toSorted(t)},toSpliced(...t){return gs(this).toSpliced(...t)},unshift(...t){return io(this,"unshift",t)},values(){return gl(this,"values",It)}};function gl(t,e,n){const r=Pa(t),s=r[e]();return r!==t&&!Qt(t)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=n(o.value)),o}),s}const Gy=Array.prototype;function Pn(t,e,n,r,s,o){const i=Pa(t),a=i!==t&&!Qt(t),l=i[e];if(l!==Gy[e]){const h=l.apply(t,o);return a?It(h):h}let c=n;i!==t&&(a?c=function(h,f){return n.call(this,It(h),f,t)}:n.length>2&&(c=function(h,f){return n.call(this,h,f,t)}));const u=l.call(i,c,r);return a&&s?s(u):u}function md(t,e,n,r){const s=Pa(t);let o=n;return s!==t&&(Qt(t)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,t)}):o=function(i,a,l){return n.call(this,i,It(a),l,t)}),s[e](o,...r)}function ml(t,e,n){const r=Ce(t);Ct(r,"iterate",No);const s=r[e](...n);return(s===-1||s===!1)&&yu(n[0])?(n[0]=Ce(n[0]),r[e](...n)):s}function io(t,e,n=[]){Sr(),hu();const r=Ce(t)[e].apply(t,n);return fu(),Cr(),r}const Jy=iu("__proto__,__v_isRef,__isVue"),Up=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gn));function Yy(t){gn(t)||(t=String(t));const e=Ce(this);return Ct(e,"has",t),e.hasOwnProperty(t)}class Fp{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?i1:Wp:o?Vp:Hp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const i=_e(e);if(!s){let l;if(i&&(l=Ky[n]))return l;if(n==="hasOwnProperty")return Yy}const a=Reflect.get(e,n,at(e)?e:r);return(gn(n)?Up.has(n):Jy(n))||(s||Ct(e,"get",n),o)?a:at(a)?i&&cu(n)?a:a.value:Qe(a)?s?zp(a):rn(a):a}}class Bp extends Fp{constructor(e=!1){super(!1,e)}set(e,n,r,s){let o=e[n];if(!this._isShallow){const l=as(o);if(!Qt(r)&&!as(r)&&(o=Ce(o),r=Ce(r)),!_e(e)&&at(o)&&!at(r))return l?!1:(o.value=r,!0)}const i=_e(e)&&cu(n)?Number(n)<e.length:qe(e,n),a=Reflect.set(e,n,r,at(e)?e:s);return e===Ce(s)&&(i?yr(r,o)&&Un(e,"set",n,r):Un(e,"add",n,r)),a}deleteProperty(e,n){const r=qe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Un(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!gn(n)||!Up.has(n))&&Ct(e,"has",n),r}ownKeys(e){return Ct(e,"iterate",_e(e)?"length":rs),Reflect.ownKeys(e)}}class Xy extends Fp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Qy=new Bp,Zy=new Xy,e1=new Bp(!0);const Zl=t=>t,vi=t=>Reflect.getPrototypeOf(t);function t1(t,e,n){return function(...r){const s=this.__v_raw,o=Ce(s),i=Rs(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,c=s[t](...r),u=n?Zl:e?ec:It;return!e&&Ct(o,"iterate",l?Ql:rs),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function yi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function n1(t,e){const n={get(s){const o=this.__v_raw,i=Ce(o),a=Ce(s);t||(yr(s,a)&&Ct(i,"get",s),Ct(i,"get",a));const{has:l}=vi(i),c=e?Zl:t?ec:It;if(l.call(i,s))return c(o.get(s));if(l.call(i,a))return c(o.get(a));o!==i&&o.get(s)},get size(){const s=this.__v_raw;return!t&&Ct(Ce(s),"iterate",rs),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,i=Ce(o),a=Ce(s);return t||(yr(s,a)&&Ct(i,"has",s),Ct(i,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){const i=this,a=i.__v_raw,l=Ce(a),c=e?Zl:t?ec:It;return!t&&Ct(l,"iterate",rs),a.forEach((u,h)=>s.call(o,c(u),c(h),i))}};return gt(n,t?{add:yi("add"),set:yi("set"),delete:yi("delete"),clear:yi("clear")}:{add(s){!e&&!Qt(s)&&!as(s)&&(s=Ce(s));const o=Ce(this);return vi(o).has.call(o,s)||(o.add(s),Un(o,"add",s,s)),this},set(s,o){!e&&!Qt(o)&&!as(o)&&(o=Ce(o));const i=Ce(this),{has:a,get:l}=vi(i);let c=a.call(i,s);c||(s=Ce(s),c=a.call(i,s));const u=l.call(i,s);return i.set(s,o),c?yr(o,u)&&Un(i,"set",s,o):Un(i,"add",s,o),this},delete(s){const o=Ce(this),{has:i,get:a}=vi(o);let l=i.call(o,s);l||(s=Ce(s),l=i.call(o,s)),a&&a.call(o,s);const c=o.delete(s);return l&&Un(o,"delete",s,void 0),c},clear(){const s=Ce(this),o=s.size!==0,i=s.clear();return o&&Un(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=t1(s,t,e)}),n}function mu(t,e){const n=n1(t,e);return(r,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(qe(n,s)&&s in r?n:r,s,o)}const r1={get:mu(!1,!1)},s1={get:mu(!1,!0)},o1={get:mu(!0,!1)};const Hp=new WeakMap,Vp=new WeakMap,Wp=new WeakMap,i1=new WeakMap;function a1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function l1(t){return t.__v_skip||!Object.isExtensible(t)?0:a1(Py(t))}function rn(t){return as(t)?t:vu(t,!1,Qy,r1,Hp)}function qp(t){return vu(t,!1,e1,s1,Vp)}function zp(t){return vu(t,!0,Zy,o1,Wp)}function vu(t,e,n,r,s){if(!Qe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const i=l1(t);if(i===0)return t;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function _r(t){return as(t)?_r(t.__v_raw):!!(t&&t.__v_isReactive)}function as(t){return!!(t&&t.__v_isReadonly)}function Qt(t){return!!(t&&t.__v_isShallow)}function yu(t){return t?!!t.__v_raw:!1}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function _u(t){return!qe(t,"__v_skip")&&Object.isExtensible(t)&&Tp(t,"__v_skip",!0),t}const It=t=>Qe(t)?rn(t):t,ec=t=>Qe(t)?zp(t):t;function at(t){return t?t.__v_isRef===!0:!1}function Y(t){return Kp(t,!1)}function bu(t){return Kp(t,!0)}function Kp(t,e){return at(t)?t:new c1(t,e)}class c1{constructor(e,n){this.dep=new gu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ce(e),this._value=n?e:It(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Qt(e)||as(e);e=r?e:Ce(e),yr(e,n)&&(this._rawValue=e,this._value=r?e:It(e),this.dep.trigger())}}function Ke(t){return at(t)?t.value:t}const u1={get:(t,e,n)=>e==="__v_raw"?t:Ke(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return at(s)&&!at(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Gp(t){return _r(t)?t:new Proxy(t,u1)}function d1(t){const e=_e(t)?new Array(t.length):{};for(const n in t)e[n]=f1(t,n);return e}class h1{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return zy(Ce(this._object),this._key)}}function f1(t,e,n){const r=t[e];return at(r)?r:new h1(t,e,n)}class p1{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new gu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Po-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&et!==this)return Np(this,!0),!0}get value(){const e=this.dep.track();return Mp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function g1(t,e,n=!1){let r,s;return Oe(t)?r=t:(r=t.get,s=t.set),new p1(r,s,n)}const _i={},ra=new WeakMap;let Kr;function m1(t,e=!1,n=Kr){if(n){let r=ra.get(n);r||ra.set(n,r=[]),r.push(t)}}function v1(t,e,n=Xe){const{immediate:r,deep:s,once:o,scheduler:i,augmentJob:a,call:l}=n,c=_=>s?_:Qt(_)||s===!1||s===0?Fn(_,1):Fn(_);let u,h,f,p,g=!1,m=!1;if(at(t)?(h=()=>t.value,g=Qt(t)):_r(t)?(h=()=>c(t),g=!0):_e(t)?(m=!0,g=t.some(_=>_r(_)||Qt(_)),h=()=>t.map(_=>{if(at(_))return _.value;if(_r(_))return c(_);if(Oe(_))return l?l(_,2):_()})):Oe(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Sr();try{f()}finally{Cr()}}const _=Kr;Kr=u;try{return l?l(t,3,[p]):t(p)}finally{Kr=_}}:h=Sn,e&&s){const _=h,P=s===!0?1/0:s;h=()=>Fn(_(),P)}const b=Op(),S=()=>{u.stop(),b&&b.active&&lu(b.effects,u)};if(o&&e){const _=e;e=(...P)=>{_(...P),S()}}let A=m?new Array(t.length).fill(_i):_i;const y=_=>{if(!(!(u.flags&1)||!u.dirty&&!_))if(e){const P=u.run();if(s||g||(m?P.some((x,k)=>yr(x,A[k])):yr(P,A))){f&&f();const x=Kr;Kr=u;try{const k=[P,A===_i?void 0:m&&A[0]===_i?[]:A,p];l?l(e,3,k):e(...k),A=P}finally{Kr=x}}}else u.run()};return a&&a(y),u=new Rp(h),u.scheduler=i?()=>i(y,!1):y,p=_=>m1(_,!1,u),f=u.onStop=()=>{const _=ra.get(u);if(_){if(l)l(_,4);else for(const P of _)P();ra.delete(u)}},e?r?y(!0):A=u.run():i?i(y.bind(null,!0),!0):u.run(),S.pause=u.pause.bind(u),S.resume=u.resume.bind(u),S.stop=S,S}function Fn(t,e=1/0,n){if(e<=0||!Qe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,at(t))Fn(t.value,e,n);else if(_e(t))for(let r=0;r<t.length;r++)Fn(t[r],e,n);else if(Qs(t)||Rs(t))t.forEach(r=>{Fn(r,e,n)});else if(kp(t)){for(const r in t)Fn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Fn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Zo(t,e,n,r){try{return r?t(...r):t()}catch(s){Na(s,e,n)}}function mn(t,e,n,r){if(Oe(t)){const s=Zo(t,e,n,r);return s&&Ep(s)&&s.catch(o=>{Na(o,e,n)}),s}if(_e(t)){const s=[];for(let o=0;o<t.length;o++)s.push(mn(t[o],e,n,r));return s}}function Na(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Xe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(o){Sr(),Zo(o,null,10,[t,l,c]),Cr();return}}y1(t,n,s,r,i)}function y1(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const $t=[];let xn=-1;const Ps=[];let ur=null,xs=0;const Jp=Promise.resolve();let sa=null;function Ir(t){const e=sa||Jp;return t?e.then(this?t.bind(this):t):e}function _1(t){let e=xn+1,n=$t.length;for(;e<n;){const r=e+n>>>1,s=$t[r],o=Lo(s);o<t||o===t&&s.flags&2?e=r+1:n=r}return e}function wu(t){if(!(t.flags&1)){const e=Lo(t),n=$t[$t.length-1];!n||!(t.flags&2)&&e>=Lo(n)?$t.push(t):$t.splice(_1(e),0,t),t.flags|=1,Yp()}}function Yp(){sa||(sa=Jp.then(Qp))}function b1(t){_e(t)?Ps.push(...t):ur&&t.id===-1?ur.splice(xs+1,0,t):t.flags&1||(Ps.push(t),t.flags|=1),Yp()}function vd(t,e,n=xn+1){for(;n<$t.length;n++){const r=$t[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;$t.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Xp(t){if(Ps.length){const e=[...new Set(Ps)].sort((n,r)=>Lo(n)-Lo(r));if(Ps.length=0,ur){ur.push(...e);return}for(ur=e,xs=0;xs<ur.length;xs++){const n=ur[xs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ur=null,xs=0}}const Lo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Qp(t){try{for(xn=0;xn<$t.length;xn++){const e=$t[xn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Zo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;xn<$t.length;xn++){const e=$t[xn];e&&(e.flags&=-2)}xn=-1,$t.length=0,Xp(),sa=null,($t.length||Ps.length)&&Qp()}}let ft=null,Zp=null;function oa(t){const e=ft;return ft=t,Zp=t&&t.type.__scopeId||null,e}function ve(t,e=ft,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Rd(-1);const o=oa(e);let i;try{i=t(...s)}finally{oa(o),r._d&&Rd(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function Eu(t,e){if(ft===null)return t;const n=ja(ft),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,i,a,l=Xe]=e[s];o&&(Oe(o)&&(o={mounted:o,updated:o}),o.deep&&Fn(i),r.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function jr(t,e,n,r){const s=t.dirs,o=e&&e.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let l=a.dir[r];l&&(Sr(),mn(l,n,8,[t.el,a,t,e]),Cr())}}const eg=Symbol("_vte"),tg=t=>t.__isTeleport,wo=t=>t&&(t.disabled||t.disabled===""),yd=t=>t&&(t.defer||t.defer===""),_d=t=>typeof SVGElement<"u"&&t instanceof SVGElement,bd=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,tc=(t,e)=>{const n=t&&t.to;return ot(n)?e?e(n):null:n},ng={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,o,i,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:m,createComment:b}}=c,S=wo(e.props);let{shapeFlag:A,children:y,dynamicChildren:_}=e;if(t==null){const P=e.el=m(""),x=e.anchor=m("");p(P,n,r),p(x,n,r);const k=(v,$)=>{A&16&&(s&&s.isCE&&(s.ce._teleportTarget=v),u(y,v,$,s,o,i,a,l))},R=()=>{const v=e.target=tc(e.props,g),$=rg(v,e,m,p);v&&(i!=="svg"&&_d(v)?i="svg":i!=="mathml"&&bd(v)&&(i="mathml"),S||(k(v,$),Di(e,!1)))};S&&(k(n,x),Di(e,!0)),yd(e.props)?Nt(()=>{R(),e.el.__isMounted=!0},o):R()}else{if(yd(e.props)&&!t.el.__isMounted){Nt(()=>{ng.process(t,e,n,r,s,o,i,a,l,c),delete t.el.__isMounted},o);return}e.el=t.el,e.targetStart=t.targetStart;const P=e.anchor=t.anchor,x=e.target=t.target,k=e.targetAnchor=t.targetAnchor,R=wo(t.props),v=R?n:x,$=R?P:k;if(i==="svg"||_d(x)?i="svg":(i==="mathml"||bd(x))&&(i="mathml"),_?(f(t.dynamicChildren,_,v,s,o,i,a),Tu(t,e,!0)):l||h(t,e,v,$,s,o,i,a,!1),S)R?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):bi(e,n,P,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const Q=e.target=tc(e.props,g);Q&&bi(e,Q,null,c,0)}else R&&bi(e,x,k,c,1);Di(e,S)}},remove(t,e,n,{um:r,o:{remove:s}},o){const{shapeFlag:i,children:a,anchor:l,targetStart:c,targetAnchor:u,target:h,props:f}=t;if(h&&(s(c),s(u)),o&&s(l),i&16){const p=o||!wo(f);for(let g=0;g<a.length;g++){const m=a[g];r(m,e,n,p,!!m.dynamicChildren)}}},move:bi,hydrate:w1};function bi(t,e,n,{o:{insert:r},m:s},o=2){o===0&&r(t.targetAnchor,e,n);const{el:i,anchor:a,shapeFlag:l,children:c,props:u}=t,h=o===2;if(h&&r(i,e,n),(!h||wo(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);h&&r(a,e,n)}function w1(t,e,n,r,s,o,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:c,createText:u}},h){const f=e.target=tc(e.props,l);if(f){const p=wo(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(i(t),e,a(t),n,r,s,o),e.targetStart=g,e.targetAnchor=g&&i(g);else{e.anchor=i(t);let m=g;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&i(e.targetAnchor);break}}m=i(m)}e.targetAnchor||rg(f,e,u,c),h(g&&i(g),e,f,n,r,s,o)}Di(e,p)}return e.anchor&&i(e.anchor)}const Zs=ng;function Di(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function rg(t,e,n,r){const s=e.targetStart=n(""),o=e.targetAnchor=n("");return s[eg]=o,t&&(r(s,t),r(o,t)),o}const dr=Symbol("_leaveCb"),wi=Symbol("_enterCb");function sg(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ot(()=>{t.isMounted=!0}),fg(()=>{t.isUnmounting=!0}),t}const Gt=[Function,Array],og={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gt,onEnter:Gt,onAfterEnter:Gt,onEnterCancelled:Gt,onBeforeLeave:Gt,onLeave:Gt,onAfterLeave:Gt,onLeaveCancelled:Gt,onBeforeAppear:Gt,onAppear:Gt,onAfterAppear:Gt,onAppearCancelled:Gt},ig=t=>{const e=t.subTree;return e.component?ig(e.component):e},E1={name:"BaseTransition",props:og,setup(t,{slots:e}){const n=us(),r=sg();return()=>{const s=e.default&&xu(e.default(),!0);if(!s||!s.length)return;const o=ag(s),i=Ce(t),{mode:a}=i;if(r.isLeaving)return vl(o);const l=wd(o);if(!l)return vl(o);let c=$o(l,i,r,n,h=>c=h);l.type!==Mt&&ls(l,c);let u=n.subTree&&wd(n.subTree);if(u&&u.type!==Mt&&!Yr(l,u)&&ig(n).type!==Mt){let h=$o(u,i,r,n);if(ls(u,h),a==="out-in"&&l.type!==Mt)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,u=void 0},vl(o);a==="in-out"&&l.type!==Mt?h.delayLeave=(f,p,g)=>{const m=lg(r,u);m[String(u.key)]=u,f[dr]=()=>{p(),f[dr]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function ag(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Mt){e=n;break}}return e}const x1=E1;function lg(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function $o(t,e,n,r,s){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:b,onAppear:S,onAfterAppear:A,onAppearCancelled:y}=e,_=String(t.key),P=lg(n,t),x=(v,$)=>{v&&mn(v,r,9,$)},k=(v,$)=>{const Q=$[1];x(v,$),_e(v)?v.every(H=>H.length<=1)&&Q():v.length<=1&&Q()},R={mode:i,persisted:a,beforeEnter(v){let $=l;if(!n.isMounted)if(o)$=b||l;else return;v[dr]&&v[dr](!0);const Q=P[_];Q&&Yr(t,Q)&&Q.el[dr]&&Q.el[dr](),x($,[v])},enter(v){let $=c,Q=u,H=h;if(!n.isMounted)if(o)$=S||c,Q=A||u,H=y||h;else return;let ae=!1;const ce=v[wi]=De=>{ae||(ae=!0,De?x(H,[v]):x(Q,[v]),R.delayedLeave&&R.delayedLeave(),v[wi]=void 0)};$?k($,[v,ce]):ce()},leave(v,$){const Q=String(t.key);if(v[wi]&&v[wi](!0),n.isUnmounting)return $();x(f,[v]);let H=!1;const ae=v[dr]=ce=>{H||(H=!0,$(),ce?x(m,[v]):x(g,[v]),v[dr]=void 0,P[Q]===t&&delete P[Q])};P[Q]=t,p?k(p,[v,ae]):ae()},clone(v){const $=$o(v,e,n,r,s);return s&&s($),$}};return R}function vl(t){if(La(t))return t=Gn(t),t.children=null,t}function wd(t){if(!La(t))return tg(t.type)&&t.children?ag(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Oe(n.default))return n.default()}}function ls(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ls(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xu(t,e=!1,n){let r=[],s=0;for(let o=0;o<t.length;o++){let i=t[o];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===we?(i.patchFlag&128&&s++,r=r.concat(xu(i.children,e,a))):(e||i.type!==Mt)&&r.push(a!=null?Gn(i,{key:a}):i)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Qn(t,e){return Oe(t)?gt({name:t.name},e,{setup:t}):t}function cg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ia(t,e,n,r,s=!1){if(_e(t)){t.forEach((g,m)=>ia(g,e&&(_e(e)?e[m]:e),n,r,s));return}if(Ns(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ia(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?ja(r.component):r.el,i=s?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Xe?a.refs={}:a.refs,h=a.setupState,f=Ce(h),p=h===Xe?()=>!1:g=>qe(f,g);if(c!=null&&c!==l&&(ot(c)?(u[c]=null,p(c)&&(h[c]=null)):at(c)&&(c.value=null)),Oe(l))Zo(l,a,12,[i,u]);else{const g=ot(l),m=at(l);if(g||m){const b=()=>{if(t.f){const S=g?p(l)?h[l]:u[l]:l.value;s?_e(S)&&lu(S,o):_e(S)?S.includes(o)||S.push(o):g?(u[l]=[o],p(l)&&(h[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else g?(u[l]=i,p(l)&&(h[l]=i)):m&&(l.value=i,t.k&&(u[t.k]=i))};i?(b.id=-1,Nt(b,n)):b()}}}Ra().requestIdleCallback;Ra().cancelIdleCallback;const Ns=t=>!!t.type.__asyncLoader,La=t=>t.type.__isKeepAlive;function k1(t,e){ug(t,"a",e)}function T1(t,e){ug(t,"da",e)}function ug(t,e,n=mt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if($a(e,r,n),n){let s=n.parent;for(;s&&s.parent;)La(s.parent.vnode)&&S1(r,e,n,s),s=s.parent}}function S1(t,e,n,r){const s=$a(e,t,r,!0);sn(()=>{lu(r[e],s)},n)}function $a(t,e,n=mt,r=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Sr();const a=ti(n),l=mn(e,n,t,i);return a(),Cr(),l});return r?s.unshift(o):s.push(o),o}}const Zn=t=>(e,n=mt)=>{(!Do||t==="sp")&&$a(t,(...r)=>e(...r),n)},dg=Zn("bm"),Ot=Zn("m"),C1=Zn("bu"),hg=Zn("u"),fg=Zn("bum"),sn=Zn("um"),I1=Zn("sp"),A1=Zn("rtg"),O1=Zn("rtc");function pg(t,e=mt){$a("ec",t,e)}const gg="components";function Ma(t,e){return yg(gg,t,!0,e)||t}const mg=Symbol.for("v-ndc");function vg(t){return ot(t)?yg(gg,t,!1)||t:t||mg}function yg(t,e,n=!0,r=!1){const s=ft||mt;if(s){const o=s.type;{const a=m_(o,!1);if(a&&(a===e||a===tn(e)||a===Oa(tn(e))))return o}const i=Ed(s[t]||o[t],e)||Ed(s.appContext[t],e);return!i&&r?o:i}}function Ed(t,e){return t&&(t[e]||t[tn(e)]||t[Oa(tn(e))])}function He(t,e,n,r){let s;const o=n,i=_e(t);if(i||ot(t)){const a=i&&_r(t);let l=!1;a&&(l=!Qt(t),t=Pa(t)),s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(l?It(t[c]):t[c],c,void 0,o)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,o)}else if(Qe(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,o)}}else s=[];return s}function _g(t,e,n={},r,s){if(ft.ce||ft.parent&&Ns(ft.parent)&&ft.parent.ce)return e!=="default"&&(n.name=e),I(),$e(we,null,[X("slot",n,r)],64);let o=t[e];o&&o._c&&(o._d=!1),I();const i=o&&bg(o(n)),a=n.key||i&&i.key,l=$e(we,{key:(a&&!gn(a)?a:`_${e}`)+""},i||[],i&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function bg(t){return t.some(e=>cs(e)?!(e.type===Mt||e.type===we&&!bg(e.children)):!0)?t:null}const nc=t=>t?Ug(t)?ja(t):nc(t.parent):null,Eo=gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>nc(t.parent),$root:t=>nc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Eg(t),$forceUpdate:t=>t.f||(t.f=()=>{wu(t.update)}),$nextTick:t=>t.n||(t.n=Ir.bind(t.proxy)),$watch:t=>Q1.bind(t)}),yl=(t,e)=>t!==Xe&&!t.__isScriptSetup&&qe(t,e),R1={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(yl(r,e))return i[e]=1,r[e];if(s!==Xe&&qe(s,e))return i[e]=2,s[e];if((c=t.propsOptions[0])&&qe(c,e))return i[e]=3,o[e];if(n!==Xe&&qe(n,e))return i[e]=4,n[e];rc&&(i[e]=0)}}const u=Eo[e];let h,f;if(u)return e==="$attrs"&&Ct(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Xe&&qe(n,e))return i[e]=4,n[e];if(f=l.config.globalProperties,qe(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:o}=t;return yl(s,e)?(s[e]=n,!0):r!==Xe&&qe(r,e)?(r[e]=n,!0):qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let a;return!!n[i]||t!==Xe&&qe(t,i)||yl(e,i)||(a=o[0])&&qe(a,i)||qe(r,i)||qe(Eo,i)||qe(s.config.globalProperties,i)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function xd(t){return _e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let rc=!0;function P1(t){const e=Eg(t),n=t.proxy,r=t.ctx;rc=!1,e.beforeCreate&&kd(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:m,deactivated:b,beforeDestroy:S,beforeUnmount:A,destroyed:y,unmounted:_,render:P,renderTracked:x,renderTriggered:k,errorCaptured:R,serverPrefetch:v,expose:$,inheritAttrs:Q,components:H,directives:ae,filters:ce}=e;if(c&&N1(c,r,null),i)for(const U in i){const de=i[U];Oe(de)&&(r[U]=de.bind(n))}if(s){const U=s.call(n,n);Qe(U)&&(t.data=rn(U))}if(rc=!0,o)for(const U in o){const de=o[U],he=Oe(de)?de.bind(n,n):Oe(de.get)?de.get.bind(n,n):Sn,Ee=!Oe(de)&&Oe(de.set)?de.set.bind(n):Sn,ge=ye({get:he,set:Ee});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>ge.value,set:Re=>ge.value=Re})}if(a)for(const U in a)wg(a[U],r,n,U);if(l){const U=Oe(l)?l.call(n):l;Reflect.ownKeys(U).forEach(de=>{ji(de,U[de])})}u&&kd(u,t,"c");function ee(U,de){_e(de)?de.forEach(he=>U(he.bind(n))):de&&U(de.bind(n))}if(ee(dg,h),ee(Ot,f),ee(C1,p),ee(hg,g),ee(k1,m),ee(T1,b),ee(pg,R),ee(O1,x),ee(A1,k),ee(fg,A),ee(sn,_),ee(I1,v),_e($))if($.length){const U=t.exposed||(t.exposed={});$.forEach(de=>{Object.defineProperty(U,de,{get:()=>n[de],set:he=>n[de]=he})})}else t.exposed||(t.exposed={});P&&t.render===Sn&&(t.render=P),Q!=null&&(t.inheritAttrs=Q),H&&(t.components=H),ae&&(t.directives=ae),v&&cg(t)}function N1(t,e,n=Sn){_e(t)&&(t=sc(t));for(const r in t){const s=t[r];let o;Qe(s)?"default"in s?o=Kt(s.from||r,s.default,!0):o=Kt(s.from||r):o=Kt(s),at(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[r]=o}}function kd(t,e,n){mn(_e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function wg(t,e,n,r){let s=r.includes(".")?Lg(n,r):()=>n[r];if(ot(t)){const o=e[t];Oe(o)&&Zt(s,o)}else if(Oe(t))Zt(s,t.bind(n));else if(Qe(t))if(_e(t))t.forEach(o=>wg(o,e,n,r));else{const o=Oe(t.handler)?t.handler.bind(n):e[t.handler];Oe(o)&&Zt(s,o,t)}}function Eg(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>aa(l,c,i,!0)),aa(l,e,i)),Qe(e)&&o.set(e,l),l}function aa(t,e,n,r=!1){const{mixins:s,extends:o}=e;o&&aa(t,o,n,!0),s&&s.forEach(i=>aa(t,i,n,!0));for(const i in e)if(!(r&&i==="expose")){const a=L1[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const L1={data:Td,props:Sd,emits:Sd,methods:po,computed:po,beforeCreate:Rt,created:Rt,beforeMount:Rt,mounted:Rt,beforeUpdate:Rt,updated:Rt,beforeDestroy:Rt,beforeUnmount:Rt,destroyed:Rt,unmounted:Rt,activated:Rt,deactivated:Rt,errorCaptured:Rt,serverPrefetch:Rt,components:po,directives:po,watch:M1,provide:Td,inject:$1};function Td(t,e){return e?t?function(){return gt(Oe(t)?t.call(this,this):t,Oe(e)?e.call(this,this):e)}:e:t}function $1(t,e){return po(sc(t),sc(e))}function sc(t){if(_e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rt(t,e){return t?[...new Set([].concat(t,e))]:e}function po(t,e){return t?gt(Object.create(null),t,e):e}function Sd(t,e){return t?_e(t)&&_e(e)?[...new Set([...t,...e])]:gt(Object.create(null),xd(t),xd(e??{})):e}function M1(t,e){if(!t)return e;if(!e)return t;const n=gt(Object.create(null),t);for(const r in e)n[r]=Rt(t[r],e[r]);return n}function xg(){return{app:null,config:{isNativeTag:Oy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let D1=0;function j1(t,e){return function(r,s=null){Oe(r)||(r=gt({},r)),s!=null&&!Qe(s)&&(s=null);const o=xg(),i=new WeakSet,a=[];let l=!1;const c=o.app={_uid:D1++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:y_,get config(){return o.config},set config(u){},use(u,...h){return i.has(u)||(u&&Oe(u.install)?(i.add(u),u.install(c,...h)):Oe(u)&&(i.add(u),u(c,...h))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,h){return h?(o.components[u]=h,c):o.components[u]},directive(u,h){return h?(o.directives[u]=h,c):o.directives[u]},mount(u,h,f){if(!l){const p=c._ceVNode||X(r,s);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),t(p,u,f),l=!0,c._container=u,u.__vue_app__=c,ja(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(mn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return o.provides[u]=h,c},runWithContext(u){const h=ss;ss=c;try{return u()}finally{ss=h}}};return c}}let ss=null;function ji(t,e){if(mt){let n=mt.provides;const r=mt.parent&&mt.parent.provides;r===n&&(n=mt.provides=Object.create(r)),n[t]=e}}function Kt(t,e,n=!1){const r=mt||ft;if(r||ss){const s=ss?ss._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Oe(e)?e.call(r&&r.proxy):e}}function U1(){return!!(mt||ft||ss)}const kg={},Tg=()=>Object.create(kg),Sg=t=>Object.getPrototypeOf(t)===kg;function F1(t,e,n,r=!1){const s={},o=Tg();t.propsDefaults=Object.create(null),Cg(t,e,s,o);for(const i in t.propsOptions[0])i in s||(s[i]=void 0);n?t.props=r?s:qp(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function B1(t,e,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=t,a=Ce(s),[l]=t.propsOptions;let c=!1;if((r||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Da(t.emitsOptions,f))continue;const p=e[f];if(l)if(qe(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const g=tn(f);s[g]=oc(l,a,g,p,t,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{Cg(t,e,s,o)&&(c=!0);let u;for(const h in a)(!e||!qe(e,h)&&((u=Tr(h))===h||!qe(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=oc(l,a,h,void 0,t,!0)):delete s[h]);if(o!==a)for(const h in o)(!e||!qe(e,h))&&(delete o[h],c=!0)}c&&Un(t.attrs,"set","")}function Cg(t,e,n,r){const[s,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(yo(l))continue;const c=e[l];let u;s&&qe(s,u=tn(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Da(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,i=!0)}if(o){const l=Ce(n),c=a||Xe;for(let u=0;u<o.length;u++){const h=o[u];n[h]=oc(s,l,h,c[h],t,!qe(c,h))}}return i}function oc(t,e,n,r,s,o){const i=t[n];if(i!=null){const a=qe(i,"default");if(a&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Oe(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=ti(s);r=c[n]=l.call(null,e),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===Tr(n))&&(r=!0))}return r}const H1=new WeakMap;function Ig(t,e,n=!1){const r=n?H1:e.propsCache,s=r.get(t);if(s)return s;const o=t.props,i={},a=[];let l=!1;if(!Oe(t)){const u=h=>{l=!0;const[f,p]=Ig(h,e,!0);gt(i,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Qe(t)&&r.set(t,Os),Os;if(_e(o))for(let u=0;u<o.length;u++){const h=tn(o[u]);Cd(h)&&(i[h]=Xe)}else if(o)for(const u in o){const h=tn(u);if(Cd(h)){const f=o[u],p=i[h]=_e(f)||Oe(f)?{type:f}:gt({},f),g=p.type;let m=!1,b=!0;if(_e(g))for(let S=0;S<g.length;++S){const A=g[S],y=Oe(A)&&A.name;if(y==="Boolean"){m=!0;break}else y==="String"&&(b=!1)}else m=Oe(g)&&g.name==="Boolean";p[0]=m,p[1]=b,(m||qe(p,"default"))&&a.push(h)}}const c=[i,a];return Qe(t)&&r.set(t,c),c}function Cd(t){return t[0]!=="$"&&!yo(t)}const Ag=t=>t[0]==="_"||t==="$stable",ku=t=>_e(t)?t.map(kn):[kn(t)],V1=(t,e,n)=>{if(e._n)return e;const r=ve((...s)=>ku(e(...s)),n);return r._c=!1,r},Og=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Ag(s))continue;const o=t[s];if(Oe(o))e[s]=V1(s,o,r);else if(o!=null){const i=ku(o);e[s]=()=>i}}},Rg=(t,e)=>{const n=ku(e);t.slots.default=()=>n},Pg=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},W1=(t,e,n)=>{const r=t.slots=Tg();if(t.vnode.shapeFlag&32){const s=e._;s?(Pg(r,e,n),n&&Tp(r,"_",s,!0)):Og(e,r)}else e&&Rg(t,e)},q1=(t,e,n)=>{const{vnode:r,slots:s}=t;let o=!0,i=Xe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:Pg(s,e,n):(o=!e.$stable,Og(e,s)),i=e}else e&&(Rg(t,e),i={default:1});if(o)for(const a in s)!Ag(a)&&i[a]==null&&delete s[a]},Nt=o_;function z1(t){return K1(t)}function K1(t,e){const n=Ra();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=Sn,insertStaticContent:g}=t,m=(T,O,C,j=null,G=null,K=null,oe=void 0,se=null,w=!!O.dynamicChildren)=>{if(T===O)return;T&&!Yr(T,O)&&(j=W(T),Re(T,G,K,!0),T=null),O.patchFlag===-2&&(w=!1,O.dynamicChildren=null);const{type:E,ref:M,shapeFlag:F}=O;switch(E){case ei:b(T,O,C,j);break;case Mt:S(T,O,C,j);break;case Fi:T==null&&A(O,C,j,oe);break;case we:H(T,O,C,j,G,K,oe,se,w);break;default:F&1?P(T,O,C,j,G,K,oe,se,w):F&6?ae(T,O,C,j,G,K,oe,se,w):(F&64||F&128)&&E.process(T,O,C,j,G,K,oe,se,w,ne)}M!=null&&G&&ia(M,T&&T.ref,K,O||T,!O)},b=(T,O,C,j)=>{if(T==null)r(O.el=a(O.children),C,j);else{const G=O.el=T.el;O.children!==T.children&&c(G,O.children)}},S=(T,O,C,j)=>{T==null?r(O.el=l(O.children||""),C,j):O.el=T.el},A=(T,O,C,j)=>{[T.el,T.anchor]=g(T.children,O,C,j,T.el,T.anchor)},y=({el:T,anchor:O},C,j)=>{let G;for(;T&&T!==O;)G=f(T),r(T,C,j),T=G;r(O,C,j)},_=({el:T,anchor:O})=>{let C;for(;T&&T!==O;)C=f(T),s(T),T=C;s(O)},P=(T,O,C,j,G,K,oe,se,w)=>{O.type==="svg"?oe="svg":O.type==="math"&&(oe="mathml"),T==null?x(O,C,j,G,K,oe,se,w):v(T,O,G,K,oe,se,w)},x=(T,O,C,j,G,K,oe,se)=>{let w,E;const{props:M,shapeFlag:F,transition:ie,dirs:te}=T;if(w=T.el=i(T.type,K,M&&M.is,M),F&8?u(w,T.children):F&16&&R(T.children,w,null,j,G,_l(T,K),oe,se),te&&jr(T,null,j,"created"),k(w,T,T.scopeId,oe,j),M){for(const z in M)z!=="value"&&!yo(z)&&o(w,z,null,M[z],K,j);"value"in M&&o(w,"value",null,M.value,K),(E=M.onVnodeBeforeMount)&&_n(E,j,T)}te&&jr(T,null,j,"beforeMount");const D=G1(G,ie);D&&ie.beforeEnter(w),r(w,O,C),((E=M&&M.onVnodeMounted)||D||te)&&Nt(()=>{E&&_n(E,j,T),D&&ie.enter(w),te&&jr(T,null,j,"mounted")},G)},k=(T,O,C,j,G)=>{if(C&&p(T,C),j)for(let K=0;K<j.length;K++)p(T,j[K]);if(G){let K=G.subTree;if(O===K||Mg(K.type)&&(K.ssContent===O||K.ssFallback===O)){const oe=G.vnode;k(T,oe,oe.scopeId,oe.slotScopeIds,G.parent)}}},R=(T,O,C,j,G,K,oe,se,w=0)=>{for(let E=w;E<T.length;E++){const M=T[E]=se?hr(T[E]):kn(T[E]);m(null,M,O,C,j,G,K,oe,se)}},v=(T,O,C,j,G,K,oe)=>{const se=O.el=T.el;let{patchFlag:w,dynamicChildren:E,dirs:M}=O;w|=T.patchFlag&16;const F=T.props||Xe,ie=O.props||Xe;let te;if(C&&Ur(C,!1),(te=ie.onVnodeBeforeUpdate)&&_n(te,C,O,T),M&&jr(O,T,C,"beforeUpdate"),C&&Ur(C,!0),(F.innerHTML&&ie.innerHTML==null||F.textContent&&ie.textContent==null)&&u(se,""),E?$(T.dynamicChildren,E,se,C,j,_l(O,G),K):oe||de(T,O,se,null,C,j,_l(O,G),K,!1),w>0){if(w&16)Q(se,F,ie,C,G);else if(w&2&&F.class!==ie.class&&o(se,"class",null,ie.class,G),w&4&&o(se,"style",F.style,ie.style,G),w&8){const D=O.dynamicProps;for(let z=0;z<D.length;z++){const ue=D[z],Le=F[ue],Ge=ie[ue];(Ge!==Le||ue==="value")&&o(se,ue,Le,Ge,G,C)}}w&1&&T.children!==O.children&&u(se,O.children)}else!oe&&E==null&&Q(se,F,ie,C,G);((te=ie.onVnodeUpdated)||M)&&Nt(()=>{te&&_n(te,C,O,T),M&&jr(O,T,C,"updated")},j)},$=(T,O,C,j,G,K,oe)=>{for(let se=0;se<O.length;se++){const w=T[se],E=O[se],M=w.el&&(w.type===we||!Yr(w,E)||w.shapeFlag&70)?h(w.el):C;m(w,E,M,null,j,G,K,oe,!0)}},Q=(T,O,C,j,G)=>{if(O!==C){if(O!==Xe)for(const K in O)!yo(K)&&!(K in C)&&o(T,K,O[K],null,G,j);for(const K in C){if(yo(K))continue;const oe=C[K],se=O[K];oe!==se&&K!=="value"&&o(T,K,se,oe,G,j)}"value"in C&&o(T,"value",O.value,C.value,G)}},H=(T,O,C,j,G,K,oe,se,w)=>{const E=O.el=T?T.el:a(""),M=O.anchor=T?T.anchor:a("");let{patchFlag:F,dynamicChildren:ie,slotScopeIds:te}=O;te&&(se=se?se.concat(te):te),T==null?(r(E,C,j),r(M,C,j),R(O.children||[],C,M,G,K,oe,se,w)):F>0&&F&64&&ie&&T.dynamicChildren?($(T.dynamicChildren,ie,C,G,K,oe,se),(O.key!=null||G&&O===G.subTree)&&Tu(T,O,!0)):de(T,O,C,M,G,K,oe,se,w)},ae=(T,O,C,j,G,K,oe,se,w)=>{O.slotScopeIds=se,T==null?O.shapeFlag&512?G.ctx.activate(O,C,j,oe,w):ce(O,C,j,G,K,oe,w):De(T,O,w)},ce=(T,O,C,j,G,K,oe)=>{const se=T.component=d_(T,j,G);if(La(T)&&(se.ctx.renderer=ne),h_(se,!1,oe),se.asyncDep){if(G&&G.registerDep(se,ee,oe),!T.el){const w=se.subTree=X(Mt);S(null,w,O,C)}}else ee(se,T,O,C,G,K,oe)},De=(T,O,C)=>{const j=O.component=T.component;if(r_(T,O,C))if(j.asyncDep&&!j.asyncResolved){U(j,O,C);return}else j.next=O,j.update();else O.el=T.el,j.vnode=O},ee=(T,O,C,j,G,K,oe)=>{const se=()=>{if(T.isMounted){let{next:F,bu:ie,u:te,parent:D,vnode:z}=T;{const be=Ng(T);if(be){F&&(F.el=z.el,U(T,F,oe)),be.asyncDep.then(()=>{T.isUnmounted||se()});return}}let ue=F,Le;Ur(T,!1),F?(F.el=z.el,U(T,F,oe)):F=z,ie&&Mi(ie),(Le=F.props&&F.props.onVnodeBeforeUpdate)&&_n(Le,D,F,z),Ur(T,!0);const Ge=Ad(T),it=T.subTree;T.subTree=Ge,m(it,Ge,h(it.el),W(it),T,G,K),F.el=Ge.el,ue===null&&s_(T,Ge.el),te&&Nt(te,G),(Le=F.props&&F.props.onVnodeUpdated)&&Nt(()=>_n(Le,D,F,z),G)}else{let F;const{el:ie,props:te}=O,{bm:D,m:z,parent:ue,root:Le,type:Ge}=T,it=Ns(O);Ur(T,!1),D&&Mi(D),!it&&(F=te&&te.onVnodeBeforeMount)&&_n(F,ue,O),Ur(T,!0);{Le.ce&&Le.ce._injectChildStyle(Ge);const be=T.subTree=Ad(T);m(null,be,C,j,T,G,K),O.el=be.el}if(z&&Nt(z,G),!it&&(F=te&&te.onVnodeMounted)){const be=O;Nt(()=>_n(F,ue,be),G)}(O.shapeFlag&256||ue&&Ns(ue.vnode)&&ue.vnode.shapeFlag&256)&&T.a&&Nt(T.a,G),T.isMounted=!0,O=C=j=null}};T.scope.on();const w=T.effect=new Rp(se);T.scope.off();const E=T.update=w.run.bind(w),M=T.job=w.runIfDirty.bind(w);M.i=T,M.id=T.uid,w.scheduler=()=>wu(M),Ur(T,!0),E()},U=(T,O,C)=>{O.component=T;const j=T.vnode.props;T.vnode=O,T.next=null,B1(T,O.props,j,C),q1(T,O.children,C),Sr(),vd(T),Cr()},de=(T,O,C,j,G,K,oe,se,w=!1)=>{const E=T&&T.children,M=T?T.shapeFlag:0,F=O.children,{patchFlag:ie,shapeFlag:te}=O;if(ie>0){if(ie&128){Ee(E,F,C,j,G,K,oe,se,w);return}else if(ie&256){he(E,F,C,j,G,K,oe,se,w);return}}te&8?(M&16&&Fe(E,G,K),F!==E&&u(C,F)):M&16?te&16?Ee(E,F,C,j,G,K,oe,se,w):Fe(E,G,K,!0):(M&8&&u(C,""),te&16&&R(F,C,j,G,K,oe,se,w))},he=(T,O,C,j,G,K,oe,se,w)=>{T=T||Os,O=O||Os;const E=T.length,M=O.length,F=Math.min(E,M);let ie;for(ie=0;ie<F;ie++){const te=O[ie]=w?hr(O[ie]):kn(O[ie]);m(T[ie],te,C,null,G,K,oe,se,w)}E>M?Fe(T,G,K,!0,!1,F):R(O,C,j,G,K,oe,se,w,F)},Ee=(T,O,C,j,G,K,oe,se,w)=>{let E=0;const M=O.length;let F=T.length-1,ie=M-1;for(;E<=F&&E<=ie;){const te=T[E],D=O[E]=w?hr(O[E]):kn(O[E]);if(Yr(te,D))m(te,D,C,null,G,K,oe,se,w);else break;E++}for(;E<=F&&E<=ie;){const te=T[F],D=O[ie]=w?hr(O[ie]):kn(O[ie]);if(Yr(te,D))m(te,D,C,null,G,K,oe,se,w);else break;F--,ie--}if(E>F){if(E<=ie){const te=ie+1,D=te<M?O[te].el:j;for(;E<=ie;)m(null,O[E]=w?hr(O[E]):kn(O[E]),C,D,G,K,oe,se,w),E++}}else if(E>ie)for(;E<=F;)Re(T[E],G,K,!0),E++;else{const te=E,D=E,z=new Map;for(E=D;E<=ie;E++){const Ve=O[E]=w?hr(O[E]):kn(O[E]);Ve.key!=null&&z.set(Ve.key,E)}let ue,Le=0;const Ge=ie-D+1;let it=!1,be=0;const _t=new Array(Ge);for(E=0;E<Ge;E++)_t[E]=0;for(E=te;E<=F;E++){const Ve=T[E];if(Le>=Ge){Re(Ve,G,K,!0);continue}let lt;if(Ve.key!=null)lt=z.get(Ve.key);else for(ue=D;ue<=ie;ue++)if(_t[ue-D]===0&&Yr(Ve,O[ue])){lt=ue;break}lt===void 0?Re(Ve,G,K,!0):(_t[lt-D]=E+1,lt>=be?be=lt:it=!0,m(Ve,O[lt],C,null,G,K,oe,se,w),Le++)}const rt=it?J1(_t):Os;for(ue=rt.length-1,E=Ge-1;E>=0;E--){const Ve=D+E,lt=O[Ve],nr=Ve+1<M?O[Ve+1].el:j;_t[E]===0?m(null,lt,C,nr,G,K,oe,se,w):it&&(ue<0||E!==rt[ue]?ge(lt,C,nr,2):ue--)}}},ge=(T,O,C,j,G=null)=>{const{el:K,type:oe,transition:se,children:w,shapeFlag:E}=T;if(E&6){ge(T.component.subTree,O,C,j);return}if(E&128){T.suspense.move(O,C,j);return}if(E&64){oe.move(T,O,C,ne);return}if(oe===we){r(K,O,C);for(let F=0;F<w.length;F++)ge(w[F],O,C,j);r(T.anchor,O,C);return}if(oe===Fi){y(T,O,C);return}if(j!==2&&E&1&&se)if(j===0)se.beforeEnter(K),r(K,O,C),Nt(()=>se.enter(K),G);else{const{leave:F,delayLeave:ie,afterLeave:te}=se,D=()=>r(K,O,C),z=()=>{F(K,()=>{D(),te&&te()})};ie?ie(K,D,z):z()}else r(K,O,C)},Re=(T,O,C,j=!1,G=!1)=>{const{type:K,props:oe,ref:se,children:w,dynamicChildren:E,shapeFlag:M,patchFlag:F,dirs:ie,cacheIndex:te}=T;if(F===-2&&(G=!1),se!=null&&ia(se,null,C,T,!0),te!=null&&(O.renderCache[te]=void 0),M&256){O.ctx.deactivate(T);return}const D=M&1&&ie,z=!Ns(T);let ue;if(z&&(ue=oe&&oe.onVnodeBeforeUnmount)&&_n(ue,O,T),M&6)Ue(T.component,C,j);else{if(M&128){T.suspense.unmount(C,j);return}D&&jr(T,null,O,"beforeUnmount"),M&64?T.type.remove(T,O,C,ne,j):E&&!E.hasOnce&&(K!==we||F>0&&F&64)?Fe(E,O,C,!1,!0):(K===we&&F&384||!G&&M&16)&&Fe(w,O,C),j&&J(T)}(z&&(ue=oe&&oe.onVnodeUnmounted)||D)&&Nt(()=>{ue&&_n(ue,O,T),D&&jr(T,null,O,"unmounted")},C)},J=T=>{const{type:O,el:C,anchor:j,transition:G}=T;if(O===we){xe(C,j);return}if(O===Fi){_(T);return}const K=()=>{s(C),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(T.shapeFlag&1&&G&&!G.persisted){const{leave:oe,delayLeave:se}=G,w=()=>oe(C,K);se?se(T.el,K,w):w()}else K()},xe=(T,O)=>{let C;for(;T!==O;)C=f(T),s(T),T=C;s(O)},Ue=(T,O,C)=>{const{bum:j,scope:G,job:K,subTree:oe,um:se,m:w,a:E}=T;Id(w),Id(E),j&&Mi(j),G.stop(),K&&(K.flags|=8,Re(oe,T,O,C)),se&&Nt(se,O),Nt(()=>{T.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},Fe=(T,O,C,j=!1,G=!1,K=0)=>{for(let oe=K;oe<T.length;oe++)Re(T[oe],O,C,j,G)},W=T=>{if(T.shapeFlag&6)return W(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const O=f(T.anchor||T.el),C=O&&O[eg];return C?f(C):O};let q=!1;const L=(T,O,C)=>{T==null?O._vnode&&Re(O._vnode,null,null,!0):m(O._vnode||null,T,O,null,null,null,C),O._vnode=T,q||(q=!0,vd(),Xp(),q=!1)},ne={p:m,um:Re,m:ge,r:J,mt:ce,mc:R,pc:de,pbc:$,n:W,o:t};return{render:L,hydrate:void 0,createApp:j1(L)}}function _l({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ur({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function G1(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Tu(t,e,n=!1){const r=t.children,s=e.children;if(_e(r)&&_e(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=hr(s[o]),a.el=i.el),!n&&a.patchFlag!==-2&&Tu(i,a)),a.type===ei&&(a.el=i.el)}}function J1(t){const e=t.slice(),n=[0];let r,s,o,i,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<c?o=a+1:i=a;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}function Ng(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ng(e)}function Id(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Y1=Symbol.for("v-scx"),X1=()=>Kt(Y1);function Ui(t,e){return Su(t,null,e)}function Zt(t,e,n){return Su(t,e,n)}function Su(t,e,n=Xe){const{immediate:r,deep:s,flush:o,once:i}=n,a=gt({},n),l=e&&r||!e&&o!=="post";let c;if(Do){if(o==="sync"){const p=X1();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Sn,p.resume=Sn,p.pause=Sn,p}}const u=mt;a.call=(p,g,m)=>mn(p,u,g,m);let h=!1;o==="post"?a.scheduler=p=>{Nt(p,u&&u.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():wu(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=v1(t,e,a);return Do&&(c?c.push(f):l&&f()),f}function Q1(t,e,n){const r=this.proxy,s=ot(t)?t.includes(".")?Lg(r,t):()=>r[t]:t.bind(r,r);let o;Oe(e)?o=e:(o=e.handler,n=e);const i=ti(this),a=Su(s,o.bind(r),n);return i(),a}function Lg(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Z1=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${tn(e)}Modifiers`]||t[`${Tr(e)}Modifiers`];function e_(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Xe;let s=n;const o=e.startsWith("update:"),i=o&&Z1(r,e.slice(7));i&&(i.trim&&(s=n.map(u=>ot(u)?u.trim():u)),i.number&&(s=n.map(ta)));let a,l=r[a=hl(e)]||r[a=hl(tn(e))];!l&&o&&(l=r[a=hl(Tr(e))]),l&&mn(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,mn(c,t,6,s)}}function $g(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const o=t.emits;let i={},a=!1;if(!Oe(t)){const l=c=>{const u=$g(c,e,!0);u&&(a=!0,gt(i,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Qe(t)&&r.set(t,null),null):(_e(o)?o.forEach(l=>i[l]=null):gt(i,o),Qe(t)&&r.set(t,i),i)}function Da(t,e){return!t||!Ia(e)?!1:(e=e.slice(2).replace(/Once$/,""),qe(t,e[0].toLowerCase()+e.slice(1))||qe(t,Tr(e))||qe(t,e))}function Ad(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:i,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:p,ctx:g,inheritAttrs:m}=t,b=oa(t);let S,A;try{if(n.shapeFlag&4){const _=s||r,P=_;S=kn(c.call(P,_,u,h,p,f,g)),A=a}else{const _=e;S=kn(_.length>1?_(h,{attrs:a,slots:i,emit:l}):_(h,null)),A=e.props?a:t_(a)}}catch(_){xo.length=0,Na(_,t,1),S=X(Mt)}let y=S;if(A&&m!==!1){const _=Object.keys(A),{shapeFlag:P}=y;_.length&&P&7&&(o&&_.some(au)&&(A=n_(A,o)),y=Gn(y,A,!1,!0))}return n.dirs&&(y=Gn(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&ls(y,n.transition),S=y,oa(b),S}const t_=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ia(n))&&((e||(e={}))[n]=t[n]);return e},n_=(t,e)=>{const n={};for(const r in t)(!au(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function r_(t,e,n){const{props:r,children:s,component:o}=t,{props:i,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Od(r,i,c):!!i;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(i[f]!==r[f]&&!Da(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?Od(r,i,c):!0:!!i;return!1}function Od(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(e[o]!==t[o]&&!Da(n,o))return!0}return!1}function s_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Mg=t=>t.__isSuspense;function o_(t,e){e&&e.pendingBranch?_e(t)?e.effects.push(...t):e.effects.push(t):b1(t)}const we=Symbol.for("v-fgt"),ei=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),Fi=Symbol.for("v-stc"),xo=[];let qt=null;function I(t=!1){xo.push(qt=t?null:[])}function i_(){xo.pop(),qt=xo[xo.length-1]||null}let Mo=1;function Rd(t,e=!1){Mo+=t,t<0&&qt&&e&&(qt.hasOnce=!0)}function Dg(t){return t.dynamicChildren=Mo>0?qt||Os:null,i_(),Mo>0&&qt&&qt.push(t),t}function N(t,e,n,r,s,o){return Dg(d(t,e,n,r,s,o,!0))}function $e(t,e,n,r,s){return Dg(X(t,e,n,r,s,!0))}function cs(t){return t?t.__v_isVNode===!0:!1}function Yr(t,e){return t.type===e.type&&t.key===e.key}const jg=({key:t})=>t??null,Bi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ot(t)||at(t)||Oe(t)?{i:ft,r:t,k:e,f:!!n}:t:null);function d(t,e=null,n=null,r=0,s=null,o=t===we?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&jg(e),ref:e&&Bi(e),scopeId:Zp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ft};return a?(Cu(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=ot(n)?8:16),Mo>0&&!i&&qt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&qt.push(l),l}const X=a_;function a_(t,e=null,n=null,r=0,s=null,o=!1){if((!t||t===mg)&&(t=Mt),cs(t)){const a=Gn(t,e,!0);return n&&Cu(a,n),Mo>0&&!o&&qt&&(a.shapeFlag&6?qt[qt.indexOf(t)]=a:qt.push(a)),a.patchFlag=-2,a}if(v_(t)&&(t=t.__vccOpts),e){e=l_(e);let{class:a,style:l}=e;a&&!ot(a)&&(e.class=Ae(a)),Qe(l)&&(yu(l)&&!_e(l)&&(l=gt({},l)),e.style=Er(l))}const i=ot(t)?1:Mg(t)?128:tg(t)?64:Qe(t)?4:Oe(t)?2:0;return d(t,e,n,r,s,i,o,!0)}function l_(t){return t?yu(t)||Sg(t)?gt({},t):t:null}function Gn(t,e,n=!1,r=!1){const{props:s,ref:o,patchFlag:i,children:a,transition:l}=t,c=e?On(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&jg(c),ref:e&&e.ref?n&&o?_e(o)?o.concat(Bi(e)):[o,Bi(e)]:Bi(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Gn(t.ssContent),ssFallback:t.ssFallback&&Gn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ls(u,l.clone(u)),u}function fe(t=" ",e=0){return X(ei,null,t,e)}function Jn(t,e){const n=X(Fi,null,t);return n.staticCount=e,n}function Z(t="",e=!1){return e?(I(),$e(Mt,null,t)):X(Mt,null,t)}function kn(t){return t==null||typeof t=="boolean"?X(Mt):_e(t)?X(we,null,t.slice()):cs(t)?hr(t):X(ei,null,String(t))}function hr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Gn(t)}function Cu(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(_e(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Cu(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Sg(e)?e._ctx=ft:s===3&&ft&&(ft.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Oe(e)?(e={default:e,_ctx:ft},n=32):(e=String(e),r&64?(n=16,e=[fe(e)]):n=8);t.children=e,t.shapeFlag|=n}function On(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ae([e.class,r.class]));else if(s==="style")e.style=Er([e.style,r.style]);else if(Ia(s)){const o=e[s],i=r[s];i&&o!==i&&!(_e(o)&&o.includes(i))&&(e[s]=o?[].concat(o,i):i)}else s!==""&&(e[s]=r[s])}return e}function _n(t,e,n,r=null){mn(t,e,7,[n,r])}const c_=xg();let u_=0;function d_(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||c_,o={uid:u_++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ap(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ig(r,s),emitsOptions:$g(r,s),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:r.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=e_.bind(null,o),t.ce&&t.ce(o),o}let mt=null;const us=()=>mt||ft;let la,ic;{const t=Ra(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};la=e("__VUE_INSTANCE_SETTERS__",n=>mt=n),ic=e("__VUE_SSR_SETTERS__",n=>Do=n)}const ti=t=>{const e=mt;return la(t),t.scope.on(),()=>{t.scope.off(),la(e)}},Pd=()=>{mt&&mt.scope.off(),la(null)};function Ug(t){return t.vnode.shapeFlag&4}let Do=!1;function h_(t,e=!1,n=!1){e&&ic(e);const{props:r,children:s}=t.vnode,o=Ug(t);F1(t,r,o,e),W1(t,s,n);const i=o?f_(t,e):void 0;return e&&ic(!1),i}function f_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,R1);const{setup:r}=n;if(r){Sr();const s=t.setupContext=r.length>1?g_(t):null,o=ti(t),i=Zo(r,t,0,[t.props,s]),a=Ep(i);if(Cr(),o(),(a||t.sp)&&!Ns(t)&&cg(t),a){if(i.then(Pd,Pd),e)return i.then(l=>{Nd(t,l)}).catch(l=>{Na(l,t,0)});t.asyncDep=i}else Nd(t,i)}else Fg(t)}function Nd(t,e,n){Oe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Qe(e)&&(t.setupState=Gp(e)),Fg(t)}function Fg(t,e,n){const r=t.type;t.render||(t.render=r.render||Sn);{const s=ti(t);Sr();try{P1(t)}finally{Cr(),s()}}}const p_={get(t,e){return Ct(t,"get",""),t[e]}};function g_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,p_),slots:t.slots,emit:t.emit,expose:e}}function ja(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Gp(_u(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Eo)return Eo[n](t)},has(e,n){return n in e||n in Eo}})):t.proxy}function m_(t,e=!0){return Oe(t)?t.displayName||t.name:t.name||e&&t.__name}function v_(t){return Oe(t)&&"__vccOpts"in t}const ye=(t,e)=>g1(t,e,Do);function Wn(t,e,n){const r=arguments.length;return r===2?Qe(e)&&!_e(e)?cs(e)?X(t,null,[e]):X(t,e):X(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&cs(n)&&(n=[n]),X(t,e,n))}const y_="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ac;const Ld=typeof window<"u"&&window.trustedTypes;if(Ld)try{ac=Ld.createPolicy("vue",{createHTML:t=>t})}catch{}const Bg=ac?t=>ac.createHTML(t):t=>t,__="http://www.w3.org/2000/svg",b_="http://www.w3.org/1998/Math/MathML",Dn=typeof document<"u"?document:null,$d=Dn&&Dn.createElement("template"),w_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Dn.createElementNS(__,t):e==="mathml"?Dn.createElementNS(b_,t):n?Dn.createElement(t,{is:n}):Dn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Dn.createTextNode(t),createComment:t=>Dn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Dn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,o){const i=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{$d.innerHTML=Bg(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=$d.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},rr="transition",ao="animation",Fs=Symbol("_vtc"),Hg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Vg=gt({},og,Hg),E_=t=>(t.displayName="Transition",t.props=Vg,t),vt=E_((t,{slots:e})=>Wn(x1,Wg(t),e)),Fr=(t,e=[])=>{_e(t)?t.forEach(n=>n(...e)):t&&t(...e)},Md=t=>t?_e(t)?t.some(e=>e.length>1):t.length>1:!1;function Wg(t){const e={};for(const H in t)H in Hg||(e[H]=t[H]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=i,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=x_(s),m=g&&g[0],b=g&&g[1],{onBeforeEnter:S,onEnter:A,onEnterCancelled:y,onLeave:_,onLeaveCancelled:P,onBeforeAppear:x=S,onAppear:k=A,onAppearCancelled:R=y}=e,v=(H,ae,ce,De)=>{H._enterCancelled=De,lr(H,ae?u:a),lr(H,ae?c:i),ce&&ce()},$=(H,ae)=>{H._isLeaving=!1,lr(H,h),lr(H,p),lr(H,f),ae&&ae()},Q=H=>(ae,ce)=>{const De=H?k:A,ee=()=>v(ae,H,ce);Fr(De,[ae,ee]),Dd(()=>{lr(ae,H?l:o),wn(ae,H?u:a),Md(De)||jd(ae,r,m,ee)})};return gt(e,{onBeforeEnter(H){Fr(S,[H]),wn(H,o),wn(H,i)},onBeforeAppear(H){Fr(x,[H]),wn(H,l),wn(H,c)},onEnter:Q(!1),onAppear:Q(!0),onLeave(H,ae){H._isLeaving=!0;const ce=()=>$(H,ae);wn(H,h),H._enterCancelled?(wn(H,f),lc()):(lc(),wn(H,f)),Dd(()=>{H._isLeaving&&(lr(H,h),wn(H,p),Md(_)||jd(H,r,b,ce))}),Fr(_,[H,ce])},onEnterCancelled(H){v(H,!1,void 0,!0),Fr(y,[H])},onAppearCancelled(H){v(H,!0,void 0,!0),Fr(R,[H])},onLeaveCancelled(H){$(H),Fr(P,[H])}})}function x_(t){if(t==null)return null;if(Qe(t))return[bl(t.enter),bl(t.leave)];{const e=bl(t);return[e,e]}}function bl(t){return $y(t)}function wn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Fs]||(t[Fs]=new Set)).add(e)}function lr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Fs];n&&(n.delete(e),n.size||(t[Fs]=void 0))}function Dd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let k_=0;function jd(t,e,n,r){const s=t._endId=++k_,o=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:i,timeout:a,propCount:l}=qg(t,e);if(!i)return r();const c=i+"end";let u=0;const h=()=>{t.removeEventListener(c,f),o()},f=p=>{p.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function qg(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),s=r(`${rr}Delay`),o=r(`${rr}Duration`),i=Ud(s,o),a=r(`${ao}Delay`),l=r(`${ao}Duration`),c=Ud(a,l);let u=null,h=0,f=0;e===rr?i>0&&(u=rr,h=i,f=o.length):e===ao?c>0&&(u=ao,h=c,f=l.length):(h=Math.max(i,c),u=h>0?i>c?rr:ao:null,f=u?u===rr?o.length:l.length:0);const p=u===rr&&/\b(transform|all)(,|$)/.test(r(`${rr}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:p}}function Ud(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Fd(n)+Fd(t[r])))}function Fd(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function lc(){return document.body.offsetHeight}function T_(t,e,n){const r=t[Fs];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Bd=Symbol("_vod"),S_=Symbol("_vsh"),C_=Symbol(""),I_=/(^|;)\s*display\s*:/;function A_(t,e,n){const r=t.style,s=ot(n);let o=!1;if(n&&!s){if(e)if(ot(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Hi(r,a,"")}else for(const i in e)n[i]==null&&Hi(r,i,"");for(const i in n)i==="display"&&(o=!0),Hi(r,i,n[i])}else if(s){if(e!==n){const i=r[C_];i&&(n+=";"+i),r.cssText=n,o=I_.test(n)}}else e&&t.removeAttribute("style");Bd in t&&(t[Bd]=o?r.display:"",t[S_]&&(r.display="none"))}const Hd=/\s*!important$/;function Hi(t,e,n){if(_e(n))n.forEach(r=>Hi(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=O_(t,e);Hd.test(n)?t.setProperty(Tr(r),n.replace(Hd,""),"important"):t[r]=n}}const Vd=["Webkit","Moz","ms"],wl={};function O_(t,e){const n=wl[e];if(n)return n;let r=tn(e);if(r!=="filter"&&r in t)return wl[e]=r;r=Oa(r);for(let s=0;s<Vd.length;s++){const o=Vd[s]+r;if(o in t)return wl[e]=o}return e}const Wd="http://www.w3.org/1999/xlink";function qd(t,e,n,r,s,o=By(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Wd,e.slice(6,e.length)):t.setAttributeNS(Wd,e,n):n==null||o&&!Sp(n)?t.removeAttribute(e):t.setAttribute(e,o?"":gn(n)?String(n):n)}function zd(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Bg(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Sp(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(s||e)}function Bn(t,e,n,r){t.addEventListener(e,n,r)}function R_(t,e,n,r){t.removeEventListener(e,n,r)}const Kd=Symbol("_vei");function P_(t,e,n,r,s=null){const o=t[Kd]||(t[Kd]={}),i=o[e];if(r&&i)i.value=r;else{const[a,l]=N_(e);if(r){const c=o[e]=M_(r,s);Bn(t,a,c,l)}else i&&(R_(t,a,i,l),o[e]=void 0)}}const Gd=/(?:Once|Passive|Capture)$/;function N_(t){let e;if(Gd.test(t)){e={};let r;for(;r=t.match(Gd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Tr(t.slice(2)),e]}let El=0;const L_=Promise.resolve(),$_=()=>El||(L_.then(()=>El=0),El=Date.now());function M_(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;mn(D_(r,n.value),e,5,[r])};return n.value=t,n.attached=$_(),n}function D_(t,e){if(_e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Jd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,j_=(t,e,n,r,s,o)=>{const i=s==="svg";e==="class"?T_(t,r,i):e==="style"?A_(t,n,r):Ia(e)?au(e)||P_(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):U_(t,e,r,i))?(zd(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&qd(t,e,r,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ot(r))?zd(t,tn(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),qd(t,e,r,i))};function U_(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Jd(e)&&Oe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Jd(e)&&ot(n)?!1:e in t}const zg=new WeakMap,Kg=new WeakMap,ca=Symbol("_moveCb"),Yd=Symbol("_enterCb"),F_=t=>(delete t.props.mode,t),B_=F_({name:"TransitionGroup",props:gt({},Vg,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=us(),r=sg();let s,o;return hg(()=>{if(!s.length)return;const i=t.moveClass||`${t.name||"v"}-move`;if(!q_(s[0].el,n.vnode.el,i))return;s.forEach(H_),s.forEach(V_);const a=s.filter(W_);lc(),a.forEach(l=>{const c=l.el,u=c.style;wn(c,i),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[ca]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",h),c[ca]=null,lr(c,i))};c.addEventListener("transitionend",h)})}),()=>{const i=Ce(t),a=Wg(i);let l=i.tag||we;if(s=[],o)for(let c=0;c<o.length;c++){const u=o[c];u.el&&u.el instanceof Element&&(s.push(u),ls(u,$o(u,a,r,n)),zg.set(u,u.el.getBoundingClientRect()))}o=e.default?xu(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&ls(u,$o(u,a,r,n))}return X(l,null,o)}}}),Gg=B_;function H_(t){const e=t.el;e[ca]&&e[ca](),e[Yd]&&e[Yd]()}function V_(t){Kg.set(t,t.el.getBoundingClientRect())}function W_(t){const e=zg.get(t),n=Kg.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${s}px)`,o.transitionDuration="0s",t}}function q_(t,e,n){const r=t.cloneNode(),s=t[Fs];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:i}=qg(r);return o.removeChild(r),i}const xr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return _e(e)?n=>Mi(e,n):e};function z_(t){t.target.composing=!0}function Xd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const en=Symbol("_assign"),jo={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[en]=xr(s);const o=r||s.props&&s.props.type==="number";Bn(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=ta(a)),t[en](a)}),n&&Bn(t,"change",()=>{t.value=t.value.trim()}),e||(Bn(t,"compositionstart",z_),Bn(t,"compositionend",Xd),Bn(t,"change",Xd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:o}},i){if(t[en]=xr(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?ta(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},K_={deep:!0,created(t,e,n){t[en]=xr(n),Bn(t,"change",()=>{const r=t._modelValue,s=Bs(t),o=t.checked,i=t[en];if(_e(r)){const a=uu(r,s),l=a!==-1;if(o&&!l)i(r.concat(s));else if(!o&&l){const c=[...r];c.splice(a,1),i(c)}}else if(Qs(r)){const a=new Set(r);o?a.add(s):a.delete(s),i(a)}else i(Jg(t,o))})},mounted:Qd,beforeUpdate(t,e,n){t[en]=xr(n),Qd(t,e,n)}};function Qd(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(_e(e))s=uu(e,r.props.value)>-1;else if(Qs(e))s=e.has(r.props.value);else{if(e===n)return;s=is(e,Jg(t,!0))}t.checked!==s&&(t.checked=s)}const G_={created(t,{value:e},n){t.checked=is(e,n.props.value),t[en]=xr(n),Bn(t,"change",()=>{t[en](Bs(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[en]=xr(r),e!==n&&(t.checked=is(e,r.props.value))}},J_={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Qs(e);Bn(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>n?ta(Bs(i)):Bs(i));t[en](t.multiple?s?new Set(o):o:o[0]),t._assigning=!0,Ir(()=>{t._assigning=!1})}),t[en]=xr(r)},mounted(t,{value:e}){Zd(t,e)},beforeUpdate(t,e,n){t[en]=xr(n)},updated(t,{value:e}){t._assigning||Zd(t,e)}};function Zd(t,e){const n=t.multiple,r=_e(e);if(!(n&&!r&&!Qs(e))){for(let s=0,o=t.options.length;s<o;s++){const i=t.options[s],a=Bs(i);if(n)if(r){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(c=>String(c)===String(a)):i.selected=uu(e,a)>-1}else i.selected=e.has(a);else if(is(Bs(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Bs(t){return"_value"in t?t._value:t.value}function Jg(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const O$={created(t,e,n){Ei(t,e,n,null,"created")},mounted(t,e,n){Ei(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Ei(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Ei(t,e,n,r,"updated")}};function Y_(t,e){switch(t){case"SELECT":return J_;case"TEXTAREA":return jo;default:switch(e){case"checkbox":return K_;case"radio":return G_;default:return jo}}}function Ei(t,e,n,r,s){const i=Y_(t.tagName,n.props&&n.props.type)[s];i&&i(t,e,n,r)}const X_=["ctrl","shift","alt","meta"],Q_={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>X_.some(n=>t[`${n}Key`]&&!e.includes(n))},zt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...o)=>{for(let i=0;i<e.length;i++){const a=Q_[e[i]];if(a&&a(s,e))return}return t(s,...o)})},Z_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Is=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const o=Tr(s.key);if(e.some(i=>i===o||Z_[i]===o))return t(s)})},eb=gt({patchProp:j_},w_);let eh;function tb(){return eh||(eh=z1(eb))}const Yg=(...t)=>{const e=tb().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=rb(r);if(!s)return;const o=e._component;!Oe(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,nb(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},e};function nb(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function rb(t){return ot(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ks=typeof document<"u";function Xg(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sb(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Xg(t.default)}const We=Object.assign;function xl(t,e){const n={};for(const r in e){const s=e[r];n[r]=vn(s)?s.map(t):t(s)}return n}const ko=()=>{},vn=Array.isArray,Qg=/#/g,ob=/&/g,ib=/\//g,ab=/=/g,lb=/\?/g,Zg=/\+/g,cb=/%5B/g,ub=/%5D/g,em=/%5E/g,db=/%60/g,tm=/%7B/g,hb=/%7C/g,nm=/%7D/g,fb=/%20/g;function Iu(t){return encodeURI(""+t).replace(hb,"|").replace(cb,"[").replace(ub,"]")}function pb(t){return Iu(t).replace(tm,"{").replace(nm,"}").replace(em,"^")}function cc(t){return Iu(t).replace(Zg,"%2B").replace(fb,"+").replace(Qg,"%23").replace(ob,"%26").replace(db,"`").replace(tm,"{").replace(nm,"}").replace(em,"^")}function gb(t){return cc(t).replace(ab,"%3D")}function mb(t){return Iu(t).replace(Qg,"%23").replace(lb,"%3F")}function vb(t){return t==null?"":mb(t).replace(ib,"%2F")}function Uo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const yb=/\/$/,_b=t=>t.replace(yb,"");function kl(t,e,n="/"){let r,s={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),s=t(o)),a>-1&&(r=r||e.slice(0,a),i=e.slice(a,e.length)),r=xb(r??e,n),{fullPath:r+(o&&"?")+o+i,path:r,query:s,hash:Uo(i)}}function bb(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function th(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function wb(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Hs(e.matched[r],n.matched[s])&&rm(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Hs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function rm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Eb(t[n],e[n]))return!1;return!0}function Eb(t,e){return vn(t)?nh(t,e):vn(e)?nh(e,t):t===e}function nh(t,e){return vn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function xb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,i,a;for(i=0;i<r.length;i++)if(a=r[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(i).join("/")}const $n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fo;(function(t){t.pop="pop",t.push="push"})(Fo||(Fo={}));var To;(function(t){t.back="back",t.forward="forward",t.unknown=""})(To||(To={}));function kb(t){if(!t)if(ks){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),_b(t)}const Tb=/^[^#]+#/;function Sb(t,e){return t.replace(Tb,"#")+e}function Cb(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ua=()=>({left:window.scrollX,top:window.scrollY});function Ib(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Cb(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function rh(t,e){return(history.state?history.state.position-e:-1)+t}const uc=new Map;function Ab(t,e){uc.set(t,e)}function Ob(t){const e=uc.get(t);return uc.delete(t),e}let Rb=()=>location.protocol+"//"+location.host;function sm(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let a=s.includes(t.slice(o))?t.slice(o).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),th(l,"")}return th(n,t)+r+s}function Pb(t,e,n,r){let s=[],o=[],i=null;const a=({state:f})=>{const p=sm(t,location),g=n.value,m=e.value;let b=0;if(f){if(n.value=p,e.value=f,i&&i===g){i=null;return}b=m?f.position-m.position:0}else r(p);s.forEach(S=>{S(n.value,g,{delta:b,type:Fo.pop,direction:b?b>0?To.forward:To.back:To.unknown})})};function l(){i=n.value}function c(f){s.push(f);const p=()=>{const g=s.indexOf(f);g>-1&&s.splice(g,1)};return o.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(We({},f.state,{scroll:Ua()}),"")}function h(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function sh(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ua():null}}function Nb(t){const{history:e,location:n}=window,r={value:sm(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:Rb()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function i(l,c){const u=We({},e.state,sh(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});o(l,u,!0),r.value=l}function a(l,c){const u=We({},s.value,e.state,{forward:l,scroll:Ua()});o(u.current,u,!0);const h=We({},sh(r.value,l,null),{position:u.position+1},c);o(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:i}}function om(t){t=kb(t);const e=Nb(t),n=Pb(t,e.state,e.location,e.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=We({location:"",base:t,go:r,createHref:Sb.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Lb(t){return typeof t=="string"||t&&typeof t=="object"}function im(t){return typeof t=="string"||typeof t=="symbol"}const am=Symbol("");var dc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(dc||(dc={}));function Vs(t,e){return We(new Error,{type:t,[am]:!0},e)}function En(t,e){return t instanceof Error&&am in t&&(e==null||!!(t.type&e))}const oh="[^/]+?",$b={sensitive:!1,strict:!1,start:!0,end:!0},Mb=/[.+*?^${}()[\]/\\]/g;function Db(t,e){const n=We({},$b,e),r=[];let s=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(Mb,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:m,optional:b,regexp:S}=f;o.push({name:g,repeatable:m,optional:b});const A=S||oh;if(A!==oh){p+=10;try{new RegExp(`(${A})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+_.message)}}let y=m?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;h||(y=b&&c.length<2?`(?:/${y})`:"/"+y),b&&(y+="?"),s+=y,p+=20,b&&(p+=-8),m&&(p+=-20),A===".*"&&(p+=-50)}u.push(p)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(i),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",g=o[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:b}=p,S=g in c?c[g]:"";if(vn(S)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=vn(S)?S.join("/"):S;if(!A)if(b)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=A}}return u||"/"}return{re:i,score:r,keys:o,parse:a,stringify:l}}function jb(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function lm(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=jb(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(ih(r))return 1;if(ih(s))return-1}return s.length-r.length}function ih(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ub={type:0,value:""},Fb=/[a-zA-Z0-9_]/;function Bb(t){if(!t)return[[]];if(t==="/")return[[Ub]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let a=0,l,c="",u="";function h(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),i()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Fb.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),i(),s}function Hb(t,e,n){const r=Db(Bb(t.path),n),s=We(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function cm(t,e){const n=[],r=new Map;e=uh({strict:!1,end:!0,sensitive:!1},e);function s(h){return r.get(h)}function o(h,f,p){const g=!p,m=lh(h);m.aliasOf=p&&p.record;const b=uh(e,h),S=[m];if("alias"in h){const _=typeof h.alias=="string"?[h.alias]:h.alias;for(const P of _)S.push(lh(We({},m,{components:p?p.record.components:m.components,path:P,aliasOf:p?p.record:m})))}let A,y;for(const _ of S){const{path:P}=_;if(f&&P[0]!=="/"){const x=f.record.path,k=x[x.length-1]==="/"?"":"/";_.path=f.record.path+(P&&k+P)}if(A=Hb(_,f,b),p?p.alias.push(A):(y=y||A,y!==A&&y.alias.push(A),g&&h.name&&!ch(A)&&i(h.name)),um(A)&&l(A),m.children){const x=m.children;for(let k=0;k<x.length;k++)o(x[k],A,p&&p.children[k])}p=p||A}return y?()=>{i(y)}:ko}function i(h){if(im(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function a(){return n}function l(h){const f=qb(h,n);n.splice(f,0,h),h.record.name&&!ch(h)&&r.set(h.record.name,h)}function c(h,f){let p,g={},m,b;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Vs(1,{location:h});b=p.record.name,g=We(ah(f.params,p.keys.filter(y=>!y.optional).concat(p.parent?p.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),h.params&&ah(h.params,p.keys.map(y=>y.name))),m=p.stringify(g)}else if(h.path!=null)m=h.path,p=n.find(y=>y.re.test(m)),p&&(g=p.parse(m),b=p.record.name);else{if(p=f.name?r.get(f.name):n.find(y=>y.re.test(f.path)),!p)throw Vs(1,{location:h,currentLocation:f});b=p.record.name,g=We({},f.params,h.params),m=p.stringify(g)}const S=[];let A=p;for(;A;)S.unshift(A.record),A=A.parent;return{name:b,path:m,params:g,matched:S,meta:Wb(S)}}t.forEach(h=>o(h));function u(){n.length=0,r.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function ah(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function lh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Vb(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Vb(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ch(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Wb(t){return t.reduce((e,n)=>We(e,n.meta),{})}function uh(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function qb(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;lm(t,e[o])<0?r=o:n=o+1}const s=zb(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function zb(t){let e=t;for(;e=e.parent;)if(um(e)&&lm(t,e)===0)return e}function um({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function dm(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(Zg," "),i=o.indexOf("="),a=Uo(i<0?o:o.slice(0,i)),l=i<0?null:Uo(o.slice(i+1));if(a in e){let c=e[a];vn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function hc(t){let e="";for(let n in t){const r=t[n];if(n=gb(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(vn(r)?r.map(o=>o&&cc(o)):[r&&cc(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Kb(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=vn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const hm=Symbol(""),fc=Symbol(""),ni=Symbol(""),Fa=Symbol(""),ua=Symbol("");function lo(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function fr(t,e,n,r,s,o=i=>i()){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Vs(4,{from:n,to:e})):f instanceof Error?l(f):Lb(f)?l(Vs(2,{from:e,to:f})):(i&&r.enterCallbacks[s]===i&&typeof f=="function"&&i.push(f),a())},u=o(()=>t.call(r&&r.instances[s],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function Tl(t,e,n,r,s=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(Xg(l)){const u=(l.__vccOpts||l)[e];u&&o.push(fr(u,n,r,i,a,s))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const h=sb(u)?u.default:u;i.mods[a]=u,i.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&fr(p,n,r,i,a,s)()}))}}return o}function pc(t){const e=Kt(ni),n=Kt(Fa),r=ye(()=>{const l=Ke(t.to);return e.resolve(l)}),s=ye(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Hs.bind(null,u));if(f>-1)return f;const p=dh(l[c-2]);return c>1&&dh(u)===p&&h[h.length-1].path!==p?h.findIndex(Hs.bind(null,l[c-2])):f}),o=ye(()=>s.value>-1&&Xb(n.params,r.value.params)),i=ye(()=>s.value>-1&&s.value===n.matched.length-1&&rm(n.params,r.value.params));function a(l={}){if(Yb(l)){const c=e[Ke(t.replace)?"replace":"push"](Ke(t.to)).catch(ko);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:ye(()=>r.value.href),isActive:o,isExactActive:i,navigate:a}}function Gb(t){return t.length===1?t[0]:t}const Jb=Qn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:pc,setup(t,{slots:e}){const n=rn(pc(t)),{options:r}=Kt(ni),s=ye(()=>({[hh(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[hh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&Gb(e.default(n));return t.custom?o:Wn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),fm=Jb;function Yb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Xb(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!vn(s)||s.length!==r.length||r.some((o,i)=>o!==s[i]))return!1}return!0}function dh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const hh=(t,e,n)=>t??e??n,Qb=Qn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Kt(ua),s=ye(()=>t.route||r.value),o=Kt(fc,0),i=ye(()=>{let c=Ke(o);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=ye(()=>s.value.matched[i.value]);ji(fc,ye(()=>i.value+1)),ji(hm,a),ji(ua,s);const l=Y();return Zt(()=>[l.value,a.value,t.name],([c,u,h],[f,p,g])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Hs(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return fh(n.default,{Component:f,route:c});const p=h.props[u],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=Wn(f,We({},g,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return fh(n.default,{Component:b,route:c})||b}}});function fh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const pm=Qb;function gm(t){const e=cm(t.routes,t),n=t.parseQuery||dm,r=t.stringifyQuery||hc,s=t.history,o=lo(),i=lo(),a=lo(),l=bu($n);let c=$n;ks&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=xl.bind(null,W=>""+W),h=xl.bind(null,vb),f=xl.bind(null,Uo);function p(W,q){let L,ne;return im(W)?(L=e.getRecordMatcher(W),ne=q):ne=W,e.addRoute(ne,L)}function g(W){const q=e.getRecordMatcher(W);q&&e.removeRoute(q)}function m(){return e.getRoutes().map(W=>W.record)}function b(W){return!!e.getRecordMatcher(W)}function S(W,q){if(q=We({},q||l.value),typeof W=="string"){const C=kl(n,W,q.path),j=e.resolve({path:C.path},q),G=s.createHref(C.fullPath);return We(C,j,{params:f(j.params),hash:Uo(C.hash),redirectedFrom:void 0,href:G})}let L;if(W.path!=null)L=We({},W,{path:kl(n,W.path,q.path).path});else{const C=We({},W.params);for(const j in C)C[j]==null&&delete C[j];L=We({},W,{params:h(C)}),q.params=h(q.params)}const ne=e.resolve(L,q),re=W.hash||"";ne.params=u(f(ne.params));const T=bb(r,We({},W,{hash:pb(re),path:ne.path})),O=s.createHref(T);return We({fullPath:T,hash:re,query:r===hc?Kb(W.query):W.query||{}},ne,{redirectedFrom:void 0,href:O})}function A(W){return typeof W=="string"?kl(n,W,l.value.path):We({},W)}function y(W,q){if(c!==W)return Vs(8,{from:q,to:W})}function _(W){return k(W)}function P(W){return _(We(A(W),{replace:!0}))}function x(W){const q=W.matched[W.matched.length-1];if(q&&q.redirect){const{redirect:L}=q;let ne=typeof L=="function"?L(W):L;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=A(ne):{path:ne},ne.params={}),We({query:W.query,hash:W.hash,params:ne.path!=null?{}:W.params},ne)}}function k(W,q){const L=c=S(W),ne=l.value,re=W.state,T=W.force,O=W.replace===!0,C=x(L);if(C)return k(We(A(C),{state:typeof C=="object"?We({},re,C.state):re,force:T,replace:O}),q||L);const j=L;j.redirectedFrom=q;let G;return!T&&wb(r,ne,L)&&(G=Vs(16,{to:j,from:ne}),ge(ne,ne,!0,!1)),(G?Promise.resolve(G):$(j,ne)).catch(K=>En(K)?En(K,2)?K:Ee(K):de(K,j,ne)).then(K=>{if(K){if(En(K,2))return k(We({replace:O},A(K.to),{state:typeof K.to=="object"?We({},re,K.to.state):re,force:T}),q||j)}else K=H(j,ne,!0,O,re);return Q(j,ne,K),K})}function R(W,q){const L=y(W,q);return L?Promise.reject(L):Promise.resolve()}function v(W){const q=xe.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(W):W()}function $(W,q){let L;const[ne,re,T]=Zb(W,q);L=Tl(ne.reverse(),"beforeRouteLeave",W,q);for(const C of ne)C.leaveGuards.forEach(j=>{L.push(fr(j,W,q))});const O=R.bind(null,W,q);return L.push(O),Fe(L).then(()=>{L=[];for(const C of o.list())L.push(fr(C,W,q));return L.push(O),Fe(L)}).then(()=>{L=Tl(re,"beforeRouteUpdate",W,q);for(const C of re)C.updateGuards.forEach(j=>{L.push(fr(j,W,q))});return L.push(O),Fe(L)}).then(()=>{L=[];for(const C of T)if(C.beforeEnter)if(vn(C.beforeEnter))for(const j of C.beforeEnter)L.push(fr(j,W,q));else L.push(fr(C.beforeEnter,W,q));return L.push(O),Fe(L)}).then(()=>(W.matched.forEach(C=>C.enterCallbacks={}),L=Tl(T,"beforeRouteEnter",W,q,v),L.push(O),Fe(L))).then(()=>{L=[];for(const C of i.list())L.push(fr(C,W,q));return L.push(O),Fe(L)}).catch(C=>En(C,8)?C:Promise.reject(C))}function Q(W,q,L){a.list().forEach(ne=>v(()=>ne(W,q,L)))}function H(W,q,L,ne,re){const T=y(W,q);if(T)return T;const O=q===$n,C=ks?history.state:{};L&&(ne||O?s.replace(W.fullPath,We({scroll:O&&C&&C.scroll},re)):s.push(W.fullPath,re)),l.value=W,ge(W,q,L,O),Ee()}let ae;function ce(){ae||(ae=s.listen((W,q,L)=>{if(!Ue.listening)return;const ne=S(W),re=x(ne);if(re){k(We(re,{replace:!0,force:!0}),ne).catch(ko);return}c=ne;const T=l.value;ks&&Ab(rh(T.fullPath,L.delta),Ua()),$(ne,T).catch(O=>En(O,12)?O:En(O,2)?(k(We(A(O.to),{force:!0}),ne).then(C=>{En(C,20)&&!L.delta&&L.type===Fo.pop&&s.go(-1,!1)}).catch(ko),Promise.reject()):(L.delta&&s.go(-L.delta,!1),de(O,ne,T))).then(O=>{O=O||H(ne,T,!1),O&&(L.delta&&!En(O,8)?s.go(-L.delta,!1):L.type===Fo.pop&&En(O,20)&&s.go(-1,!1)),Q(ne,T,O)}).catch(ko)}))}let De=lo(),ee=lo(),U;function de(W,q,L){Ee(W);const ne=ee.list();return ne.length?ne.forEach(re=>re(W,q,L)):console.error(W),Promise.reject(W)}function he(){return U&&l.value!==$n?Promise.resolve():new Promise((W,q)=>{De.add([W,q])})}function Ee(W){return U||(U=!W,ce(),De.list().forEach(([q,L])=>W?L(W):q()),De.reset()),W}function ge(W,q,L,ne){const{scrollBehavior:re}=t;if(!ks||!re)return Promise.resolve();const T=!L&&Ob(rh(W.fullPath,0))||(ne||!L)&&history.state&&history.state.scroll||null;return Ir().then(()=>re(W,q,T)).then(O=>O&&Ib(O)).catch(O=>de(O,W,q))}const Re=W=>s.go(W);let J;const xe=new Set,Ue={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:m,resolve:S,options:t,push:_,replace:P,go:Re,back:()=>Re(-1),forward:()=>Re(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:ee.add,isReady:he,install(W){const q=this;W.component("RouterLink",fm),W.component("RouterView",pm),W.config.globalProperties.$router=q,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>Ke(l)}),ks&&!J&&l.value===$n&&(J=!0,_(s.location).catch(re=>{}));const L={};for(const re in $n)Object.defineProperty(L,re,{get:()=>l.value[re],enumerable:!0});W.provide(ni,q),W.provide(Fa,qp(L)),W.provide(ua,l);const ne=W.unmount;xe.add(W),W.unmount=function(){xe.delete(W),xe.size<1&&(c=$n,ae&&ae(),ae=null,l.value=$n,J=!1,U=!1),ne()}}};function Fe(W){return W.reduce((q,L)=>q.then(()=>v(L)),Promise.resolve())}return Ue}function Zb(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(c=>Hs(c,a))?r.push(a):n.push(a));const l=t.matched[i];l&&(e.matched.find(c=>Hs(c,l))||s.push(l))}return[n,r,s]}function Ar(){return Kt(ni)}function Ba(t){return Kt(Fa)}const ew=Object.freeze(Object.defineProperty({__proto__:null,get NavigationFailureType(){return dc},RouterLink:fm,RouterView:pm,START_LOCATION:$n,createRouter:gm,createRouterMatcher:cm,createWebHistory:om,isNavigationFailure:En,matchedRouteKey:hm,parseQuery:dm,routeLocationKey:Fa,routerKey:ni,routerViewLocationKey:ua,stringifyQuery:hc,useLink:pc,useRoute:Ba,useRouter:Ar,viewDepthKey:fc},Symbol.toStringTag,{value:"Module"})),tw=()=>{};var ph={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nw=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},vm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,i||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||c==null||h==null)throw new rw;const f=o<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sw=function(t){const e=mm(t);return vm.encodeByteArray(e,!0)},ym=function(t){return sw(t).replace(/\./g,"")},_m=function(t){try{return vm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=()=>ow().__FIREBASE_DEFAULTS__,aw=()=>{if(typeof process>"u"||typeof ph>"u")return;const t=ph.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_m(t[1]);return e&&JSON.parse(e)},Au=()=>{try{return tw()||iw()||aw()||lw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cw=t=>{var e,n;return(n=(e=Au())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bm=()=>{var t;return(t=Au())===null||t===void 0?void 0:t.config},wm=t=>{var e;return(e=Au())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){return t.endsWith(".cloudworkstations.dev")}async function dw(t){return(await fetch(t,{credentials:"include"})).ok}const So={};function hw(){const t={prod:[],emulator:[]};for(const e of Object.keys(So))So[e]?t.emulator.push(e):t.prod.push(e);return t}function fw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gh=!1;function pw(t,e){if(typeof window>"u"||typeof document>"u"||!Ou(window.location.host)||So[t]===e||So[t]||gh)return;So[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",o=hw().prod.length>0;function i(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{gh=!0,i()},f}function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=fw(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),m=n("learnmore"),b=document.getElementById(m)||document.createElement("a"),S=n("preprendIcon"),A=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const y=f.element;a(y),u(b,m);const _=c();l(A,S),y.append(A,g,b,_),document.body.appendChild(y)}o?(g.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function mw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _w(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bw(){try{return typeof indexedDB=="object"}catch{return!1}}function ww(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ew,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ri.prototype.create)}}class ri{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?xw(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Or(s,a,r)}}function xw(t,e){return t.replace(kw,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kw=/\{\$([^}]+)}/g;function Tw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(mh(o)&&mh(i)){if(!Ws(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function go(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function mo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Sw(t,e){const n=new Cw(t,e);return n.subscribe.bind(n)}class Cw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Iw(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Sl),s.error===void 0&&(s.error=Sl),s.complete===void 0&&(s.complete=Sl);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Iw(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return t&&t._delegate?t._delegate:t}class qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rw(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ow(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ow(t){return t===Gr?void 0:t}function Rw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Aw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const Nw={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Lw=Ye.INFO,$w={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Mw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$w[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=Lw,this._logHandler=Mw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const Dw=(t,e)=>e.some(n=>t instanceof n);let vh,yh;function jw(){return vh||(vh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uw(){return yh||(yh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xm=new WeakMap,gc=new WeakMap,km=new WeakMap,Cl=new WeakMap,Ru=new WeakMap;function Fw(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(br(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&xm.set(n,t)}).catch(()=>{}),Ru.set(e,t),e}function Bw(t){if(gc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});gc.set(t,e)}let mc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||km.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hw(t){mc=t(mc)}function Vw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Il(this),e,...n);return km.set(r,e.sort?e.sort():[e]),br(r)}:Uw().includes(t)?function(...e){return t.apply(Il(this),e),br(xm.get(this))}:function(...e){return br(t.apply(Il(this),e))}}function Ww(t){return typeof t=="function"?Vw(t):(t instanceof IDBTransaction&&Bw(t),Dw(t,jw())?new Proxy(t,mc):t)}function br(t){if(t instanceof IDBRequest)return Fw(t);if(Cl.has(t))return Cl.get(t);const e=Ww(t);return e!==t&&(Cl.set(t,e),Ru.set(e,t)),e}const Il=t=>Ru.get(t);function qw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=br(i);return r&&i.addEventListener("upgradeneeded",l=>{r(br(i.result),l.oldVersion,l.newVersion,br(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const zw=["get","getKey","getAll","getAllKeys","count"],Kw=["put","add","delete","clear"],Al=new Map;function _h(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Al.get(e))return Al.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Kw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zw.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Al.set(e,o),o}Hw(t=>({...t,get:(e,n,r)=>_h(e,n)||t.get(e,n,r),has:(e,n)=>!!_h(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Jw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vc="@firebase/app",bh="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Em("@firebase/app"),Yw="@firebase/app-compat",Xw="@firebase/analytics-compat",Qw="@firebase/analytics",Zw="@firebase/app-check-compat",eE="@firebase/app-check",tE="@firebase/auth",nE="@firebase/auth-compat",rE="@firebase/database",sE="@firebase/data-connect",oE="@firebase/database-compat",iE="@firebase/functions",aE="@firebase/functions-compat",lE="@firebase/installations",cE="@firebase/installations-compat",uE="@firebase/messaging",dE="@firebase/messaging-compat",hE="@firebase/performance",fE="@firebase/performance-compat",pE="@firebase/remote-config",gE="@firebase/remote-config-compat",mE="@firebase/storage",vE="@firebase/storage-compat",yE="@firebase/firestore",_E="@firebase/ai",bE="@firebase/firestore-compat",wE="firebase",EE="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="[DEFAULT]",xE={[vc]:"fire-core",[Yw]:"fire-core-compat",[Qw]:"fire-analytics",[Xw]:"fire-analytics-compat",[eE]:"fire-app-check",[Zw]:"fire-app-check-compat",[tE]:"fire-auth",[nE]:"fire-auth-compat",[rE]:"fire-rtdb",[sE]:"fire-data-connect",[oE]:"fire-rtdb-compat",[iE]:"fire-fn",[aE]:"fire-fn-compat",[lE]:"fire-iid",[cE]:"fire-iid-compat",[uE]:"fire-fcm",[dE]:"fire-fcm-compat",[hE]:"fire-perf",[fE]:"fire-perf-compat",[pE]:"fire-rc",[gE]:"fire-rc-compat",[mE]:"fire-gcs",[vE]:"fire-gcs-compat",[yE]:"fire-fst",[bE]:"fire-fst-compat",[_E]:"fire-vertex","fire-js":"fire-js",[wE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Map,kE=new Map,_c=new Map;function wh(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bo(t){const e=t.name;if(_c.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;_c.set(e,t);for(const n of da.values())wh(n,t);for(const n of kE.values())wh(n,t);return!0}function Tm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new ri("app","Firebase",TE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=EE;function Sm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yc,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw wr.create("bad-app-name",{appName:String(s)});if(n||(n=bm()),!n)throw wr.create("no-options");const o=da.get(s);if(o){if(Ws(n,o.options)&&Ws(r,o.config))return o;throw wr.create("duplicate-app",{appName:s})}const i=new Pw(s);for(const l of _c.values())i.addComponent(l);const a=new SE(n,r,i);return da.set(s,a),a}function CE(t=yc){const e=da.get(t);if(!e&&t===yc&&bm())return Sm();if(!e)throw wr.create("no-app",{appName:t});return e}function Ls(t,e,n){var r;let s=(r=xE[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(a.join(" "));return}Bo(new qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firebase-heartbeat-database",AE=1,Ho="firebase-heartbeat-store";let Ol=null;function Cm(){return Ol||(Ol=qw(IE,AE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ho)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),Ol}async function OE(t){try{const n=(await Cm()).transaction(Ho),r=await n.objectStore(Ho).get(Im(t));return await n.done,r}catch(e){if(e instanceof Or)Yn.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yn.warn(n.message)}}}async function Eh(t,e){try{const r=(await Cm()).transaction(Ho,"readwrite");await r.objectStore(Ho).put(e,Im(t)),await r.done}catch(n){if(n instanceof Or)Yn.warn(n.message);else{const r=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yn.warn(r.message)}}}function Im(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=1024,PE=30;class NE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $E(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xh();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>PE){const i=ME(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xh(),{heartbeatsToSend:r,unsentEntries:s}=LE(this._heartbeatsCache.heartbeats),o=ym(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Yn.warn(n),""}}}function xh(){return new Date().toISOString().substring(0,10)}function LE(t,e=RE){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),kh(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $E{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bw()?ww().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Eh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Eh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kh(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}function ME(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){Bo(new qs("platform-logger",e=>new Gw(e),"PRIVATE")),Bo(new qs("heartbeat",e=>new NE(e),"PRIVATE")),Ls(vc,bh,t),Ls(vc,bh,"esm2017"),Ls("fire-js","")}DE("");var bc=function(t,e){return bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},bc(t,e)};function Am(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ha=function(){return ha=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ha.apply(this,arguments)};function er(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Om(t,e,n,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function Rm(t,e){return function(n,r){e(n,r,t)}}function Pm(t,e,n,r,s,o){function i(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(S){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(S||null))};var b=(0,n[p])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=i(b.get))&&(u.get=h),(h=i(b.set))&&(u.set=h),(h=i(b.init))&&s.unshift(h)}else(h=i(b))&&(a==="field"?s.unshift(h):u[l]=h)}c&&Object.defineProperty(c,r.name,u),f=!0}function Nm(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function Lm(t){return typeof t=="symbol"?t:"".concat(t)}function $m(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Mm(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function pe(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Dm(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(o=c[0]&2?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Ha=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function jm(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ha(e,t,n)}function fa(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pu(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function Um(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pu(arguments[e]));return t}function Fm(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)r[s]=o[i];return r}function Bm(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function zs(t){return this instanceof zs?(this.v=t,this):new zs(t)}function Hm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(p){return function(g){return Promise.resolve(g).then(p,h)}}function a(p,g){r[p]&&(s[p]=function(m){return new Promise(function(b,S){o.push([p,m,b,S])>1||l(p,m)})},g&&(s[p]=g(s[p])))}function l(p,g){try{c(r[p](g))}catch(m){f(o[0][3],m)}}function c(p){p.value instanceof zs?Promise.resolve(p.value.v).then(u,h):f(o[0][2],p)}function u(p){l("next",p)}function h(p){l("throw",p)}function f(p,g){p(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Vm(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,o){e[s]=t[s]?function(i){return(n=!n)?{value:zs(t[s](i)),done:!1}:o?o(i):i}:o}}function Wm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fa=="function"?fa(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(i){return new Promise(function(a,l){i=t[o](i),s(a,l,i.done,i.value)})}}function s(o,i,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},i)}}function qm(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var jE=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},wc=function(t){return wc=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},wc(t)};function zm(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=wc(t),r=0;r<n.length;r++)n[r]!=="default"&&Ha(e,t,n[r]);return jE(e,t),e}function Km(t){return t&&t.__esModule?t:{default:t}}function Gm(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Jm(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function Ym(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Xm(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var UE=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function Qm(t){function e(o){t.error=t.hasError?new UE(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(s,function(i){return e(i),s()})}else r|=1}catch(i){e(i)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Zm(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,o,i){return r?e?".jsx":".js":s&&(!o||!i)?n:s+o+"."+i.toLowerCase()+"js"}):t}const FE={__extends:Am,__assign:ha,__rest:er,__decorate:Om,__param:Rm,__esDecorate:Pm,__runInitializers:Nm,__propKey:Lm,__setFunctionName:$m,__metadata:Mm,__awaiter:pe,__generator:Dm,__createBinding:Ha,__exportStar:jm,__values:fa,__read:Pu,__spread:Um,__spreadArrays:Fm,__spreadArray:Bm,__await:zs,__asyncGenerator:Hm,__asyncDelegator:Vm,__asyncValues:Wm,__makeTemplateObject:qm,__importStar:zm,__importDefault:Km,__classPrivateFieldGet:Gm,__classPrivateFieldSet:Jm,__classPrivateFieldIn:Ym,__addDisposableResource:Xm,__disposeResources:Qm,__rewriteRelativeImportExtension:Zm},BE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Xm,get __assign(){return ha},__asyncDelegator:Vm,__asyncGenerator:Hm,__asyncValues:Wm,__await:zs,__awaiter:pe,__classPrivateFieldGet:Gm,__classPrivateFieldIn:Ym,__classPrivateFieldSet:Jm,__createBinding:Ha,__decorate:Om,__disposeResources:Qm,__esDecorate:Pm,__exportStar:jm,__extends:Am,__generator:Dm,__importDefault:Km,__importStar:zm,__makeTemplateObject:qm,__metadata:Mm,__param:Rm,__propKey:Lm,__read:Pu,__rest:er,__rewriteRelativeImportExtension:Zm,__runInitializers:Nm,__setFunctionName:$m,__spread:Um,__spreadArray:Bm,__spreadArrays:Fm,__values:fa,default:FE},Symbol.toStringTag,{value:"Module"}));function e0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HE=e0,t0=new ri("auth","Firebase",e0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Em("@firebase/auth");function VE(t,...e){pa.logLevel<=Ye.WARN&&pa.warn(`Auth (${oi}): ${t}`,...e)}function Vi(t,...e){pa.logLevel<=Ye.ERROR&&pa.error(`Auth (${oi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,...e){throw Lu(t,...e)}function pn(t,...e){return Lu(t,...e)}function Nu(t,e,n){const r=Object.assign(Object.assign({},HE()),{[e]:n});return new ri("auth","Firebase",r).create(e,{appName:t.name})}function Kn(t){return Nu(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WE(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nn(t,"argument-error"),Nu(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lu(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t0.create(t,...e)}function Te(t,e,...n){if(!t)throw Lu(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vi(e),new Error(e)}function Xn(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qE(){return Th()==="http:"||Th()==="https:"}function Th(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qE()||vw()||"connection"in navigator)?navigator.onLine:!0}function KE(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=gw()||yw()}get(){return zE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e){Xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YE=new ii(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function tr(t,e,n,r,s={}){return r0(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=si(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return mw()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ou(t.emulatorConfig.host)&&(c.credentials="include"),n0.fetch()(await s0(t,t.config.apiHost,n,a),c)})}async function r0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GE),e);try{const s=new QE(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw xi(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xi(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw xi(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw xi(t,"user-disabled",i);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Nu(t,u,c);nn(t,u)}}catch(s){if(s instanceof Or)throw s;nn(t,"network-request-failed",{message:String(s)})}}async function ai(t,e,n,r,s={}){const o=await tr(t,e,n,r,s);return"mfaPendingCredential"in o&&nn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function s0(t,e,n,r){const s=`${e}${n}?${r}`,o=t,i=o.config.emulator?$u(t.config,s):`${t.config.apiScheme}://${s}`;return JE.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i}function XE(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),YE.get())})}}function xi(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=pn(t,e,r);return s.customData._tokenResponse=n,s}function Sh(t){return t!==void 0&&t.enterprise!==void 0}class ZE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XE(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ex(t,e){return tr(t,"GET","/v2/recaptchaConfig",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(t,e){return tr(t,"POST","/v1/accounts:delete",e)}async function ga(t,e){return tr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nx(t,e=!1){const n=Rn(t),r=await n.getIdToken(e),s=Mu(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Co(Rl(s.auth_time)),issuedAtTime:Co(Rl(s.iat)),expirationTime:Co(Rl(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Rl(t){return Number(t)*1e3}function Mu(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vi("JWT malformed, contained fewer than 3 sections"),null;try{const s=_m(n);return s?JSON.parse(s):(Vi("Failed to decode base64 JWT payload"),null)}catch(s){return Vi("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ch(t){const e=Mu(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&rx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Co(this.lastLoginAt),this.creationTime=Co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ks(t,ga(n,{idToken:r}));Te(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?o0(o.providerUserInfo):[],a=ix(t.providerData,i),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function ox(t){const e=Rn(t);await ma(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ix(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function o0(t){return t.map(e=>{var{providerId:n}=e,r=er(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(t,e){const n=await r0(t,{},async()=>{const r=si({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=await s0(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",n0.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lx(t,e){return tr(t,"POST","/v2/accounts:revokeToken",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ch(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Ch(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await ax(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new $s;return r&&(Te(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(Te(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $s,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class un{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=er(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ks(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nx(this,e)}reload(){return ox(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ma(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Kn(this.auth));const e=await this.getIdToken();return await Ks(this,tx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(i=n.photoURL)!==null&&i!==void 0?i:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,A=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:_,isAnonymous:P,providerData:x,stsTokenManager:k}=n;Te(y&&k,e,"internal-error");const R=$s.fromJSON(this.name,k);Te(typeof y=="string",e,"internal-error"),sr(h,e.name),sr(f,e.name),Te(typeof _=="boolean",e,"internal-error"),Te(typeof P=="boolean",e,"internal-error"),sr(p,e.name),sr(g,e.name),sr(m,e.name),sr(b,e.name),sr(S,e.name),sr(A,e.name);const v=new un({uid:y,auth:e,email:f,emailVerified:_,displayName:h,isAnonymous:P,photoURL:g,phoneNumber:p,tenantId:m,stsTokenManager:R,createdAt:S,lastLoginAt:A});return x&&Array.isArray(x)&&(v.providerData=x.map($=>Object.assign({},$))),b&&(v._redirectEventId=b),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new $s;s.updateFromServerResponse(n);const o=new un({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ma(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?o0(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),a=new $s;a.updateFromIdToken(r);const l=new un({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:i}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new xc(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map;function zn(t){Xn(t instanceof Function,"Expected a class definition");let e=Ih.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ih.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i0.type="NONE";const Ah=i0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e,n){return`firebase:${t}:${e}:${n}`}class Ms{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Wi(this.userKey,s.apiKey,o),this.fullPersistenceKey=Wi("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ga(this.auth,{idToken:e}).catch(()=>{});return n?un._fromGetAccountInfoResponse(this.auth,n,e):null}return un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ms(zn(Ah),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=s[0]||zn(Ah);const i=Wi(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(i);if(u){let h;if(typeof u=="string"){const f=await ga(e,{idToken:u}).catch(()=>{});if(!f)break;h=await un._fromGetAccountInfoResponse(e,f,u)}else h=un._fromJSON(e,u);c!==o&&(a=h),o=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ms(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(i)}catch{}})),new Ms(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h0(e))return"Blackberry";if(f0(e))return"Webos";if(l0(e))return"Safari";if((e.includes("chrome/")||c0(e))&&!e.includes("edge/"))return"Chrome";if(d0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function a0(t=Dt()){return/firefox\//i.test(t)}function l0(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c0(t=Dt()){return/crios\//i.test(t)}function u0(t=Dt()){return/iemobile/i.test(t)}function d0(t=Dt()){return/android/i.test(t)}function h0(t=Dt()){return/blackberry/i.test(t)}function f0(t=Dt()){return/webos/i.test(t)}function Du(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cx(t=Dt()){var e;return Du(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ux(){return _w()&&document.documentMode===10}function p0(t=Dt()){return Du(t)||d0(t)||f0(t)||h0(t)||/windows phone/i.test(t)||u0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t,e=[]){let n;switch(t){case"Browser":n=Oh(Dt());break;case"Worker":n=`${Oh(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(t,e={}){return tr(t,"GET","/v2/passwordPolicy",Rr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=6;class px{constructor(e){var n,r,s,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=i.minPasswordLength)!==null&&n!==void 0?n:fx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,i,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsNumericCharacter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rh(this),this.idTokenSubscription=new Rh(this),this.beforeStateQueue=new dx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Ms.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ga(this,{idToken:e}),r=await un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xt(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ma(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Kn(this));const n=e?Rn(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hx(this),n=new px(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ri("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zn(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ms.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(a,this,"internal-error"),a.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{i=!0,l()}}else{const l=e.addObserver(n);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VE(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pr(t){return Rn(t)}class Rh{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sw(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mx(t){Va=t}function m0(t){return Va.loadJS(t)}function vx(){return Va.recaptchaEnterpriseScript}function yx(){return Va.gapiScript}function _x(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bx{constructor(){this.enterprise=new wx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ex="recaptcha-enterprise",v0="NO_RECAPTCHA";class xx{constructor(e){this.type=Ex,this.auth=Pr(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{ex(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new ZE(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,i(c.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;Sh(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{i(c)}).catch(()=>{i(v0)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bx().execute("siteKey",{action:"verify"}):new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&Sh(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vx();l.length!==0&&(l+=a),m0(l).then(()=>{s(a,o,i)}).catch(c=>{i(c)})}}).catch(a=>{i(a)})})}}async function Ph(t,e,n,r=!1,s=!1){const o=new xx(t);let i;if(s)i=v0;else try{i=await o.verify(n)}catch{i=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function kc(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ph(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ph(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){const n=Tm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ws(o,e??{}))return s;nn(s,"already-initialized")}return n.initialize({options:e})}function Tx(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Sx(t,e,n){const r=Pr(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=y0(e),{host:i,port:a}=Cx(e),l=a===null?"":`:${a}`,c={url:`${o}//${i}${l}/`},u=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Ws(c,r.config.emulator)&&Ws(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ou(i)?(dw(`${o}//${i}${l}`),pw("Auth",!0)):Ix()}function y0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cx(t){const e=y0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Nh(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:Nh(i)}}}function Nh(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ix(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}async function Ax(t,e){return tr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(t,e){return ai(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(t,e){return ai(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}async function Px(t,e){return ai(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends ju{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Vo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kc(e,n,"signInWithPassword",Ox);case"emailLink":return Rx(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kc(e,r,"signUpPassword",Ax);case"emailLink":return Px(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(t,e){return ai(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="http://localhost";class ds extends ju{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=er(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new ds(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Ds(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ds(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ds(e,n)}buildRequest(){const e={requestUri:Nx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=si(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $x(t){const e=go(mo(t)).link,n=e?go(mo(e)).deep_link_id:null,r=go(mo(t)).deep_link_id;return(r?go(mo(r)).link:null)||r||n||e||t}class Uu{constructor(e){var n,r,s,o,i,a;const l=go(mo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Lx((s=l.mode)!==null&&s!==void 0?s:null);Te(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.lang)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$x(e);try{return new Uu(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return Vo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Uu.parseLink(n);return Te(r,"argument-error"),Vo._fromEmailAndCode(e,r.code,r.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Fu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends li{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ds._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hn.credential(n,r)}catch{return null}}}Hn.GOOGLE_SIGN_IN_METHOD="google.com";Hn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends li{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends li{constructor(){super("twitter.com")}static credential(e,n){return ds._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(t,e){return ai(t,"POST","/v1/accounts:signUp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await un._fromIdTokenResponse(e,r,s),i=Lh(r);return new hs({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Lh(r);return new hs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Lh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Or{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,va.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new va(e,n,r,s)}}function _0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?va._fromErrorAndOperation(t,o,e,r):o})}async function Dx(t,e,n=!1){const r=await Ks(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(t,e,n=!1){const{auth:r}=t;if(Xt(r.app))return Promise.reject(Kn(r));const s="reauthenticate";try{const o=await Ks(t,_0(r,s,e,t),n);Te(o.idToken,r,"internal-error");const i=Mu(o.idToken);Te(i,r,"internal-error");const{sub:a}=i;return Te(t.uid===a,r,"user-mismatch"),hs._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&nn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(t,e,n=!1){if(Xt(t.app))return Promise.reject(Kn(t));const r="signIn",s=await _0(t,r,e),o=await hs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function Ux(t,e){return b0(Pr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(t){const e=Pr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fx(t,e,n){if(Xt(t.app))return Promise.reject(Kn(t));const r=Pr(t),i=await kc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mx).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&w0(t),l}),a=await hs._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function Bx(t,e,n){return Xt(t.app)?Promise.reject(Kn(t)):Ux(Rn(t),eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&w0(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,e){return tr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Rn(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},i=await Ks(r,Hx(r.auth,o));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e){return Rn(t).setPersistence(e)}function qx(t,e,n,r){return Rn(t).onIdTokenChanged(e,n,r)}function zx(t,e,n){return Rn(t).beforeAuthStateChanged(e,n)}function ci(t,e,n,r){return Rn(t).onAuthStateChanged(e,n,r)}const ya="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ya,"1"),this.storage.removeItem(ya),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=1e3,Gx=10;class x0 extends E0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);ux()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Gx):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Kx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x0.type="LOCAL";const k0=x0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends E0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}T0.type="SESSION";const S0=T0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wa(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async c=>c(n.origin,o)),l=await Jx(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wa.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const c=Bu("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function Xx(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function Qx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function e2(){return C0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firebaseLocalStorageDb",t2=1,_a="firebaseLocalStorage",A0="fbase_key";class ui{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qa(t,e){return t.transaction([_a],e?"readwrite":"readonly").objectStore(_a)}function n2(){const t=indexedDB.deleteDatabase(I0);return new ui(t).toPromise()}function Tc(){const t=indexedDB.open(I0,t2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_a,{keyPath:A0})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_a)?e(r):(r.close(),await n2(),e(await Tc()))})})}async function $h(t,e,n){const r=qa(t,!0).put({[A0]:e,value:n});return new ui(r).toPromise()}async function r2(t,e){const n=qa(t,!1).get(e),r=await new ui(n).toPromise();return r===void 0?null:r.value}function Mh(t,e){const n=qa(t,!0).delete(e);return new ui(n).toPromise()}const s2=800,o2=3;class O0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>o2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wa._getInstance(e2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Qx(),!this.activeServiceWorker)return;this.sender=new Yx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tc();return await $h(e,ya,"1"),await Mh(e,ya),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$h(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>r2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mh(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=qa(s,!1).getAll();return new ui(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O0.type="LOCAL";const i2=O0;new ii(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t,e){return e?zn(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends ju{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ds(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ds(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a2(t){return b0(t.auth,new Hu(t),t.bypassAuthState)}function l2(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),jx(n,new Hu(t),t.bypassAuthState)}async function c2(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Dx(n,new Hu(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a2;case"linkViaPopup":case"linkViaRedirect":return c2;case"reauthViaPopup":case"reauthViaRedirect":return l2;default:nn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new ii(2e3,1e4);async function d2(t,e,n){if(Xt(t.app))return Promise.reject(pn(t,"operation-not-supported-in-this-environment"));const r=Pr(t);WE(t,e,Fu);const s=R0(r,n);return new es(r,"signInViaPopup",e,s).executeNotNull()}class es extends P0{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=Bu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u2.get())};e()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="pendingRedirect",qi=new Map;class f2 extends P0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qi.get(this.auth._key());if(!e){try{const r=await p2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qi.set(this.auth._key(),e)}return this.bypassAuthState||qi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p2(t,e){const n=v2(e),r=m2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function g2(t,e){qi.set(t._key(),e)}function m2(t){return zn(t._redirectPersistence)}function v2(t){return Wi(h2,t.config.apiKey,t.name)}async function y2(t,e,n=!1){if(Xt(t.app))return Promise.reject(Kn(t));const r=Pr(t),s=R0(r,e),i=await new f2(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=10*60*1e3;class b2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!N0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dh(e))}saveEventToCache(e){this.cachedEventUids.add(Dh(e)),this.lastProcessedEventTime=Date.now()}}function Dh(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(t,e={}){return tr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k2=/^https?/;async function T2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E2(t);for(const n of e)try{if(S2(n))return}catch{}nn(t,"unauthorized-domain")}function S2(t){const e=Ec(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!k2.test(n))return!1;if(x2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new ii(3e4,6e4);function jh(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I2(t){return new Promise((e,n)=>{var r,s,o;function i(){jh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jh(),n(pn(t,"network-request-failed"))},timeout:C2.get()})}if(!((s=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Cn().gapi)===null||o===void 0)&&o.load)i();else{const a=_x("iframefcb");return Cn()[a]=()=>{gapi.load?i():n(pn(t,"network-request-failed"))},m0(`${yx()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zi=null,e})}let zi=null;function A2(t){return zi=zi||I2(t),zi}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new ii(5e3,15e3),R2="__/auth/iframe",P2="emulator/auth/iframe",N2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $2(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$u(e,P2):`https://${t.config.authDomain}/${R2}`,r={apiKey:e.apiKey,appName:t.name,v:oi},s=L2.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${si(r).slice(1)}`}async function M2(t){const e=await A2(t),n=Cn().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:$2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N2,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=pn(t,"network-request-failed"),a=Cn().setTimeout(()=>{o(i)},O2.get());function l(){Cn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j2=500,U2=600,F2="_blank",B2="http://localhost";class Uh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H2(t,e,n,r=j2,s=U2){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},D2),{width:r.toString(),height:s.toString(),top:o,left:i}),c=Dt().toLowerCase();n&&(a=c0(c)?F2:n),a0(c)&&(e=e||B2,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(cx(c)&&a!=="_self")return V2(e||"",a),new Uh(null);const h=window.open(e||"",a,u);Te(h,t,"popup-blocked");try{h.focus()}catch{}return new Uh(h)}function V2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="__/auth/handler",q2="emulator/auth/handler",z2=encodeURIComponent("fac");async function Fh(t,e,n,r,s,o){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oi,eventId:s};if(e instanceof Fu){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",Tw(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))i[u]=h}if(e instanceof li){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(i.scopes=u.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${z2}=${encodeURIComponent(l)}`:"";return`${K2(t)}?${si(a).slice(1)}${c}`}function K2({config:t}){return t.emulator?$u(t,q2):`https://${t.authDomain}/${W2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="webStorageSupport";class G2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S0,this._completeRedirectFn=y2,this._overrideRedirectResult=g2}async _openPopup(e,n,r,s){var o;Xn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Fh(e,n,r,Ec(),s);return H2(e,i,Bu())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await Fh(e,n,r,Ec(),s);return Xx(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Xn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await M2(e),r=new b2(e);return n.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pl,{type:Pl},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Pl];i!==void 0&&n(!!i),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return p0()||l0()||Du()}}const J2=G2;var Bh="@firebase/auth",Hh="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q2(t){Bo(new qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;Te(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g0(t)},c=new gx(r,s,o,l);return Tx(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bo(new qs("auth-internal",e=>{const n=Pr(e.getProvider("auth").getImmediate());return(r=>new Y2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(Bh,Hh,X2(t)),Ls(Bh,Hh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=5*60,ek=wm("authIdTokenMaxAge")||Z2;let Vh=null;const tk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ek)return;const s=n==null?void 0:n.token;Vh!==s&&(Vh=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fs(t=CE()){const e=Tm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kx(t,{popupRedirectResolver:J2,persistence:[i2,k0,S0]}),r=wm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=tk(o.toString());zx(n,i,()=>i(n.currentUser)),qx(n,a=>i(a))}}const s=cw("auth");return s&&Sx(n,`http://${s}`),n}function nk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=pn("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",nk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q2("Browser");const rk="modulepreload",sk=function(t,e){return new URL(t,e).href},Wh={},ut=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=sk(c,r),c in Wh)return;Wh[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!r)for(let g=i.length-1;g>=0;g--){const m=i[g];if(m.href===c&&(!u||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":rk,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let L0;const za=t=>L0=t,$0=Symbol();function Sc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Io;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Io||(Io={}));function ok(){const t=du(!0),e=t.run(()=>Y({}));let n=[],r=[];const s=_u({install(o){za(s),s._a=o,o.provide($0,s),o.config.globalProperties.$pinia=s,r.forEach(i=>n.push(i)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const M0=()=>{};function qh(t,e,n,r=M0){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&Op()&&Vy(s),s}function ms(t,...e){t.slice().forEach(n=>{n(...e)})}const ik=t=>t(),zh=Symbol(),Nl=Symbol();function Cc(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Sc(s)&&Sc(r)&&t.hasOwnProperty(n)&&!at(r)&&!_r(r)?t[n]=Cc(s,r):t[n]=r}return t}const ak=Symbol();function lk(t){return!Sc(t)||!Object.prototype.hasOwnProperty.call(t,ak)}const{assign:cr}=Object;function ck(t){return!!(at(t)&&t.effect)}function uk(t,e,n,r){const{state:s,actions:o,getters:i}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=s?s():{});const u=d1(n.state.value[t]);return cr(u,o,Object.keys(i||{}).reduce((h,f)=>(h[f]=_u(ye(()=>{za(n);const p=n._s.get(t);return i[f].call(p,p)})),h),{}))}return l=D0(t,c,e,n,r,!0),l}function D0(t,e,n={},r,s,o){let i;const a=cr({actions:{}},n),l={deep:!0};let c,u,h=[],f=[],p;const g=r.state.value[t];!o&&!g&&(r.state.value[t]={}),Y({});let m;function b(R){let v;c=u=!1,typeof R=="function"?(R(r.state.value[t]),v={type:Io.patchFunction,storeId:t,events:p}):(Cc(r.state.value[t],R),v={type:Io.patchObject,payload:R,storeId:t,events:p});const $=m=Symbol();Ir().then(()=>{m===$&&(c=!0)}),u=!0,ms(h,v,r.state.value[t])}const S=o?function(){const{state:v}=n,$=v?v():{};this.$patch(Q=>{cr(Q,$)})}:M0;function A(){i.stop(),h=[],f=[],r._s.delete(t)}const y=(R,v="")=>{if(zh in R)return R[Nl]=v,R;const $=function(){za(r);const Q=Array.from(arguments),H=[],ae=[];function ce(U){H.push(U)}function De(U){ae.push(U)}ms(f,{args:Q,name:$[Nl],store:P,after:ce,onError:De});let ee;try{ee=R.apply(this&&this.$id===t?this:P,Q)}catch(U){throw ms(ae,U),U}return ee instanceof Promise?ee.then(U=>(ms(H,U),U)).catch(U=>(ms(ae,U),Promise.reject(U))):(ms(H,ee),ee)};return $[zh]=!0,$[Nl]=v,$},_={_p:r,$id:t,$onAction:qh.bind(null,f),$patch:b,$reset:S,$subscribe(R,v={}){const $=qh(h,R,v.detached,()=>Q()),Q=i.run(()=>Zt(()=>r.state.value[t],H=>{(v.flush==="sync"?u:c)&&R({storeId:t,type:Io.direct,events:p},H)},cr({},l,v)));return $},$dispose:A},P=rn(_);r._s.set(t,P);const k=(r._a&&r._a.runWithContext||ik)(()=>r._e.run(()=>(i=du()).run(()=>e({action:y}))));for(const R in k){const v=k[R];if(at(v)&&!ck(v)||_r(v))o||(g&&lk(v)&&(at(v)?v.value=g[R]:Cc(v,g[R])),r.state.value[t][R]=v);else if(typeof v=="function"){const $=y(v,R);k[R]=$,a.actions[R]=v}}return cr(P,k),cr(Ce(P),k),Object.defineProperty(P,"$state",{get:()=>r.state.value[t],set:R=>{b(v=>{cr(v,R)})}}),r._p.forEach(R=>{cr(P,i.run(()=>R({store:P,app:r._a,pinia:r,options:a})))}),g&&o&&n.hydrate&&n.hydrate(P.$state,g),c=!0,u=!0,P}/*! #__NO_SIDE_EFFECTS__ */function j0(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function o(i,a){const l=U1();return i=i||(l?Kt($0,null):null),i&&za(i),i=L0,i._s.has(t)||(s?D0(t,e,r,i):uk(t,r,i)),i._s.get(t)}return o.$id=t,o}function U0(t,e){return function(){return t.apply(e,arguments)}}const{toString:dk}=Object.prototype,{getPrototypeOf:Vu}=Object,{iterator:Ka,toStringTag:F0}=Symbol,Ga=(t=>e=>{const n=dk.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=t=>(t=t.toLowerCase(),e=>Ga(e)===t),Ja=t=>e=>typeof e===t,{isArray:to}=Array,Wo=Ja("undefined");function hk(t){return t!==null&&!Wo(t)&&t.constructor!==null&&!Wo(t.constructor)&&Ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const B0=yn("ArrayBuffer");function fk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&B0(t.buffer),e}const pk=Ja("string"),Ft=Ja("function"),H0=Ja("number"),Ya=t=>t!==null&&typeof t=="object",gk=t=>t===!0||t===!1,Ki=t=>{if(Ga(t)!=="object")return!1;const e=Vu(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(F0 in t)&&!(Ka in t)},mk=yn("Date"),vk=yn("File"),yk=yn("Blob"),_k=yn("FileList"),bk=t=>Ya(t)&&Ft(t.pipe),wk=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ft(t.append)&&((e=Ga(t))==="formdata"||e==="object"&&Ft(t.toString)&&t.toString()==="[object FormData]"))},Ek=yn("URLSearchParams"),[xk,kk,Tk,Sk]=["ReadableStream","Request","Response","Headers"].map(yn),Ck=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function di(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),to(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,t[a],a,t)}}function V0(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ts=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,W0=t=>!Wo(t)&&t!==ts;function Ic(){const{caseless:t}=W0(this)&&this||{},e={},n=(r,s)=>{const o=t&&V0(e,s)||s;Ki(e[o])&&Ki(r)?e[o]=Ic(e[o],r):Ki(r)?e[o]=Ic({},r):to(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&di(arguments[r],n);return e}const Ik=(t,e,n,{allOwnKeys:r}={})=>(di(e,(s,o)=>{n&&Ft(s)?t[o]=U0(s,n):t[o]=s},{allOwnKeys:r}),t),Ak=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ok=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Rk=(t,e,n,r)=>{let s,o,i;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Vu(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Pk=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Nk=t=>{if(!t)return null;if(to(t))return t;let e=t.length;if(!H0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Lk=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Vu(Uint8Array)),$k=(t,e)=>{const r=(t&&t[Ka]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Mk=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Dk=yn("HTMLFormElement"),jk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Kh=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Uk=yn("RegExp"),q0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};di(n,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(r[o]=i||s)}),Object.defineProperties(t,r)},Fk=t=>{q0(t,(e,n)=>{if(Ft(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ft(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Bk=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return to(t)?r(t):r(String(t).split(e)),n},Hk=()=>{},Vk=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Wk(t){return!!(t&&Ft(t.append)&&t[F0]==="FormData"&&t[Ka])}const qk=t=>{const e=new Array(10),n=(r,s)=>{if(Ya(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=to(r)?[]:{};return di(r,(i,a)=>{const l=n(i,s+1);!Wo(l)&&(o[a]=l)}),e[s]=void 0,o}}return r};return n(t,0)},zk=yn("AsyncFunction"),Kk=t=>t&&(Ya(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch),z0=((t,e)=>t?setImmediate:e?((n,r)=>(ts.addEventListener("message",({source:s,data:o})=>{s===ts&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ts.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ft(ts.postMessage)),Gk=typeof queueMicrotask<"u"?queueMicrotask.bind(ts):typeof process<"u"&&process.nextTick||z0,Jk=t=>t!=null&&Ft(t[Ka]),V={isArray:to,isArrayBuffer:B0,isBuffer:hk,isFormData:wk,isArrayBufferView:fk,isString:pk,isNumber:H0,isBoolean:gk,isObject:Ya,isPlainObject:Ki,isReadableStream:xk,isRequest:kk,isResponse:Tk,isHeaders:Sk,isUndefined:Wo,isDate:mk,isFile:vk,isBlob:yk,isRegExp:Uk,isFunction:Ft,isStream:bk,isURLSearchParams:Ek,isTypedArray:Lk,isFileList:_k,forEach:di,merge:Ic,extend:Ik,trim:Ck,stripBOM:Ak,inherits:Ok,toFlatObject:Rk,kindOf:Ga,kindOfTest:yn,endsWith:Pk,toArray:Nk,forEachEntry:$k,matchAll:Mk,isHTMLForm:Dk,hasOwnProperty:Kh,hasOwnProp:Kh,reduceDescriptors:q0,freezeMethods:Fk,toObjectSet:Bk,toCamelCase:jk,noop:Hk,toFiniteNumber:Vk,findKey:V0,global:ts,isContextDefined:W0,isSpecCompliantForm:Wk,toJSONObject:qk,isAsyncFn:zk,isThenable:Kk,setImmediate:z0,asap:Gk,isIterable:Jk};function Ne(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const K0=Ne.prototype,G0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{G0[t]={value:t}});Object.defineProperties(Ne,G0);Object.defineProperty(K0,"isAxiosError",{value:!0});Ne.from=(t,e,n,r,s,o)=>{const i=Object.create(K0);return V.toFlatObject(t,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ne.call(i,t.message,e,n,r,s),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const Yk=null;function Ac(t){return V.isPlainObject(t)||V.isArray(t)}function J0(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function Gh(t,e,n){return t?t.concat(e).map(function(s,o){return s=J0(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function Xk(t){return V.isArray(t)&&!t.some(Ac)}const Qk=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function Xa(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!V.isUndefined(b[m])});const r=n.metaTokens,s=n.visitor||u,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(V.isDate(g))return g.toISOString();if(!l&&V.isBlob(g))throw new Ne("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(g)||V.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,b){let S=g;if(g&&!b&&typeof g=="object"){if(V.endsWith(m,"{}"))m=r?m:m.slice(0,-2),g=JSON.stringify(g);else if(V.isArray(g)&&Xk(g)||(V.isFileList(g)||V.endsWith(m,"[]"))&&(S=V.toArray(g)))return m=J0(m),S.forEach(function(y,_){!(V.isUndefined(y)||y===null)&&e.append(i===!0?Gh([m],_,o):i===null?m:m+"[]",c(y))}),!1}return Ac(g)?!0:(e.append(Gh(b,m,o),c(g)),!1)}const h=[],f=Object.assign(Qk,{defaultVisitor:u,convertValue:c,isVisitable:Ac});function p(g,m){if(!V.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(g),V.forEach(g,function(S,A){(!(V.isUndefined(S)||S===null)&&s.call(e,S,V.isString(A)?A.trim():A,m,f))===!0&&p(S,m?m.concat(A):[A])}),h.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Jh(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Wu(t,e){this._pairs=[],t&&Xa(t,this,e)}const Y0=Wu.prototype;Y0.append=function(e,n){this._pairs.push([e,n])};Y0.toString=function(e){const n=e?function(r){return e.call(this,r,Jh)}:Jh;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Zk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X0(t,e,n){if(!e)return t;const r=n&&n.encode||Zk;V.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=V.isURLSearchParams(e)?e.toString():new Wu(e,n).toString(r),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Yh{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Q0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eT=typeof URLSearchParams<"u"?URLSearchParams:Wu,tT=typeof FormData<"u"?FormData:null,nT=typeof Blob<"u"?Blob:null,rT={isBrowser:!0,classes:{URLSearchParams:eT,FormData:tT,Blob:nT},protocols:["http","https","file","blob","url","data"]},qu=typeof window<"u"&&typeof document<"u",Oc=typeof navigator=="object"&&navigator||void 0,sT=qu&&(!Oc||["ReactNative","NativeScript","NS"].indexOf(Oc.product)<0),oT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iT=qu&&window.location.href||"http://localhost",aT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qu,hasStandardBrowserEnv:sT,hasStandardBrowserWebWorkerEnv:oT,navigator:Oc,origin:iT},Symbol.toStringTag,{value:"Module"})),At={...aT,...rT};function lT(t,e){return Xa(t,new At.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return At.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function cT(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uT(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function Z0(t){function e(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&V.isArray(s)?s.length:i,l?(V.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!V.isObject(s[i]))&&(s[i]=[]),e(n,r,s[i],o)&&V.isArray(s[i])&&(s[i]=uT(s[i])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(r,s)=>{e(cT(r),s,n,0)}),n}return null}function dT(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const hi={transitional:Q0,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=V.isObject(e);if(o&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return s?JSON.stringify(Z0(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lT(e,this.formSerializer).toString();if((a=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Xa(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),dT(e)):e}],transformResponse:[function(e){const n=this.transitional||hi.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?Ne.from(a,Ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{hi.headers[t]={}});const hT=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fT=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||e[n]&&hT[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Xh=Symbol("internals");function co(t){return t&&String(t).trim().toLowerCase()}function Gi(t){return t===!1||t==null?t:V.isArray(t)?t.map(Gi):String(t)}function pT(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const gT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ll(t,e,n,r,s){if(V.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function mT(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function vT(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,i){return this[r].call(this,e,s,o,i)},configurable:!0})})}let Bt=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(a,l,c){const u=co(l);if(!u)throw new Error("header name must be a non-empty string");const h=V.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=Gi(a))}const i=(a,l)=>V.forEach(a,(c,u)=>o(c,u,l));if(V.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(V.isString(e)&&(e=e.trim())&&!gT(e))i(fT(e),n);else if(V.isObject(e)&&V.isIterable(e)){let a={},l,c;for(const u of e){if(!V.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?V.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=co(e),e){const r=V.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return pT(s);if(V.isFunction(n))return n.call(this,s,r);if(V.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=co(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ll(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(i){if(i=co(i),i){const a=V.findKey(r,i);a&&(!n||Ll(r,r[a],a,n))&&(delete r[a],s=!0)}}return V.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||Ll(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return V.forEach(this,(s,o)=>{const i=V.findKey(r,o);if(i){n[i]=Gi(s),delete n[o];return}const a=e?mT(o):String(o).trim();a!==o&&delete n[o],n[a]=Gi(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Xh]=this[Xh]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=co(i);r[a]||(vT(s,i),r[a]=!0)}return V.isArray(e)?e.forEach(o):o(e),this}};Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Bt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});V.freezeMethods(Bt);function $l(t,e){const n=this||hi,r=e||n,s=Bt.from(r.headers);let o=r.data;return V.forEach(t,function(a){o=a.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function ev(t){return!!(t&&t.__CANCEL__)}function no(t,e,n){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(no,Ne,{__CANCEL__:!0});function tv(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function yT(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _T(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];i||(i=c),n[s]=l,r[s]=c;let h=o,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),c-i<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function bT(t,e){let n=0,r=1e3/e,s,o;const i=(c,u=Date.now())=>{n=u,s=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?i(c,u):(s=c,o||(o=setTimeout(()=>{o=null,i(s)},r-h)))},()=>s&&i(s)]}const ba=(t,e,n=3)=>{let r=0;const s=_T(50,250);return bT(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,l=i-r,c=s(l),u=i<=a;r=i;const h={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-i)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},Qh=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Zh=t=>(...e)=>V.asap(()=>t(...e)),wT=At.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,At.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,ET=At.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const i=[t+"="+encodeURIComponent(e)];V.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),V.isString(r)&&i.push("path="+r),V.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xT(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kT(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nv(t,e,n){let r=!xT(e);return t&&(r||n==!1)?kT(t,e):e}const ef=t=>t instanceof Bt?{...t}:t;function ps(t,e){e=e||{};const n={};function r(c,u,h,f){return V.isPlainObject(c)&&V.isPlainObject(u)?V.merge.call({caseless:f},c,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function s(c,u,h,f){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function o(c,u){if(!V.isUndefined(u))return r(void 0,u)}function i(c,u){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(c,u,h)=>s(ef(c),ef(u),h,!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,f=h(t[u],e[u],u);V.isUndefined(f)&&h!==a||(n[u]=f)}),n}const rv=t=>{const e=ps({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=e;e.headers=i=Bt.from(i),e.url=X0(nv(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(V.isFormData(n)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(At.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(e)),r||r!==!1&&wT(e.url))){const c=s&&o&&ET.read(o);c&&i.set(s,c)}return e},TT=typeof XMLHttpRequest<"u",ST=TT&&function(t){return new Promise(function(n,r){const s=rv(t);let o=s.data;const i=Bt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,h,f,p,g;function m(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function S(){if(!b)return;const y=Bt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:y,config:t,request:b};tv(function(k){n(k),m()},function(k){r(k),m()},P),b=null}"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(S)},b.onabort=function(){b&&(r(new Ne("Request aborted",Ne.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new Ne("Network Error",Ne.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||Q0;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),r(new Ne(_,P.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,b)),b=null},o===void 0&&i.setContentType(null),"setRequestHeader"in b&&V.forEach(i.toJSON(),function(_,P){b.setRequestHeader(P,_)}),V.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),c&&([f,g]=ba(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=ba(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=y=>{b&&(r(!y||y.type?new no(null,t,b):y),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const A=yT(s.url);if(A&&At.protocols.indexOf(A)===-1){r(new Ne("Unsupported protocol "+A+":",Ne.ERR_BAD_REQUEST,t));return}b.send(o||null)})},CT=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Ne?u:new no(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>V.asap(a),l}},IT=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},AT=async function*(t,e){for await(const n of OT(t))yield*IT(n,e)},OT=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},tf=(t,e,n,r)=>{const s=AT(t,e);let o=0,i,a=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let h=u.byteLength;if(n){let f=o+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Qa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sv=Qa&&typeof ReadableStream=="function",RT=Qa&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ov=(t,...e)=>{try{return!!t(...e)}catch{return!1}},PT=sv&&ov(()=>{let t=!1;const e=new Request(At.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),nf=64*1024,Rc=sv&&ov(()=>V.isReadableStream(new Response("").body)),wa={stream:Rc&&(t=>t.body)};Qa&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wa[e]&&(wa[e]=V.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,r)})})})(new Response);const NT=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request(At.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(V.isArrayBufferView(t)||V.isArrayBuffer(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await RT(t)).byteLength},LT=async(t,e)=>{const n=V.toFiniteNumber(t.getContentLength());return n??NT(e)},$T=Qa&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=rv(t);c=c?(c+"").toLowerCase():"text";let p=CT([s,o&&o.toAbortSignal()],i),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&PT&&n!=="get"&&n!=="head"&&(b=await LT(u,r))!==0){let P=new Request(e,{method:"POST",body:r,duplex:"half"}),x;if(V.isFormData(r)&&(x=P.headers.get("content-type"))&&u.setContentType(x),P.body){const[k,R]=Qh(b,ba(Zh(l)));r=tf(P.body,nf,k,R)}}V.isString(h)||(h=h?"include":"omit");const S="credentials"in Request.prototype;g=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:S?h:void 0});let A=await fetch(g);const y=Rc&&(c==="stream"||c==="response");if(Rc&&(a||y&&m)){const P={};["status","statusText","headers"].forEach(v=>{P[v]=A[v]});const x=V.toFiniteNumber(A.headers.get("content-length")),[k,R]=a&&Qh(x,ba(Zh(a),!0))||[];A=new Response(tf(A.body,nf,k,()=>{R&&R(),m&&m()}),P)}c=c||"text";let _=await wa[V.findKey(wa,c)||"text"](A,t);return!y&&m&&m(),await new Promise((P,x)=>{tv(P,x,{data:_,headers:Bt.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:g})})}catch(S){throw m&&m(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,t,g),{cause:S.cause||S}):Ne.from(S,S&&S.code,t,g)}}),Pc={http:Yk,xhr:ST,fetch:$T};V.forEach(Pc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const rf=t=>`- ${t}`,MT=t=>V.isFunction(t)||t===null||t===!1,iv={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let i;if(r=n,!MT(n)&&(r=Pc[(i=String(n)).toLowerCase()],r===void 0))throw new Ne(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(rf).join(`
`):" "+rf(o[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Pc};function Ml(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new no(null,t)}function sf(t){return Ml(t),t.headers=Bt.from(t.headers),t.data=$l.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),iv.getAdapter(t.adapter||hi.adapter)(t).then(function(r){return Ml(t),r.data=$l.call(t,t.transformResponse,r),r.headers=Bt.from(r.headers),r},function(r){return ev(r)||(Ml(t),r&&r.response&&(r.response.data=$l.call(t,t.transformResponse,r.response),r.response.headers=Bt.from(r.response.headers))),Promise.reject(r)})}const av="1.9.0",Za={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Za[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const of={};Za.transitional=function(e,n,r){function s(o,i){return"[Axios v"+av+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(e===!1)throw new Ne(s(i," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!of[i]&&(of[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};Za.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function DT(t,e,n){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],i=e[o];if(i){const a=t[o],l=a===void 0||i(a,o,t);if(l!==!0)throw new Ne("option "+o+" must be "+l,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+o,Ne.ERR_BAD_OPTION)}}const Ji={assertOptions:DT,validators:Za},bn=Ji.validators;let os=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Yh,response:new Yh}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ps(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Ji.assertOptions(r,{silentJSONParsing:bn.transitional(bn.boolean),forcedJSONParsing:bn.transitional(bn.boolean),clarifyTimeoutError:bn.transitional(bn.boolean)},!1),s!=null&&(V.isFunction(s)?n.paramsSerializer={serialize:s}:Ji.assertOptions(s,{encode:bn.function,serialize:bn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ji.assertOptions(n,{baseUrl:bn.spelling("baseURL"),withXsrfToken:bn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&V.merge(o.common,o[n.method]);o&&V.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=Bt.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,h=0,f;if(!l){const g=[sf.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);h<f;)u=u.then(g[h++],g[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const g=a[h++],m=a[h++];try{p=g(p)}catch(b){m.call(this,b);break}}try{u=sf.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=ps(this.defaults,e);const n=nv(e.baseURL,e.url,e.allowAbsoluteUrls);return X0(n,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){os.prototype[e]=function(n,r){return this.request(ps(r||{},{method:e,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(r){return function(o,i,a){return this.request(ps(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}os.prototype[e]=n(),os.prototype[e+"Form"]=n(!0)});let jT=class lv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,a){r.reason||(r.reason=new no(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new lv(function(s){e=s}),cancel:e}}};function UT(t){return function(n){return t.apply(null,n)}}function FT(t){return V.isObject(t)&&t.isAxiosError===!0}const Nc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nc).forEach(([t,e])=>{Nc[e]=t});function cv(t){const e=new os(t),n=U0(os.prototype.request,e);return V.extend(n,os.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return cv(ps(t,s))},n}const Pe=cv(hi);Pe.Axios=os;Pe.CanceledError=no;Pe.CancelToken=jT;Pe.isCancel=ev;Pe.VERSION=av;Pe.toFormData=Xa;Pe.AxiosError=Ne;Pe.Cancel=Pe.CanceledError;Pe.all=function(e){return Promise.all(e)};Pe.spread=UT;Pe.isAxiosError=FT;Pe.mergeConfig=ps;Pe.AxiosHeaders=Bt;Pe.formToJSON=t=>Z0(V.isHTMLForm(t)?new FormData(t):t);Pe.getAdapter=iv.getAdapter;Pe.HttpStatusCode=Nc;Pe.default=Pe;const{Axios:BT,AxiosError:HT,CanceledError:VT,isCancel:WT,CancelToken:qT,VERSION:zT,all:KT,Cancel:GT,isAxiosError:JT,spread:YT,toFormData:XT,AxiosHeaders:QT,HttpStatusCode:ZT,formToJSON:eS,getAdapter:tS,mergeConfig:nS}=Pe,rS=Object.freeze(Object.defineProperty({__proto__:null,Axios:BT,AxiosError:HT,AxiosHeaders:QT,Cancel:GT,CancelToken:qT,CanceledError:VT,HttpStatusCode:ZT,VERSION:zT,all:KT,default:Pe,formToJSON:eS,getAdapter:tS,isAxiosError:JT,isCancel:WT,mergeConfig:nS,spread:YT,toFormData:XT},Symbol.toStringTag,{value:"Module"})),sS=()=>"https://your-production-domain.com/backend/api",el={BACKEND_URL:sS(),MOVIE_API_URL:"https://phimapi.com/v1/api",USE_PHP_BACKEND:!1};class oS{constructor(){this.dbName="hthree_auth_db",this.storeName="auth_store",this.db=null,this.initDB()}async initDB(){return new Promise((e,n)=>{if(!window.indexedDB){console.warn(" IndexedDB not supported"),e(null);return}const r=indexedDB.open(this.dbName,1);r.onerror=()=>{console.error(" IndexedDB error:",r.error),n(r.error)},r.onsuccess=()=>{this.db=r.result,console.log(" IndexedDB initialized"),e(this.db)},r.onupgradeneeded=s=>{const o=s.target.result;o.objectStoreNames.contains(this.storeName)||(o.createObjectStore(this.storeName),console.log(" IndexedDB object store created"))}})}async setItem(e,n){const r=typeof n=="string"?n:JSON.stringify(n),s={indexedDB:!1,localStorage:!1,sessionStorage:!1,cookie:!1};try{await this.setIndexedDB(e,r),s.indexedDB=!0,console.log(` Saved to IndexedDB: ${e}`)}catch(o){console.warn(` IndexedDB save failed: ${o.message}`)}try{localStorage.setItem(e,r),s.localStorage=!0,console.log(` Saved to LocalStorage: ${e}`)}catch(o){console.warn(` LocalStorage save failed: ${o.message}`)}try{sessionStorage.setItem(e,r),s.sessionStorage=!0,console.log(` Saved to SessionStorage: ${e}`)}catch(o){console.warn(` SessionStorage save failed: ${o.message}`)}try{r.length<4e3&&(document.cookie=`${e}=${encodeURIComponent(r)}; path=/; max-age=2592000; SameSite=Lax`,s.cookie=!0,console.log(` Saved to Cookie: ${e}`))}catch(o){console.warn(` Cookie save failed: ${o.message}`)}return console.log(` Save results for "${e}":`,s),s}async getItem(e){let n=null;try{if(n=await this.getIndexedDB(e),n)return console.log(` Retrieved from IndexedDB: ${e}`),this.syncToOtherStorages(e,n),n}catch(r){console.warn(` IndexedDB read failed: ${r.message}`)}try{if(n=localStorage.getItem(e),n)return console.log(` Retrieved from LocalStorage: ${e}`),this.setIndexedDB(e,n),n}catch(r){console.warn(` LocalStorage read failed: ${r.message}`)}try{if(n=sessionStorage.getItem(e),n)return console.log(` Retrieved from SessionStorage: ${e}`),this.syncToOtherStorages(e,n),n}catch(r){console.warn(` SessionStorage read failed: ${r.message}`)}try{if(n=this.getCookie(e),n)return console.log(` Retrieved from Cookie: ${e}`),this.syncToOtherStorages(e,n),n}catch(r){console.warn(` Cookie read failed: ${r.message}`)}return console.log(` No data found for: ${e}`),null}async removeItem(e){try{await this.removeIndexedDB(e),console.log(` Removed from IndexedDB: ${e}`)}catch(n){console.warn(` IndexedDB remove failed: ${n.message}`)}try{localStorage.removeItem(e),console.log(` Removed from LocalStorage: ${e}`)}catch(n){console.warn(` LocalStorage remove failed: ${n.message}`)}try{sessionStorage.removeItem(e),console.log(` Removed from SessionStorage: ${e}`)}catch(n){console.warn(` SessionStorage remove failed: ${n.message}`)}try{document.cookie=`${e}=; path=/; max-age=0`,console.log(` Removed from Cookie: ${e}`)}catch(n){console.warn(` Cookie remove failed: ${n.message}`)}}async setIndexedDB(e,n){if(this.db||await this.initDB(),!this.db)throw new Error("IndexedDB not available");return new Promise((r,s)=>{const a=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(n,e);a.onsuccess=()=>r(!0),a.onerror=()=>s(a.error)})}async getIndexedDB(e){return this.db||await this.initDB(),this.db?new Promise((n,r)=>{const i=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);i.onsuccess=()=>n(i.result||null),i.onerror=()=>r(i.error)}):null}async removeIndexedDB(e){if(this.db||await this.initDB(),!!this.db)return new Promise((n,r)=>{const i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);i.onsuccess=()=>n(!0),i.onerror=()=>r(i.error)})}getCookie(e){const n=document.cookie.split(";");for(let r of n){const[s,o]=r.trim().split("=");if(s===e)return decodeURIComponent(o)}return null}async syncToOtherStorages(e,n){try{await this.setIndexedDB(e,n),localStorage.setItem(e,n),sessionStorage.setItem(e,n)}catch(r){console.warn(" Sync failed:",r.message)}}}const Br=new oS,af=el.BACKEND_URL;class iS{async register(e,n,r,s){try{return(await Pe.post(`${af}/auth/register.php`,{username:e,email:n,password:r,full_name:s})).data}catch(o){throw console.error("Register error:",o),o}}async login(e,n){try{const r=await Pe.post(`${af}/auth/login.php`,{username:e,password:n});return r.data.status&&(await Br.setItem("user",JSON.stringify(r.data.user)),await Br.setItem("token",r.data.token),console.log(" Auth data saved to persistent storage")),r.data}catch(r){throw console.error("Login error:",r),r}}async logout(){await Br.removeItem("user"),await Br.removeItem("token"),console.log(" Auth data removed from all storages")}async getCurrentUser(){const e=await Br.getItem("user");if(e)try{return JSON.parse(e)}catch(n){return console.error("Error parsing user data:",n),null}return null}getCurrentUserSync(){try{const e=localStorage.getItem("user");if(e)return JSON.parse(e)}catch(e){console.error("Error getting user sync:",e)}return null}async isLoggedIn(){return!!await Br.getItem("token")}async getToken(){return await Br.getItem("token")}getTokenSync(){return localStorage.getItem("token")}}const or=new iS,uv=j0("auth",{state:()=>({user:null,loading:!0,error:null}),getters:{isAuthenticated:t=>!!t.user,userId:t=>{var e,n;return((e=t.user)==null?void 0:e.id)||((n=t.user)==null?void 0:n.uid)||null},userEmail:t=>{var e;return((e=t.user)==null?void 0:e.email)||null},userName:t=>t.user?t.user.full_name||t.user.displayName||t.user.username||"User":null,userAvatar:t=>t.user&&(t.user.avatar||t.user.photoURL)||null},actions:{async initAuth(){this.loading=!0;try{console.log(" Initializing auth...");const t=or.getCurrentUserSync(),e=or.getTokenSync();if(t&&e)return this.user=t,this.loading=!1,console.log(" AuthStore - User restored INSTANTLY from localStorage:",t.email),this.verifyPersistentStorage(),this.refreshUserData(),t;const n=await or.getCurrentUser(),r=await or.getToken();if(console.log(" Checking persistent storage on init:",{hasUser:!!n,hasToken:!!r,user:n}),n&&r)return this.user=n,console.log(" AuthStore - User restored from persistent storage:",n.email),this.loading=!1,n;const s=fs();return new Promise(o=>{ci(s,i=>{i?(this.user={id:i.uid,uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,emailVerified:i.emailVerified},console.log(" AuthStore - Firebase user loaded:",i.email)):(this.user=null,console.log(" AuthStore - No user logged in")),this.loading=!1,o(this.user)})})}catch(t){return console.error(" Error initializing auth:",t),this.error=t.message,this.loading=!1,null}},async verifyPersistentStorage(){try{const t=await or.getCurrentUser(),e=await or.getToken();t&&e?console.log(" Persistent storage verified"):(console.warn(" Persistent storage missing, syncing from localStorage..."),this.user&&await or.login(null,null))}catch(t){console.warn(" Persistent storage verification failed:",t)}},async refreshUserData(){try{if(!this.user)return;const t=this.user.id||this.user.uid;if(!t)return;const r=await(await fetch(`https://hthree-film-production.up.railway.app/api/get_user.php?user_id=${t}`)).json();if(r.success&&r.user){const s={...this.user,avatar:r.user.avatar||this.user.avatar,photoURL:r.user.avatar||this.user.photoURL,full_name:r.user.full_name||this.user.full_name,phone:r.user.phone||this.user.phone,bio:r.user.bio||this.user.bio};this.user=s,localStorage.setItem("user",JSON.stringify(s)),console.log(" AuthStore - User data refreshed from database:",{avatar:r.user.avatar,full_name:r.user.full_name})}}catch(t){console.warn(" Failed to refresh user data:",t)}},setUser(t){this.user=t,this.error=null},clearUser(){this.user=null,this.error=null},async logout(){try{await fs().signOut(),or.logout(),this.clearUser(),console.log(" AuthStore - User logged out")}catch(t){throw console.error("Error logging out:",t),this.error=t.message,t}}}}),aS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class zu extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class lS extends zu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class lf extends zu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cf extends zu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lc||(Lc={}));class cS{constructor(e,{headers:n={},customFetch:r,region:s=Lc.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=aS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return pe(this,arguments,void 0,function*(n,r={}){var s;let o,i;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(f["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(f["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let b=u;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),u?(b=i.signal,u.addEventListener("abort",()=>i.abort())):b=i.signal);const S=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:m,signal:b}).catch(P=>{throw new lS(P)}),A=S.headers.get("x-relay-error");if(A&&A==="true")throw new lf(S);if(!S.ok)throw new cf(S);let y=((s=S.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield S.json():y==="application/octet-stream"||y==="application/pdf"?_=yield S.blob():y==="text/event-stream"?_=S:y==="multipart/form-data"?_=yield S.formData():_=yield S.text(),{data:_,error:null,response:S}}catch(a){return{data:null,error:a,response:a instanceof cf||a instanceof lf?a.context:void 0}}finally{o&&clearTimeout(o)}})}}function uS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dS(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Tt={};const ro=dS(BE);var ki={},Ti={},Si={},Ci={},Ii={},Ai={},uf;function dv(){if(uf)return Ai;uf=1,Object.defineProperty(Ai,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ai.default=t,Ai}var df;function hv(){if(df)return Ii;df=1,Object.defineProperty(Ii,"__esModule",{value:!0});const e=ro.__importDefault(dv());class n{constructor(s){var o,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h,f;let p=null,g=null,m=null,b=l.status,S=l.statusText;if(l.ok){if(this.method!=="HEAD"){const P=await l.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=P:g=JSON.parse(P))}const y=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,b=406,S="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const y=await l.text();try{p=JSON.parse(y),Array.isArray(p)&&l.status===404&&(g=[],p=null,b=200,S="OK")}catch{l.status===404&&y===""?(b=204,S="No Content"):p={message:y}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,b=200,S="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:m,status:b,statusText:S}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,u,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,o)}returns(){return this}overrideTypes(){return this}}return Ii.default=n,Ii}var hf;function fv(){if(hf)return Ci;hf=1,Object.defineProperty(Ci,"__esModule",{value:!0});const e=ro.__importDefault(hv());class n extends e.default{select(s){let o=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[s?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ci.default=n,Ci}var ff;function Ku(){if(ff)return Si;ff=1,Object.defineProperty(Si,"__esModule",{value:!0});const e=ro.__importDefault(fv()),n=new RegExp("[,()]");class r extends e.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${c}fts${u}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return Si.default=r,Si}var pf;function pv(){if(pf)return Ti;pf=1,Object.defineProperty(Ti,"__esModule",{value:!0});const e=ro.__importDefault(Ku());class n{constructor(s,{headers:o={},schema:i,fetch:a}){this.url=s,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(s,o){const{head:i=!1,count:a}=o??{},l=i?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:i=!0}={}){var a;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var o;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ti.default=n,Ti}var gf;function hS(){if(gf)return ki;gf=1,Object.defineProperty(ki,"__esModule",{value:!0});const t=ro,e=t.__importDefault(pv()),n=t.__importDefault(Ku());class r{constructor(o,{headers:i={},schema:a,fetch:l}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(o){const i=new URL(`${this.url}/${o}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const f=new URL(`${this.url}/rpc/${o}`);let p;a||l?(h=a?"HEAD":"GET",Object.entries(i).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{f.searchParams.append(m,b)})):(h="POST",p=i);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new n.default({method:h,url:f,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ki.default=r,ki}var mf;function fS(){if(mf)return Tt;mf=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const t=ro,e=t.__importDefault(hS());Tt.PostgrestClient=e.default;const n=t.__importDefault(pv());Tt.PostgrestQueryBuilder=n.default;const r=t.__importDefault(Ku());Tt.PostgrestFilterBuilder=r.default;const s=t.__importDefault(fv());Tt.PostgrestTransformBuilder=s.default;const o=t.__importDefault(hv());Tt.PostgrestBuilder=o.default;const i=t.__importDefault(dv());return Tt.PostgrestError=i.default,Tt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:i.default},Tt}var gv=fS();const mv=uS(gv),pS=Ay({__proto__:null,default:mv},[gv]),{PostgrestClient:gS,PostgrestQueryBuilder:L$,PostgrestFilterBuilder:$$,PostgrestTransformBuilder:M$,PostgrestBuilder:D$,PostgrestError:j$}=mv||pS;class mS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vS="2.81.1",yS=`realtime-js/${vS}`,vv="1.0.0",_S="2.0.0",vf=vv,$c=1e4,bS=1e3,wS=100;var Xr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xr||(Xr={}));var ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ht||(ht={}));var Jt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jt||(Jt={}));var Mc;(function(t){t.websocket="websocket"})(Mc||(Mc={}));var Qr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qr||(Qr={}));class ES{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:n,ref:r,event:s,topic:o,payload:i}=e,a=this.META_LENGTH+n.length+r.length+o.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,n.length),c.setUint8(u++,r.length),c.setUint8(u++,o.length),c.setUint8(u++,s.length),Array.from(n,f=>c.setUint8(u++,f.charCodeAt(0))),Array.from(r,f=>c.setUint8(u++,f.charCodeAt(0))),Array.from(o,f=>c.setUint8(u++,f.charCodeAt(0))),Array.from(s,f=>c.setUint8(u++,f.charCodeAt(0)));var h=new Uint8Array(l.byteLength+i.byteLength);return h.set(new Uint8Array(l),0),h.set(new Uint8Array(i),l.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const{join_ref:s,ref:o,topic:i}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+o.length+i.length+a.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(u),f=0;h.setUint8(f++,this.KINDS.userBroadcastPush),h.setUint8(f++,s.length),h.setUint8(f++,o.length),h.setUint8(f++,i.length),h.setUint8(f++,a.length),h.setUint8(f++,this.BINARY_ENCODING),Array.from(s,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(o,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(i,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(a,g=>h.setUint8(f++,g.charCodeAt(0)));var p=new Uint8Array(u.byteLength+l.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(l),u.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var n,r;const{join_ref:s,ref:o,topic:i}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+o.length+i.length+a.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,s.length),p.setUint8(g++,o.length),p.setUint8(g++,i.length),p.setUint8(g++,a.length),p.setUint8(g++,this.JSON_ENCODING),Array.from(s,b=>p.setUint8(g++,b.charCodeAt(0))),Array.from(o,b=>p.setUint8(g++,b.charCodeAt(0))),Array.from(i,b=>p.setUint8(g++,b.charCodeAt(0))),Array.from(a,b=>p.setUint8(g++,b.charCodeAt(0)));var m=new Uint8Array(f.byteLength+u.byteLength);return m.set(new Uint8Array(f),0),m.set(new Uint8Array(u),f.byteLength),m.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,o,i,a,l]=r;return n({join_ref:s,ref:o,topic:i,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,s);case this.KINDS.reply:return this._decodeReply(e,n,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodePush(e,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+o));a=a+o;const u=r.decode(e.slice(a,a+i));a=a+i;const h=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:h}}_decodeReply(e,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=r.decode(e.slice(l,l+s));l=l+s;const u=r.decode(e.slice(l,l+o));l=l+o;const h=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+a));l=l+a;const p=JSON.parse(r.decode(e.slice(l,e.byteLength))),g={status:f,response:p};return{join_ref:c,ref:u,topic:h,event:Jt.reply,payload:g}}_decodeBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(e.slice(i,i+s));i=i+s;const l=r.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:c}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+s));l=l+s;const u=r.decode(e.slice(l,l+o));l=l+o;const h=r.decode(e.slice(l,l+i));l=l+i;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,g={type:this.BROADCAST,event:u,payload:p};return i>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class yv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ze||(Ze={}));const yf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=xS(i,t,e,s),o),{}):{}},xS=(t,e,n,r)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=n[t];return o&&!r.includes(o)?_v(o,i):Dc(i)},_v=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return CS(e,n)}switch(t){case Ze.bool:return kS(e);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return TS(e);case Ze.json:case Ze.jsonb:return SS(e);case Ze.timestamp:return IS(e);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Dc(e);default:return Dc(e)}},Dc=t=>t,kS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},SS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},CS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const i=t.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>_v(e,a))}return t},IS=t=>typeof t=="string"?t.replace(" ","T"):t,bv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Dl{constructor(e,n,r={},s=$c){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _f;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_f||(_f={}));class Ao{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ao.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Ao.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ao.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const o=this.cloneDeep(e),i=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const h=o[c];if(h){const f=u.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),g=u.filter(b=>p.indexOf(b.presence_ref)<0),m=h.filter(b=>f.indexOf(b.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bf||(bf={}));var Oo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Oo||(Oo={}));var jn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class Gu{constructor(e,n={config:{}},r){var s,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dl(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new yv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ao(this),this.broadcastEndpointURL=bv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Oo.PRESENCE]&&this.bindings[Oo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(jn.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(jn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,S=[];for(let A=0;A<b;A++){const y=m[A],{filter:{event:_,schema:P,table:x,filter:k}}=y,R=p&&p[A];if(R&&R.event===_&&R.schema===P&&R.table===x&&R.filter===k)S.push(Object.assign(Object.assign({},y),{id:R.id}));else{this.unsubscribe(),this.state=ht.errored,e==null||e(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(jn.SUBSCRIBED);return}}).receive("error",p=>{this.state=ht.errored,e==null||e(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ht.joined&&e===Oo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Dl(this,Jt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Dl(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>wS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Jt;if(r&&[a,l,c,u].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,b;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(f,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var g,m,b,S,A,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,P=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((m=n.ids)===null||m===void 0?void 0:m.includes(_))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(A=(S=p==null?void 0:p.filter)===null||S===void 0?void 0:S.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:b,commit_timestamp:S,type:A,errors:y}=g;f=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:S,eventType:A,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(f,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Gu.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jt.close,{},e)}_onError(e){this._on(Jt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=yf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=yf(e.columns,e.old_record)),n}}const jl=()=>{},Oi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AS=[1e3,2e3,5e3,1e4],OS=1e4,RS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PS{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$c,this.transport=null,this.heartbeatIntervalMs=Oi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jl,this.ref=0,this.reconnectTimer=null,this.vsn=vf,this.logger=jl,this.conn=null,this.sendBuffer=[],this.serializer=new ES,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Mc.websocket}`,this.httpEndpoint=bv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xr.connecting:return Qr.Connecting;case Xr.open:return Qr.Open;case Xr.closing:return Qr.Closing;default:return Qr.Closed}}isConnected(){return this.connectionState()===Qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Gu(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(bS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Oi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xr.open||this.conn.readyState===Xr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([RS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:yS};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Jt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Oi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,o,i,a,l,c,u,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:$c,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Oi.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:jl,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:vf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>AS[g-1]||OS,this.vsn){case vv:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,m)=>m(JSON.parse(g));break;case _S:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ju extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class NS extends Ju{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jc extends Ju{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Yu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),LS=()=>Response,Uc=t=>{if(Array.isArray(t))return t.map(n=>Uc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Uc(r)}),e},$S=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ul=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},MS=(t,e,n)=>pe(void 0,void 0,void 0,function*(){const r=yield LS();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new NS(Ul(s),o,i))}).catch(s=>{e(new jc(Ul(s),s))}):e(new jc(Ul(t),t))}),DS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:($S(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function fi(t,e,n,r,s,o){return pe(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,DS(e,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>MS(l,a,r))})})}function qo(t,e,n,r){return pe(this,void 0,void 0,function*(){return fi(t,"GET",e,n,r)})}function cn(t,e,n,r,s){return pe(this,void 0,void 0,function*(){return fi(t,"POST",e,r,s,n)})}function Fc(t,e,n,r,s){return pe(this,void 0,void 0,function*(){return fi(t,"PUT",e,r,s,n)})}function jS(t,e,n,r){return pe(this,void 0,void 0,function*(){return fi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Xu(t,e,n,r,s){return pe(this,void 0,void 0,function*(){return fi(t,"DELETE",e,r,s,n)})}class US{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return pe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var wv;class FS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[wv]="BlobDownloadBuilder",this.promise=null}asStream(){return new US(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return pe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}wv=Symbol.toStringTag;const BS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HS{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Yu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return pe(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},wf),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield(e=="PUT"?Fc:cn)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}upload(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return pe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:wf.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Fc(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield cn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Ju("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}update(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}copy(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield cn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=yield cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>qo(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new FS(l,this.shouldThrowOnError)}info(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield qo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Uc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}exists(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield jS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r)&&r instanceof jc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}list(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},BS),n),{prefix:e||""});return{data:yield cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}listV2(e,n){return pe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Ev="2.81.1",xv={"X-Client-Info":`storage-js/${Ev}`};class VS{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xv),n),this.fetch=Yu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return pe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield qo(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}createBucket(e){return pe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return pe(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}emptyBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class WS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xv),n),this.fetch=Yu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBuckets(e){return pe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield qo(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}const Qu={"X-Client-Info":`storage-js/${Ev}`,"Content-Type":"application/json"};class kv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Fl extends kv{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qS extends kv{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Ef;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ef||(Ef={}));const Zu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),KS=(t,e,n)=>pe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";e(new Fl(xf(i),s,a))}).catch(()=>{const i=s+"",a=o.statusText||`HTTP ${s} error`;e(new Fl(a,s,i))});else{const i=s+"",a=o.statusText||`HTTP ${s} error`;e(new Fl(a,s,i))}}else e(new qS(xf(t),t))}),GS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(zS(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function JS(t,e,n,r,s,o){return pe(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,GS(e,r,s,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>KS(l,a,r))})})}function Wt(t,e,n,r,s){return pe(this,void 0,void 0,function*(){return JS(t,"POST",e,r,s,n)})}class YS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qu),n),this.fetch=Zu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return pe(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return pe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listIndexes(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return pe(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class XS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qu),n),this.fetch=Zu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return pe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}getVectors(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}listVectors(e){return pe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Wt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}queryVectors(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return pe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}}class QS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qu),n),this.fetch=Zu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}getBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}listBuckets(){return pe(this,arguments,void 0,function*(e={}){try{return{data:yield Wt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pe(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}}class ZS extends QS{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new e4(this.url,this.headers,e,this.fetch)}}class e4 extends YS{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return pe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return pe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return pe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return pe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new t4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class t4 extends XS{constructor(e,n,r,s,o){super(e,n,o),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return pe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return pe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return pe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return pe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return pe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class n4 extends VS{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new HS(this.url,this.headers,e,this.fetch)}get vectors(){return new ZS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new WS(this.url+"/iceberg",this.headers,this.fetch)}}const r4="2.81.1";let vo="";typeof Deno<"u"?vo="deno":typeof document<"u"?vo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vo="react-native":vo="node";const s4={"X-Client-Info":`supabase-js-${vo}/${r4}`},o4={headers:s4},i4={schema:"public"},a4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l4={},c4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),u4=()=>Headers,d4=(t,e,n)=>{const r=c4(n),s=u4();return async(o,i)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))}};function h4(t){return t.endsWith("/")?t:t+"/"}function f4(t,e){var n,r;const{db:s,auth:o,realtime:i,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function p4(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(h4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Tv="2.81.1",Ts=30*1e3,Bc=3,Bl=Bc*Ts,g4="http://localhost:9999",m4="supabase.auth.token",v4={"X-Client-Info":`gotrue-js/${Tv}`},Hc="X-Supabase-Api-Version",Sv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_4=10*60*1e3;class zo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class b4 extends zo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function w4(t){return me(t)&&t.name==="AuthApiError"}class Zr extends zo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nr extends zo{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class an extends Nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E4(t){return me(t)&&t.name==="AuthSessionMissingError"}class vs extends Nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ri extends Nr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pi extends Nr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function x4(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class kf extends Nr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vc extends Nr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hl(t){return me(t)&&t.name==="AuthRetryableFetchError"}class Tf extends Nr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Wc extends Nr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sf=` 	
\r=`.split(""),k4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Sf.length;e+=1)t[Sf[e].charCodeAt(0)]=-2;for(let e=0;e<Ea.length;e+=1)t[Ea[e].charCodeAt(0)]=e;return t})();function Cf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ea[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ea[r]),e.queuedBits-=6}}function Cv(t,e,n){const r=k4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function If(t){const e=[],n=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{C4(i,r,n)};for(let i=0;i<t.length;i+=1)Cv(t.charCodeAt(i),s,o);return e.join("")}function T4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function S4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}T4(r,e)}}function C4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function js(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Cv(t.charCodeAt(s),n,r);return new Uint8Array(e)}function I4(t){const e=[];return S4(t,n=>e.push(n)),new Uint8Array(e)}function ns(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Cf(s,n,r)),Cf(null,n,r),e.join("")}function A4(t){return Math.round(Date.now()/1e3)+t}function O4(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},Iv=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function R4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Av=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),P4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ss=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ir=async(t,e)=>{await t.removeItem(e)};class tl{constructor(){this.promise=new tl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}tl.promiseConstructor=Promise;function Vl(t){const e=t.split(".");if(e.length!==3)throw new Wc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!y4.test(e[r]))throw new Wc("JWT not in base64url format");return{header:JSON.parse(If(e[0])),payload:JSON.parse(If(e[1])),signature:js(e[2]),raw:{header:e[0],payload:e[1]}}}async function N4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function L4(t,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){r(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function $4(t){return("0"+t.toString(16)).substr(-2)}function M4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,$4).join("")}async function D4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function j4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await D4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ys(t,e,n=!1){const r=M4();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ss(t,`${e}-code-verifier`,s);const o=await j4(r);return[o,r===o?"plain":"s256"]}const U4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F4(t){const e=t.headers.get(Hc);if(!e||!e.match(U4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function B4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function H4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const V4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _s(t){if(!V4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function W4(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Af(t){return JSON.parse(JSON.stringify(t))}const Jr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),q4=[502,503,504];async function Of(t){var e;if(!P4(t))throw new Vc(Jr(t),0);if(q4.includes(t.status))throw new Vc(Jr(t),t.status);let n;try{n=await t.json()}catch(o){throw new Zr(Jr(o),o)}let r;const s=F4(t);if(s&&s.getTime()>=Sv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Tf(Jr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new an}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Tf(Jr(n),t.status,n.weak_password.reasons);throw new b4(Jr(n),t.status||500,r)}const z4=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Se(t,e,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Hc]||(o[Hc]=Sv["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await K4(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function K4(t,e,n,r,s,o){const i=z4(e,r,s,o);let a;try{a=await t(n,Object.assign({},i))}catch(l){throw console.error(l),new Vc(Jr(l),0)}if(a.ok||await Of(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Of(l)}}function ln(t){var e;let n=null;Y4(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=A4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Rf(t){const e=ln(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function G4(t){return{data:t,error:null}}function J4(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=t,i=er(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Pf(t){return t}function Y4(t){return t.access_token&&t.refresh_token&&t.expires_in}const ql=["global","local","others"];class X4{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Av(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ql[0]){if(ql.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ql.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=er(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:J4,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Pf});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(me(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){_s(e);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){_s(e);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:vr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){_s(e);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:vr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){_s(e.userId);try{const{data:n,error:r}=await Se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(e){_s(e.userId),_s(e.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Pf});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(me(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}}function Nf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const bs={debug:!!(globalThis&&Iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ov extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Q4 extends Ov{}async function Z4(t,e,n){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Q4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function eC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function tC(t){return parseInt(t,16)}function nC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function rC(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Rv(t.address),g=u?`${u}://${r}`:r,m=t.statement?`${t.statement}
`:"",b=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let S=`URI: ${h}
Version: ${f}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(S+=`
Expiration Time: ${s.toISOString()}`),a&&(S+=`
Not Before: ${a.toISOString()}`),l&&(S+=`
Request ID: ${l}`),c){let A=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);A+=`
- ${y}`}S+=A}return`${b}
${S}`}class dt extends Error{constructor({message:e,code:n,cause:r,name:s}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class xa extends dt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function sC({error:t,options:e}){var n,r,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Pv(i)){if(o.rp.id!==i)return new dt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function oC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Pv(r)){if(n.rpId!==r)return new dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class iC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const aC=new iC;function lC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=er(t,["challenge","user","excludeCredentials"]),o=js(e).buffer,i=Object.assign(Object.assign({},n),{id:js(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:js(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function cC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=er(t,["challenge","allowCredentials"]),s=js(e).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const a=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:js(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function uC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ns(new Uint8Array(t.response.attestationObject)),clientDataJSON:ns(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ns(new Uint8Array(s.authenticatorData)),clientDataJSON:ns(new Uint8Array(s.clientDataJSON)),signature:ns(new Uint8Array(s.signature)),userHandle:s.userHandle?ns(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Pv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Lf(){var t,e;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",e)}:{data:null,error:new xa("Empty credential response",e)}}catch(e){return{data:null,error:sC({error:e,options:t})}}}async function fC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",e)}:{data:null,error:new xa("Empty credential response",e)}}catch(e){return{data:null,error:oC({error:e,options:t})}}}const pC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ka(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))r[o]=i;else if(n(i))r[o]=i;else if(e(i)){const a=r[o];e(a)?r[o]=ka(a,i):r[o]=ka(i)}else r[o]=i}return r}function mC(t,e){return ka(pC,t,e||{})}function vC(t,e){return ka(gC,t,e||{})}class yC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!i)return{data:null,error:a};const l=s??aC.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=mC(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:u,error:h}=await hC({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=vC(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:u,error:h}=await fC(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(i){return me(i)?{data:null,error:i}:{data:null,error:new Zr("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new zo("rpId is required for WebAuthn authentication")};try{if(!Lf())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(i){return me(i)?{data:null,error:i}:{data:null,error:new Zr("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new zo("rpId is required for WebAuthn registration")};try{if(!Lf())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return me(i)?{data:null,error:i}:{data:null,error:new Zr("Unexpected error in register",i)}}}}eC();const _C={url:g4,storageKey:m4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function $f(t,e,n){return await n()}const ws={};class Ko{get jwks(){var e,n;return(n=(e=ws[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ws[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},_C),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Ko.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ko.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&wt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new X4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Av(o.fetch),this.lock=o.lock||$f,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:wt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Z4:this.lock=$f,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Nf(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Tv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(wt()&&(n=R4(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),wt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),x4(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?this._returnResult({error:n}):this._returnResult({error:new Zr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ln}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,s;try{let o;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ys(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:ln})}else if("phone"in e){const{phone:u,password:h,options:f}=e;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ln})}else throw new Ri("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:i,options:a}=e;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rf})}else if("phone"in e){const{phone:o,password:i,options:a}=e;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rf})}else throw new Ri("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new vs;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,o,i,a,l,c,u,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:m,wallet:b,statement:S,options:A}=e;let y;if(wt())if(typeof b=="object")y=b;else{const v=window;if("ethereum"in v&&typeof v.ethereum=="object"&&"request"in v.ethereum&&typeof v.ethereum.request=="function")y=v.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const _=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),P=await y.request({method:"eth_requestAccounts"}).then(v=>v).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Rv(P[0]);let k=(r=A==null?void 0:A.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const v=await y.request({method:"eth_chainId"});k=tC(v)}const R={domain:_.host,address:x,statement:S,uri:_.href,version:"1",chainId:k,nonce:(s=A==null?void 0:A.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=A==null?void 0:A.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=A==null?void 0:A.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=A==null?void 0:A.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=rC(R),g=await y.request({method:"personal_sign",params:[nC(p),x]})}try{const{data:m,error:b}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ln});if(b)throw b;if(!m||!m.session||!m.user){const S=new vs;return this._returnResult({data:{user:null,session:null},error:S})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(me(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var n,r,s,o,i,a,l,c,u,h,f,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:b,wallet:S,statement:A,options:y}=e;let _;if(wt())if(typeof S=="object")_=S;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))_=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=S}const P=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const x=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),A?{statement:A}:null));let k;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")k=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)k=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${P.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const x=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=x}}try{const{data:b,error:S}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ns(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ln});if(S)throw S;if(!b||!b.session||!b.user){const A=new vs;return this._returnResult({data:{user:null,session:null},error:A})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:S})}catch(b){if(me(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Vr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ln});if(await ir(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new vs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=e,a=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ln}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new vs;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ys(this.storage,this.storageKey));const{error:h}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Ri("You must provide either an email or phone number.")}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ln});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,o,i;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ys(this.storage,this.storageKey));const c=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:G4});return!((o=c.data)===null||o===void 0)&&o.url&&wt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new an;const{error:s}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:i}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:i,error:a}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new Ri("You must provide either an email or phone number and a type")}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Bl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const i=await Vr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Wl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=W4(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new an}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:vr})})}catch(n){if(me(n))return E4(n)&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new an;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ys(this.storage,this.storageKey));const{data:c,error:u}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:vr});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new an;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Vl(e.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:i,error:a}=n;if(a)throw a;e=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new an;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!wt())throw new Pi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kf("No code detected.");const{data:A,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new Pi("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const p=f-u;p*1e3<=Ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:b}=await this._getUser(o);if(b)throw b;const S={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(w4(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=O4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ys(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(me(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,u;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return wt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(me(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:i,provider:a,token:l,access_token:c,nonce:u}=e,h=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ln}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new vs}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await L4(async s=>(s>0&&await N4(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ln})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Hl(o)&&Date.now()+i-r<Ts})}catch(r){if(this._debug(n,"error",r),me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),wt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Vr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Ss(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Wl()}else if(s&&!s.user&&!s.user){const i=await Vr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await ir(this.storage,this.storageKey+"-user"),await Ss(this.storage,this.storageKey,s)):s.user=Wl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bl;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Bl}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Hl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new an;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new tl;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new an;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),me(o)){const i={data:null,error:o};return Hl(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ss(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Af(s);await Ss(this.storage,this.storageKey,o)}else{const s=Af(n);await Ss(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ir(this.storage,this.storageKey),await ir(this.storage,this.storageKey+"-code-verifier"),await ir(this.storage,this.storageKey+"-user"),this.userStorage&&await ir(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ts);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ts}ms, refresh threshold is ${Bc} ticks`),s<=Bc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ov)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await ys(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await Se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?uC(e.webauthn.credential_response):dC(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:lC(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:cC(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vl(r.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new an})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new an});const i=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new an});const i=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+_4>s)return r;const{data:o,error:i}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});r=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=Vl(r);n!=null&&n.allowExpired||B4(o.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=H4(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,I4(`${a}.${l}`)))throw new Wc("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}}Ko.nextInstanceID={};const bC=Ko;class wC extends bC{constructor(e){super(e)}}class EC{constructor(e,n,r){var s,o,i;this.supabaseUrl=e,this.supabaseKey=n;const a=p4(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:i4,realtime:l4,auth:Object.assign(Object.assign({},a4),{storageKey:l}),global:o4},u=f4(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=d4(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new gS(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new n4(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new cS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wC({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new PS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xC=(t,e,n)=>new EC(t,e,n);function kC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mf="https://hganinmpourhfimksydd.supabase.co",Df="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnYW5pbm1wb3VyaGZpbWtzeWRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2Njk3NDAsImV4cCI6MjA3ODI0NTc0MH0.L0-LLStOhod_M4kKOQGGDJaq_BPAZkyS0af4aiZL8_U",TC=t=>{try{return new URL(t),!0}catch{return!1}};let qc=null;!TC(Mf)||Df==="your_supabase_key"?(console.warn(" Supabase cha c cu hnh. Mt s tnh nng c th khng hot ng."),qc={auth:{signUp:()=>Promise.reject(new Error("Supabase not configured")),signInWithPassword:()=>Promise.reject(new Error("Supabase not configured")),signOut:()=>Promise.reject(new Error("Supabase not configured")),getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},from:()=>({select:()=>Promise.resolve({data:[],error:null}),insert:()=>Promise.reject(new Error("Supabase not configured")),update:()=>Promise.reject(new Error("Supabase not configured")),delete:()=>Promise.reject(new Error("Supabase not configured"))})}):qc=xC(Mf,Df);const SC=j0("category",{state:()=>({categories:[],loading:!1,error:null}),actions:{async getCategory(t=3){this.loading=!0,this.error=null,console.log("CategoryStore: Bt u fetch genres t bng movies...");let e=null;for(let n=1;n<=t;n++)try{console.log(`CategoryStore: Attempt ${n}/${t}`);const{data:r,error:s}=await Promise.race([qc.from("movies").select("genres"),new Promise((i,a)=>setTimeout(()=>a(new Error("Request timeout")),1e4))]);if(s)throw s;let o=new Set;r&&r.forEach(i=>{i.genres&&Array.isArray(i.genres)&&i.genres.forEach(a=>{typeof a=="string"&&a.trim()!==""&&o.add(a.trim())})}),this.categories=Array.from(o).map(i=>({name:i,slug:i.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})).sort((i,a)=>i.name.localeCompare(a.name)),console.log("CategoryStore: Genres fetched thnh cng (t bng movies). S lng:",this.categories.length,"D liu:",this.categories),this.loading=!1;return}catch(r){if(e=r,console.error(`CategoryStore: Li attempt ${n}/${t}:`,r.message),n<t){const s=n*1e3;console.log(`CategoryStore: Retry sau ${s}ms...`),await new Promise(o=>setTimeout(o,s))}}this.error=(e==null?void 0:e.message)||"Failed to fetch genres after multiple attempts",this.loading=!1,this.categories.length===0&&(console.warn("CategoryStore: S dng fallback genres"),this.categories=this.getFallbackCategories()),console.log("CategoryStore: Kt thc fetch genres. Loading:",this.loading)},getFallbackCategories(){return[{name:"Hnh ng",slug:"hanh-dong"},{name:"Hi Hc",slug:"hai-huoc"},{name:"Tnh Cm",slug:"tinh-cam"},{name:"Kinh D",slug:"kinh-di"},{name:"Khoa Hc Vin Tng",slug:"khoa-hoc-vien-tuong"},{name:"Phiu Lu",slug:"phieu-luu"},{name:"Hot Hnh",slug:"hoat-hinh"},{name:"Ti Liu",slug:"tai-lieu"},{name:"Gia nh",slug:"gia-dinh"},{name:"B n",slug:"bi-an"}].sort((t,e)=>t.name.localeCompare(e.name))}},getters:{getAllCategories:t=>t.categories,getLoading:t=>t.loading,getError:t=>t.error}}),pi={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Gs={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},jt={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},CC={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},IC={dangerouslyHTMLString:!1,multiple:!0,position:pi.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},AC={rtl:!1,newestOnTop:!1,toastClassName:""},Nv={...IC,...AC};jt.DEFAULT;var ze=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(ze||{}),zc=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(zc||{});const OC={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},RC={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},PC={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},NC={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},jf="Toastify--animate Toastify__none-enter";function Lv(t,e=!1){var n;let r=OC;if(!t||typeof t=="string")switch(t){case"flip":r=NC;break;case"zoom":r=PC;break;case"slide":r=RC;break}else r=t;if(e)r.enter=jf;else if(r.enter===jf){const s=(n=r.exit.split("__")[1])==null?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${s}-enter`}return r}function LC(t){return t.containerId||String(t.position)}const nl="will-unmount";function $C(t=pi.TOP_RIGHT){return!!document.querySelector(`.${ze.CSS_NAMESPACE}__toast-container--${t}`)}function MC(t=pi.TOP_RIGHT){return`${ze.CSS_NAMESPACE}__toast-container--${t}`}function DC(t,e,n=!1){const r=[`${ze.CSS_NAMESPACE}__toast-container`,`${ze.CSS_NAMESPACE}__toast-container--${t}`,n?`${ze.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Us(e)?e({position:t,rtl:n,defaultClassName:r}):`${r} ${e||""}`}function jC(t){var e;const{position:n,containerClassName:r,rtl:s=!1,style:o={}}=t,i=ze.CSS_NAMESPACE,a=MC(n),l=document.querySelector(`.${i}`),c=document.querySelector(`.${a}`),u=!!c&&!((e=c.className)!=null&&e.includes(nl)),h=l||document.createElement("div"),f=document.createElement("div");f.className=DC(n,r,s),f.dataset.testid=`${ze.CSS_NAMESPACE}__toast-container--${n}`,f.id=LC(t);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const g=o[p];f.style[p]=g}return l||(h.className=ze.CSS_NAMESPACE,document.body.appendChild(h)),u||h.appendChild(f),f}function Kc(t){var e,n,r;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),o=document.getElementById(s);o&&o.removeEventListener("animationend",Kc,!1);try{Go[s].unmount(),(r=document.getElementById(s))==null||r.remove(),delete Go[s],delete Et[s]}catch{}}const Go=rn({});function UC(t,e){const n=document.getElementById(String(e));n&&(Go[n.id]=t)}function Gc(t,e=!0){const n=String(t);if(!Go[n])return;const r=document.getElementById(n);r&&r.classList.add(nl),e?(BC(t),r&&r.addEventListener("animationend",Kc,!1)):Kc(n),An.items=An.items.filter(s=>s.containerId!==t)}function FC(t){for(const e in Go)Gc(e,t);An.items=[]}function $v(t,e){const n=document.getElementById(t.toastId);if(n){let r=t;r={...r,...Lv(r.transition)};const s=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${s}`,e&&e(n)}}function BC(t){for(const e in Et)if(e===t)for(const n of Et[e]||[])$v(n)}function HC(t){const e=Js().find(n=>n.toastId===t);return e==null?void 0:e.containerId}function ed(t){return document.getElementById(t)}function VC(t){const e=ed(t.containerId);return e&&e.classList.contains(nl)}function Uf(t){var e;const n=cs(t.content)?Ce(t.content.props):null;return n??Ce((e=t.data)!=null?e:{})}function WC(t){return t?An.items.filter(e=>e.containerId===t).length>0:An.items.length>0}function qC(){if(An.items.length>0){const t=An.items.shift();Yi(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const Et=rn({}),An=rn({items:[]});function Js(){const t=Ce(Et);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function zC(t){return Js().find(e=>e.toastId===t)}function Yi(t,e={}){if(VC(e)){const n=ed(e.containerId);n&&n.addEventListener("animationend",Jc.bind(null,t,e),!1)}else Jc(t,e)}function Jc(t,e={}){const n=ed(e.containerId);n&&n.removeEventListener("animationend",Jc.bind(null,t,e),!1);const r=Et[e.containerId]||[],s=r.length>0;if(!s&&!$C(e.position)){const o=jC(e),i=Yg(hI,e);e.useHandler&&e.useHandler(i),i.mount(o),UC(i,o.id)}s&&!e.updateId&&(e.position=r[0].position),Ir(()=>{e.updateId?Ht.update(e):Ht.add(t,e)})}const Ht={add(t,e){const{containerId:n=""}=e;n&&(Et[n]=Et[n]||[],Et[n].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,s;e.newestOnTop?(r=Et[n])==null||r.unshift(e):(s=Et[n])==null||s.push(e),e.onOpen&&e.onOpen(Uf(e))},e.delay||0))},remove(t){if(t){const e=HC(t);if(e){const n=Et[e];let r=n.find(s=>s.toastId===t);Et[e]=n.filter(s=>s.toastId!==t),!Et[e].length&&!WC(e)&&Gc(e,!1),qC(),Ir(()=>{r!=null&&r.onClose&&(r.onClose(Uf(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){Et[e]=Et[e]||[];const n=Et[e].find(o=>o.toastId===t.toastId),r=(n==null?void 0:n.position)!==t.position||(n==null?void 0:n.transition)!==t.transition,s={...t,disabledEnterTransition:!r,updateId:void 0};Ht.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{je(s.content,s)},t.delay||0)}},clear(t,e=!0){t?Gc(t,e):FC(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",Ht.dismissCallback,!1),setTimeout(()=>{Ht.remove(n)}))},dismiss(t){if(t){const e=Js();for(const n of e)if(n.toastId===t){$v(n,r=>{r.addEventListener("animationend",Ht.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Js();for(const n of e)if(n.toastId===t){const r=document.getElementById(t);r&&(r.remove(),r.removeEventListener("animationend",Ht.dismissCallback,!1),Ht.remove(t));break}}}},KC=rn({useHandler:void 0}),Mv=rn({}),Ta=rn({});function Dv(){return Math.random().toString(36).substring(2,9)}function GC(t){return typeof t=="number"&&!isNaN(t)}function Yc(t){return typeof t=="string"}function Us(t){return typeof t=="function"}function rl(...t){return On(...t)}function Xi(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function JC(t={}){Mv[`${ze.CSS_NAMESPACE}-default-options`]=t}function YC(){return Mv[`${ze.CSS_NAMESPACE}-default-options`]||Nv}function XC(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var Qi=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(Qi||{});const jv={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:pi.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Gs.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:jt.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},QC={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:jt.DEFAULT},theme:{type:String,required:!1,default:Gs.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},ZC=Qn({name:"ProgressBar",props:QC,setup(t,{attrs:e}){const n=Y(),r=ye(()=>t.hide?"true":"false"),s=ye(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),o=ye(()=>[`${ze.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${ze.CSS_NAMESPACE}__progress-bar--controlled`:`${ze.CSS_NAMESPACE}__progress-bar--animated`,`${ze.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${ze.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${ze.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),i=ye(()=>`${o.value} ${(e==null?void 0:e.class)||""}`),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},c=ye(()=>t.controlledProgress?null:l),u=ye(()=>t.controlledProgress?l:null);return Ui(()=>{n.value&&(a(),n.value.onanimationend=c.value,n.value.ontransitionend=u.value)}),()=>X("div",{ref:n,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:i.value,style:s.value},null)}}),eI=Qn({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Gs.AUTO},type:{type:String,required:!1,default:Gs.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>X("button",{class:`${ze.CSS_NAMESPACE}__close-button ${ze.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[X("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[X("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),sl=({theme:t,type:e,path:n,...r})=>X("svg",On({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},r),[X("path",{d:n},null)]);function tI(t){return X(sl,On(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function nI(t){return X(sl,On(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function rI(t){return X(sl,On(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function sI(t){return X(sl,On(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function oI(){return X("div",{class:`${ze.CSS_NAMESPACE}__spinner`},null)}const Zi={info:nI,warning:tI,success:rI,error:sI,spinner:oI},iI=t=>t in Zi;function aI({theme:t,type:e,isLoading:n,icon:r}){let s;const o=!!n||e==="loading",i={theme:t,type:e};if(o&&(r===void 0||typeof r=="boolean"))return Zi.spinner();if(r!==!1){if(Xi(r))s=Ce(r);else if(Us(r)){const a=r;i.type=o?"loading":e,s=a(i),s=!s&&o?Zi.spinner():s}else cs(r)?s=Gn(r,i):Yc(r)||GC(r)?s=r:iI(e)&&(s=Zi[e](i));return s}}const lI=()=>{};function cI(t,e,n=ze.COLLAPSE_DURATION){const{scrollHeight:r,style:s}=t,o=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${o}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,o)})})}function uI(t){const e=Y(!1),n=Y(!1),r=Y(!1),s=Y(Qi.Enter),o=rn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||ze.COLLAPSE_DURATION}),i=o.done||lI,a=ye(()=>o.appendPosition?`${o.enter}--${o.position}`:o.enter),l=ye(()=>o.appendPosition?`${o.exit}--${o.position}`:o.exit),c=ye(()=>t.pauseOnHover?{onMouseenter:b,onMouseleave:m}:{});function u(){const A=a.value.split(" ");f().addEventListener(zc.ENTRANCE_ANIMATION_END,m,{once:!0});const y=P=>{const x=f();P.target===x&&(x.dispatchEvent(new Event(zc.ENTRANCE_ANIMATION_END)),x.removeEventListener("animationend",y),x.removeEventListener("animationcancel",y),s.value===Qi.Enter&&P.type!=="animationcancel"&&x.classList.remove(...A))},_=()=>{const P=f();P.classList.add(...A),P.addEventListener("animationend",y),P.addEventListener("animationcancel",y)};t.pauseOnFocusLoss&&p(),_()}function h(){if(!f())return;const A=()=>{const _=f();_.removeEventListener("animationend",A),o.collapse?cI(_,i,o.collapseDuration):i()},y=()=>{const _=f();s.value=Qi.Exit,_&&(_.className+=` ${l.value}`,_.addEventListener("animationend",A))};n.value||(r.value?A():setTimeout(y))}function f(){return t.toastRef.value}function p(){document.hasFocus()||b(),window.addEventListener("focus",m),window.addEventListener("blur",b)}function g(){window.removeEventListener("focus",m),window.removeEventListener("blur",b)}function m(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function b(){e.value=!1}function S(A){A&&(A.stopPropagation(),A.preventDefault()),n.value=!1}return Ui(h),Ui(()=>{const A=Js();n.value=A.findIndex(y=>y.toastId===o.toastId)>-1}),Ui(()=>{t.isLoading!==void 0&&(t.loading.value?b():m())}),Ot(u),sn(()=>{t.pauseOnFocusLoss&&g()}),{isIn:n,isRunning:e,hideToast:S,eventHandlers:c}}const dI=Qn({name:"ToastItem",inheritAttrs:!1,props:jv,setup(t){const e=Y(),n=ye(()=>!!t.isLoading),r=ye(()=>t.progress!==void 0&&t.progress!==null),s=ye(()=>aI(t)),o=ye(()=>[`${ze.CSS_NAMESPACE}__toast`,`${ze.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${ze.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${ze.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:i,isIn:a,hideToast:l,eventHandlers:c}=uI({toastRef:e,loading:n,done:()=>{Ht.remove(t.toastId)},...Lv(t.transition,t.disabledEnterTransition),...t});return()=>X("div",On({id:t.toastId,class:o.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:u=>{t.closeOnClick&&l(),t.onClick&&t.onClick(u)}},c.value),[X("div",{role:t.role,"data-testid":"toast-body",class:`${ze.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&X("div",{"data-testid":`toast-icon-${t.type}`,class:[`${ze.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${ze.CSS_NAMESPACE}--animate-icon ${ze.CSS_NAMESPACE}__zoom-enter`].join(" ")},[Xi(s.value)?Wn(Ce(s.value),{theme:t.theme,type:t.type}):Us(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),X("div",{"data-testid":"toast-content"},[Xi(t.content)?Wn(Ce(t.content),{toastProps:Ce(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Us(t.content)?t.content({toastProps:Ce(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?Wn("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&X(eI,{theme:t.theme,closeToast:u=>{u.stopPropagation(),u.preventDefault(),l()}},null),Xi(t.closeButton)?Wn(Ce(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Us(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,X(ZC,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:i.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let Ro=0;function Uv(){typeof window>"u"||(Ro&&window.cancelAnimationFrame(Ro),Ro=window.requestAnimationFrame(Uv),Ta.lastUrl!==window.location.href&&(Ta.lastUrl=window.location.href,Ht.clear()))}const hI=Qn({name:"ToastifyContainer",inheritAttrs:!1,props:jv,setup(t){const e=ye(()=>t.containerId),n=ye(()=>Et[e.value]||[]),r=ye(()=>n.value.filter(s=>s.position===t.position));return Ot(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(Uv)}),sn(()=>{typeof window<"u"&&Ro&&(window.cancelAnimationFrame(Ro),Ta.lastUrl="")}),()=>X(we,null,[r.value.map(s=>{const{toastId:o=""}=s;return X(dI,On({key:o},s),null)})])}});let zl=!1;const Fv={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function Bv(){const t=[];return Js().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(nl)&&t.push(e)}),t}function fI(t){const e=Bv().length,n=t??0;return n>0&&e+An.items.length>=n}function pI(t){fI(t.limit)&&!t.updateId&&An.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Lr(t,e,n={}){if(zl)return;n=rl(YC(),{type:e},Ce(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=Dv()),n={...n,...n.type==="loading"?Fv:{},content:t,containerId:n.containerId||String(n.position)};const r=Number(n==null?void 0:n.progress);return!isNaN(r)&&r<0&&(n.progress=0),r>1&&(n.progress=1),n.theme==="auto"&&(n.theme=XC()),pI(n),Ta.lastUrl=window.location.href,n.multiple?An.items.length?n.updateId&&Yi(t,n):Yi(t,n):(zl=!0,je.clearAll(void 0,!1),setTimeout(()=>{Yi(t,n)},0),setTimeout(()=>{zl=!1},390)),n.toastId}const je=(t,e)=>Lr(t,jt.DEFAULT,e);je.info=(t,e)=>Lr(t,jt.DEFAULT,{...e,type:jt.INFO});je.error=(t,e)=>Lr(t,jt.DEFAULT,{...e,type:jt.ERROR});je.warning=(t,e)=>Lr(t,jt.DEFAULT,{...e,type:jt.WARNING});je.warn=je.warning;je.success=(t,e)=>Lr(t,jt.DEFAULT,{...e,type:jt.SUCCESS});je.loading=(t,e)=>Lr(t,jt.DEFAULT,rl(e,Fv));je.dark=(t,e)=>Lr(t,jt.DEFAULT,rl(e,{theme:Gs.DARK}));je.remove=t=>{t?Ht.dismiss(t):Ht.clear()};je.clearAll=(t,e)=>{Ir(()=>{Ht.clear(t,e)})};je.isActive=t=>{let e=!1;return e=Bv().findIndex(n=>n.toastId===t)>-1,e};je.update=(t,e={})=>{setTimeout(()=>{const n=zC(t);if(n){const r=Ce(n),{content:s}=r,o={...r,...e,toastId:e.toastId||t,updateId:Dv()},i=o.render||s;delete o.render,Lr(i,o.type,o)}},0)};je.done=t=>{je.update(t,{isLoading:!1,progress:1})};je.promise=gI;function gI(t,{pending:e,error:n,success:r},s){var o,i,a;let l;const c={...s||{},autoClose:!1};e&&(l=Yc(e)?je.loading(e,c):je.loading(e.render,{...c,...e}));const u={autoClose:(o=s==null?void 0:s.autoClose)!=null?o:!0,closeOnClick:(i=s==null?void 0:s.closeOnClick)!=null?i:!0,closeButton:(a=s==null?void 0:s.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},h=(p,g,m)=>{if(g==null){je.remove(l);return}const b={type:p,...u,...s,data:m},S=Yc(g)?{render:g}:g;return l?je.update(l,{...b,...S,isLoading:!1}):je(S.render,{...b,...S,isLoading:!1}),m},f=Us(t)?t():t;return f.then(p=>{h("success",r,p)}).catch(p=>{h("error",n,p)}),f}je.POSITION=pi;je.THEME=Gs;je.TYPE=jt;je.TRANSITIONS=CC;const mI={install(t,e={}){KC.useHandler=e.useHandler||(()=>{}),vI(e)}};typeof window<"u"&&(window.Vue3Toastify=mI);function vI(t={}){const e=rl(Nv,t);JC(e)}const kt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},yI={class:"space-y-1"},_I=["for"],bI={key:0,class:"text-red-400"},wI={class:"relative"},EI=["id","type","value","placeholder","required","disabled"],xI={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2"},kI={key:1,class:"absolute right-3 top-1/2 -translate-y-1/2"},TI={key:0,class:"text-sm text-red-400 flex items-center gap-1 animate-slide-in"},SI={key:1,class:"text-sm text-gray-400"},CI={__name:"FormInput",props:{id:String,label:String,type:{type:String,default:"text"},modelValue:[String,Number],placeholder:String,required:Boolean,disabled:Boolean,helperText:String,validation:Function,validateOnInput:{type:Boolean,default:!1}},emits:["update:modelValue","validate"],setup(t,{expose:e,emit:n}){const r=t,s=n,o=Y(!1),i=Y(""),a=ye(()=>o.value&&!i.value&&r.modelValue&&r.modelValue.length>0),l=h=>{const f=h.target.value;s("update:modelValue",f),r.validateOnInput&&o.value&&u(f)},c=h=>{o.value=!0,u(h.target.value)},u=h=>{if(i.value="",r.required&&!h)return i.value="Trng ny l bt buc",s("validate",!1),!1;if(r.validation){const f=r.validation(h);if(f!==!0)return i.value=f,s("validate",!1),!1}return r.type==="email"&&h&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)?(i.value="Email khng hp l",s("validate",!1),!1):(s("validate",!0),!0)};return e({validate:u}),(h,f)=>(I(),N("div",yI,[t.label?(I(),N("label",{key:0,for:t.id,class:"block text-sm font-medium text-gray-300"},[fe(B(t.label)+" ",1),t.required?(I(),N("span",bI,"*")):Z("",!0)],8,_I)):Z("",!0),d("div",wI,[d("input",{id:t.id,type:t.type,value:t.modelValue,onInput:l,onBlur:c,placeholder:t.placeholder,required:t.required,disabled:t.disabled,class:Ae(["w-full px-4 py-2.5 rounded-lg bg-gray-800 text-white placeholder-gray-500 border transition-all","focus:outline-none focus:ring-2",i.value?"border-red-500 focus:border-red-500 focus:ring-red-500/50":a.value?"border-green-500 focus:border-green-500 focus:ring-green-500/50":"border-gray-700 focus:border-yellow-400 focus:ring-yellow-400/50",t.disabled&&"opacity-50 cursor-not-allowed"])},null,42,EI),a.value&&!i.value?(I(),N("div",xI,f[0]||(f[0]=[d("svg",{class:"w-5 h-5 text-green-500 animate-scale-in",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)]))):Z("",!0),i.value?(I(),N("div",kI,f[1]||(f[1]=[d("svg",{class:"w-5 h-5 text-red-500 animate-shake",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)]))):Z("",!0)]),X(vt,{name:"slide-down"},{default:ve(()=>[i.value?(I(),N("p",TI,[f[2]||(f[2]=d("svg",{class:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),fe(" "+B(i.value),1)])):Z("",!0)]),_:1}),t.helperText&&!i.value?(I(),N("p",SI,B(t.helperText),1)):Z("",!0)]))}},uo=kt(CI,[["__scopeId","data-v-15cf11d7"]]),II=["type","disabled"],AI={key:0,class:"absolute inset-0 flex items-center justify-center"},OI={__name:"LoadingButton",props:{loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},variant:{type:String,default:"primary",validator:t=>["primary","secondary","danger","success","ghost"].includes(t)},size:{type:String,default:"md",validator:t=>["xs","sm","md","lg","xl"].includes(t)},type:{type:String,default:"button"}},setup(t){const e=t,n=ye(()=>({xs:"px-2 py-1 text-xs rounded",sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2 text-base rounded-lg",lg:"px-6 py-3 text-lg rounded-lg",xl:"px-8 py-4 text-xl rounded-xl"})[e.size]),r=ye(()=>({xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"})[e.size]),s=ye(()=>({primary:"bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-400 shadow-lg",secondary:"bg-gray-700 text-white hover:bg-gray-600 focus:ring-gray-500",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400",success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-400",ghost:"bg-transparent text-white border border-gray-600 hover:bg-gray-800 focus:ring-gray-500"})[e.variant]);return(o,i)=>(I(),N("button",On({type:t.type,disabled:t.loading||t.disabled,class:["relative inline-flex items-center justify-center gap-2 font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",n.value,s.value,t.loading||t.disabled?"cursor-not-allowed opacity-70":"hover:scale-105"]},o.$attrs),[t.loading?(I(),N("div",AI,[(I(),N("svg",{class:Ae(["animate-spin",r.value]),fill:"none",viewBox:"0 0 24 24"},i[0]||(i[0]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),2))])):Z("",!0),d("span",{class:Ae({invisible:t.loading})},[_g(o.$slots,"default")],2)],16,II))}},RI={class:"relative w-full max-w-5xl bg-gray-900 rounded-2xl shadow-2xl overflow-hidden transform transition-all"},PI={class:"grid md:grid-cols-2 min-h-[600px]"},NI={class:"p-6 md:p-8 overflow-y-auto max-h-[600px] scrollbar-hide"},LI={class:"text-2xl font-bold text-white mb-1"},$I={class:"text-sm text-gray-400 mb-4"},MI={key:0,class:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm"},DI={key:1,class:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-400 text-sm"},jI=["disabled"],UI={class:"relative"},FI={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},BI={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},HI={key:2,class:"relative"},VI={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},WI={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qI={class:"mt-4 text-center"},zI={class:"font-semibold"},KI={__name:"AuthModal",props:{modelValue:Boolean},emits:["update:modelValue","success"],setup(t,{emit:e}){const n=e,r=fs(),s=new Hn;s.setCustomParameters({prompt:"select_account"});const o=Y(!0),i=Y(""),a=Y(""),l=Y(""),c=Y(""),u=Y(""),h=Y(!1),f=Y(!1),p=Y(""),g=Y(""),m=Y(!1),b=R=>R?R.length<3?"Tn ng nhp phi c t nht 3 k t":/^[a-zA-Z0-9_]+$/.test(R)?!0:"Ch c dng ch, s v du gch di":"Tn ng nhp l bt buc",S=R=>R?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R)?!0:"Email khng hp l":"Email l bt buc",A=R=>R?R.length<6?"Mt khu phi c t nht 6 k t":!0:"Mt khu l bt buc",y=()=>{n("update:modelValue",!1),setTimeout(()=>{p.value="",g.value="",i.value="",a.value="",l.value="",c.value="",u.value=""},300)},_=()=>{o.value=!o.value,p.value="",g.value=""},P=async()=>{m.value=!0,p.value="",g.value="";try{if(o.value){const v=(await Bx(r,a.value,l.value)).user,$=await v.getIdToken();await x(v,$);const Q=localStorage.getItem("user"),H=localStorage.getItem("token");if(console.log(" Login successful! Checking localStorage:"),console.log("  - User data:",Q),console.log("  - Token:",H?"EXISTS":"MISSING"),console.log("  - Parsed user:",Q?JSON.parse(Q):null),!Q||!H){console.error(" CRITICAL: localStorage not saved properly!"),p.value="Li lu thng tin ng nhp. Vui lng th li.",je.error(p.value),m.value=!1;return}g.value="ng nhp thnh cng!",je.success("ng nhp thnh cng!"),await new Promise(ae=>setTimeout(ae,500)),n("success"),y(),console.log(" Reloading page..."),window.location.reload()}else{if(l.value!==c.value){p.value="Mt khu xc nhn khng khp",je.error("Mt khu xc nhn khng khp"),m.value=!1;return}const v=(await Fx(r,a.value,l.value)).user;await Vx(v,{displayName:u.value||i.value});const $=await v.getIdToken();await x(v,$),g.value="ng k thnh cng! Vui lng ng nhp li.",je.success("ng k thnh cng!");const Q=a.value;setTimeout(()=>{o.value=!0,a.value=Q,l.value="",c.value="",i.value="",u.value="",g.value="",p.value=""},1500)}}catch(R){console.error("Firebase auth error:",R);const v={"auth/user-not-found":"Khng tm thy ti khon vi email ny","auth/wrong-password":"Mt khu khng ng","auth/email-already-in-use":"Email  c s dng","auth/weak-password":"Mt khu qu yu (ti thiu 6 k t)","auth/invalid-email":"Email khng hp l","auth/invalid-credential":"Email hoc mt khu khng ng","auth/too-many-requests":"Qu nhiu ln th. Vui lng th li sau"};p.value=v[R.code]||"C li xy ra. Vui lng th li",je.error(p.value)}finally{m.value=!1}},x=async(R,v)=>{let $=null;try{const ce=await(await fetch("https://hthree-film-production.up.railway.app/api/auth/sync_user.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebase_uid:R.uid,email:R.email,username:R.displayName||R.email.split("@")[0],full_name:R.displayName})})).json();$=ce.success?ce.user_id:null,console.log(" MySQL sync result:",ce)}catch(H){console.error("Failed to sync user to MySQL:",H)}const Q={id:$||R.uid,firebase_uid:R.uid,username:R.displayName||R.email.split("@")[0],email:R.email,full_name:R.displayName,avatar:R.photoURL};localStorage.setItem("user",JSON.stringify(Q)),localStorage.setItem("token",v),console.log(" Saved to localStorage:",Q)},k=async()=>{m.value=!0,p.value="";try{const v=(await d2(r,s)).user;let $=null;try{const ae=await(await fetch("https://hthree-film-production.up.railway.app/api/auth/sync_user.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebase_uid:v.uid,email:v.email,username:v.displayName||v.email.split("@")[0],full_name:v.displayName,avatar:v.photoURL})})).json();ae.success&&ae.user_id&&($=ae.user_id)}catch(Q){console.error("Failed to sync user to MySQL:",Q)}localStorage.setItem("user",JSON.stringify({id:$||v.uid,firebase_uid:v.uid,username:v.displayName,email:v.email,full_name:v.displayName,avatar:v.photoURL})),localStorage.setItem("token",v.accessToken),je.success("ng nhp Google thnh cng!"),setTimeout(()=>{n("success"),y(),window.location.reload()},1e3)}catch(R){console.error("Google auth error:",R),p.value="ng nhp Google tht bi",je.error(p.value)}finally{m.value=!1}};return(R,v)=>(I(),$e(vt,{name:"modal"},{default:ve(()=>[t.modelValue?(I(),N("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:zt(y,["self"])},[d("div",RI,[d("button",{onClick:y,class:"absolute top-4 right-4 z-10 text-gray-400 hover:text-white transition-colors"},v[7]||(v[7]=[d("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),d("div",PI,[v[16]||(v[16]=d("div",{class:"hidden md:block relative overflow-hidden"},[d("img",{src:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=800&q=80",alt:"Cinema",class:"absolute inset-0 w-full h-full object-cover"}),d("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent to-gray-900/50"}),d("div",{class:"absolute inset-0 flex flex-col justify-end p-8 text-white"},[d("div",{class:"flex items-center gap-2 mb-4"},[d("svg",{class:"w-12 h-12 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),d("span",{class:"text-3xl font-bold text-yellow-400"},"HTHREE")]),d("h2",{class:"text-3xl font-bold mb-2"},"Cho mng tr li!"),d("p",{class:"text-gray-300"},"Khm ph hng ngn b phim hay nht")])],-1)),d("div",NI,[v[13]||(v[13]=d("div",{class:"md:hidden flex justify-center mb-6"},[d("div",{class:"flex items-center gap-2"},[d("svg",{class:"w-10 h-10 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),d("span",{class:"text-3xl font-bold text-yellow-400"},"HTHREE")])],-1)),d("h2",LI,B(o.value?"ng Nhp":"ng K"),1),d("p",$I,B(o.value?"Cho mng bn tr li!":"To ti khon mi"),1),p.value?(I(),N("div",MI,B(p.value),1)):Z("",!0),g.value?(I(),N("div",DI,B(g.value),1)):Z("",!0),d("button",{onClick:k,type:"button",disabled:m.value,class:"w-full flex items-center justify-center gap-2 bg-white hover:bg-gray-100 text-gray-800 font-medium py-2.5 rounded-lg transition-all mb-4 text-sm"},[v[8]||(v[8]=d("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",class:"w-4 h-4"},null,-1)),fe(" "+B(o.value?"ng nhp":"ng k")+" vi Google ",1)],8,jI),v[14]||(v[14]=d("div",{class:"relative mb-4"},[d("div",{class:"absolute inset-0 flex items-center"},[d("div",{class:"w-full border-t border-gray-700"})]),d("div",{class:"relative flex justify-center text-xs"},[d("span",{class:"px-3 bg-gray-900 text-gray-400"},"Hoc")])],-1)),d("form",{onSubmit:zt(P,["prevent"]),class:"space-y-3"},[o.value?Z("",!0):(I(),$e(uo,{key:0,id:"username",modelValue:i.value,"onUpdate:modelValue":v[0]||(v[0]=$=>i.value=$),placeholder:"Tn ng nhp",required:!0,"validate-on-input":!0,validation:b,"helper-text":"Ti thiu 3 k t, ch ch v s"},null,8,["modelValue"])),o.value?Z("",!0):(I(),$e(uo,{key:1,id:"fullName",modelValue:u.value,"onUpdate:modelValue":v[1]||(v[1]=$=>u.value=$),placeholder:"H v tn","helper-text":"Ty chn"},null,8,["modelValue"])),X(uo,{id:"email",modelValue:a.value,"onUpdate:modelValue":v[2]||(v[2]=$=>a.value=$),type:o.value?"text":"email",placeholder:o.value?"Tn ng nhp hoc Email":"Email",required:!0,"validate-on-input":!o.value,validation:o.value?null:S},null,8,["modelValue","type","placeholder","validate-on-input","validation"]),d("div",UI,[X(uo,{id:"password",modelValue:l.value,"onUpdate:modelValue":v[3]||(v[3]=$=>l.value=$),type:h.value?"text":"password",placeholder:"Mt khu",required:!0,"validate-on-input":!o.value,validation:A,"helper-text":"Ti thiu 6 k t"},null,8,["modelValue","type","validate-on-input"]),d("button",{type:"button",onClick:v[4]||(v[4]=$=>h.value=!h.value),class:"absolute right-3 top-[14px] text-gray-400 hover:text-white z-10"},[h.value?(I(),N("svg",BI,v[10]||(v[10]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(I(),N("svg",FI,v[9]||(v[9]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),o.value?Z("",!0):(I(),N("div",HI,[X(uo,{id:"confirmPassword",modelValue:c.value,"onUpdate:modelValue":v[5]||(v[5]=$=>c.value=$),type:f.value?"text":"password",placeholder:"Nhp li mt khu",required:!0,"validate-on-input":!0,validation:$=>$?$!==l.value?"Mt khu khng khp":!0:"Vui lng nhp li mt khu"},null,8,["modelValue","type","validation"]),d("button",{type:"button",onClick:v[6]||(v[6]=$=>f.value=!f.value),class:"absolute right-3 top-[14px] text-gray-400 hover:text-white z-10"},[f.value?(I(),N("svg",WI,v[12]||(v[12]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(I(),N("svg",VI,v[11]||(v[11]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])),X(OI,{type:"submit",loading:m.value,variant:"primary",size:"md",class:"w-full"},{default:ve(()=>[fe(B(o.value?"ng Nhp":"ng K"),1)]),_:1},8,["loading"])],32),d("div",qI,[d("button",{onClick:_,class:"text-sm text-gray-400 hover:text-yellow-400"},[fe(B(o.value?"Cha c ti khon?":" c ti khon?")+" ",1),d("span",zI,B(o.value?"ng k ngay":"ng nhp"),1)])]),v[15]||(v[15]=d("div",{class:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700"},[d("p",{class:"text-xs text-gray-400 mb-1.5"},"Ti khon demo:"),d("div",{class:"space-y-0.5 text-xs text-gray-500"},[d("p",null," admin / 123456"),d("p",null," user1 / 123456")])],-1))])])])])):Z("",!0)]),_:1}))}},GI=kt(KI,[["__scopeId","data-v-b89f35ea"]]);function JI(t={}){const e=n=>{const r=[];(n.ctrlKey||n.metaKey)&&r.push("ctrl"),n.shiftKey&&r.push("shift"),n.altKey&&r.push("alt"),r.push(n.key.toLowerCase());const s=r.join("+"),o=t[s];o&&(n.preventDefault(),n.stopPropagation(),o(n))};return Ot(()=>{window.addEventListener("keydown",e)}),sn(()=>{window.removeEventListener("keydown",e)}),{handleKeyDown:e}}const YI={"ctrl+k":"Focus search",escape:"Close modal/dialog","/":"Quick search","ctrl+z":"Undo last action","ctrl+shift+z":"Redo last action","ctrl+s":"Save (where applicable)","ctrl+f":"Find in page","?":"Show keyboard shortcuts help"};function Wr(){const t=document.activeElement,e=t==null?void 0:t.tagName.toLowerCase();return["input","textarea","select"].includes(e)||(t==null?void 0:t.isContentEditable)}function XI(t){return t.split("+").map(e=>({ctrl:"",shift:"",alt:"",escape:"Esc",arrowleft:"",arrowright:"",arrowup:"",arrowdown:""})[e.toLowerCase()]||e.toUpperCase()).join(" + ")}const QI={class:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg hover:bg-gray-800 transition-colors"},ZI={class:"text-gray-300 text-sm"},eA={class:"flex items-center gap-1"},St={__name:"ShortcutItem",props:{shortcut:{type:String,required:!0},description:{type:String,required:!0}},setup(t){const e=t,n=ye(()=>XI(e.shortcut).split(" + "));return(r,s)=>(I(),N("div",QI,[d("span",ZI,B(t.description),1),d("div",eA,[(I(!0),N(we,null,He(n.value,(o,i)=>(I(),N("kbd",{key:i,class:"px-2 py-1 bg-gray-700 text-white rounded text-xs font-mono min-w-[28px] text-center"},B(o),1))),128))])]))}},tA={class:"bg-gray-900 rounded-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden border border-gray-700 shadow-2xl"},nA={class:"bg-gradient-to-r from-yellow-500 to-red-600 p-6 flex items-center justify-between"},rA={class:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]"},sA={class:"mb-8"},oA={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},iA={class:"mb-8"},aA={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},lA={class:"mb-8"},cA={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},uA={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},dA={__name:"KeyboardShortcutsHelp",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t){const e=YI;return(n,r)=>(I(),$e(Zs,{to:"body"},[X(vt,{name:"fade"},{default:ve(()=>[t.show?(I(),N("div",{key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:r[1]||(r[1]=zt(s=>n.$emit("close"),["self"]))},[d("div",tA,[d("div",nA,[r[3]||(r[3]=d("div",{class:"flex items-center gap-3"},[d("div",{class:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})])]),d("div",null,[d("h2",{class:"text-2xl font-bold text-white"},"Phm tt"),d("p",{class:"text-white/80 text-sm"},"Thao tc nhanh hn vi bn phm")])],-1)),d("button",{onClick:r[0]||(r[0]=s=>n.$emit("close")),class:"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors"},r[2]||(r[2]=[d("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),d("div",rA,[d("div",sA,[r[4]||(r[4]=d("h3",{class:"text-lg font-bold text-white mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z","clip-rule":"evenodd"})]),fe(" Phm tt chung ")],-1)),d("div",oA,[(I(!0),N(we,null,He(Ke(e),(s,o)=>(I(),$e(St,{key:o,shortcut:o,description:s},null,8,["shortcut","description"]))),128))])]),d("div",iA,[r[5]||(r[5]=d("h3",{class:"text-lg font-bold text-white mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),fe(" iu hng ")],-1)),d("div",aA,[X(St,{shortcut:"g+h",description:"V trang ch"}),X(St,{shortcut:"g+l",description:"Th vin ca ti"}),X(St,{shortcut:"g+p",description:"Gi dch v"}),X(St,{shortcut:"g+c",description:"Gi hng"})])]),d("div",lA,[r[6]||(r[6]=d("h3",{class:"text-lg font-bold text-white mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-purple-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})]),fe(" Th vin ")],-1)),d("div",cA,[X(St,{shortcut:"f",description:"Lc yu thch"}),X(St,{shortcut:"w",description:"Lc danh sch xem"}),X(St,{shortcut:"c",description:"Lc ang xem"}),X(St,{shortcut:"delete",description:"Xa mc  chn"})])]),d("div",null,[r[7]||(r[7]=d("h3",{class:"text-lg font-bold text-white mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),fe(" Trnh pht video ")],-1)),d("div",uA,[X(St,{shortcut:"space",description:"Pht/Tm dng"}),X(St,{shortcut:"f",description:"Ton mn hnh"}),X(St,{shortcut:"m",description:"Tt/Bt ting"}),X(St,{shortcut:"",description:"Tua li 10s"}),X(St,{shortcut:"",description:"Tua ti 10s"}),X(St,{shortcut:"",description:"Tng m lng"}),X(St,{shortcut:"",description:"Gim m lng"})])])]),r[8]||(r[8]=d("div",{class:"bg-gray-800/50 px-6 py-4 border-t border-gray-700"},[d("p",{class:"text-gray-400 text-sm text-center"},[fe(" Nhn "),d("kbd",{class:"px-2 py-1 bg-gray-700 rounded text-xs"},"?"),fe(" bt c lc no  xem phm tt ")])],-1))])])):Z("",!0)]),_:1})]))}},Hv=kt(dA,[["__scopeId","data-v-b775cdea"]]);let Mn=null;function hA(t){Mn=t}function ol(){return{success:(t,e=3e3)=>{Mn&&Mn.success(t,e)},error:(t,e=3e3)=>{Mn&&Mn.error(t,e)},warning:(t,e=3e3)=>{Mn&&Mn.warning(t,e)},info:(t,e=3e3)=>{Mn&&Mn.info(t,e)}}}function fA(t=10){const e="recent_searches",r=Y((()=>{try{const c=localStorage.getItem(e);return c?JSON.parse(c):[]}catch(c){return console.error("Failed to load recent searches:",c),[]}})()),s=()=>{try{localStorage.setItem(e,JSON.stringify(r.value))}catch(c){console.error("Failed to save recent searches:",c)}};return{recentSearches:r,addSearch:c=>{if(!c||!c.trim())return;const u=c.trim();r.value=r.value.filter(h=>h.toLowerCase()!==u.toLowerCase()),r.value.unshift(u),r.value.length>t&&(r.value=r.value.slice(0,t)),s()},removeSearch:c=>{r.value=r.value.filter(u=>u!==c),s()},clearSearches:()=>{r.value=[],localStorage.removeItem(e)},getFilteredSearches:c=>{if(!c)return r.value;const u=c.toLowerCase();return r.value.filter(h=>h.toLowerCase().includes(u))}}}/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function pA(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Sa=typeof window<"u",$r=(t,e=!1)=>e?Symbol.for(t):Symbol(t),gA=(t,e,n)=>mA({l:t,k:e,s:n}),mA=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ct=t=>typeof t=="number"&&isFinite(t),vA=t=>Wv(t)==="[object Date]",kr=t=>Wv(t)==="[object RegExp]",il=t=>Ie(t)&&Object.keys(t).length===0,xt=Object.assign,yA=Object.create,Je=(t=null)=>yA(t);let Ff;const Vn=()=>Ff||(Ff=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Je());function Bf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Hf(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _A(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,s,o)=>`${s}="${Hf(o)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,s,o)=>`${s}='${Hf(o)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{t=t.replace(r,"$1javascript&#58;")}),t}const bA=Object.prototype.hasOwnProperty;function dn(t,e){return bA.call(t,e)}const nt=Array.isArray,tt=t=>typeof t=="function",le=t=>typeof t=="string",Me=t=>typeof t=="boolean",Be=t=>t!==null&&typeof t=="object",wA=t=>Be(t)&&tt(t.then)&&tt(t.catch),Vv=Object.prototype.toString,Wv=t=>Vv.call(t),Ie=t=>{if(!Be(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},EA=t=>t==null?"":nt(t)||Ie(t)&&t.toString===Vv?JSON.stringify(t,null,2):String(t);function xA(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function al(t){let e=t;return()=>++e}const Ni=t=>!Be(t)||nt(t);function ea(t,e){if(Ni(t)||Ni(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(o=>{o!=="__proto__"&&(Be(r[o])&&!Be(s[o])&&(s[o]=Array.isArray(r[o])?[]:Je()),Ni(s[o])||Ni(r[o])?s[o]=r[o]:n.push({src:r[o],des:s[o]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function kA(t,e,n){return{line:t,column:e,offset:n}}function Ca(t,e,n){return{start:t,end:e}}const TA=/\{([0-9a-zA-Z]+)\}/g;function qv(t,...e){return e.length===1&&SA(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(TA,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const zv=Object.assign,Vf=t=>typeof t=="string",SA=t=>t!==null&&typeof t=="object";function Kv(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const td={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},CA={[td.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function IA(t,e,...n){const r=qv(CA[t],...n||[]),s={message:String(r),code:t};return e&&(s.location=e),s}const ke={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},AA={[ke.EXPECTED_TOKEN]:"Expected token: '{0}'",[ke.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ke.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ke.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ke.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ke.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ke.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ke.EMPTY_PLACEHOLDER]:"Empty placeholder",[ke.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ke.INVALID_LINKED_FORMAT]:"Invalid linked format",[ke.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ke.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ke.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ke.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ke.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ke.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function so(t,e,n={}){const{domain:r,messages:s,args:o}=n,i=qv((s||AA)[t]||"",...o||[]),a=new SyntaxError(String(i));return a.code=t,e&&(a.location=e),a.domain=r,a}function OA(t){throw t}const Nn=" ",RA="\r",Pt=`
`,PA="\u2028",NA="\u2029";function LA(t){const e=t;let n=0,r=1,s=1,o=0;const i=k=>e[k]===RA&&e[k+1]===Pt,a=k=>e[k]===Pt,l=k=>e[k]===NA,c=k=>e[k]===PA,u=k=>i(k)||a(k)||l(k)||c(k),h=()=>n,f=()=>r,p=()=>s,g=()=>o,m=k=>i(k)||l(k)||c(k)?Pt:e[k],b=()=>m(n),S=()=>m(n+o);function A(){return o=0,u(n)&&(r++,s=0),i(n)&&n++,n++,s++,e[n]}function y(){return i(n+o)&&o++,o++,e[n+o]}function _(){n=0,r=1,s=1,o=0}function P(k=0){o=k}function x(){const k=n+o;for(;k!==n;)A();o=0}return{index:h,line:f,column:p,peekOffset:g,charAt:m,currentChar:b,currentPeek:S,next:A,peek:y,reset:_,resetPeek:P,skipToPeek:x}}const ar=void 0,$A=".",Wf="'",MA="tokenizer";function DA(t,e={}){const n=e.location!==!1,r=LA(t),s=()=>r.index(),o=()=>kA(r.line(),r.column(),r.index()),i=o(),a=s(),l={currentType:14,offset:a,startLoc:i,endLoc:i,lastType:14,lastOffset:a,lastStartLoc:i,lastEndLoc:i,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function h(w,E,M,...F){const ie=c();if(E.column+=M,E.offset+=M,u){const te=n?Ca(ie.startLoc,E):null,D=so(w,te,{domain:MA,args:F});u(D)}}function f(w,E,M){w.endLoc=o(),w.currentType=E;const F={type:E};return n&&(F.loc=Ca(w.startLoc,w.endLoc)),M!=null&&(F.value=M),F}const p=w=>f(w,14);function g(w,E){return w.currentChar()===E?(w.next(),E):(h(ke.EXPECTED_TOKEN,o(),0,E),"")}function m(w){let E="";for(;w.currentPeek()===Nn||w.currentPeek()===Pt;)E+=w.currentPeek(),w.peek();return E}function b(w){const E=m(w);return w.skipToPeek(),E}function S(w){if(w===ar)return!1;const E=w.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E===95}function A(w){if(w===ar)return!1;const E=w.charCodeAt(0);return E>=48&&E<=57}function y(w,E){const{currentType:M}=E;if(M!==2)return!1;m(w);const F=S(w.currentPeek());return w.resetPeek(),F}function _(w,E){const{currentType:M}=E;if(M!==2)return!1;m(w);const F=w.currentPeek()==="-"?w.peek():w.currentPeek(),ie=A(F);return w.resetPeek(),ie}function P(w,E){const{currentType:M}=E;if(M!==2)return!1;m(w);const F=w.currentPeek()===Wf;return w.resetPeek(),F}function x(w,E){const{currentType:M}=E;if(M!==8)return!1;m(w);const F=w.currentPeek()===".";return w.resetPeek(),F}function k(w,E){const{currentType:M}=E;if(M!==9)return!1;m(w);const F=S(w.currentPeek());return w.resetPeek(),F}function R(w,E){const{currentType:M}=E;if(!(M===8||M===12))return!1;m(w);const F=w.currentPeek()===":";return w.resetPeek(),F}function v(w,E){const{currentType:M}=E;if(M!==10)return!1;const F=()=>{const te=w.currentPeek();return te==="{"?S(w.peek()):te==="@"||te==="%"||te==="|"||te===":"||te==="."||te===Nn||!te?!1:te===Pt?(w.peek(),F()):H(w,!1)},ie=F();return w.resetPeek(),ie}function $(w){m(w);const E=w.currentPeek()==="|";return w.resetPeek(),E}function Q(w){const E=m(w),M=w.currentPeek()==="%"&&w.peek()==="{";return w.resetPeek(),{isModulo:M,hasSpace:E.length>0}}function H(w,E=!0){const M=(ie=!1,te="",D=!1)=>{const z=w.currentPeek();return z==="{"?te==="%"?!1:ie:z==="@"||!z?te==="%"?!0:ie:z==="%"?(w.peek(),M(ie,"%",!0)):z==="|"?te==="%"||D?!0:!(te===Nn||te===Pt):z===Nn?(w.peek(),M(!0,Nn,D)):z===Pt?(w.peek(),M(!0,Pt,D)):!0},F=M();return E&&w.resetPeek(),F}function ae(w,E){const M=w.currentChar();return M===ar?ar:E(M)?(w.next(),M):null}function ce(w){const E=w.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||E===95||E===36}function De(w){return ae(w,ce)}function ee(w){const E=w.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||E===95||E===36||E===45}function U(w){return ae(w,ee)}function de(w){const E=w.charCodeAt(0);return E>=48&&E<=57}function he(w){return ae(w,de)}function Ee(w){const E=w.charCodeAt(0);return E>=48&&E<=57||E>=65&&E<=70||E>=97&&E<=102}function ge(w){return ae(w,Ee)}function Re(w){let E="",M="";for(;E=he(w);)M+=E;return M}function J(w){b(w);const E=w.currentChar();return E!=="%"&&h(ke.EXPECTED_TOKEN,o(),0,E),w.next(),"%"}function xe(w){let E="";for(;;){const M=w.currentChar();if(M==="{"||M==="}"||M==="@"||M==="|"||!M)break;if(M==="%")if(H(w))E+=M,w.next();else break;else if(M===Nn||M===Pt)if(H(w))E+=M,w.next();else{if($(w))break;E+=M,w.next()}else E+=M,w.next()}return E}function Ue(w){b(w);let E="",M="";for(;E=U(w);)M+=E;return w.currentChar()===ar&&h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),M}function Fe(w){b(w);let E="";return w.currentChar()==="-"?(w.next(),E+=`-${Re(w)}`):E+=Re(w),w.currentChar()===ar&&h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),E}function W(w){return w!==Wf&&w!==Pt}function q(w){b(w),g(w,"'");let E="",M="";for(;E=ae(w,W);)E==="\\"?M+=L(w):M+=E;const F=w.currentChar();return F===Pt||F===ar?(h(ke.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),F===Pt&&(w.next(),g(w,"'")),M):(g(w,"'"),M)}function L(w){const E=w.currentChar();switch(E){case"\\":case"'":return w.next(),`\\${E}`;case"u":return ne(w,E,4);case"U":return ne(w,E,6);default:return h(ke.UNKNOWN_ESCAPE_SEQUENCE,o(),0,E),""}}function ne(w,E,M){g(w,E);let F="";for(let ie=0;ie<M;ie++){const te=ge(w);if(!te){h(ke.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${E}${F}${w.currentChar()}`);break}F+=te}return`\\${E}${F}`}function re(w){return w!=="{"&&w!=="}"&&w!==Nn&&w!==Pt}function T(w){b(w);let E="",M="";for(;E=ae(w,re);)M+=E;return M}function O(w){let E="",M="";for(;E=De(w);)M+=E;return M}function C(w){const E=M=>{const F=w.currentChar();return F==="{"||F==="%"||F==="@"||F==="|"||F==="("||F===")"||!F||F===Nn?M:(M+=F,w.next(),E(M))};return E("")}function j(w){b(w);const E=g(w,"|");return b(w),E}function G(w,E){let M=null;switch(w.currentChar()){case"{":return E.braceNest>=1&&h(ke.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),w.next(),M=f(E,2,"{"),b(w),E.braceNest++,M;case"}":return E.braceNest>0&&E.currentType===2&&h(ke.EMPTY_PLACEHOLDER,o(),0),w.next(),M=f(E,3,"}"),E.braceNest--,E.braceNest>0&&b(w),E.inLinked&&E.braceNest===0&&(E.inLinked=!1),M;case"@":return E.braceNest>0&&h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),M=K(w,E)||p(E),E.braceNest=0,M;default:{let ie=!0,te=!0,D=!0;if($(w))return E.braceNest>0&&h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),M=f(E,1,j(w)),E.braceNest=0,E.inLinked=!1,M;if(E.braceNest>0&&(E.currentType===5||E.currentType===6||E.currentType===7))return h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),E.braceNest=0,oe(w,E);if(ie=y(w,E))return M=f(E,5,Ue(w)),b(w),M;if(te=_(w,E))return M=f(E,6,Fe(w)),b(w),M;if(D=P(w,E))return M=f(E,7,q(w)),b(w),M;if(!ie&&!te&&!D)return M=f(E,13,T(w)),h(ke.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,M.value),b(w),M;break}}return M}function K(w,E){const{currentType:M}=E;let F=null;const ie=w.currentChar();switch((M===8||M===9||M===12||M===10)&&(ie===Pt||ie===Nn)&&h(ke.INVALID_LINKED_FORMAT,o(),0),ie){case"@":return w.next(),F=f(E,8,"@"),E.inLinked=!0,F;case".":return b(w),w.next(),f(E,9,".");case":":return b(w),w.next(),f(E,10,":");default:return $(w)?(F=f(E,1,j(w)),E.braceNest=0,E.inLinked=!1,F):x(w,E)||R(w,E)?(b(w),K(w,E)):k(w,E)?(b(w),f(E,12,O(w))):v(w,E)?(b(w),ie==="{"?G(w,E)||F:f(E,11,C(w))):(M===8&&h(ke.INVALID_LINKED_FORMAT,o(),0),E.braceNest=0,E.inLinked=!1,oe(w,E))}}function oe(w,E){let M={type:14};if(E.braceNest>0)return G(w,E)||p(E);if(E.inLinked)return K(w,E)||p(E);switch(w.currentChar()){case"{":return G(w,E)||p(E);case"}":return h(ke.UNBALANCED_CLOSING_BRACE,o(),0),w.next(),f(E,3,"}");case"@":return K(w,E)||p(E);default:{if($(w))return M=f(E,1,j(w)),E.braceNest=0,E.inLinked=!1,M;const{isModulo:ie,hasSpace:te}=Q(w);if(ie)return te?f(E,0,xe(w)):f(E,4,J(w));if(H(w))return f(E,0,xe(w));break}}return M}function se(){const{currentType:w,offset:E,startLoc:M,endLoc:F}=l;return l.lastType=w,l.lastOffset=E,l.lastStartLoc=M,l.lastEndLoc=F,l.offset=s(),l.startLoc=o(),r.currentChar()===ar?f(l,14):oe(r,l)}return{nextToken:se,currentOffset:s,currentPosition:o,context:c}}const jA="parser",UA=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function FA(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function BA(t={}){const e=t.location!==!1,{onError:n,onWarn:r}=t;function s(y,_,P,x,...k){const R=y.currentPosition();if(R.offset+=x,R.column+=x,n){const v=e?Ca(P,R):null,$=so(_,v,{domain:jA,args:k});n($)}}function o(y,_,P,x,...k){const R=y.currentPosition();if(R.offset+=x,R.column+=x,r){const v=e?Ca(P,R):null;r(IA(_,v,k))}}function i(y,_,P){const x={type:y};return e&&(x.start=_,x.end=_,x.loc={start:P,end:P}),x}function a(y,_,P,x){e&&(y.end=_,y.loc&&(y.loc.end=P))}function l(y,_){const P=y.context(),x=i(3,P.offset,P.startLoc);return x.value=_,a(x,y.currentOffset(),y.currentPosition()),x}function c(y,_){const P=y.context(),{lastOffset:x,lastStartLoc:k}=P,R=i(5,x,k);return R.index=parseInt(_,10),y.nextToken(),a(R,y.currentOffset(),y.currentPosition()),R}function u(y,_,P){const x=y.context(),{lastOffset:k,lastStartLoc:R}=x,v=i(4,k,R);return v.key=_,P===!0&&(v.modulo=!0),y.nextToken(),a(v,y.currentOffset(),y.currentPosition()),v}function h(y,_){const P=y.context(),{lastOffset:x,lastStartLoc:k}=P,R=i(9,x,k);return R.value=_.replace(UA,FA),y.nextToken(),a(R,y.currentOffset(),y.currentPosition()),R}function f(y){const _=y.nextToken(),P=y.context(),{lastOffset:x,lastStartLoc:k}=P,R=i(8,x,k);return _.type!==12?(s(y,ke.UNEXPECTED_EMPTY_LINKED_MODIFIER,P.lastStartLoc,0),R.value="",a(R,x,k),{nextConsumeToken:_,node:R}):(_.value==null&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,P.lastStartLoc,0,on(_)),R.value=_.value||"",a(R,y.currentOffset(),y.currentPosition()),{node:R})}function p(y,_){const P=y.context(),x=i(7,P.offset,P.startLoc);return x.value=_,a(x,y.currentOffset(),y.currentPosition()),x}function g(y){const _=y.context(),P=i(6,_.offset,_.startLoc);let x=y.nextToken();if(x.type===9){const k=f(y);P.modifier=k.node,x=k.nextConsumeToken||y.nextToken()}switch(x.type!==10&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,on(x)),x=y.nextToken(),x.type===2&&(x=y.nextToken()),x.type){case 11:x.value==null&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,on(x)),P.key=p(y,x.value||"");break;case 5:x.value==null&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,on(x)),P.key=u(y,x.value||"");break;case 6:x.value==null&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,on(x)),P.key=c(y,x.value||"");break;case 7:x.value==null&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,on(x)),P.key=h(y,x.value||"");break;default:{s(y,ke.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const k=y.context(),R=i(7,k.offset,k.startLoc);return R.value="",a(R,k.offset,k.startLoc),P.key=R,a(P,k.offset,k.startLoc),{nextConsumeToken:x,node:P}}}return a(P,y.currentOffset(),y.currentPosition()),{node:P}}function m(y){const _=y.context(),P=_.currentType===1?y.currentOffset():_.offset,x=_.currentType===1?_.endLoc:_.startLoc,k=i(2,P,x);k.items=[];let R=null,v=null;do{const H=R||y.nextToken();switch(R=null,H.type){case 0:H.value==null&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,on(H)),k.items.push(l(y,H.value||""));break;case 6:H.value==null&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,on(H)),k.items.push(c(y,H.value||""));break;case 4:v=!0;break;case 5:H.value==null&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,on(H)),k.items.push(u(y,H.value||"",!!v)),v&&(o(y,td.USE_MODULO_SYNTAX,_.lastStartLoc,0,on(H)),v=null);break;case 7:H.value==null&&s(y,ke.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,on(H)),k.items.push(h(y,H.value||""));break;case 8:{const ae=g(y);k.items.push(ae.node),R=ae.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const $=_.currentType===1?_.lastOffset:y.currentOffset(),Q=_.currentType===1?_.lastEndLoc:y.currentPosition();return a(k,$,Q),k}function b(y,_,P,x){const k=y.context();let R=x.items.length===0;const v=i(1,_,P);v.cases=[],v.cases.push(x);do{const $=m(y);R||(R=$.items.length===0),v.cases.push($)}while(k.currentType!==14);return R&&s(y,ke.MUST_HAVE_MESSAGES_IN_PLURAL,P,0),a(v,y.currentOffset(),y.currentPosition()),v}function S(y){const _=y.context(),{offset:P,startLoc:x}=_,k=m(y);return _.currentType===14?k:b(y,P,x,k)}function A(y){const _=DA(y,zv({},t)),P=_.context(),x=i(0,P.offset,P.startLoc);return e&&x.loc&&(x.loc.source=y),x.body=S(_),t.onCacheKey&&(x.cacheKey=t.onCacheKey(y)),P.currentType!==14&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,P.lastStartLoc,0,y[P.offset]||""),a(x,_.currentOffset(),_.currentPosition()),x}return{parse:A}}function on(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function HA(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:o=>(n.helpers.add(o),o)}}function qf(t,e){for(let n=0;n<t.length;n++)nd(t[n],e)}function nd(t,e){switch(t.type){case 1:qf(t.cases,e),e.helper("plural");break;case 2:qf(t.items,e);break;case 6:{nd(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function VA(t,e={}){const n=HA(t);n.helper("normalize"),t.body&&nd(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function WA(t){const e=t.body;return e.type===2?zf(e):e.cases.forEach(n=>zf(n)),t}function zf(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=Kv(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const qA="minifier";function Cs(t){switch(t.t=t.type,t.type){case 0:{const e=t;Cs(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)Cs(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)Cs(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Cs(e.key),e.k=e.key,delete e.key,e.modifier&&(Cs(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw so(ke.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:qA,args:[t.type]})}delete t.type}const zA="parser";function KA(t,e){const{filename:n,breakLineCode:r,needIndent:s}=e,o=e.location!==!1,i={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};o&&t.loc&&(i.source=t.loc.source);const a=()=>i;function l(m,b){i.code+=m}function c(m,b=!0){const S=b?r:"";l(s?S+"  ".repeat(m):S)}function u(m=!0){const b=++i.indentLevel;m&&c(b)}function h(m=!0){const b=--i.indentLevel;m&&c(b)}function f(){c(i.indentLevel)}return{context:a,push:l,indent:u,deindent:h,newline:f,helper:m=>`_${m}`,needIndent:()=>i.needIndent}}function GA(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Ys(t,e.key),e.modifier?(t.push(", "),Ys(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function JA(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let o=0;o<s&&(Ys(t,e.items[o]),o!==s-1);o++)t.push(", ");t.deindent(r()),t.push("])")}function YA(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let o=0;o<s&&(Ys(t,e.cases[o]),o!==s-1);o++)t.push(", ");t.deindent(r()),t.push("])")}}function XA(t,e){e.body?Ys(t,e.body):t.push("null")}function Ys(t,e){const{helper:n}=t;switch(e.type){case 0:XA(t,e);break;case 1:YA(t,e);break;case 2:JA(t,e);break;case 6:GA(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw so(ke.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:zA,args:[e.type]})}}const QA=(t,e={})=>{const n=Vf(e.mode)?e.mode:"normal",r=Vf(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,o=e.needIndent?e.needIndent:n!=="arrow",i=t.helpers||[],a=KA(t,{filename:r,breakLineCode:s,needIndent:o});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(o),i.length>0&&(a.push(`const { ${Kv(i.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),Ys(a,t),a.deindent(o),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function ZA(t,e={}){const n=zv({},e),r=!!n.jit,s=!!n.minify,o=n.optimize==null?!0:n.optimize,a=BA(n).parse(t);return r?(o&&WA(a),s&&Cs(a),{ast:a,code:""}):(VA(a,n),QA(a,n))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function eO(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vn().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Vn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Vn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function In(t){return Be(t)&&rd(t)===0&&(dn(t,"b")||dn(t,"body"))}const Gv=["b","body"];function tO(t){return Mr(t,Gv)}const Jv=["c","cases"];function nO(t){return Mr(t,Jv,[])}const Yv=["s","static"];function rO(t){return Mr(t,Yv)}const Xv=["i","items"];function sO(t){return Mr(t,Xv,[])}const Qv=["t","type"];function rd(t){return Mr(t,Qv)}const Zv=["v","value"];function Li(t,e){const n=Mr(t,Zv);if(n!=null)return n;throw Jo(e)}const ey=["m","modifier"];function oO(t){return Mr(t,ey)}const ty=["k","key"];function iO(t){const e=Mr(t,ty);if(e)return e;throw Jo(6)}function Mr(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(dn(t,s)&&t[s]!=null)return t[s]}return n}const ny=[...Gv,...Jv,...Yv,...Xv,...ty,...ey,...Zv,...Qv];function Jo(t){return new Error(`unhandled node type: ${t}`)}const Dr=[];Dr[0]={w:[0],i:[3,0],"[":[4],o:[7]};Dr[1]={w:[1],".":[2],"[":[4],o:[7]};Dr[2]={w:[2],i:[3,0],0:[3,0]};Dr[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Dr[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Dr[5]={"'":[4,0],o:8,l:[5,0]};Dr[6]={'"':[4,0],o:8,l:[6,0]};const aO=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function lO(t){return aO.test(t)}function cO(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function uO(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function dO(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:lO(e)?cO(e):"*"+e}function hO(t){const e=[];let n=-1,r=0,s=0,o,i,a,l,c,u,h;const f=[];f[0]=()=>{i===void 0?i=a:i+=a},f[1]=()=>{i!==void 0&&(e.push(i),i=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,r=4,f[0]();else{if(s=0,i===void 0||(i=dO(i),i===!1))return!1;f[1]()}};function p(){const g=t[n+1];if(r===5&&g==="'"||r===6&&g==='"')return n++,a="\\"+g,f[0](),!0}for(;r!==null;)if(n++,o=t[n],!(o==="\\"&&p())){if(l=uO(o),h=Dr[r],c=h[l]||h.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=o,u()===!1))))return;if(r===7)return e}}const Kf=new Map;function fO(t,e){return Be(t)?t[e]:null}function pO(t,e){if(!Be(t))return null;let n=Kf.get(e);if(n||(n=hO(e),n&&Kf.set(e,n)),!n)return null;const r=n.length;let s=t,o=0;for(;o<r;){const i=n[o];if(ny.includes(i)&&In(s))return null;const a=s[i];if(a===void 0||tt(s))return null;s=a,o++}return s}const gO=t=>t,mO=t=>"",vO="text",yO=t=>t.length===0?"":xA(t),_O=EA;function Gf(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function bO(t){const e=ct(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ct(t.named.count)||ct(t.named.n))?ct(t.named.count)?t.named.count:ct(t.named.n)?t.named.n:e:e}function wO(t,e){e.count||(e.count=t),e.n||(e.n=t)}function EO(t={}){const e=t.locale,n=bO(t),r=Be(t.pluralRules)&&le(e)&&tt(t.pluralRules[e])?t.pluralRules[e]:Gf,s=Be(t.pluralRules)&&le(e)&&tt(t.pluralRules[e])?Gf:void 0,o=S=>S[r(n,S.length,s)],i=t.list||[],a=S=>i[S],l=t.named||Je();ct(t.pluralIndex)&&wO(n,l);const c=S=>l[S];function u(S){const A=tt(t.messages)?t.messages(S):Be(t.messages)?t.messages[S]:!1;return A||(t.parent?t.parent.message(S):mO)}const h=S=>t.modifiers?t.modifiers[S]:gO,f=Ie(t.processor)&&tt(t.processor.normalize)?t.processor.normalize:yO,p=Ie(t.processor)&&tt(t.processor.interpolate)?t.processor.interpolate:_O,g=Ie(t.processor)&&le(t.processor.type)?t.processor.type:vO,b={list:a,named:c,plural:o,linked:(S,...A)=>{const[y,_]=A;let P="text",x="";A.length===1?Be(y)?(x=y.modifier||x,P=y.type||P):le(y)&&(x=y||x):A.length===2&&(le(y)&&(x=y||x),le(_)&&(P=_||P));const k=u(S)(b),R=P==="vnode"&&nt(k)&&x?k[0]:k;return x?h(x)(R,P):R},message:u,type:g,interpolate:p,normalize:f,values:xt(Je(),i,l)};return b}let Yo=null;function xO(t){Yo=t}function kO(t,e,n){Yo&&Yo.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const TO=SO("function:translate");function SO(t){return e=>Yo&&Yo.emit(t,e)}const CO=td.__EXTEND_POINT__,qr=al(CO),IO={FALLBACK_TO_TRANSLATE:qr(),CANNOT_FORMAT_NUMBER:qr(),FALLBACK_TO_NUMBER_FORMAT:qr(),CANNOT_FORMAT_DATE:qr(),FALLBACK_TO_DATE_FORMAT:qr(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:qr(),__EXTEND_POINT__:qr()},ry=ke.__EXTEND_POINT__,zr=al(ry),hn={INVALID_ARGUMENT:ry,INVALID_DATE_ARGUMENT:zr(),INVALID_ISO_DATE_ARGUMENT:zr(),NOT_SUPPORT_NON_STRING_MESSAGE:zr(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:zr(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:zr(),NOT_SUPPORT_LOCALE_TYPE:zr(),__EXTEND_POINT__:zr()};function Tn(t){return so(t,null,void 0)}function sd(t,e){return e.locale!=null?Jf(e.locale):Jf(t.locale)}let Kl;function Jf(t){if(le(t))return t;if(tt(t)){if(t.resolvedOnce&&Kl!=null)return Kl;if(t.constructor.name==="Function"){const e=t();if(wA(e))throw Tn(hn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Kl=e}else throw Tn(hn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Tn(hn.NOT_SUPPORT_LOCALE_TYPE)}function AO(t,e,n){return[...new Set([n,...nt(e)?e:Be(e)?Object.keys(e):le(e)?[e]:[n]])]}function sy(t,e,n){const r=le(n)?n:Xs,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let o=s.__localeChainCache.get(r);if(!o){o=[];let i=[n];for(;nt(i);)i=Yf(o,i,e);const a=nt(e)||!Ie(e)?e:e.default?e.default:null;i=le(a)?[a]:a,nt(i)&&Yf(o,i,!1),s.__localeChainCache.set(r,o)}return o}function Yf(t,e,n){let r=!0;for(let s=0;s<e.length&&Me(r);s++){const o=e[s];le(o)&&(r=OO(t,e[s],n))}return r}function OO(t,e,n){let r;const s=e.split("-");do{const o=s.join("-");r=RO(t,o,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function RO(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(nt(n)||Ie(n))&&n[s]&&(r=n[s])}return r}const PO="9.14.5",ll=-1,Xs="en-US",Xf="",Qf=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function NO(){return{upper:(t,e)=>e==="text"&&le(t)?t.toUpperCase():e==="vnode"&&Be(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&le(t)?t.toLowerCase():e==="vnode"&&Be(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&le(t)?Qf(t):e==="vnode"&&Be(t)&&"__v_isVNode"in t?Qf(t.children):t}}let oy;function Zf(t){oy=t}let iy;function LO(t){iy=t}let ay;function $O(t){ay=t}let ly=null;const MO=t=>{ly=t},DO=()=>ly;let cy=null;const ep=t=>{cy=t},jO=()=>cy;let tp=0;function UO(t={}){const e=tt(t.onWarn)?t.onWarn:pA,n=le(t.version)?t.version:PO,r=le(t.locale)||tt(t.locale)?t.locale:Xs,s=tt(r)?Xs:r,o=nt(t.fallbackLocale)||Ie(t.fallbackLocale)||le(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,i=Ie(t.messages)?t.messages:Gl(s),a=Ie(t.datetimeFormats)?t.datetimeFormats:Gl(s),l=Ie(t.numberFormats)?t.numberFormats:Gl(s),c=xt(Je(),t.modifiers,NO()),u=t.pluralRules||Je(),h=tt(t.missing)?t.missing:null,f=Me(t.missingWarn)||kr(t.missingWarn)?t.missingWarn:!0,p=Me(t.fallbackWarn)||kr(t.fallbackWarn)?t.fallbackWarn:!0,g=!!t.fallbackFormat,m=!!t.unresolving,b=tt(t.postTranslation)?t.postTranslation:null,S=Ie(t.processor)?t.processor:null,A=Me(t.warnHtmlMessage)?t.warnHtmlMessage:!0,y=!!t.escapeParameter,_=tt(t.messageCompiler)?t.messageCompiler:oy,P=tt(t.messageResolver)?t.messageResolver:iy||fO,x=tt(t.localeFallbacker)?t.localeFallbacker:ay||AO,k=Be(t.fallbackContext)?t.fallbackContext:void 0,R=t,v=Be(R.__datetimeFormatters)?R.__datetimeFormatters:new Map,$=Be(R.__numberFormatters)?R.__numberFormatters:new Map,Q=Be(R.__meta)?R.__meta:{};tp++;const H={version:n,cid:tp,locale:r,fallbackLocale:o,messages:i,modifiers:c,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:p,fallbackFormat:g,unresolving:m,postTranslation:b,processor:S,warnHtmlMessage:A,escapeParameter:y,messageCompiler:_,messageResolver:P,localeFallbacker:x,fallbackContext:k,onWarn:e,__meta:Q};return H.datetimeFormats=a,H.numberFormats=l,H.__datetimeFormatters=v,H.__numberFormatters=$,__INTLIFY_PROD_DEVTOOLS__&&kO(H,n,Q),H}const Gl=t=>({[t]:Je()});function od(t,e,n,r,s){const{missing:o,onWarn:i}=t;if(o!==null){const a=o(t,n,e,s);return le(a)?a:e}else return e}function ho(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function FO(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function BO(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(FO(t,e[r]))return!0;return!1}function Jl(t){return n=>HO(n,t)}function HO(t,e){const n=tO(e);if(n==null)throw Jo(0);if(rd(n)===1){const o=nO(n);return t.plural(o.reduce((i,a)=>[...i,np(t,a)],[]))}else return np(t,n)}function np(t,e){const n=rO(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=sO(e).reduce((s,o)=>[...s,Xc(t,o)],[]);return t.normalize(r)}}function Xc(t,e){const n=rd(e);switch(n){case 3:return Li(e,n);case 9:return Li(e,n);case 4:{const r=e;if(dn(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(dn(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw Jo(n)}case 5:{const r=e;if(dn(r,"i")&&ct(r.i))return t.interpolate(t.list(r.i));if(dn(r,"index")&&ct(r.index))return t.interpolate(t.list(r.index));throw Jo(n)}case 6:{const r=e,s=oO(r),o=iO(r);return t.linked(Xc(t,o),s?Xc(t,s):void 0,t.type)}case 7:return Li(e,n);case 8:return Li(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const uy=t=>t;let As=Je();function dy(t,e={}){let n=!1;const r=e.onError||OA;return e.onError=s=>{n=!0,r(s)},{...ZA(t,e),detectError:n}}const VO=(t,e)=>{if(!le(t))throw Tn(hn.NOT_SUPPORT_NON_STRING_MESSAGE);{Me(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||uy)(t),s=As[r];if(s)return s;const{code:o,detectError:i}=dy(t,e),a=new Function(`return ${o}`)();return i?a:As[r]=a}};function WO(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&le(t)){Me(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||uy)(t),s=As[r];if(s)return s;const{ast:o,detectError:i}=dy(t,{...e,location:!1,jit:!0}),a=Jl(o);return i?a:As[r]=a}else{const n=t.cacheKey;if(n){const r=As[n];return r||(As[n]=Jl(t))}else return Jl(t)}}const rp=()=>"",Yt=t=>tt(t);function sp(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:o,fallbackLocale:i,messages:a}=t,[l,c]=Qc(...e),u=Me(c.missingWarn)?c.missingWarn:t.missingWarn,h=Me(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=Me(c.escapeParameter)?c.escapeParameter:t.escapeParameter,p=!!c.resolvedMessage,g=le(c.default)||Me(c.default)?Me(c.default)?o?l:()=>l:c.default:n?o?l:()=>l:"",m=n||g!=="",b=sd(t,c);f&&qO(c);let[S,A,y]=p?[l,b,a[b]||Je()]:hy(t,l,b,i,h,u),_=S,P=l;if(!p&&!(le(_)||In(_)||Yt(_))&&m&&(_=g,P=_),!p&&(!(le(_)||In(_)||Yt(_))||!le(A)))return s?ll:l;let x=!1;const k=()=>{x=!0},R=Yt(_)?_:fy(t,l,A,_,P,k);if(x)return _;const v=GO(t,A,y,c),$=EO(v),Q=zO(t,R,$);let H=r?r(Q,l):Q;if(f&&le(H)&&(H=_A(H)),__INTLIFY_PROD_DEVTOOLS__){const ae={timestamp:Date.now(),key:le(l)?l:Yt(_)?_.key:"",locale:A||(Yt(_)?_.locale:""),format:le(_)?_:Yt(_)?_.source:"",message:H};ae.meta=xt({},t.__meta,DO()||{}),TO(ae)}return H}function qO(t){nt(t.list)?t.list=t.list.map(e=>le(e)?Bf(e):e):Be(t.named)&&Object.keys(t.named).forEach(e=>{le(t.named[e])&&(t.named[e]=Bf(t.named[e]))})}function hy(t,e,n,r,s,o){const{messages:i,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,r,n);let h=Je(),f,p=null;const g="translate";for(let m=0;m<u.length&&(f=u[m],h=i[f]||Je(),(p=l(h,e))===null&&(p=h[e]),!(le(p)||In(p)||Yt(p)));m++)if(!BO(f,u)){const b=od(t,e,f,o,g);b!==e&&(p=b)}return[p,f,h]}function fy(t,e,n,r,s,o){const{messageCompiler:i,warnHtmlMessage:a}=t;if(Yt(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(i==null){const c=()=>r;return c.locale=n,c.key=e,c}const l=i(r,KO(t,n,s,r,a,o));return l.locale=n,l.key=e,l.source=r,l}function zO(t,e,n){return e(n)}function Qc(...t){const[e,n,r]=t,s=Je();if(!le(e)&&!ct(e)&&!Yt(e)&&!In(e))throw Tn(hn.INVALID_ARGUMENT);const o=ct(e)?String(e):(Yt(e),e);return ct(n)?s.plural=n:le(n)?s.default=n:Ie(n)&&!il(n)?s.named=n:nt(n)&&(s.list=n),ct(r)?s.plural=r:le(r)?s.default=r:Ie(r)&&xt(s,r),[o,s]}function KO(t,e,n,r,s,o){return{locale:e,key:n,warnHtmlMessage:s,onError:i=>{throw o&&o(i),i},onCacheKey:i=>gA(e,n,i)}}function GO(t,e,n,r){const{modifiers:s,pluralRules:o,messageResolver:i,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,f={locale:e,modifiers:s,pluralRules:o,messages:p=>{let g=i(n,p);if(g==null&&u){const[,,m]=hy(u,p,e,a,l,c);g=i(m,p)}if(le(g)||In(g)){let m=!1;const S=fy(t,p,e,g,p,()=>{m=!0});return m?rp:S}else return Yt(g)?g:rp}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),ct(r.plural)&&(f.pluralIndex=r.plural),f}function op(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:o,localeFallbacker:i}=t,{__datetimeFormatters:a}=t,[l,c,u,h]=Zc(...e),f=Me(u.missingWarn)?u.missingWarn:t.missingWarn;Me(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const p=!!u.part,g=sd(t,u),m=i(t,s,g);if(!le(l)||l==="")return new Intl.DateTimeFormat(g,h).format(c);let b={},S,A=null;const y="datetime format";for(let x=0;x<m.length&&(S=m[x],b=n[S]||{},A=b[l],!Ie(A));x++)od(t,l,S,f,y);if(!Ie(A)||!le(S))return r?ll:l;let _=`${S}__${l}`;il(h)||(_=`${_}__${JSON.stringify(h)}`);let P=a.get(_);return P||(P=new Intl.DateTimeFormat(S,xt({},A,h)),a.set(_,P)),p?P.formatToParts(c):P.format(c)}const py=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Zc(...t){const[e,n,r,s]=t,o=Je();let i=Je(),a;if(le(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Tn(hn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Tn(hn.INVALID_ISO_DATE_ARGUMENT)}}else if(vA(e)){if(isNaN(e.getTime()))throw Tn(hn.INVALID_DATE_ARGUMENT);a=e}else if(ct(e))a=e;else throw Tn(hn.INVALID_ARGUMENT);return le(n)?o.key=n:Ie(n)&&Object.keys(n).forEach(l=>{py.includes(l)?i[l]=n[l]:o[l]=n[l]}),le(r)?o.locale=r:Ie(r)&&(i=r),Ie(s)&&(i=s),[o.key||"",a,o,i]}function ip(t,e,n){const r=t;for(const s in n){const o=`${e}__${s}`;r.__datetimeFormatters.has(o)&&r.__datetimeFormatters.delete(o)}}function ap(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:o,localeFallbacker:i}=t,{__numberFormatters:a}=t,[l,c,u,h]=eu(...e),f=Me(u.missingWarn)?u.missingWarn:t.missingWarn;Me(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const p=!!u.part,g=sd(t,u),m=i(t,s,g);if(!le(l)||l==="")return new Intl.NumberFormat(g,h).format(c);let b={},S,A=null;const y="number format";for(let x=0;x<m.length&&(S=m[x],b=n[S]||{},A=b[l],!Ie(A));x++)od(t,l,S,f,y);if(!Ie(A)||!le(S))return r?ll:l;let _=`${S}__${l}`;il(h)||(_=`${_}__${JSON.stringify(h)}`);let P=a.get(_);return P||(P=new Intl.NumberFormat(S,xt({},A,h)),a.set(_,P)),p?P.formatToParts(c):P.format(c)}const gy=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function eu(...t){const[e,n,r,s]=t,o=Je();let i=Je();if(!ct(e))throw Tn(hn.INVALID_ARGUMENT);const a=e;return le(n)?o.key=n:Ie(n)&&Object.keys(n).forEach(l=>{gy.includes(l)?i[l]=n[l]:o[l]=n[l]}),le(r)?o.locale=r:Ie(r)&&(i=r),Ie(s)&&(i=s),[o.key||"",a,o,i]}function lp(t,e,n){const r=t;for(const s in n){const o=`${e}__${s}`;r.__numberFormatters.has(o)&&r.__numberFormatters.delete(o)}}eO();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const JO="9.14.5";function YO(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Vn().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Vn().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Vn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Vn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vn().__INTLIFY_PROD_DEVTOOLS__=!1)}const XO=IO.__EXTEND_POINT__,Ln=al(XO);Ln(),Ln(),Ln(),Ln(),Ln(),Ln(),Ln(),Ln(),Ln();const my=hn.__EXTEND_POINT__,Ut=al(my),pt={UNEXPECTED_RETURN_TYPE:my,INVALID_ARGUMENT:Ut(),MUST_BE_CALL_SETUP_TOP:Ut(),NOT_INSTALLED:Ut(),NOT_AVAILABLE_IN_LEGACY_MODE:Ut(),REQUIRED_VALUE:Ut(),INVALID_VALUE:Ut(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ut(),NOT_INSTALLED_WITH_PROVIDE:Ut(),UNEXPECTED_ERROR:Ut(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ut(),BRIDGE_SUPPORT_VUE_2_ONLY:Ut(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ut(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ut(),__EXTEND_POINT__:Ut()};function yt(t,...e){return so(t,null,void 0)}const tu=$r("__translateVNode"),nu=$r("__datetimeParts"),ru=$r("__numberParts"),vy=$r("__setPluralRules"),yy=$r("__injectWithOption"),su=$r("__dispose");function Xo(t){if(!Be(t)||In(t))return t;for(const e in t)if(dn(t,e))if(!e.includes("."))Be(t[e])&&Xo(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,o=!1;for(let i=0;i<r;i++){if(n[i]==="__proto__")throw new Error(`unsafe key: ${n[i]}`);if(n[i]in s||(s[n[i]]=Je()),!Be(s[n[i]])){o=!0;break}s=s[n[i]]}if(o||(In(s)?ny.includes(n[r])||delete t[e]:(s[n[r]]=t[e],delete t[e])),!In(s)){const i=s[n[r]];Be(i)&&Xo(i)}}return t}function cl(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:o}=e,i=Ie(n)?n:nt(r)?Je():{[t]:Je()};if(nt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(i[l]=i[l]||Je(),ea(c,i[l])):ea(c,i)}else le(a)&&ea(JSON.parse(a),i)}),s==null&&o)for(const a in i)dn(i,a)&&Xo(i[a]);return i}function _y(t){return t.type}function by(t,e,n){let r=Be(e.messages)?e.messages:Je();"__i18nGlobal"in n&&(r=cl(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(o=>{t.mergeLocaleMessage(o,r[o])});{if(Be(e.datetimeFormats)){const o=Object.keys(e.datetimeFormats);o.length&&o.forEach(i=>{t.mergeDateTimeFormat(i,e.datetimeFormats[i])})}if(Be(e.numberFormats)){const o=Object.keys(e.numberFormats);o.length&&o.forEach(i=>{t.mergeNumberFormat(i,e.numberFormats[i])})}}}function cp(t){return X(ei,null,t,0)}const up="__INTLIFY_META__",dp=()=>[],QO=()=>!1;let hp=0;function fp(t){return(e,n,r,s)=>t(n,r,us()||void 0,s)}const ZO=()=>{const t=us();let e=null;return t&&(e=_y(t)[up])?{[up]:e}:null};function id(t={},e){const{__root:n,__injectWithOption:r}=t,s=n===void 0,o=t.flatJson,i=Sa?Y:bu,a=!!t.translateExistCompatible;let l=Me(t.inheritLocale)?t.inheritLocale:!0;const c=i(n&&l?n.locale.value:le(t.locale)?t.locale:Xs),u=i(n&&l?n.fallbackLocale.value:le(t.fallbackLocale)||nt(t.fallbackLocale)||Ie(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),h=i(cl(c.value,t)),f=i(Ie(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),p=i(Ie(t.numberFormats)?t.numberFormats:{[c.value]:{}});let g=n?n.missingWarn:Me(t.missingWarn)||kr(t.missingWarn)?t.missingWarn:!0,m=n?n.fallbackWarn:Me(t.fallbackWarn)||kr(t.fallbackWarn)?t.fallbackWarn:!0,b=n?n.fallbackRoot:Me(t.fallbackRoot)?t.fallbackRoot:!0,S=!!t.fallbackFormat,A=tt(t.missing)?t.missing:null,y=tt(t.missing)?fp(t.missing):null,_=tt(t.postTranslation)?t.postTranslation:null,P=n?n.warnHtmlMessage:Me(t.warnHtmlMessage)?t.warnHtmlMessage:!0,x=!!t.escapeParameter;const k=n?n.modifiers:Ie(t.modifiers)?t.modifiers:{};let R=t.pluralRules||n&&n.pluralRules,v;v=(()=>{s&&ep(null);const D={version:JO,locale:c.value,fallbackLocale:u.value,messages:h.value,modifiers:k,pluralRules:R,missing:y===null?void 0:y,missingWarn:g,fallbackWarn:m,fallbackFormat:S,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:P,escapeParameter:x,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};D.datetimeFormats=f.value,D.numberFormats=p.value,D.__datetimeFormatters=Ie(v)?v.__datetimeFormatters:void 0,D.__numberFormatters=Ie(v)?v.__numberFormatters:void 0;const z=UO(D);return s&&ep(z),z})(),ho(v,c.value,u.value);function Q(){return[c.value,u.value,h.value,f.value,p.value]}const H=ye({get:()=>c.value,set:D=>{c.value=D,v.locale=c.value}}),ae=ye({get:()=>u.value,set:D=>{u.value=D,v.fallbackLocale=u.value,ho(v,c.value,D)}}),ce=ye(()=>h.value),De=ye(()=>f.value),ee=ye(()=>p.value);function U(){return tt(_)?_:null}function de(D){_=D,v.postTranslation=D}function he(){return A}function Ee(D){D!==null&&(y=fp(D)),A=D,v.missing=y}const ge=(D,z,ue,Le,Ge,it)=>{Q();let be;try{__INTLIFY_PROD_DEVTOOLS__,s||(v.fallbackContext=n?jO():void 0),be=D(v)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(v.fallbackContext=void 0)}if(ue!=="translate exists"&&ct(be)&&be===ll||ue==="translate exists"&&!be){const[_t,rt]=z();return n&&b?Le(n):Ge(_t)}else{if(it(be))return be;throw yt(pt.UNEXPECTED_RETURN_TYPE)}};function Re(...D){return ge(z=>Reflect.apply(sp,null,[z,...D]),()=>Qc(...D),"translate",z=>Reflect.apply(z.t,z,[...D]),z=>z,z=>le(z))}function J(...D){const[z,ue,Le]=D;if(Le&&!Be(Le))throw yt(pt.INVALID_ARGUMENT);return Re(z,ue,xt({resolvedMessage:!0},Le||{}))}function xe(...D){return ge(z=>Reflect.apply(op,null,[z,...D]),()=>Zc(...D),"datetime format",z=>Reflect.apply(z.d,z,[...D]),()=>Xf,z=>le(z))}function Ue(...D){return ge(z=>Reflect.apply(ap,null,[z,...D]),()=>eu(...D),"number format",z=>Reflect.apply(z.n,z,[...D]),()=>Xf,z=>le(z))}function Fe(D){return D.map(z=>le(z)||ct(z)||Me(z)?cp(String(z)):z)}const q={normalize:Fe,interpolate:D=>D,type:"vnode"};function L(...D){return ge(z=>{let ue;const Le=z;try{Le.processor=q,ue=Reflect.apply(sp,null,[Le,...D])}finally{Le.processor=null}return ue},()=>Qc(...D),"translate",z=>z[tu](...D),z=>[cp(z)],z=>nt(z))}function ne(...D){return ge(z=>Reflect.apply(ap,null,[z,...D]),()=>eu(...D),"number format",z=>z[ru](...D),dp,z=>le(z)||nt(z))}function re(...D){return ge(z=>Reflect.apply(op,null,[z,...D]),()=>Zc(...D),"datetime format",z=>z[nu](...D),dp,z=>le(z)||nt(z))}function T(D){R=D,v.pluralRules=R}function O(D,z){return ge(()=>{if(!D)return!1;const ue=le(z)?z:c.value,Le=G(ue),Ge=v.messageResolver(Le,D);return a?Ge!=null:In(Ge)||Yt(Ge)||le(Ge)},()=>[D],"translate exists",ue=>Reflect.apply(ue.te,ue,[D,z]),QO,ue=>Me(ue))}function C(D){let z=null;const ue=sy(v,u.value,c.value);for(let Le=0;Le<ue.length;Le++){const Ge=h.value[ue[Le]]||{},it=v.messageResolver(Ge,D);if(it!=null){z=it;break}}return z}function j(D){const z=C(D);return z??(n?n.tm(D)||{}:{})}function G(D){return h.value[D]||{}}function K(D,z){if(o){const ue={[D]:z};for(const Le in ue)dn(ue,Le)&&Xo(ue[Le]);z=ue[D]}h.value[D]=z,v.messages=h.value}function oe(D,z){h.value[D]=h.value[D]||{};const ue={[D]:z};if(o)for(const Le in ue)dn(ue,Le)&&Xo(ue[Le]);z=ue[D],ea(z,h.value[D]),v.messages=h.value}function se(D){return f.value[D]||{}}function w(D,z){f.value[D]=z,v.datetimeFormats=f.value,ip(v,D,z)}function E(D,z){f.value[D]=xt(f.value[D]||{},z),v.datetimeFormats=f.value,ip(v,D,z)}function M(D){return p.value[D]||{}}function F(D,z){p.value[D]=z,v.numberFormats=p.value,lp(v,D,z)}function ie(D,z){p.value[D]=xt(p.value[D]||{},z),v.numberFormats=p.value,lp(v,D,z)}hp++,n&&Sa&&(Zt(n.locale,D=>{l&&(c.value=D,v.locale=D,ho(v,c.value,u.value))}),Zt(n.fallbackLocale,D=>{l&&(u.value=D,v.fallbackLocale=D,ho(v,c.value,u.value))}));const te={id:hp,locale:H,fallbackLocale:ae,get inheritLocale(){return l},set inheritLocale(D){l=D,D&&n&&(c.value=n.locale.value,u.value=n.fallbackLocale.value,ho(v,c.value,u.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:ce,get modifiers(){return k},get pluralRules(){return R||{}},get isGlobal(){return s},get missingWarn(){return g},set missingWarn(D){g=D,v.missingWarn=g},get fallbackWarn(){return m},set fallbackWarn(D){m=D,v.fallbackWarn=m},get fallbackRoot(){return b},set fallbackRoot(D){b=D},get fallbackFormat(){return S},set fallbackFormat(D){S=D,v.fallbackFormat=S},get warnHtmlMessage(){return P},set warnHtmlMessage(D){P=D,v.warnHtmlMessage=D},get escapeParameter(){return x},set escapeParameter(D){x=D,v.escapeParameter=D},t:Re,getLocaleMessage:G,setLocaleMessage:K,mergeLocaleMessage:oe,getPostTranslationHandler:U,setPostTranslationHandler:de,getMissingHandler:he,setMissingHandler:Ee,[vy]:T};return te.datetimeFormats=De,te.numberFormats=ee,te.rt=J,te.te=O,te.tm=j,te.d=xe,te.n=Ue,te.getDateTimeFormat=se,te.setDateTimeFormat=w,te.mergeDateTimeFormat=E,te.getNumberFormat=M,te.setNumberFormat=F,te.mergeNumberFormat=ie,te[yy]=r,te[tu]=L,te[nu]=re,te[ru]=ne,te}function eR(t){const e=le(t.locale)?t.locale:Xs,n=le(t.fallbackLocale)||nt(t.fallbackLocale)||Ie(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=tt(t.missing)?t.missing:void 0,s=Me(t.silentTranslationWarn)||kr(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,o=Me(t.silentFallbackWarn)||kr(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,i=Me(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Ie(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=tt(t.postTranslation)?t.postTranslation:void 0,h=le(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,p=Me(t.sync)?t.sync:!0;let g=t.messages;if(Ie(t.sharedMessages)){const x=t.sharedMessages;g=Object.keys(x).reduce((R,v)=>{const $=R[v]||(R[v]={});return xt($,x[v]),R},g||{})}const{__i18n:m,__root:b,__injectWithOption:S}=t,A=t.datetimeFormats,y=t.numberFormats,_=t.flatJson,P=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:g,flatJson:_,datetimeFormats:A,numberFormats:y,missing:r,missingWarn:s,fallbackWarn:o,fallbackRoot:i,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:p,translateExistCompatible:P,__i18n:m,__root:b,__injectWithOption:S}}function ou(t={},e){{const n=id(eR(t)),{__extender:r}=t,s={id:n.id,get locale(){return n.locale.value},set locale(o){n.locale.value=o},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(o){n.fallbackLocale.value=o},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(o){},get missing(){return n.getMissingHandler()},set missing(o){n.setMissingHandler(o)},get silentTranslationWarn(){return Me(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(o){n.missingWarn=Me(o)?!o:o},get silentFallbackWarn(){return Me(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(o){n.fallbackWarn=Me(o)?!o:o},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(o){n.fallbackFormat=o},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(o){n.setPostTranslationHandler(o)},get sync(){return n.inheritLocale},set sync(o){n.inheritLocale=o},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){n.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(o){n.escapeParameter=o},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(o){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...o){const[i,a,l]=o,c={};let u=null,h=null;if(!le(i))throw yt(pt.INVALID_ARGUMENT);const f=i;return le(a)?c.locale=a:nt(a)?u=a:Ie(a)&&(h=a),nt(l)?u=l:Ie(l)&&(h=l),Reflect.apply(n.t,n,[f,u||h||{},c])},rt(...o){return Reflect.apply(n.rt,n,[...o])},tc(...o){const[i,a,l]=o,c={plural:1};let u=null,h=null;if(!le(i))throw yt(pt.INVALID_ARGUMENT);const f=i;return le(a)?c.locale=a:ct(a)?c.plural=a:nt(a)?u=a:Ie(a)&&(h=a),le(l)?c.locale=l:nt(l)?u=l:Ie(l)&&(h=l),Reflect.apply(n.t,n,[f,u||h||{},c])},te(o,i){return n.te(o,i)},tm(o){return n.tm(o)},getLocaleMessage(o){return n.getLocaleMessage(o)},setLocaleMessage(o,i){n.setLocaleMessage(o,i)},mergeLocaleMessage(o,i){n.mergeLocaleMessage(o,i)},d(...o){return Reflect.apply(n.d,n,[...o])},getDateTimeFormat(o){return n.getDateTimeFormat(o)},setDateTimeFormat(o,i){n.setDateTimeFormat(o,i)},mergeDateTimeFormat(o,i){n.mergeDateTimeFormat(o,i)},n(...o){return Reflect.apply(n.n,n,[...o])},getNumberFormat(o){return n.getNumberFormat(o)},setNumberFormat(o,i){n.setNumberFormat(o,i)},mergeNumberFormat(o,i){n.mergeNumberFormat(o,i)},getChoiceIndex(o,i){return-1}};return s.__extender=r,s}}const ad={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function tR({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===we?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},Je())}function wy(t){return we}const nR=Qn({name:"i18n-t",props:xt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ct(t)||!isNaN(t)}},ad),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||ul({useScope:t.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(h=>h!=="_"),i=Je();t.locale&&(i.locale=t.locale),t.plural!==void 0&&(i.plural=le(t.plural)?+t.plural:t.plural);const a=tR(e,o),l=s[tu](t.keypath,a,i),c=xt(Je(),r),u=le(t.tag)||Be(t.tag)?t.tag:wy();return Wn(u,c,l)}}}),pp=nR;function rR(t){return nt(t)&&!le(t[0])}function Ey(t,e,n,r){const{slots:s,attrs:o}=e;return()=>{const i={part:!0};let a=Je();t.locale&&(i.locale=t.locale),le(t.format)?i.key=t.format:Be(t.format)&&(le(t.format.key)&&(i.key=t.format.key),a=Object.keys(t.format).reduce((f,p)=>n.includes(p)?xt(Je(),f,{[p]:t.format[p]}):f,Je()));const l=r(t.value,i,a);let c=[i.key];nt(l)?c=l.map((f,p)=>{const g=s[f.type],m=g?g({[f.type]:f.value,index:p,parts:l}):[f.value];return rR(m)&&(m[0].key=`${f.type}-${p}`),m}):le(l)&&(c=[l]);const u=xt(Je(),o),h=le(t.tag)||Be(t.tag)?t.tag:wy();return Wn(h,u,c)}}const sR=Qn({name:"i18n-n",props:xt({value:{type:Number,required:!0},format:{type:[String,Object]}},ad),setup(t,e){const n=t.i18n||ul({useScope:t.scope,__useComponent:!0});return Ey(t,e,gy,(...r)=>n[ru](...r))}}),gp=sR,oR=Qn({name:"i18n-d",props:xt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ad),setup(t,e){const n=t.i18n||ul({useScope:t.scope,__useComponent:!0});return Ey(t,e,py,(...r)=>n[nu](...r))}}),mp=oR;function iR(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function aR(t){const e=i=>{const{instance:a,modifiers:l,value:c}=i;if(!a||!a.$)throw yt(pt.UNEXPECTED_ERROR);const u=iR(t,a.$),h=vp(c);return[Reflect.apply(u.t,u,[...yp(h)]),u]};return{created:(i,a)=>{const[l,c]=e(a);Sa&&t.global===c&&(i.__i18nWatcher=Zt(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),i.__composer=c,i.textContent=l},unmounted:i=>{Sa&&i.__i18nWatcher&&(i.__i18nWatcher(),i.__i18nWatcher=void 0,delete i.__i18nWatcher),i.__composer&&(i.__composer=void 0,delete i.__composer)},beforeUpdate:(i,{value:a})=>{if(i.__composer){const l=i.__composer,c=vp(a);i.textContent=Reflect.apply(l.t,l,[...yp(c)])}},getSSRProps:i=>{const[a]=e(i);return{textContent:a}}}}function vp(t){if(le(t))return{path:t};if(Ie(t)){if(!("path"in t))throw yt(pt.REQUIRED_VALUE,"path");return t}else throw yt(pt.INVALID_VALUE)}function yp(t){const{path:e,locale:n,args:r,choice:s,plural:o}=t,i={},a=r||{};return le(n)&&(i.locale=n),ct(s)&&(i.plural=s),ct(o)&&(i.plural=o),[e,a,i]}function lR(t,e,...n){const r=Ie(n[0])?n[0]:{},s=!!r.useI18nComponentName;(Me(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":pp.name,"I18nT"].forEach(i=>t.component(i,pp)),[gp.name,"I18nN"].forEach(i=>t.component(i,gp)),[mp.name,"I18nD"].forEach(i=>t.component(i,mp))),t.directive("t",aR(e))}function cR(t,e,n){return{beforeCreate(){const r=us();if(!r)throw yt(pt.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const o=s.i18n;if(s.__i18n&&(o.__i18n=s.__i18n),o.__root=e,this===this.$root)this.$i18n=_p(t,o);else{o.__injectWithOption=!0,o.__extender=n.__vueI18nExtend,this.$i18n=ou(o);const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=_p(t,s);else{this.$i18n=ou({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&by(e,s,s),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$tc=(...o)=>this.$i18n.tc(...o),this.$te=(o,i)=>this.$i18n.te(o,i),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=us();if(!r)throw yt(pt.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function _p(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[vy](e.pluralizationRules||t.pluralizationRules);const n=cl(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const uR=$r("global-vue-i18n");function dR(t={},e){const n=__VUE_I18N_LEGACY_API__&&Me(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=Me(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,o=new Map,[i,a]=hR(t,n),l=$r("");function c(f){return o.get(f)||null}function u(f,p){o.set(f,p)}function h(f){o.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return s},async install(p,...g){if(p.__VUE_I18N_SYMBOL__=l,p.provide(p.__VUE_I18N_SYMBOL__,f),Ie(g[0])){const S=g[0];f.__composerExtend=S.__composerExtend,f.__vueI18nExtend=S.__vueI18nExtend}let m=null;!n&&r&&(m=wR(p,f.global)),__VUE_I18N_FULL_INSTALL__&&lR(p,f,...g),__VUE_I18N_LEGACY_API__&&n&&p.mixin(cR(a,a.__composer,f));const b=p.unmount;p.unmount=()=>{m&&m(),f.dispose(),b()}},get global(){return a},dispose(){i.stop()},__instances:o,__getInstance:c,__setInstance:u,__deleteInstance:h};return f}}function ul(t={}){const e=us();if(e==null)throw yt(pt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw yt(pt.NOT_INSTALLED);const n=fR(e),r=gR(n),s=_y(e),o=pR(t,s);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw yt(pt.NOT_AVAILABLE_IN_LEGACY_MODE);return _R(e,o,r,t)}if(o==="global")return by(r,t,s),r;if(o==="parent"){let l=mR(n,e,t.__useComponent);return l==null&&(l=r),l}const i=n;let a=i.__getInstance(e);if(a==null){const l=xt({},t);"__i18n"in s&&(l.__i18n=s.__i18n),r&&(l.__root=r),a=id(l),i.__composerExtend&&(a[su]=i.__composerExtend(a)),yR(i,e,a),i.__setInstance(e,a)}return a}function hR(t,e,n){const r=du();{const s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>ou(t)):r.run(()=>id(t));if(s==null)throw yt(pt.UNEXPECTED_ERROR);return[r,s]}}function fR(t){{const e=Kt(t.isCE?uR:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw yt(t.isCE?pt.NOT_INSTALLED_WITH_PROVIDE:pt.UNEXPECTED_ERROR);return e}}function pR(t,e){return il(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function gR(t){return t.mode==="composition"?t.global:t.global.__composer}function mR(t,e,n=!1){let r=null;const s=e.root;let o=vR(e,n);for(;o!=null;){const i=t;if(t.mode==="composition")r=i.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const a=i.__getInstance(o);a!=null&&(r=a.__composer,n&&r&&!r[yy]&&(r=null))}if(r!=null||s===o)break;o=o.parent}return r}function vR(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function yR(t,e,n){Ot(()=>{},e),sn(()=>{const r=n;t.__deleteInstance(e);const s=r[su];s&&(s(),delete r[su])},e)}function _R(t,e,n,r={}){const s=e==="local",o=bu(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw yt(pt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const i=Me(r.inheritLocale)?r.inheritLocale:!le(r.locale),a=Y(!s||i?n.locale.value:le(r.locale)?r.locale:Xs),l=Y(!s||i?n.fallbackLocale.value:le(r.fallbackLocale)||nt(r.fallbackLocale)||Ie(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=Y(cl(a.value,r)),u=Y(Ie(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),h=Y(Ie(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=s?n.missingWarn:Me(r.missingWarn)||kr(r.missingWarn)?r.missingWarn:!0,p=s?n.fallbackWarn:Me(r.fallbackWarn)||kr(r.fallbackWarn)?r.fallbackWarn:!0,g=s?n.fallbackRoot:Me(r.fallbackRoot)?r.fallbackRoot:!0,m=!!r.fallbackFormat,b=tt(r.missing)?r.missing:null,S=tt(r.postTranslation)?r.postTranslation:null,A=s?n.warnHtmlMessage:Me(r.warnHtmlMessage)?r.warnHtmlMessage:!0,y=!!r.escapeParameter,_=s?n.modifiers:Ie(r.modifiers)?r.modifiers:{},P=r.pluralRules||s&&n.pluralRules;function x(){return[a.value,l.value,c.value,u.value,h.value]}const k=ye({get:()=>o.value?o.value.locale.value:a.value,set:C=>{o.value&&(o.value.locale.value=C),a.value=C}}),R=ye({get:()=>o.value?o.value.fallbackLocale.value:l.value,set:C=>{o.value&&(o.value.fallbackLocale.value=C),l.value=C}}),v=ye(()=>o.value?o.value.messages.value:c.value),$=ye(()=>u.value),Q=ye(()=>h.value);function H(){return o.value?o.value.getPostTranslationHandler():S}function ae(C){o.value&&o.value.setPostTranslationHandler(C)}function ce(){return o.value?o.value.getMissingHandler():b}function De(C){o.value&&o.value.setMissingHandler(C)}function ee(C){return x(),C()}function U(...C){return o.value?ee(()=>Reflect.apply(o.value.t,null,[...C])):ee(()=>"")}function de(...C){return o.value?Reflect.apply(o.value.rt,null,[...C]):""}function he(...C){return o.value?ee(()=>Reflect.apply(o.value.d,null,[...C])):ee(()=>"")}function Ee(...C){return o.value?ee(()=>Reflect.apply(o.value.n,null,[...C])):ee(()=>"")}function ge(C){return o.value?o.value.tm(C):{}}function Re(C,j){return o.value?o.value.te(C,j):!1}function J(C){return o.value?o.value.getLocaleMessage(C):{}}function xe(C,j){o.value&&(o.value.setLocaleMessage(C,j),c.value[C]=j)}function Ue(C,j){o.value&&o.value.mergeLocaleMessage(C,j)}function Fe(C){return o.value?o.value.getDateTimeFormat(C):{}}function W(C,j){o.value&&(o.value.setDateTimeFormat(C,j),u.value[C]=j)}function q(C,j){o.value&&o.value.mergeDateTimeFormat(C,j)}function L(C){return o.value?o.value.getNumberFormat(C):{}}function ne(C,j){o.value&&(o.value.setNumberFormat(C,j),h.value[C]=j)}function re(C,j){o.value&&o.value.mergeNumberFormat(C,j)}const T={get id(){return o.value?o.value.id:-1},locale:k,fallbackLocale:R,messages:v,datetimeFormats:$,numberFormats:Q,get inheritLocale(){return o.value?o.value.inheritLocale:i},set inheritLocale(C){o.value&&(o.value.inheritLocale=C)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(c.value)},get modifiers(){return o.value?o.value.modifiers:_},get pluralRules(){return o.value?o.value.pluralRules:P},get isGlobal(){return o.value?o.value.isGlobal:!1},get missingWarn(){return o.value?o.value.missingWarn:f},set missingWarn(C){o.value&&(o.value.missingWarn=C)},get fallbackWarn(){return o.value?o.value.fallbackWarn:p},set fallbackWarn(C){o.value&&(o.value.missingWarn=C)},get fallbackRoot(){return o.value?o.value.fallbackRoot:g},set fallbackRoot(C){o.value&&(o.value.fallbackRoot=C)},get fallbackFormat(){return o.value?o.value.fallbackFormat:m},set fallbackFormat(C){o.value&&(o.value.fallbackFormat=C)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:A},set warnHtmlMessage(C){o.value&&(o.value.warnHtmlMessage=C)},get escapeParameter(){return o.value?o.value.escapeParameter:y},set escapeParameter(C){o.value&&(o.value.escapeParameter=C)},t:U,getPostTranslationHandler:H,setPostTranslationHandler:ae,getMissingHandler:ce,setMissingHandler:De,rt:de,d:he,n:Ee,tm:ge,te:Re,getLocaleMessage:J,setLocaleMessage:xe,mergeLocaleMessage:Ue,getDateTimeFormat:Fe,setDateTimeFormat:W,mergeDateTimeFormat:q,getNumberFormat:L,setNumberFormat:ne,mergeNumberFormat:re};function O(C){C.locale.value=a.value,C.fallbackLocale.value=l.value,Object.keys(c.value).forEach(j=>{C.mergeLocaleMessage(j,c.value[j])}),Object.keys(u.value).forEach(j=>{C.mergeDateTimeFormat(j,u.value[j])}),Object.keys(h.value).forEach(j=>{C.mergeNumberFormat(j,h.value[j])}),C.escapeParameter=y,C.fallbackFormat=m,C.fallbackRoot=g,C.fallbackWarn=p,C.missingWarn=f,C.warnHtmlMessage=A}return dg(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw yt(pt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const C=o.value=t.proxy.$i18n.__composer;e==="global"?(a.value=C.locale.value,l.value=C.fallbackLocale.value,c.value=C.messages.value,u.value=C.datetimeFormats.value,h.value=C.numberFormats.value):s&&O(C)}),T}const bR=["locale","fallbackLocale","availableLocales"],bp=["t","rt","d","n","tm","te"];function wR(t,e){const n=Object.create(null);return bR.forEach(s=>{const o=Object.getOwnPropertyDescriptor(e,s);if(!o)throw yt(pt.UNEXPECTED_ERROR);const i=at(o.value)?{get(){return o.value.value},set(a){o.value.value=a}}:{get(){return o.get&&o.get()}};Object.defineProperty(n,s,i)}),t.config.globalProperties.$i18n=n,bp.forEach(s=>{const o=Object.getOwnPropertyDescriptor(e,s);if(!o||!o.value)throw yt(pt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,o)}),()=>{delete t.config.globalProperties.$i18n,bp.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}YO();__INTLIFY_JIT_COMPILATION__?Zf(WO):Zf(VO);LO(pO);$O(sy);if(__INTLIFY_PROD_DEVTOOLS__){const t=Vn();t.__INTLIFY__=!0,xO(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const ER={home:"Trang ch",movies:"Phim",series:"Phim B",single:"Phim L",anime:"Anime",library:"Th vin",pricing:"Bng gi",cart:"Gi hng",account:"Ti khon",login:"ng nhp",logout:"ng xut",register:"ng k",search:"Tm kim",loading:"ang ti...",error:"Li",success:"Thnh cng",cancel:"Hy",confirm:"Xc nhn",save:"Lu",delete:"Xa",edit:"Chnh sa",close:"ng",back:"Quay li",next:"Tip theo",previous:"Trc",viewAll:"Xem tt c",noResults:"Khng c kt qu",tryAgain:"Th li"},xR={home:"Trang ch",movies:"Phim",series:"Phim B",single:"Phim L",anime:"Anime",library:"Th vin",pricing:"Bng gi",search:"Tm kim phim, din vin",searchTitle:"Nhp tn phim hoc din vin  tm kim",genres:"Th loi",countries:"Quc gia",viewAllGenres:"Xem tt c th loi"},kR={title:"Khm ph phim hay",subtitle:"Cp nht lin tc nhng b phim mi nht v hot nht",newMovies:" Phim Mi Cp Nht",series:" Phim B Hot",single:" Phim L Mi",korean:" Phim Hn Quc",chinese:" Phim Trung Quc",anime:" Phim Anime"},TR={play:"Xem ngay",addToList:"Thm vo danh sch",removeFromList:"Xa khi danh sch",trailer:"Trailer",info:"Thng tin",episodes:"Tp phim",related:"Phim lin quan",comments:"Bnh lun",quality:"Cht lng",language:"Ngn ng",year:"Nm",duration:"Thi lng",genre:"Th loi",country:"Quc gia",director:"o din",cast:"Din vin",status:"Tnh trng",rating:"nh gi"},SR={login:"ng nhp",register:"ng k",logout:"ng xut",email:"Email",password:"Mt khu",confirmPassword:"Xc nhn mt khu",fullName:"H v tn",forgotPassword:"Qun mt khu?",noAccount:"Cha c ti khon?",haveAccount:" c ti khon?",loginWithGoogle:"ng nhp vi Google",loginWithFacebook:"ng nhp vi Facebook"},CR={title:"Gi dch v",subtitle:"Xem phim khng gii hn  Hy bt c lc no",chooseTitle:"Chn gi",chooseTitleHighlight:"ph hp",chooseTitleEnd:"vi bn",monthly:"Thng",yearly:"Nm",perMonth:"/thng",perYear:"/nm",year:"nm",day:"ngy",oneMonth:"1 thng",twelveMonths:"12 thng",save:"Tit kim",free:"Min ph",basic:"C bn",premium:"Cao cp",vip:"VIP",selectPlan:"Chn gi",currentPlan:"Gi hin ti",features:"Tnh nng",buyNow:"Mua ngay",useFree:" Dng min ph",addToCart:"Thm vo gi",addToCartConfirm:"Thm vo gi hng?",addToCartMessage:"Bn mun thm gi {plan} ({duration}) vo gi hng?",addedToCart:" thm {plan}",addedToCartSuccess:"  thm gi {plan} ({duration}) vo gi hng",addToCartError:"Khng th thm vo gi hng",tryAgainOrContact:"Vui lng th li hoc lin h h tr nu vn  vn tip din.",loginToAddCart:"Vui lng ng nhp  thm vo gi hng",loginToBuy:"Vui lng ng nhp  mua gi",usingFreePlan:"Bn ang dng gi min ph",paymentSuccess:"Thanh ton thnh cng! Gi  c kch hot",mostPopular:"Ph bin nht",popularChoice:"c 85% khch hng la chn",clickToSelect:"Click  chn",hasAds:"C qung co",noAds:"Khng qung co",devices:"{count} thit b ng thi",canDownload:"Ti v xem offline",noDownload:"Khng ti v",earlyAccess:"Xem trc phim mi"},IR={title:"Th vin ca ti",subtitle:"Qun l phim yu thch, danh sch v lch s xem ca bn",favorites:"Yu thch",watchlist:"Danh sch",continue:"Xem tip",watchLater:"Xem sau",history:"Lch s",empty:"Cha c phim no",addMovies:"Thm phim vo th vin",emptyFavorites:"Cha c phim yu thch",emptyFavoritesDesc:"Thm phim vo danh sch yu thch  xem li sau",emptyWatchlist:"Danh sch trng",emptyWatchlistDesc:"Thm phim vo danh sch  xem sau",emptyHistory:"Cha c lch s xem",emptyHistoryDesc:"Bt u xem phim  theo di tin trnh",discoverMovies:"Khm ph phim",findMovies:"Tm phim hay",startWatching:"Bt u xem",watchNow:"Xem ngay",continueWatching:"Xem tip",watched:" xem",selectAll:"Chn tt c",selected:" chn {count}",deleteSelected:"Xa  chn",deleteAll:"Xa tt c",removeFromFavorites:"Xa khi yu thch",removeFromFavoritesConfirm:"Xa khi yu thch?",removeFromFavoritesMessage:'Bn c chc mun xa "{title}" khi danh sch yu thch?',removedFromFavorites:' xa "{title}" khi yu thch',removeFromWatchlist:"Xa khi danh sch",removeFromWatchlistConfirm:"Xa khi danh sch?",removeFromWatchlistMessage:'Bn c chc mun xa "{title}" khi danh sch?',removedFromWatchlist:' xa "{title}" khi danh sch',removeFromHistory:"Xa khi lch s",removeFromHistoryConfirm:"Xa khi lch s?",removeFromHistoryMessage:'Bn c chc mun xa "{title}" khi lch s xem?',removedFromHistory:' xa "{title}" khi lch s',bulkRemoveConfirm:"Xa nhiu phim?",bulkRemoveMessage:"Bn c chc mun xa {count} phim khi danh sch yu thch?",bulkRemoveFromWatchlistMessage:"Bn c chc mun xa {count} phim khi danh sch?",bulkRemovedFromFavorites:" xa {count} phim khi yu thch",bulkRemovedFromWatchlist:" xa {count} phim khi danh sch",undoSuccess:"  hon tc",cannotRemove:" Khng th xa"},AR={title:"Gi hng",empty:"Gi hng trng",total:"Tng cng",checkout:"Thanh ton",continueShopping:"Tip tc mua sm",remove:"Xa",quantity:"S lng"},OR={about:"V chng ti",contact:"Lin h",terms:"iu khon",privacy:"Bo mt",help:"Tr gip",faq:"Cu hi thng gp"},RR={notFound:"Khng tm thy trang",serverError:"Li my ch",networkError:"Li kt ni",unauthorized:"Cha ng nhp",forbidden:"Khng c quyn truy cp",tryAgain:"Vui lng th li sau"},PR={common:ER,nav:xR,home:kR,movie:TR,auth:SR,pricing:CR,library:IR,cart:AR,footer:OR,errors:RR},NR={home:"Home",movies:"Movies",series:"TV Series",single:"Movies",anime:"Anime",library:"Library",pricing:"Pricing",cart:"Cart",account:"Account",login:"Login",logout:"Logout",register:"Register",search:"Search",loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",edit:"Edit",close:"Close",back:"Back",next:"Next",previous:"Previous",viewAll:"View all",noResults:"No results",tryAgain:"Try again"},LR={home:"Home",movies:"Movies",series:"TV Series",single:"Movies",anime:"Anime",library:"Library",pricing:"Pricing",search:"Search movies, actors",searchTitle:"Enter movie or actor name to search",genres:"Genres",countries:"Countries",viewAllGenres:"View all genres"},$R={title:"Discover Great Movies",subtitle:"Continuously updated with the latest and hottest movies",newMovies:" New Movies",series:" Hot TV Series",single:" New Movies",korean:" Korean Movies",chinese:" Chinese Movies",anime:" Anime"},MR={play:"Play now",addToList:"Add to list",removeFromList:"Remove from list",trailer:"Trailer",info:"Info",episodes:"Episodes",related:"Related movies",comments:"Comments",quality:"Quality",language:"Language",year:"Year",duration:"Duration",genre:"Genre",country:"Country",director:"Director",cast:"Cast",status:"Status",rating:"Rating"},DR={login:"Login",register:"Register",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm password",fullName:"Full name",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",haveAccount:"Already have an account?",loginWithGoogle:"Login with Google",loginWithFacebook:"Login with Facebook"},jR={title:"Pricing",subtitle:"Unlimited movies  Cancel anytime",chooseTitle:"Choose the",chooseTitleHighlight:"right plan",chooseTitleEnd:"for you",monthly:"Monthly",yearly:"Yearly",perMonth:"/month",perYear:"/year",year:"year",day:"day",oneMonth:"1 month",twelveMonths:"12 months",save:"Save",free:"Free",basic:"Basic",premium:"Premium",vip:"VIP",selectPlan:"Select plan",currentPlan:"Current plan",features:"Features",buyNow:"Buy now",useFree:" Use for free",addToCart:"Add to cart",addToCartConfirm:"Add to cart?",addToCartMessage:"Do you want to add {plan} ({duration}) to cart?",addedToCart:"Added {plan}",addedToCartSuccess:" Added {plan} ({duration}) to cart",addToCartError:"Cannot add to cart",tryAgainOrContact:"Please try again or contact support if the problem persists.",loginToAddCart:"Please login to add to cart",loginToBuy:"Please login to buy plan",usingFreePlan:"You are using free plan",paymentSuccess:"Payment successful! Plan activated",mostPopular:"Most Popular",popularChoice:"Chosen by 85% of customers",clickToSelect:"Click to select",hasAds:"With ads",noAds:"No ads",devices:"{count} devices simultaneously",canDownload:"Download for offline",noDownload:"No download",earlyAccess:"Early access to new movies"},UR={title:"My Library",subtitle:"Manage your favorites, watchlist and viewing history",favorites:"Favorites",watchlist:"Watchlist",continue:"Continue Watching",watchLater:"Watch later",history:"History",empty:"No movies yet",addMovies:"Add movies to library",emptyFavorites:"No favorites yet",emptyFavoritesDesc:"Add movies to favorites to watch later",emptyWatchlist:"Watchlist is empty",emptyWatchlistDesc:"Add movies to watchlist to watch later",emptyHistory:"No viewing history",emptyHistoryDesc:"Start watching movies to track your progress",discoverMovies:"Discover movies",findMovies:"Find great movies",startWatching:"Start watching",watchNow:"Watch now",continueWatching:"Continue",watched:"watched",selectAll:"Select all",selected:"Selected {count}",deleteSelected:"Delete selected",deleteAll:"Delete all",removeFromFavorites:"Remove from favorites",removeFromFavoritesConfirm:"Remove from favorites?",removeFromFavoritesMessage:'Are you sure you want to remove "{title}" from favorites?',removedFromFavorites:'Removed "{title}" from favorites',removeFromWatchlist:"Remove from watchlist",removeFromWatchlistConfirm:"Remove from watchlist?",removeFromWatchlistMessage:'Are you sure you want to remove "{title}" from watchlist?',removedFromWatchlist:'Removed "{title}" from watchlist',removeFromHistory:"Remove from history",removeFromHistoryConfirm:"Remove from history?",removeFromHistoryMessage:'Are you sure you want to remove "{title}" from viewing history?',removedFromHistory:'Removed "{title}" from history',bulkRemoveConfirm:"Remove multiple movies?",bulkRemoveMessage:"Are you sure you want to remove {count} movies from favorites?",bulkRemoveFromWatchlistMessage:"Are you sure you want to remove {count} movies from watchlist?",bulkRemovedFromFavorites:"Removed {count} movies from favorites",bulkRemovedFromWatchlist:"Removed {count} movies from watchlist",undoSuccess:" Undone",cannotRemove:" Cannot remove"},FR={title:"Shopping Cart",empty:"Cart is empty",total:"Total",checkout:"Checkout",continueShopping:"Continue shopping",remove:"Remove",quantity:"Quantity"},BR={about:"About us",contact:"Contact",terms:"Terms",privacy:"Privacy",help:"Help",faq:"FAQ"},HR={notFound:"Page not found",serverError:"Server error",networkError:"Network error",unauthorized:"Not logged in",forbidden:"Access denied",tryAgain:"Please try again later"},VR={common:NR,nav:LR,home:$R,movie:MR,auth:DR,pricing:jR,library:UR,cart:FR,footer:BR,errors:HR},xy=dR({legacy:!1,locale:localStorage.getItem("locale")||"vi",fallbackLocale:"vi",messages:{vi:PR,en:VR},globalInjection:!0,missingWarn:!1,fallbackWarn:!1});function WR(t){xy.global.locale.value=t,localStorage.setItem("locale",t),document.documentElement.lang=t}const qR={class:"flex items-center justify-between px-4 md:px-8 py-3 max-w-[1920px] mx-auto"},zR={class:"flex items-center gap-6 flex-1 max-w-4xl mx-6"},KR={class:"relative flex-1 max-w-md"},GR=["placeholder","title","aria-label"],JR={key:0,class:"absolute right-10 top-1/2 -translate-y-1/2"},YR={key:1,class:"absolute top-full left-0 right-0 mt-2 bg-gray-800 rounded-lg shadow-2xl border border-gray-700 overflow-hidden z-50"},XR={key:0},QR={class:"px-3 py-2 bg-gray-900 border-b border-gray-700 flex items-center justify-between"},ZR=["onMousedown"],eP={class:"text-white text-sm"},tP={key:1},nP=["onMousedown"],rP=["src","alt"],sP={class:"flex-1 min-w-0"},oP={class:"text-white font-medium truncate"},iP={class:"text-gray-400 text-xs truncate mb-1"},aP={class:"flex gap-2 flex-wrap"},lP={key:0,class:"text-xs bg-gray-700 px-2 py-0.5 rounded"},cP={key:1,class:"text-xs bg-yellow-600 text-black px-2 py-0.5 rounded font-semibold"},uP={key:2,class:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded"},dP={class:"p-2 bg-gray-900 text-center border-t border-gray-700"},hP={class:"hidden lg:flex items-center gap-4 text-sm font-medium"},fP={class:"relative group"},pP={class:"relative group"},gP={class:"relative group"},mP={class:"hidden group-hover:block absolute top-full left-0 pt-2 w-48 z-50"},vP={class:"bg-gray-800 rounded-lg shadow-xl max-h-96 overflow-y-auto border border-gray-700"},yP={class:"relative group"},_P={class:"flex items-center gap-2 flex-shrink-0"},bP=["title"],wP={class:"text-xs font-bold text-white uppercase tracking-wider"},EP={class:"relative group"},xP=["title"],kP={key:0,class:"w-7 h-7 flex items-center justify-center"},TP={key:1,class:"relative"},SP=["src","alt"],CP={key:2,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},IP={class:"text-sm font-medium text-white hidden md:block"},AP={class:"absolute top-full right-0 mt-3 w-64 bg-gray-900 rounded-xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-500 ease-out transform group-hover:translate-y-0 -translate-y-4 group-hover:scale-100 scale-95 border border-yellow-400/30 overflow-hidden backdrop-blur-xl"},OP={key:0,class:"bg-gradient-to-br from-gray-800 to-gray-900 px-4 py-3 border-b border-yellow-400/20"},RP={class:"flex items-center gap-2.5 mb-2.5"},PP=["src","alt"],NP={class:"flex-1 min-w-0"},LP={class:"flex items-center gap-1.5 mb-0.5"},$P={class:"text-white font-bold truncate text-sm"},MP={class:"text-gray-400 text-[10px] truncate mb-0.5"},DP={key:0,class:"text-gray-500 text-[9px] truncate"},jP={key:1,class:"w-full bg-gradient-to-r from-purple-600 to-purple-700 text-white px-3 py-2 rounded-lg font-bold text-xs flex items-center justify-center gap-1.5"},UP={class:"py-1.5"},FP={key:2,class:"border-t border-gray-700/50 my-1.5"},BP=["aria-expanded"],HP={key:0,class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},VP={key:1,class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},WP={key:0,class:"lg:hidden bg-gray-900/98 backdrop-blur-lg border-t border-gray-800 shadow-2xl fixed left-0 right-0 top-[64px] z-40 max-h-[calc(100vh-64px)] overflow-y-auto"},qP={class:"px-4 py-6 space-y-2"},zP={class:"space-y-1"},KP={key:0,class:"pl-4 space-y-1 max-h-64 overflow-y-auto"},GP={class:"space-y-1"},JP={key:0,class:"pl-4 space-y-1"},YP={key:2,class:"px-4 py-3"},XP={key:3,class:"px-4 py-3 space-y-2"},QP={class:"flex items-center gap-3 mb-3"},ZP=["src","alt"],e3={class:"text-white font-bold"},t3={class:"text-gray-400 text-sm"},n3={__name:"NetflixNavbar",setup(t){const e=Ar(),n=Ba(),r=uv(),s=SC(),o=fs(),i=ol(),{recentSearches:a,addSearch:l,clearSearches:c}=fA(),{locale:u}=ul(),h=ye(()=>u.value),f=()=>{console.log(" Current language:",u.value);const q=u.value==="vi"?"en":"vi";console.log(" Switching to:",q),WR(q),console.log(" Language switched to:",u.value),i.success(`Switched to ${q==="vi"?"Ting Vit":"English"}`)},p=Y(!1),g=Y(""),m=ye(()=>r.user),b=Y(!1),S=Y([]),A=Y(!1),y=Y(!1),_=Y(!1),P=Y(!1),x=Y(!1),k=Y(!1),R=Y(null),v=Y(!1),$=async()=>{var q;if((q=m.value)!=null&&q.id)try{v.value=!0;const re=await(await fetch(`https://hthree-film-production.up.railway.app/api/user_subscription.php?user_id=${m.value.id}`)).json();if(re.success&&re.data&&re.data.length>0){const T=re.data.filter(O=>O.status==="active");if(T.length>0){const O={vip:4,premium:3,basic:2,free:1};R.value=T.sort((C,j)=>(O[j.plan_slug]||0)-(O[C.plan_slug]||0))[0]}}}catch(L){console.error("Failed to fetch subscription:",L)}finally{v.value=!1}},Q=ye(()=>R.value&&{vip:{label:"VIP",color:"bg-purple-600 text-white",icon:""},premium:{label:"PREMIUM",color:"bg-red-600 text-white",icon:""},basic:{label:"BASIC",color:"bg-blue-600 text-white",icon:""},free:{label:"FREE",color:"bg-gray-600 text-white",icon:""}}[R.value.plan_slug]||null),H=ye(()=>{if(!R.value)return"";const q=R.value.days_remaining,L=R.value.end_date_formatted;return q<=0?` ht hn: ${L}`:q<=7?` Sp ht hn: ${L} (cn ${q} ngy)`:`Ht hn: ${L} (cn ${q} ngy)`}),ae=Y([{name:" Vit Nam",slug:"viet-nam"},{name:" Hn Quc",slug:"han-quoc"},{name:" Trung Quc",slug:"trung-quoc"},{name:" M",slug:"au-my"},{name:" Thi Lan",slug:"thai-lan"},{name:" Nht Bn",slug:"nhat-ban"},{name:" n ",slug:"an-do"},{name:" Anh",slug:"anh"},{name:" Php",slug:"phap"},{name:" c",slug:"duc"}]),ce=q=>n.path.startsWith(q),De=()=>{b.value=!b.value,console.log(" Mobile menu toggled:",b.value),b.value?document.body.style.overflow="hidden":document.body.style.overflow=""};s.getCategory();const ee=ye(()=>{var q;return((q=s.getAllCategories)==null?void 0:q.slice(0,8))||[]}),U=ye(()=>{var q;return(((q=s.getAllCategories)==null?void 0:q.length)||0)>8}),de=ye(()=>m.value?m.value.role==="admin"?!0:["hient7182@gmail.com","admin@hthree.com"].includes(m.value.email):!1),he=()=>{p.value=window.scrollY>50},Ee=q=>q?q.startsWith("http")?q:`https://phimimg.com/${q}`:"https://placehold.co/50x75/1a1a1a/fff?text=No+Image";let ge=null;const Re=async()=>{var L;const q=g.value.trim();if(q.length<2){S.value=[],A.value=!1;return}y.value=!0;try{const{searchMovies:ne}=await ut(async()=>{const{searchMovies:T}=await import("./movieApi-B-WNwMn1.js");return{searchMovies:T}},__vite__mapDeps([0,1]),import.meta.url),re=await ne(q,{limit:5});(re.status==="success"||re.status===!0)&&((L=re.data)!=null&&L.items)?(S.value=re.data.items.slice(0,5),A.value=!0):(S.value=[],A.value=!1)}catch(ne){console.error("Error fetching suggestions:",ne),S.value=[]}finally{y.value=!1}},J=()=>{clearTimeout(ge),ge=setTimeout(()=>{Re()},300)},xe=q=>{A.value=!1,l(q.name),e.push(`/film/${q.slug}`)},Ue=()=>{if(console.log(" handleSearch called, searchQuery:",g.value),A.value=!1,g.value.trim()){const q=g.value.trim();console.log(" Navigating to /search?q="+q),l(q),e.push(`/search?q=${encodeURIComponent(q)}`)}else console.warn(" Search query is empty")},Fe=()=>{setTimeout(()=>{A.value=!1},200)},W=async()=>{const{useConfirm:q}=await ut(async()=>{const{useConfirm:re}=await Promise.resolve().then(()=>T3);return{useConfirm:re}},void 0,import.meta.url),{confirm:L}=q();if(await L({title:"ng xut ti khon?",message:"Bn c chc chn mun ng xut khi ti khon?",type:"warning",confirmText:"ng xut",cancelText:"Hy"}))try{await r.logout(),i.success("  ng xut thnh cng!"),setTimeout(()=>{window.location.reload()},1e3)}catch(re){console.error("Logout error:",re),i.error(" Li khi ng xut. Vui lng th li!")}};return Ot(async()=>{var q;window.addEventListener("scroll",he),(q=s.getAllCategories)!=null&&q.length||await s.getCategory(),m.value&&await $(),ci(o,async L=>{L?await $():R.value=null})}),sn(()=>{window.removeEventListener("scroll",he),document.body.style.overflow=""}),(q,L)=>{var re,T,O,C,j,G,K,oe,se,w,E,M,F,ie,te,D,z,ue,Le,Ge,it;const ne=Ma("router-link");return I(),N(we,null,[d("nav",{class:Ae(["fixed top-0 left-0 right-0 z-50 transition-all duration-300",p.value?"bg-gray-900/95 backdrop-blur-sm shadow-lg":"bg-black/30 backdrop-blur-sm"])},[d("div",qR,[X(ne,{to:"/home",class:"flex items-center gap-2 flex-shrink-0"},{default:ve(()=>L[20]||(L[20]=[d("svg",{class:"w-8 h-8 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})],-1),d("span",{class:"text-yellow-400 text-xl font-bold"},"HTHREE",-1)])),_:1}),d("div",zR,[d("div",KR,[Eu(d("input",{"onUpdate:modelValue":L[0]||(L[0]=be=>g.value=be),type:"text",placeholder:q.$t("nav.search"),class:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 pl-10 text-sm text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400 transition",title:q.$t("nav.searchTitle"),"aria-label":q.$t("nav.search"),onInput:J,onKeyup:Is(Ue,["enter"]),onBlur:Fe,onFocus:L[1]||(L[1]=be=>g.value.length>=2?Re():A.value=!0)},null,40,GR),[[jo,g.value]]),L[24]||(L[24]=d("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),y.value?(I(),N("div",JR,L[21]||(L[21]=[d("svg",{class:"animate-spin h-4 w-4 text-yellow-400",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):Z("",!0),A.value&&(S.value.length>0||g.value.length===0&&Ke(a).length>0)?(I(),N("div",YR,[g.value.length===0&&Ke(a).length>0?(I(),N("div",XR,[d("div",QR,[L[22]||(L[22]=d("span",{class:"text-gray-400 text-xs font-medium"},"Tm kim gn y",-1)),d("button",{onMousedown:L[2]||(L[2]=(...be)=>Ke(c)&&Ke(c)(...be)),class:"text-gray-500 hover:text-red-400 text-xs transition-colors"}," Xa tt c ",32)]),(I(!0),N(we,null,He(Ke(a),(be,_t)=>(I(),N("div",{key:_t,onMousedown:rt=>{g.value=be,Ue()},class:"flex items-center gap-3 px-4 py-2.5 hover:bg-gray-700 cursor-pointer transition-colors border-b border-gray-700 last:border-b-0"},[L[23]||(L[23]=d("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("span",eP,B(be),1)],40,ZR))),128))])):Z("",!0),g.value.length>0&&S.value.length>0?(I(),N("div",tP,[(I(!0),N(we,null,He(S.value,be=>(I(),N("div",{key:be.slug,onMousedown:_t=>xe(be),class:"flex items-center gap-3 p-3 hover:bg-gray-700 cursor-pointer transition-colors border-b border-gray-700 last:border-b-0"},[d("img",{src:Ee(be.poster_url),alt:be.name,class:"w-12 h-16 object-cover rounded flex-shrink-0",onError:L[3]||(L[3]=_t=>_t.target.src="https://placehold.co/50x75/1a1a1a/fff?text=Error")},null,40,rP),d("div",sP,[d("p",oP,B(be.name),1),d("p",iP,B(be.origin_name),1),d("div",aP,[be.year?(I(),N("span",lP,B(be.year),1)):Z("",!0),be.quality?(I(),N("span",cP,B(be.quality),1)):Z("",!0),be.lang?(I(),N("span",uP,B(be.lang),1)):Z("",!0)])])],40,nP))),128)),d("div",dP,[d("button",{onMousedown:Ue,class:"text-yellow-400 text-sm hover:text-yellow-300 font-medium transition-colors"},' Xem tt c kt qu cho "'+B(g.value)+'"  ',33)])])):Z("",!0)])):Z("",!0)]),d("ul",hP,[d("li",fP,[X(ne,{to:"/list/phim-le/page/1",class:Ae([[p.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white",ce("/list/phim-le")?"text-yellow-400":""],"transition-all duration-300 px-2 py-1 block relative no-underline"]),style:{"text-decoration":"none !important"}},{default:ve(()=>[fe(B(q.$t("nav.single"))+" ",1),d("span",{class:Ae(["absolute bottom-0 left-0 h-0.5 bg-yellow-400 transition-all duration-300",ce("/list/phim-le")?"w-full":"w-0 group-hover:w-full"])},null,2)]),_:1},8,["class"])]),d("li",pP,[X(ne,{to:"/list/phim-bo/page/1",class:Ae([[p.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white",ce("/list/phim-bo")?"text-yellow-400":""],"transition-all duration-300 px-2 py-1 block relative no-underline"]),style:{"text-decoration":"none !important"}},{default:ve(()=>[fe(B(q.$t("nav.series"))+" ",1),d("span",{class:Ae(["absolute bottom-0 left-0 h-0.5 bg-yellow-400 transition-all duration-300",ce("/list/phim-bo")?"w-full":"w-0 group-hover:w-full"])},null,2)]),_:1},8,["class"])]),d("li",gP,[d("button",{class:Ae([p.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-all duration-300 flex items-center gap-1 px-2 py-1 relative"])},[fe(B(q.$t("nav.genres"))+" ",1),L[25]||(L[25]=d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),L[26]||(L[26]=d("span",{class:"absolute bottom-0 left-0 w-0 h-0.5 bg-yellow-400 transition-all duration-300 group-hover:w-full pointer-events-none"},null,-1))],2),d("div",mP,[d("div",vP,[(I(!0),N(we,null,He(ee.value,be=>(I(),$e(ne,{key:be.slug,to:`/category/${be.slug}/page/1`,class:"block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm"},{default:ve(()=>[fe(B(be.name),1)]),_:2},1032,["to"]))),128)),U.value?(I(),$e(ne,{key:0,to:"/categories",class:"block px-4 py-2 text-yellow-400 hover:bg-gray-700 hover:text-yellow-300 transition-colors text-sm font-medium border-t border-gray-700"},{default:ve(()=>[fe(B(q.$t("nav.viewAllGenres"))+"  ",1)]),_:1})):Z("",!0)])])]),d("li",yP,[d("button",{class:Ae([p.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-all duration-300 flex items-center gap-1 px-2 py-1 relative"])},[fe(B(q.$t("nav.countries"))+" ",1),L[27]||(L[27]=d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),L[28]||(L[28]=d("span",{class:"absolute bottom-0 left-0 w-0 h-0.5 bg-yellow-400 transition-all duration-300 group-hover:w-full pointer-events-none"},null,-1))],2),L[29]||(L[29]=Jn('<div class="hidden group-hover:block absolute top-full left-0 pt-2 w-48 z-50" data-v-17db710e><div class="bg-gray-800 rounded-lg shadow-xl max-h-96 overflow-y-auto border border-gray-700" data-v-17db710e><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-17db710e>Vit Nam</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-17db710e>Hn Quc</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-17db710e>Trung Quc</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-17db710e>M</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-17db710e>Thi Lan</a></div></div>',1))])])]),d("div",_P,[d("button",{onClick:f,class:"hidden md:flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-800/50 hover:bg-gray-700/70 border border-gray-700 hover:border-gray-600 transition-all duration-200 group",title:h.value==="vi"?"Switch to English":"Chuyn sang Ting Vit"},[L[30]||(L[30]=d("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})],-1)),d("span",wP,B(h.value==="vi"?"VI":"EN"),1)],8,bP),m.value&&!de.value?(I(),$e(ne,{key:0,to:"/pricing",class:Ae(["hidden md:flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all hover:scale-105 shadow-lg",ce("/pricing")?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-black ring-2 ring-yellow-400":"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-500 hover:to-yellow-600"]),title:"Nng cp ti khon VIP"},{default:ve(()=>L[31]||(L[31]=[d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),fe(" Nng cp VIP ")])),_:1},8,["class"])):Z("",!0),m.value&&(m.value.email==="hient7182@gmail.com"||m.value.email==="admin@hthree.com"||m.value.role==="admin")?(I(),$e(ne,{key:1,to:"/admin",class:"p-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",title:"Qun tr h thng","aria-label":"Admin Panel"},{default:ve(()=>L[32]||(L[32]=[d("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])),_:1})):Z("",!0),d("div",EP,[d("button",{class:"flex items-center gap-2 bg-gray-800 px-3 py-2 rounded-lg hover:bg-gray-700 hover:scale-105 transition-all duration-300",title:Ke(r).loading?"ang ti...":m.value?`Ti khon: ${m.value.displayName||m.value.username||m.value.email}`:"ng nhp / ng k","aria-label":"Menu ti khon"},[Ke(r).loading?(I(),N("div",kP,L[33]||(L[33]=[d("svg",{class:"animate-spin h-5 w-5 text-yellow-400",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):m.value?(I(),N("div",TP,[d("img",{src:((re=m.value)==null?void 0:re.avatar)||((T=m.value)==null?void 0:T.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((O=m.value)==null?void 0:O.full_name)||((C=m.value)==null?void 0:C.displayName)||((j=m.value)==null?void 0:j.username)||"User")}&background=f59e0b&color=000`,class:"w-7 h-7 rounded-full border-2 border-yellow-400 shadow-lg",alt:((G=m.value)==null?void 0:G.full_name)||((K=m.value)==null?void 0:K.displayName)||((oe=m.value)==null?void 0:oe.username)||"User"},null,8,SP),Q.value?(I(),N("div",{key:0,class:Ae([Q.value.color,"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full flex items-center justify-center text-[9px] font-bold border-2 border-gray-900 shadow-lg"])},B(Q.value.icon),3)):Z("",!0)])):(I(),N("svg",CP,L[34]||(L[34]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)]))),d("span",IP,B(Ke(r).loading?"...":m.value&&(m.value.full_name||m.value.displayName||m.value.username||((se=m.value.email)==null?void 0:se.split("@")[0]))||"Thnh vin"),1)],8,xP),d("div",AP,[m.value?(I(),N("div",OP,[d("div",RP,[d("img",{src:((w=m.value)==null?void 0:w.avatar)||((E=m.value)==null?void 0:E.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((M=m.value)==null?void 0:M.full_name)||((F=m.value)==null?void 0:F.displayName)||((ie=m.value)==null?void 0:ie.username)||"User")}&background=f59e0b&color=000`,class:"w-11 h-11 rounded-full border-2 border-yellow-400 shadow-lg",alt:((te=m.value)==null?void 0:te.full_name)||((D=m.value)==null?void 0:D.displayName)||((z=m.value)==null?void 0:z.username)||"User"},null,8,PP),d("div",NP,[d("div",LP,[d("p",$P,B(((ue=m.value)==null?void 0:ue.full_name)||((Le=m.value)==null?void 0:Le.displayName)||((Ge=m.value)==null?void 0:Ge.username)),1),Q.value?(I(),N("span",{key:0,class:Ae([Q.value.color,"px-1.5 py-0.5 rounded text-[9px] font-bold flex items-center gap-0.5 flex-shrink-0"])},[d("span",null,B(Q.value.icon),1),d("span",null,B(Q.value.label),1)],2)):Z("",!0)]),d("p",MP,B((it=m.value)==null?void 0:it.email),1),Q.value?(I(),N("p",DP,B(H.value),1)):Z("",!0)])]),de.value?(I(),N("div",jP,L[36]||(L[36]=[d("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),d("span",null,"Qun tr vin",-1)]))):(I(),$e(ne,{key:0,to:"/pricing",class:"w-full bg-gradient-to-r from-yellow-400 to-yellow-500 text-black px-3 py-2 rounded-lg font-bold text-xs hover:from-yellow-500 hover:to-yellow-600 hover:scale-105 hover:shadow-xl hover:shadow-yellow-400/50 transition-all duration-300 shadow-lg flex items-center justify-center gap-1.5 group/upgrade"},{default:ve(()=>L[35]||(L[35]=[d("svg",{class:"w-3.5 h-3.5 group-hover/upgrade:rotate-12 transition-transform duration-300",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),d("span",{class:"group-hover/upgrade:tracking-wider transition-all duration-300"},"Nng cp ngay",-1)])),_:1}))])):Z("",!0),d("div",UP,[m.value?(I(),$e(ne,{key:0,to:"/library",class:Ae(["flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item",ce("/library")?"bg-gray-800 border-l-2 border-yellow-400":""]),title:"Yu thch, Danh sch, Xem tip"},{default:ve(()=>[(I(),N("svg",{class:Ae(["w-4 h-4 transition-all duration-300 group-hover/item:scale-110",ce("/library")?"text-yellow-400":"text-gray-400 group-hover/item:text-yellow-400"]),fill:"currentColor",viewBox:"0 0 20 20"},L[37]||(L[37]=[d("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"},null,-1)]),2)),L[38]||(L[38]=d("span",{class:"font-medium text-sm"},"Th vin ca ti",-1))]),_:1},8,["class"])):Z("",!0),m.value?(I(),$e(ne,{key:1,to:"/account",class:Ae(["flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item",ce("/account")?"bg-gray-800 border-l-2 border-yellow-400":""])},{default:ve(()=>[(I(),N("svg",{class:Ae(["w-4 h-4 transition-all duration-300 group-hover/item:scale-110",ce("/account")?"text-yellow-400":"text-gray-400 group-hover/item:text-yellow-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},L[39]||(L[39]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)]),2)),L[40]||(L[40]=d("span",{class:"font-medium text-sm"},"Ti khon",-1))]),_:1},8,["class"])):Z("",!0),m.value?(I(),N("div",FP)):Z("",!0),m.value?(I(),N("button",{key:3,onClick:W,class:"flex items-center gap-2.5 w-full px-4 py-2.5 text-white hover:bg-red-500/20 hover:text-red-400 hover:pl-5 transition-all duration-300 group/item"},L[41]||(L[41]=[d("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-red-400 transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),d("span",{class:"font-medium text-sm"},"Thot",-1)]))):(I(),N("button",{key:4,onClick:L[4]||(L[4]=be=>_.value=!0),class:"flex items-center gap-2.5 w-full px-4 py-2.5 text-white hover:bg-gray-800 hover:text-yellow-400 hover:pl-5 transition-all duration-300 group/item"},L[42]||(L[42]=[d("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),d("span",{class:"font-medium text-sm"},"ng nhp",-1)])))])])]),d("button",{onClick:De,class:"lg:hidden p-2 rounded-lg hover:bg-gray-800 transition-colors relative z-50","aria-label":"Menu iu hng","aria-expanded":b.value},[b.value?(I(),N("svg",VP,L[44]||(L[44]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(I(),N("svg",HP,L[43]||(L[43]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])))],8,BP)])]),X(vt,{name:"fade"},{default:ve(()=>[b.value?(I(),N("div",{key:0,onClick:L[5]||(L[5]=be=>b.value=!1),class:"lg:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-30 top-[64px]"})):Z("",!0)]),_:1}),X(vt,{name:"slide-down"},{default:ve(()=>{var be,_t,rt,Ve,lt,nr,oo,mi,dl,ud,dd,hd;return[b.value?(I(),N("div",WP,[d("div",qP,[X(ne,{to:"/home",onClick:L[6]||(L[6]=bt=>b.value=!1),class:Ae(["block px-4 py-3 rounded-lg transition-all font-medium",ce("/home")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ve(()=>L[45]||(L[45]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),fe(" Trang ch ")],-1)])),_:1},8,["class"]),X(ne,{to:"/list/phim-le/page/1",onClick:L[7]||(L[7]=bt=>b.value=!1),class:Ae(["block px-4 py-3 rounded-lg transition-all font-medium",ce("/list/phim-le")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ve(()=>L[46]||(L[46]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),fe(" Phim L ")],-1)])),_:1},8,["class"]),X(ne,{to:"/list/phim-bo/page/1",onClick:L[8]||(L[8]=bt=>b.value=!1),class:Ae(["block px-4 py-3 rounded-lg transition-all font-medium",ce("/list/phim-bo")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ve(()=>L[47]||(L[47]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})]),fe(" Phim B ")],-1)])),_:1},8,["class"]),d("div",zP,[d("button",{onClick:L[9]||(L[9]=bt=>P.value=!P.value),class:"w-full flex items-center justify-between px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},[L[49]||(L[49]=d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})]),fe(" Th loi ")],-1)),(I(),N("svg",{class:Ae(["w-4 h-4 transition-transform duration-300",P.value?"rotate-180":""]),fill:"currentColor",viewBox:"0 0 20 20"},L[48]||(L[48]=[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),X(vt,{name:"accordion"},{default:ve(()=>[P.value?(I(),N("div",KP,[(I(!0),N(we,null,He(ee.value,bt=>(I(),$e(ne,{key:bt.slug,to:`/category/${bt.slug}/page/1`,onClick:L[10]||(L[10]=Iy=>b.value=!1),class:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all"},{default:ve(()=>[fe(B(bt.name),1)]),_:2},1032,["to"]))),128)),U.value?(I(),$e(ne,{key:0,to:"/categories",onClick:L[11]||(L[11]=bt=>b.value=!1),class:"block px-4 py-2 text-sm text-yellow-400 hover:bg-gray-800 rounded-lg transition-all font-medium"},{default:ve(()=>L[50]||(L[50]=[fe(" Xem tt c th loi  ")])),_:1})):Z("",!0)])):Z("",!0)]),_:1})]),d("div",GP,[d("button",{onClick:L[12]||(L[12]=bt=>x.value=!x.value),class:"w-full flex items-center justify-between px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},[L[52]||(L[52]=d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z","clip-rule":"evenodd"})]),fe(" Quc gia ")],-1)),(I(),N("svg",{class:Ae(["w-4 h-4 transition-transform duration-300",x.value?"rotate-180":""]),fill:"currentColor",viewBox:"0 0 20 20"},L[51]||(L[51]=[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),X(vt,{name:"accordion"},{default:ve(()=>[x.value?(I(),N("div",JP,[(I(!0),N(we,null,He(ae.value,bt=>(I(),$e(ne,{key:bt.slug,to:`/country/${bt.slug}/page/1`,onClick:L[13]||(L[13]=Iy=>b.value=!1),class:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all"},{default:ve(()=>[fe(B(bt.name),1)]),_:2},1032,["to"]))),128))])):Z("",!0)]),_:1})]),m.value?(I(),$e(ne,{key:0,to:"/library",onClick:L[14]||(L[14]=bt=>b.value=!1),class:Ae(["block px-4 py-3 rounded-lg transition-all font-medium",ce("/library")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ve(()=>L[53]||(L[53]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})]),fe(" Th vin ca ti ")],-1)])),_:1},8,["class"])):Z("",!0),m.value&&!de.value?(I(),$e(ne,{key:1,to:"/pricing",onClick:L[15]||(L[15]=bt=>b.value=!1),class:Ae(["block px-4 py-3 rounded-lg transition-all font-medium",ce("/pricing")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ve(()=>L[54]||(L[54]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),fe(" Nng cp VIP ")],-1)])),_:1},8,["class"])):Z("",!0),L[57]||(L[57]=d("div",{class:"border-t border-gray-800 my-4"},null,-1)),m.value?(I(),N("div",XP,[d("div",QP,[d("img",{src:((be=m.value)==null?void 0:be.avatar)||((_t=m.value)==null?void 0:_t.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((rt=m.value)==null?void 0:rt.full_name)||((Ve=m.value)==null?void 0:Ve.displayName)||((lt=m.value)==null?void 0:lt.username)||"User")}&background=f59e0b&color=000`,class:"w-12 h-12 rounded-full border-2 border-yellow-400",alt:((nr=m.value)==null?void 0:nr.full_name)||((oo=m.value)==null?void 0:oo.displayName)||((mi=m.value)==null?void 0:mi.username)||"User"},null,8,ZP),d("div",null,[d("p",e3,B(((dl=m.value)==null?void 0:dl.full_name)||((ud=m.value)==null?void 0:ud.displayName)||((dd=m.value)==null?void 0:dd.username)),1),d("p",t3,B((hd=m.value)==null?void 0:hd.email),1)])]),d("button",{onClick:L[17]||(L[17]=bt=>{W(),b.value=!1}),class:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg font-medium hover:bg-gray-700 transition-all flex items-center justify-center gap-2"},L[56]||(L[56]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),fe(" ng xut ")]))])):(I(),N("div",YP,[d("button",{onClick:L[16]||(L[16]=bt=>{_.value=!0,b.value=!1}),class:"w-full bg-yellow-400 text-black px-4 py-3 rounded-lg font-bold hover:bg-yellow-500 transition-all flex items-center justify-center gap-2"},L[55]||(L[55]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),fe(" ng nhp ")]))]))])])):Z("",!0)]}),_:1}),X(vt,{name:"fade"},{default:ve(()=>[b.value?(I(),N("div",{key:0,onClick:De,class:"lg:hidden fixed inset-0 bg-black/50 z-30 top-[64px]","aria-hidden":"true"})):Z("",!0)]),_:1})],2),X(GI,{modelValue:_.value,"onUpdate:modelValue":L[18]||(L[18]=be=>_.value=be),onSuccess:q.loadUser},null,8,["modelValue","onSuccess"]),X(Hv,{show:k.value,onClose:L[19]||(L[19]=be=>k.value=!1)},null,8,["show"])],64)}}},r3=kt(n3,[["__scopeId","data-v-17db710e"]]),s3={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900"},o3={__name:"SplashScreen",setup(t){const e=Y(!0);return Ot(()=>{setTimeout(()=>{e.value=!1},2500)}),(n,r)=>(I(),$e(vt,{name:"fade"},{default:ve(()=>[e.value?(I(),N("div",s3,r[0]||(r[0]=[d("div",{class:"text-center"},[d("div",{class:"mb-6 animate-bounce-slow"},[d("svg",{class:"w-24 h-24 mx-auto text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})])]),d("h1",{class:"text-5xl font-black text-white mb-2 tracking-wider",style:{"text-shadow":"0 0 20px rgba(250, 204, 21, 0.5)"}}," HTHREE-FILM "),d("p",{class:"text-gray-400 text-lg mb-8 font-medium"}," Xem Phim Min Ph Cc Nhanh, Cht Lng Cao V Cp Nht Lin Tc "),d("div",{class:"flex justify-center gap-2"},[d("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0s"}}),d("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.2s"}}),d("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.4s"}})])],-1)]))):Z("",!0)]),_:1}))}},i3=kt(o3,[["__scopeId","data-v-605b96cb"]]),a3={class:"fixed top-4 right-4 z-[99999] flex flex-col gap-3 pointer-events-none"},l3={class:"flex items-start gap-3 p-4 pt-5"},c3={key:0,class:"w-6 h-6 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},u3={key:1,class:"w-6 h-6 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},d3={key:2,class:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},h3={key:3,class:"w-6 h-6 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},f3={class:"flex-1 min-w-0"},p3={class:"text-sm text-gray-300 leading-relaxed"},g3=["onClick"],m3={__name:"CustomToast",setup(t,{expose:e}){const n=Y([]);let r=0;const s=(i,a,l,c=3e3)=>{const u=++r,h={id:u,type:i,title:a,message:l,progress:100};n.value.push(h);const f=Date.now(),p=setInterval(()=>{const g=Date.now()-f,m=Math.max(0,100-g/c*100),b=n.value.findIndex(S=>S.id===u);b!==-1&&(n.value[b].progress=m),m===0&&clearInterval(p)},50);return setTimeout(()=>{o(u)},c),u},o=i=>{const a=n.value.findIndex(l=>l.id===i);a!==-1&&n.value.splice(a,1)};return e({success:(i,a)=>s("success","Thnh cng",i,a),error:(i,a)=>s("error","Li",i,a),warning:(i,a)=>s("warning","Cnh bo",i,a),info:(i,a)=>s("info","Thng tin",i,a)}),(i,a)=>(I(),$e(Zs,{to:"body"},[d("div",a3,[X(Gg,{name:"toast"},{default:ve(()=>[(I(!0),N(we,null,He(n.value,l=>(I(),N("div",{key:l.id,class:Ae(["toast-item pointer-events-auto min-w-[320px] max-w-[400px] bg-gray-900/95 backdrop-blur-xl border rounded-xl shadow-2xl overflow-hidden",[l.type==="success"?"border-green-500/50 shadow-green-500/20":l.type==="error"?"border-red-500/50 shadow-red-500/20":l.type==="warning"?"border-yellow-500/50 shadow-yellow-500/20":"border-blue-500/50 shadow-blue-500/20"]])},[d("div",{class:Ae(["absolute top-0 left-0 h-1 transition-all duration-100 ease-linear",[l.type==="success"?"bg-green-500":l.type==="error"?"bg-red-500":l.type==="warning"?"bg-yellow-500":"bg-blue-500"]]),style:Er({width:`${l.progress}%`})},null,6),d("div",l3,[d("div",{class:Ae(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",[l.type==="success"?"bg-green-500/20":l.type==="error"?"bg-red-500/20":l.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"]])},[l.type==="success"?(I(),N("svg",c3,a[0]||(a[0]=[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)]))):l.type==="error"?(I(),N("svg",u3,a[1]||(a[1]=[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)]))):l.type==="warning"?(I(),N("svg",d3,a[2]||(a[2]=[d("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))):(I(),N("svg",h3,a[3]||(a[3]=[d("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},null,-1)])))],2),d("div",f3,[d("p",{class:Ae(["text-sm font-semibold mb-1",[l.type==="success"?"text-green-400":l.type==="error"?"text-red-400":l.type==="warning"?"text-yellow-400":"text-blue-400"]])},B(l.title),3),d("p",p3,B(l.message),1)]),d("button",{onClick:c=>o(l.id),class:"flex-shrink-0 w-6 h-6 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors"},a[4]||(a[4]=[d("svg",{class:"w-4 h-4 text-gray-400 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,g3)])],2))),128))]),_:1})])]))}},v3=kt(m3,[["__scopeId","data-v-a1e17cb9"]]),y3={class:"bg-gradient-to-b from-gray-900 to-black text-white border-t border-gray-800 mt-0 w-full"},_3={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},b3={class:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-6"},w3={class:"space-y-2"},E3={class:"space-y-2"},x3={class:"space-y-2"},k3={__name:"FooterComponent",setup(t){return(e,n)=>{const r=Ma("router-link");return I(),N("footer",y3,[d("div",_3,[d("div",b3,[n[17]||(n[17]=Jn('<div class="col-span-1 md:col-span-1"><div class="flex items-center gap-2 mb-4"><svg class="w-10 h-10 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"></path></svg><span class="text-2xl font-bold text-yellow-400">HTHREE</span></div><p class="text-gray-400 text-sm leading-relaxed"> Phim hay c ri - Trang xem phim online cht lng cao min ph, Vietsub, thuyt minh, b ting full HD. </p><div class="flex gap-3 mt-4"><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a></div></div>',1)),d("div",null,[n[6]||(n[6]=d("h3",{class:"text-white font-semibold text-lg mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),fe(" iu hng ")],-1)),d("ul",w3,[d("li",null,[X(r,{to:"/home",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ve(()=>n[0]||(n[0]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),fe(" Trang ch ")])),_:1})]),d("li",null,[X(r,{to:"/list/phim-le/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ve(()=>n[1]||(n[1]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),fe(" Phim L ")])),_:1})]),d("li",null,[X(r,{to:"/list/phim-bo/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ve(()=>n[2]||(n[2]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),fe(" Phim B ")])),_:1})]),d("li",null,[X(r,{to:"/categories",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ve(()=>n[3]||(n[3]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),fe(" Tt c th loi ")])),_:1})]),d("li",null,[X(r,{to:"/library",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ve(()=>n[4]||(n[4]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),fe(" Th vin ca ti ")])),_:1})]),d("li",null,[X(r,{to:"/pricing",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ve(()=>n[5]||(n[5]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),fe(" Gi dch v ")])),_:1})])])]),d("div",null,[n[13]||(n[13]=d("h3",{class:"text-white font-semibold text-lg mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})]),fe(" Th Loi ")],-1)),d("ul",E3,[d("li",null,[X(r,{to:"/category/hanh-dong/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ve(()=>n[7]||(n[7]=[fe("Hnh ng")])),_:1})]),d("li",null,[X(r,{to:"/category/hai-huoc/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ve(()=>n[8]||(n[8]=[fe("Hi Hc")])),_:1})]),d("li",null,[X(r,{to:"/category/kinh-di/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ve(()=>n[9]||(n[9]=[fe("Kinh D")])),_:1})]),d("li",null,[X(r,{to:"/category/tinh-cam/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ve(()=>n[10]||(n[10]=[fe("Tnh Cm")])),_:1})]),d("li",null,[X(r,{to:"/category/khoa-hoc-vien-tuong/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ve(()=>n[11]||(n[11]=[fe("Khoa Hc Vin Tng")])),_:1})]),d("li",null,[X(r,{to:"/category/hoat-hinh/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ve(()=>n[12]||(n[12]=[fe("Hot Hnh")])),_:1})])])]),d("div",null,[n[16]||(n[16]=d("h3",{class:"text-white font-semibold text-lg mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),fe(" H Tr ")],-1)),d("ul",x3,[d("li",null,[X(r,{to:"/contact",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ve(()=>n[14]||(n[14]=[fe(" Lin h")])),_:1})]),n[15]||(n[15]=Jn('<li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> iu khon s dng</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> Chnh sch bo mt</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> Gii thiu</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> Cu hi thng gp</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> Hng dn thanh ton</a></li>',5))])])]),n[18]||(n[18]=d("div",{class:"border-t border-gray-800 pt-4"},[d("div",{class:"flex flex-col md:flex-row items-center justify-between gap-4"},[d("p",{class:"text-gray-500 text-sm"}," 2024 HTHREE Film. All rights reserved."),d("div",{class:"flex items-center gap-4 text-xs text-gray-500"},[d("span",null,"v1.0.0")])])],-1))])])}}},fo=Y(!1),wp=Y({title:"",message:"",confirmText:"Xc nhn",cancelText:"Hy",type:"warning",onConfirm:null,onCancel:null});function ky(){return{isOpen:fo,confirmData:wp,confirm:({title:n="Xc nhn",message:r="Bn c chc chn mun thc hin hnh ng ny?",confirmText:s="Xc nhn",cancelText:o="Hy",type:i="warning"})=>new Promise(a=>{wp.value={title:n,message:r,confirmText:s,cancelText:o,type:i,onConfirm:()=>{fo.value=!1,a(!0)},onCancel:()=>{fo.value=!1,a(!1)}},fo.value=!0}),close:()=>{fo.value=!1}}}const T3=Object.freeze(Object.defineProperty({__proto__:null,useConfirm:ky},Symbol.toStringTag,{value:"Module"})),S3=["aria-labelledby"],C3={class:"flex justify-center pt-6 pb-4"},I3={key:0,class:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},A3={key:1,class:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O3={key:2,class:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R3={class:"px-6 pb-6 text-center"},P3=["id"],N3={class:"text-gray-400 text-sm leading-relaxed"},L3={class:"flex items-center justify-center gap-3 px-6 pb-6"},$3={__name:"ConfirmDialog",setup(t){const{isOpen:e,confirmData:n}=ky(),r=()=>{n.value.onConfirm&&n.value.onConfirm()},s=()=>{n.value.onCancel&&n.value.onCancel()};return(o,i)=>(I(),$e(Zs,{to:"body"},[X(vt,{name:"fade"},{default:ve(()=>[Ke(e)?(I(),N("div",{key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center p-4",onClick:zt(s,["self"])},[i[3]||(i[3]=d("div",{class:"absolute inset-0 bg-black/70 backdrop-blur-sm"},null,-1)),X(vt,{name:"scale"},{default:ve(()=>[Ke(e)?(I(),N("div",{key:0,class:"relative bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full border border-gray-700 overflow-hidden",role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title-"+Date.now()},[d("div",C3,[d("div",{class:Ae(["w-16 h-16 rounded-full flex items-center justify-center",{"bg-yellow-500/20":Ke(n).type==="warning","bg-red-500/20":Ke(n).type==="danger","bg-blue-500/20":Ke(n).type==="info"}])},[Ke(n).type==="warning"?(I(),N("svg",I3,i[0]||(i[0]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))):Ke(n).type==="danger"?(I(),N("svg",A3,i[1]||(i[1]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)]))):(I(),N("svg",O3,i[2]||(i[2]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))],2)]),d("div",R3,[d("h3",{id:"dialog-title-"+Date.now(),class:"text-xl font-bold text-white mb-2"},B(Ke(n).title),9,P3),d("p",N3,B(Ke(n).message),1)]),d("div",L3,[d("button",{onClick:s,class:"flex-1 px-4 py-3 bg-gray-800 text-white rounded-lg font-medium hover:bg-gray-700 transition-all focus:outline-none focus:ring-2 focus:ring-gray-600 flex items-center justify-center"},B(Ke(n).cancelText),1),d("button",{onClick:r,class:Ae(["flex-1 px-4 py-3 rounded-lg font-medium transition-all focus:outline-none focus:ring-2 flex items-center justify-center",{"bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-400":Ke(n).type==="warning","bg-red-500 text-white hover:bg-red-600 focus:ring-red-400":Ke(n).type==="danger","bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400":Ke(n).type==="info"}])},B(Ke(n).confirmText),3)])],8,S3)):Z("",!0)]),_:1})])):Z("",!0)]),_:1})]))}},M3=kt($3,[["__scopeId","data-v-cc897611"]]),D3={__name:"ScrollToTop",setup(t){const e=Y(!1);Y(0);const n=()=>{const s=window.pageYOffset||document.documentElement.scrollTop;document.documentElement.scrollHeight-document.documentElement.clientHeight,e.value=s>300},r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return Ot(()=>{window.addEventListener("scroll",n),n()}),sn(()=>{window.removeEventListener("scroll",n)}),(s,o)=>(I(),$e(vt,{name:"slide-up"},{default:ve(()=>[e.value?(I(),N("button",{key:0,onClick:r,class:"fixed bottom-6 right-6 z-50 w-12 h-12 bg-yellow-500 hover:bg-yellow-600 text-black rounded-full shadow-2xl hover:shadow-yellow-500/50 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-4 focus:ring-yellow-400/50 group","aria-label":"Quay li u trang",title:"Quay li u trang"},o[0]||(o[0]=[d("svg",{class:"w-6 h-6 mx-auto group-hover:-translate-y-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)]))):Z("",!0)]),_:1}))}},j3=kt(D3,[["__scopeId","data-v-19df53e0"]]),U3={class:"bg-gray-900 rounded-2xl max-w-2xl w-full border border-gray-700 shadow-2xl overflow-hidden"},F3={class:"p-4 border-b border-gray-700"},B3={class:"relative"},H3=["onKeydown"],V3={class:"max-h-[400px] overflow-y-auto"},W3={key:0,class:"p-8 text-center"},q3={key:1},z3={class:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider"},K3=["onClick","onMouseenter"],G3={class:"flex items-center gap-3"},J3={key:1,class:"text-lg"},Y3={class:"text-white font-medium text-sm"},X3={key:0,class:"text-gray-400 text-xs"},Q3={key:0,class:"px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs font-mono"},Z3={class:"px-4 py-3 bg-gray-800/50 border-t border-gray-700 flex items-center justify-between text-xs text-gray-400"},eN={__name:"CommandPalette",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const n=t,r=e,s=Ar(),o=ol(),i=Y(null),a=Y(""),l=Y(0),c=Y([{id:"nav-home",label:"Trang ch",description:"V trang ch",emoji:"",group:"iu hng",action:()=>s.push("/home"),shortcut:"G+H"},{id:"nav-library",label:"Th vin",description:"Th vin ca ti",emoji:"",group:"iu hng",action:()=>s.push("/library"),shortcut:"G+L"},{id:"nav-pricing",label:"Gi dch v",description:"Xem cc gi",emoji:"",group:"iu hng",action:()=>s.push("/pricing"),shortcut:"G+P"},{id:"nav-cart",label:"Gi hng",description:"Xem gi hng",emoji:"",group:"iu hng",action:()=>s.push("/cart"),shortcut:"G+C"},{id:"nav-account",label:"Ti khon",description:"Qun l ti khon",emoji:"",group:"iu hng",action:()=>s.push("/account")},{id:"action-search",label:"Tm kim phim",description:"M thanh tm kim",emoji:"",group:"Hnh ng",action:()=>S(),shortcut:"/"},{id:"action-shortcuts",label:"Phm tt",description:"Xem danh sch phm tt",emoji:"",group:"Hnh ng",action:()=>A(),shortcut:"?"},{id:"action-theme",label:"Chuyn theme",description:"Sng/Ti",emoji:"",group:"Hnh ng",action:()=>y()},{id:"quick-buy-basic",label:"Mua gi Basic",description:"Thm gi Basic vo gi",emoji:"",group:"Mua nhanh",action:()=>_("basic")},{id:"quick-buy-premium",label:"Mua gi Premium",description:"Thm gi Premium vo gi",emoji:"",group:"Mua nhanh",action:()=>_("premium")},{id:"quick-buy-vip",label:"Mua gi VIP",description:"Thm gi VIP vo gi",emoji:"",group:"Mua nhanh",action:()=>_("vip")}]),u=ye(()=>{if(!a.value)return c.value;const x=a.value.toLowerCase();return c.value.filter(k=>{var R;return k.label.toLowerCase().includes(x)||((R=k.description)==null?void 0:R.toLowerCase().includes(x))||k.group.toLowerCase().includes(x)})}),h=ye(()=>{const x={};return u.value.forEach(k=>{x[k.group]||(x[k.group]=[]),x[k.group].push(k)}),x}),f=(x,k)=>{let R=0;for(const[v,$]of Object.entries(h.value)){if(v===x)return R+k;R+=$.length}return 0},p=()=>{l.value=Math.min(l.value+1,u.value.length-1)},g=()=>{l.value=Math.max(l.value-1,0)},m=()=>{const x=u.value[l.value];x&&b(x)},b=x=>{x.action(),P(),o.success(` ${x.label}`)},S=()=>{const x=document.querySelector('input[placeholder*="Tm kim"]');x&&x.focus()},A=()=>{window.dispatchEvent(new CustomEvent("show-shortcuts"))},y=()=>{document.documentElement.classList.toggle("dark"),o.info("Theme  c thay i")},_=x=>{s.push(`/pricing?plan=${x}`)},P=()=>{a.value="",l.value=0,r("close")};return Zt(()=>n.show,x=>{x&&Ir(()=>{var k;(k=i.value)==null||k.focus()})}),(x,k)=>(I(),$e(Zs,{to:"body"},[X(vt,{name:"fade"},{default:ve(()=>[t.show?(I(),N("div",{key:0,class:"fixed inset-0 z-[9999] flex items-start justify-center pt-[15vh] p-4 bg-black/80 backdrop-blur-sm",onClick:zt(P,["self"])},[d("div",U3,[d("div",F3,[d("div",B3,[k[1]||(k[1]=d("svg",{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),Eu(d("input",{ref_key:"searchInput",ref:i,"onUpdate:modelValue":k[0]||(k[0]=R=>a.value=R),type:"text",placeholder:"Tm kim hnh ng, trang, phim...",class:"w-full pl-12 pr-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-400/20 transition-all",onKeydown:[Is(zt(p,["prevent"]),["down"]),Is(zt(g,["prevent"]),["up"]),Is(zt(m,["prevent"]),["enter"]),Is(P,["esc"])]},null,40,H3),[[jo,a.value]])])]),d("div",V3,[u.value.length===0?(I(),N("div",W3,k[2]||(k[2]=[d("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),d("p",{class:"text-gray-400"},"Khng tm thy kt qu",-1)]))):(I(),N("div",q3,[(I(!0),N(we,null,He(h.value,(R,v)=>(I(),N("div",{key:v,class:"py-2"},[d("div",z3,B(v),1),(I(!0),N(we,null,He(R,($,Q)=>(I(),N("button",{key:$.id,onClick:H=>b($),onMouseenter:H=>l.value=f(v,Q),class:Ae(["w-full px-4 py-3 flex items-center justify-between hover:bg-gray-800 transition-colors text-left",{"bg-gray-800":l.value===f(v,Q)}])},[d("div",G3,[d("div",{class:Ae(["w-8 h-8 rounded-lg flex items-center justify-center",$.iconBg||"bg-gray-700"])},[$.icon?(I(),$e(vg($.icon),{key:0,class:Ae(["w-4 h-4",$.iconColor||"text-white"])},null,8,["class"])):(I(),N("span",J3,B($.emoji),1))],2),d("div",null,[d("p",Y3,B($.label),1),$.description?(I(),N("p",X3,B($.description),1)):Z("",!0)])]),$.shortcut?(I(),N("kbd",Q3,B($.shortcut),1)):Z("",!0)],42,K3))),128))]))),128))]))]),d("div",Z3,[k[3]||(k[3]=d("div",{class:"flex items-center gap-4"},[d("span",{class:"flex items-center gap-1"},[d("kbd",{class:"px-1.5 py-0.5 bg-gray-700 rounded"},""),fe(" iu hng ")]),d("span",{class:"flex items-center gap-1"},[d("kbd",{class:"px-1.5 py-0.5 bg-gray-700 rounded"},"Enter"),fe(" Chn ")]),d("span",{class:"flex items-center gap-1"},[d("kbd",{class:"px-1.5 py-0.5 bg-gray-700 rounded"},"Esc"),fe(" ng ")])],-1)),d("span",null,B(u.value.length)+" kt qu",1)])])])):Z("",!0)]),_:1})]))}},tN=kt(eN,[["__scopeId","data-v-0b170577"]]),nN={key:0,class:"fixed top-0 left-0 right-0 z-[9999] bg-red-600 text-white px-4 py-3 shadow-lg"},rN={class:"container mx-auto flex items-center justify-between"},sN={__name:"OfflineBanner",props:{show:{type:Boolean,default:!1},showRetry:{type:Boolean,default:!1}},emits:["retry"],setup(t){return(e,n)=>(I(),$e(vt,{name:"slide-down"},{default:ve(()=>[t.show?(I(),N("div",nN,[d("div",rN,[n[1]||(n[1]=d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})]),d("div",null,[d("p",{class:"font-bold text-sm"},"Mt kt ni Internet"),d("p",{class:"text-xs opacity-90"},"Vui lng kim tra kt ni mng ca bn")])],-1)),t.showRetry?(I(),N("button",{key:0,onClick:n[0]||(n[0]=r=>e.$emit("retry")),class:"bg-white text-red-600 px-4 py-1.5 rounded-lg text-sm font-bold hover:bg-gray-100 transition-colors"}," Th li ")):Z("",!0)])])):Z("",!0)]),_:1}))}},oN=kt(sN,[["__scopeId","data-v-138fa349"]]),iN={class:"flex flex-col min-h-screen m-0 p-0 bg-black"},aN={key:1,class:"flex flex-col items-center justify-center flex-grow bg-gradient-to-br from-indigo-100 to-gray-50"},lN={key:2,class:"flex-grow"},cN={__name:"App",setup(t){const e=Ba(),n=Ar(),r=Y(void 0),s=fs(),o=Y(null),i=ol();ye(()=>e.path==="/home");const a=ye(()=>e.path.startsWith("/admin")),l=Y(!1),c=Y(!1);return JI({"ctrl+k":u=>{Wr()||(l.value=!0)},"/":u=>{if(!Wr()){const h=document.querySelector('input[placeholder*="Tm kim"]');h&&h.focus()}},"?":u=>{Wr()||(c.value=!0)},escape:()=>{l.value=!1,c.value=!1},"g+h":()=>{Wr()||n.push("/home")},"g+l":()=>{Wr()||n.push("/library")},"g+p":()=>{Wr()||n.push("/pricing")},"g+c":()=>{Wr()||n.push("/cart")}}),Ot(()=>{o.value&&hA(o.value);let u=null,h=!1;const f=ci(s,p=>{h=!0,r.value=p,u&&(clearTimeout(u),u=null)});return u=setTimeout(()=>{!h&&r.value===void 0&&(r.value=null,i.error("Khng th kim tra trng thi ng nhp. Vui lng th li!"))},1e4),()=>{f(),u&&clearTimeout(u)}}),(u,h)=>{const f=Ma("router-view");return I(),N(we,null,[X(i3),X(tN,{show:l.value,onClose:h[0]||(h[0]=p=>l.value=!1)},null,8,["show"]),X(Hv,{show:c.value,onClose:h[1]||(h[1]=p=>c.value=!1)},null,8,["show"]),X(oN),d("div",iN,[a.value?Z("",!0):(I(),$e(r3,{key:0})),r.value===void 0?(I(),N("div",aN,h[2]||(h[2]=[Jn('<div class="text-center"><svg class="animate-spin h-12 w-12 text-indigo-600 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="text-xl font-semibold text-gray-700">ang kim tra ng nhp...</p></div>',1)]))):(I(),N("main",lN,[X(f,null,{default:ve(({Component:p,route:g})=>[X(vt,{name:g.meta.transition||"fade",mode:"out-in"},{default:ve(()=>[(I(),$e(vg(p),{key:g.path}))]),_:2},1032,["name"])]),_:1})])),a.value?Z("",!0):(I(),$e(k3,{key:3}))]),X(j3),X(v3,{ref_key:"toastRef",ref:o},null,512),X(M3)],64)}}},uN={class:"min-h-screen bg-black relative overflow-hidden flex items-center justify-center p-4 sm:p-6 lg:p-8"},dN={__name:"WelcomePage",setup(t){const e=Ar(),n=()=>{e.push("/home")};return(r,s)=>(I(),N("div",uN,[s[3]||(s[3]=Jn('<div class="absolute inset-0 opacity-20" data-v-ee78f763><div class="absolute top-0 left-0 w-96 h-96 bg-yellow-400 rounded-full filter blur-3xl animate-blob" data-v-ee78f763></div><div class="absolute top-0 right-0 w-96 h-96 bg-yellow-600 rounded-full filter blur-3xl animate-blob animation-delay-2000" data-v-ee78f763></div><div class="absolute bottom-0 left-1/2 w-96 h-96 bg-yellow-500 rounded-full filter blur-3xl animate-blob animation-delay-4000" data-v-ee78f763></div></div><div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-yellow-400 to-transparent" data-v-ee78f763></div><div class="absolute bottom-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-yellow-400 to-transparent" data-v-ee78f763></div>',3)),d("main",{class:"relative z-10 bg-gray-900/80 backdrop-blur-xl p-6 sm:p-8 rounded-2xl shadow-2xl border border-yellow-400/20 max-w-2xl w-full text-center transform opacity-0 scale-95 animate-fade-in-up"},[d("div",{class:"space-y-5"},[s[1]||(s[1]=Jn('<div class="flex justify-center mb-3" data-v-ee78f763><div class="relative" data-v-ee78f763><svg class="w-12 h-12 text-yellow-400 animate-pulse-slow" fill="currentColor" viewBox="0 0 20 20" data-v-ee78f763><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z" data-v-ee78f763></path></svg><div class="absolute -inset-2 bg-yellow-400/20 rounded-full blur-xl" data-v-ee78f763></div></div></div><div class="space-y-2" data-v-ee78f763><p class="text-[10px] sm:text-xs font-medium text-gray-400 uppercase tracking-[0.2em]" data-v-ee78f763>y Ban Nhn Dn</p><p class="text-xs sm:text-sm font-medium text-gray-300 uppercase tracking-[0.15em]" data-v-ee78f763>S Gio Dc v o To</p><h1 class="text-sm sm:text-base font-bold text-white uppercase tracking-wide" data-v-ee78f763> Trng Cao ng Kinh T TP.HCM </h1><p class="text-xs sm:text-sm text-yellow-400 font-semibold italic" data-v-ee78f763>D n Web Thng Mi in T</p></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-5 mt-6 border-t border-b border-yellow-400/20 py-6" data-v-ee78f763><div class="text-left space-y-2" data-v-ee78f763><div class="flex items-center gap-2 mb-2" data-v-ee78f763><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-ee78f763><path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" data-v-ee78f763></path></svg><p class="text-xs sm:text-sm font-bold text-yellow-400 uppercase" data-v-ee78f763>Ging Vin Hng Dn</p></div><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Phm ng Phng</p></div><div class="text-left space-y-2" data-v-ee78f763><div class="flex items-center gap-2 mb-2" data-v-ee78f763><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-ee78f763><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" data-v-ee78f763></path></svg><p class="text-xs sm:text-sm font-bold text-yellow-400 uppercase" data-v-ee78f763>Sinh Vin Thc Hin</p></div><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Phm Trung Tun</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>L Anh Vn</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Trn Lc Kh T</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Nguyn L Anh Th</p></div></div><div class="pt-4" data-v-ee78f763><h2 class="text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 drop-shadow-2xl tracking-tight" data-v-ee78f763> HTHREE </h2><p class="text-base sm:text-lg text-yellow-400/80 font-light tracking-[0.4em] mt-1" data-v-ee78f763>FILM</p></div>',4)),d("button",{onClick:n,class:"mt-8 px-8 py-3 bg-yellow-400 text-black font-bold text-base rounded-full shadow-xl shadow-yellow-400/50 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-yellow-400/70 active:scale-95 focus:outline-none focus:ring-4 focus:ring-yellow-400/50 relative overflow-hidden group","aria-label":"Vo Trang Web Chnh"},s[0]||(s[0]=[d("span",{class:"relative z-10 flex items-center justify-center gap-2"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})]),fe(" Khm Ph Ngay ")],-1),d("span",{class:"absolute inset-0 bg-yellow-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)])),s[2]||(s[2]=d("p",{class:"text-[10px] text-gray-500 mt-6"}," 2025 HTHREE Film",-1))])])]))}},hN=kt(dN,[["__scopeId","data-v-ee78f763"]]),fN={class:"comment-form bg-gray-800 rounded-xl p-6 border border-gray-700"},pN={key:0,class:"flex items-center gap-3 mb-4"},gN=["src","alt"],mN={class:"text-white font-medium text-sm"},vN={class:"text-gray-400 text-xs"},yN=["disabled","placeholder"],_N={class:"flex items-center justify-between mt-2"},bN={class:"text-xs text-gray-500"},wN=["disabled"],EN={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},xN={key:1,class:"mt-4 p-4 bg-gray-900 rounded-lg border border-gray-700"},kN={key:2,class:"mt-4 p-4 bg-green-900/50 border border-green-500 rounded-lg flex items-center gap-3 animate-fade-in"},TN={__name:"CommentForm",props:{movieSlug:{type:String,default:null}},emits:["comment-added","login"],setup(t,{emit:e}){const n=ol(),r=t,s=e,o=fs(),i=Y(null),a=()=>{var y;const S=o.currentUser;if(S){i.value=S,console.log(" CommentForm - Firebase user:",S.email);return}const A=localStorage.getItem("user");if(A)try{i.value=JSON.parse(A),console.log(" CommentForm - PHP user:",(y=i.value)==null?void 0:y.email)}catch(_){console.error("Error parsing PHP user:",_)}};Ot(()=>{a(),ci(o,S=>{S?(i.value=S,console.log(" CommentForm - Firebase auth changed:",S.email)):a()}),window.addEventListener("storage",a)});const l=Y(""),c=Y(!1),u=Y(!1),h=Y(!1),f=el.BACKEND_URL,p=()=>{var A,y,_,P;if(h.value||!i.value){const x=((A=i.value)==null?void 0:A.displayName)||((_=(y=i.value)==null?void 0:y.email)==null?void 0:_.split("@")[0])||"User";return`https://ui-avatars.com/api/?name=${encodeURIComponent(x)}&background=f59e0b&color=000&size=128`}if(i.value.photoURL)return i.value.photoURL;const S=i.value.displayName||((P=i.value.email)==null?void 0:P.split("@")[0])||"User";return`https://ui-avatars.com/api/?name=${encodeURIComponent(S)}&background=f59e0b&color=000&size=128`},g=S=>{var y,_,P;h.value=!0;const A=((y=i.value)==null?void 0:y.displayName)||((P=(_=i.value)==null?void 0:_.email)==null?void 0:P.split("@")[0])||"User";S.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(A)}&background=f59e0b&color=000&size=128`},m=S=>{S.shiftKey||(S.preventDefault(),b())},b=async()=>{if(!(!i.value||!l.value.trim())){c.value=!0;try{const S=!!i.value.uid,A=!!i.value.id;console.log(" Submitting comment...",{type:S?"Firebase":"PHP",email:i.value.email,displayName:i.value.displayName||i.value.full_name,uid:i.value.uid,id:i.value.id});let y;if(S){let P=`https://ui-avatars.com/api/?name=${encodeURIComponent(i.value.displayName||i.value.email.split("@")[0])}&background=f59e0b&color=000&size=128`;if(i.value.photoURL)try{const k=await Pe.post(`${f}/upload_avatar.php`,{firebase_uid:i.value.uid,photo_url:i.value.photoURL});k.data.success&&(P=k.data.avatar_url,console.log(" Avatar uploaded:",P))}catch{console.log(" Avatar upload failed, using fallback")}const x=await Pe.post(`${f}/users.php`,{firebase_uid:i.value.uid,email:i.value.email,username:i.value.email.split("@")[0],full_name:i.value.displayName||i.value.email.split("@")[0],avatar:P});if(console.log(" Firebase user response:",x.data),!x.data.success)throw new Error("Failed to register/get user");y=x.data.user.id}else if(A)y=i.value.id,console.log(" PHP user ID:",y);else throw new Error("Invalid user type");const _=await Pe.post(`${f}/comments.php`,{user_id:y,movie_slug:r.movieSlug,content:l.value.trim()});if(_.data.success)u.value=!0,setTimeout(()=>{u.value=!1},3e3),l.value="",s("comment-added"),n.success("Bnh lun  c gi!");else throw new Error(_.data.message||"Failed to submit comment")}catch(S){console.error("Error submitting comment:",S),n.error("Khng th gi bnh lun. Vui lng th li!")}finally{c.value=!1}}};return(S,A)=>{var y;return I(),N("div",fN,[A[5]||(A[5]=d("h3",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[d("span",null,""),fe(" Bnh lun ca bn ")],-1)),i.value?(I(),N("div",pN,[d("img",{src:p(),alt:i.value.displayName||i.value.email,class:"w-10 h-10 rounded-full border-2 border-yellow-400 object-cover",onError:g},null,40,gN),d("div",null,[d("p",mN,B(i.value.displayName||((y=i.value.email)==null?void 0:y.split("@")[0])),1),d("p",vN,B(i.value.email),1)])])):Z("",!0),Eu(d("textarea",{"onUpdate:modelValue":A[0]||(A[0]=_=>l.value=_),disabled:!i.value,placeholder:i.value?"Chia s suy ngh ca bn... (Enter  gi, Shift+Enter  xung dng)":"Vui lng ng nhp  bnh lun",class:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400 transition resize-none",rows:"4",maxlength:"500",onKeydown:Is(m,["enter"])},null,40,yN),[[jo,l.value]]),d("div",_N,[d("span",bN,B(l.value.length)+"/500 k t",1),d("button",{onClick:b,disabled:!i.value||!l.value.trim()||c.value,class:"px-6 py-2 bg-yellow-400 text-black font-bold rounded-lg hover:bg-yellow-500 disabled:!bg-gray-600 disabled:!text-gray-400 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 disabled:hover:scale-100 flex items-center gap-2"},[c.value?(I(),N("svg",EN,A[2]||(A[2]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):Z("",!0),d("span",null,B(c.value?"ang gi...":"Gi bnh lun"),1)],8,wN)]),i.value?Z("",!0):(I(),N("div",xN,[A[3]||(A[3]=d("p",{class:"text-gray-400 text-sm mb-3"},"Bn cn ng nhp  bnh lun",-1)),d("button",{onClick:A[1]||(A[1]=_=>S.$emit("login")),class:"w-full px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-bold rounded-lg hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 hover:scale-105"}," ng nhp ngay ")])),u.value?(I(),N("div",kN,A[4]||(A[4]=[d("svg",{class:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),d("span",{class:"text-green-400 text-sm font-medium"},"Bnh lun ca bn  c gi thnh cng! ",-1)]))):Z("",!0)])}}},Ty=kt(TN,[["__scopeId","data-v-ea02517d"]]),SN={class:"relative w-full max-w-3xl bg-[#181818] rounded-lg shadow-2xl overflow-hidden"},CN={key:0,class:"flex items-center justify-center h-96"},IN={key:1,class:"relative w-full aspect-video bg-black"},AN=["src"],ON=["src"],RN=["src"],PN={key:3,class:"w-full h-full flex items-center justify-center bg-gray-800"},NN={class:"absolute bottom-0 left-0 right-0 p-6"},LN={class:"text-2xl font-bold text-white mb-3"},$N={class:"flex gap-2"},MN={key:0,class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},DN={key:1,class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jN={class:"p-6 bg-[#181818]"},UN={class:"grid grid-cols-3 gap-6 mb-5"},FN={class:"col-span-2"},BN={class:"flex items-center gap-3 text-sm mb-3"},HN={class:"text-green-400 font-semibold"},VN={class:"text-white"},WN={class:"px-2 py-0.5 border border-gray-500 text-gray-300 text-xs"},qN={class:"space-y-2 text-xs"},zN={key:0},KN={class:"text-white"},GN={key:1},JN={class:"text-white"},YN={key:2},XN={class:"text-white"},QN={key:3},ZN={class:"text-white"},eL={key:0,class:"mb-6 border-t border-gray-700 pt-5"},tL={class:"flex items-center justify-between mb-4"},nL={class:"text-gray-400 text-sm"},rL={class:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide"},sL=["onClick"],oL={class:"text-3xl font-bold w-10 flex-shrink-0 text-gray-500 group-hover:text-white transition-colors"},iL={class:"relative w-36 h-20 flex-shrink-0 rounded overflow-hidden bg-gray-700"},aL=["src","alt"],lL={class:"flex-1 min-w-0"},cL={class:"font-bold mb-2 text-base text-white group-hover:text-yellow-400 transition-colors"},uL={class:"text-gray-400 text-sm leading-relaxed line-clamp-2"},dL={class:"text-gray-400 text-sm flex-shrink-0"},hL={key:1,class:"mb-6 border-t border-gray-700 pt-5"},fL={class:"grid grid-cols-3 gap-4"},pL=["onClick"],gL={class:"relative aspect-video bg-gray-800"},mL=["src","alt"],vL={key:0,class:"absolute top-3 right-3"},yL={class:"px-2 py-1 bg-black/80 text-white text-xs font-bold rounded"},_L={class:"p-4"},bL={class:"flex items-start justify-between mb-3"},wL={class:"flex items-center gap-2 flex-wrap flex-1"},EL={key:0,class:"px-2 py-0.5 bg-yellow-600 text-white text-[10px] font-bold rounded"},xL={key:1,class:"px-2 py-0.5 bg-yellow-600 text-white text-[10px] font-bold rounded"},kL={key:2,class:"px-2 py-0.5 bg-blue-600 text-white text-[10px] font-bold rounded"},TL={key:3,class:"px-2 py-0.5 bg-blue-600 text-white text-[10px] font-bold rounded"},SL={key:4,class:"px-2 py-0.5 bg-gray-700 text-white text-[10px] font-semibold rounded"},CL={key:5,class:"px-2 py-0.5 bg-purple-600 text-white text-[10px] font-bold rounded"},IL={key:6,class:"px-2 py-0.5 bg-green-600 text-white text-[10px] font-bold rounded"},AL={class:"text-gray-300 text-sm leading-relaxed line-clamp-3 mb-2"},OL={class:"flex items-center justify-between text-xs"},RL={key:0,class:"text-gray-500 italic line-clamp-1"},PL={class:"border-t border-gray-700 pt-5"},NL={key:0,class:"mt-6 space-y-4"},LL=["src","alt"],$L={class:"flex-1"},ML={class:"flex items-center gap-2 mb-1"},DL={class:"text-white font-semibold text-sm"},jL={class:"text-gray-500 text-xs"},UL={class:"text-gray-300 text-sm leading-relaxed"},FL={key:1,class:"mt-6 text-center py-8 bg-[#2a2a2a] rounded-lg"},BL={class:"border-t border-gray-700 pt-5 mt-6"},HL={class:"text-xl font-bold text-white mb-4"},VL={class:"space-y-2 text-sm text-gray-400"},WL={key:0},qL={class:"text-white"},zL={key:1},KL={class:"text-white"},GL={key:2},JL={class:"text-white"},YL={key:3},XL={class:"text-white"},QL={__name:"MovieDetailModal",props:{isOpen:Boolean,movieSlug:String},emits:["close","open-movie"],setup(t,{emit:e}){const n=t,r=e,s=Y(null),o=Y([]),i=Y([]),a=Y([]),l=Y(!1),c=Y(!1),u=Y(!1),h=Y(!0),f=el.BACKEND_URL,p=ye(()=>l.value?i.value:i.value.slice(0,6)),g=()=>{r("close")},m=()=>{l.value=!l.value},b=Y(null),S=ee=>{var U;return ee&&((U=ee.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/))==null?void 0:U[1])||""},A=ee=>{if(!ee)return"";const U=S(ee);return U?`https://www.youtube.com/embed/${U}?autoplay=1&mute=1&controls=0&showinfo=0&modestbranding=1&rel=0&iv_load_policy=3&disablekb=1&fs=0&enablejsapi=1&origin=${window.location.origin}`:ee},y=()=>{var U;h.value=!h.value;const ee=b.value;if(!(!ee||!((U=s.value)!=null&&U.trailer_url)))try{const de=h.value?"mute":"unMute";ee.contentWindow.postMessage(JSON.stringify({event:"command",func:de,args:[]}),"*"),console.log(` ${h.value?"Muted":"Unmuted"} video`)}catch(de){console.error(" Error toggling mute:",de)}},_=ee=>ee?ee.map(U=>U.name).join(", "):"",P=ee=>ee?ee.map(U=>U.name).join(", "):"",x=ee=>ee?ee.startsWith("http")?ee:`https://phimimg.com/${ee}`:"",k=ee=>{console.error("Image load error:",ee.target.src),ee.target.src="https://placehold.co/800x450/1a1a1a/fff?text=No+Image"},R=async()=>{var ee,U,de,he,Ee,ge;if(!n.movieSlug){console.error("No movie slug provided");return}console.log(" Fetching movie details for:",n.movieSlug),u.value=!0;try{const J=await(await fetch(`https://phimapi.com/phim/${n.movieSlug}`)).json();console.log(" API Response:",J),console.log(" Response status:",J.status),console.log(" Response movie:",J.movie),J.status==="success"&&J.movie?(s.value=J.movie,o.value=((U=(ee=J.episodes)==null?void 0:ee[0])==null?void 0:U.server_data)||[],console.log(" Movie data loaded:",s.value.name),console.log(" Episodes:",o.value.length)):J.status===!0&&J.movie?(s.value=J.movie,o.value=((he=(de=J.episodes)==null?void 0:de[0])==null?void 0:he.server_data)||[],console.log(" Movie data loaded (alt):",s.value.name)):J.movie?(s.value=J.movie,o.value=((ge=(Ee=J.episodes)==null?void 0:Ee[0])==null?void 0:ge.server_data)||[],console.log(" Movie data loaded (no status):",s.value.name)):(console.error(" Invalid API response:",J),console.error(" Available keys:",Object.keys(J))),await Promise.all([v(),$()])}catch(Re){console.error(" Error fetching movie details:",Re)}finally{u.value=!1}},v=async()=>{var ee,U,de;try{console.log(" Fetching similar movies...");const Ee=await(await fetch("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1")).json();console.log(" Similar movies response:",Ee);let ge=[];if((Ee.status==="success"||Ee.status===!0)&&Ee.items?ge=Ee.items.sort(()=>.5-Math.random()).slice(0,12):(ee=Ee.data)!=null&&ee.items&&(ge=Ee.data.items.sort(()=>.5-Math.random()).slice(0,12)),ge.length===0){console.error(" No items found in response"),i.value=[];return}console.log(" Similar movies loaded:",ge.length);const Re=await Promise.all(ge.map(async J=>{try{const Ue=await(await fetch(`https://phimapi.com/phim/${J.slug}`)).json();return Ue.movie?{...J,content:Ue.movie.content||J.content,description:Ue.movie.description||J.description,thumb_url:Ue.movie.thumb_url||J.thumb_url,poster_url:Ue.movie.poster_url||J.poster_url}:J}catch{return console.log(" Could not fetch details for:",J.slug),J}}));i.value=Re,console.log(" Similar movies with details loaded:",i.value.length),console.log(" First movie thumb_url:",(U=Re[0])==null?void 0:U.thumb_url),console.log(" First movie poster_url:",(de=Re[0])==null?void 0:de.poster_url)}catch(he){console.error(" Error fetching similar movies:",he),i.value=[]}},$=async()=>{if(n.movieSlug)try{const ee=await Pe.get(`${f}/comments.php`,{params:{type:"movie",movie_slug:n.movieSlug,limit:50}});ee.data.success&&(a.value=ee.data.comments||[],console.log(" Comments loaded:",a.value.length))}catch(ee){console.error(" Error fetching comments:",ee),a.value=[]}},Q=ee=>{const U=new Date(ee),he=Math.floor((new Date-U)/1e3);return he<60?"Va xong":he<3600?`${Math.floor(he/60)} pht trc`:he<86400?`${Math.floor(he/3600)} gi trc`:he<604800?`${Math.floor(he/86400)} ngy trc`:U.toLocaleDateString("vi-VN")},H=ee=>{ee!=null&&ee.slug&&(console.log(" Opening similar movie:",ee.name),r("close"),setTimeout(()=>{r("open-movie",ee.slug)},100))},ae=(ee=null)=>{var de;if(!((de=s.value)!=null&&de.slug))return;let U="full";if(ee){const he=ee.match(/\d+/);U=he?he[0]:ee}else if(o.value.length>0){const he=o.value[0].name,Ee=he.match(/\d+/);U=Ee?Ee[0]:he}r("close"),ut(async()=>{const{useRouter:he}=await Promise.resolve().then(()=>ew);return{useRouter:he}},void 0,import.meta.url).then(({useRouter:he})=>{he().push(`/film/${s.value.slug}/tap/${encodeURIComponent(U)}`)})},ce=()=>{ae()},De=(ee,U)=>{ae(ee.name)};return Zt(()=>n.isOpen,ee=>{ee?(console.log(" Modal opened with slug:",n.movieSlug),n.movieSlug?R():console.error(" No movie slug provided!"),document.body.style.overflow="hidden"):(document.body.style.overflow="",s.value=null,o.value=[],i.value=[],a.value=[],l.value=!1,c.value=!1,h.value=!0)},{immediate:!0}),(ee,U)=>(I(),$e(Zs,{to:"body"},[X(vt,{name:"modal"},{default:ve(()=>{var de,he,Ee,ge,Re,J,xe,Ue,Fe,W,q,L,ne,re,T,O,C,j,G,K,oe,se,w,E;return[t.isOpen?(I(),N("div",{key:0,class:"fixed inset-0 z-[100] flex items-start justify-center overflow-y-auto bg-black/95 pt-8 pb-8 px-4",onClick:zt(g,["self"])},[d("div",SN,[d("button",{onClick:g,class:"absolute top-4 right-4 z-50 w-10 h-10 bg-[#181818] hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"},U[2]||(U[2]=[d("svg",{class:"w-6 h-6 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),u.value?(I(),N("div",CN,U[3]||(U[3]=[d("div",{class:"text-center"},[d("svg",{class:"animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),d("p",{class:"text-white"},"ang ti thng tin phim...")],-1)]))):(I(),N("div",IN,[(de=s.value)!=null&&de.trailer_url?(I(),N("iframe",{ref_key:"youtubePlayer",ref:b,key:S(s.value.trailer_url),src:A(s.value.trailer_url),class:"w-full h-full",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,AN)):(he=s.value)!=null&&he.thumb_url?(I(),N("img",{key:1,src:x((Ee=s.value)==null?void 0:Ee.thumb_url),class:"w-full h-full object-cover",alt:"Movie banner",onError:k},null,40,ON)):(ge=s.value)!=null&&ge.poster_url?(I(),N("img",{key:2,src:x((Re=s.value)==null?void 0:Re.poster_url),class:"w-full h-full object-cover",alt:"Movie poster",onError:k},null,40,RN)):(I(),N("div",PN,U[4]||(U[4]=[d("p",{class:"text-gray-400"},"Khng c nh",-1)]))),U[10]||(U[10]=d("div",{class:"absolute inset-0 bg-gradient-to-t from-[#181818] via-transparent to-transparent"},null,-1)),d("div",NN,[d("h2",LN,B(((J=s.value)==null?void 0:J.name)||"ang ti..."),1),d("div",$N,[d("button",{onClick:ce,class:"px-6 py-2 bg-white text-black font-bold rounded flex items-center gap-2 hover:bg-yellow-400 transition-colors"},U[5]||(U[5]=[d("svg",{class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24"},[d("path",{d:"M8 5v14l11-7z","stroke-linejoin":"round","stroke-linecap":"round"})],-1),fe(" Pht ")])),U[8]||(U[8]=d("button",{class:"w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[d("svg",{class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)),U[9]||(U[9]=d("button",{class:"w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[d("svg",{class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})])],-1)),d("button",{onClick:y,class:"ml-auto w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[h.value?(I(),N("svg",MN,U[6]||(U[6]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z","clip-rule":"evenodd"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"},null,-1)]))):(I(),N("svg",DN,U[7]||(U[7]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"},null,-1)])))])])])])),d("div",jN,[d("div",UN,[d("div",FN,[d("div",BN,[d("span",HN,B((xe=s.value)==null?void 0:xe.year),1),d("span",VN,B(((Ue=s.value)==null?void 0:Ue.episode_current)||"Full"),1),d("span",WN,B(((Fe=s.value)==null?void 0:Fe.quality)||"HD"),1)]),d("div",null,[d("p",{class:Ae(["text-white text-sm leading-relaxed",{"line-clamp-3":!c.value}])},B(((W=s.value)==null?void 0:W.content)||((q=s.value)==null?void 0:q.description)),3),((re=((L=s.value)==null?void 0:L.content)||((ne=s.value)==null?void 0:ne.description))==null?void 0:re.length)>200?(I(),N("button",{key:0,onClick:U[0]||(U[0]=M=>c.value=!c.value),class:"text-gray-400 hover:text-white text-xs mt-2 flex items-center gap-1 transition-colors"},[d("span",null,B(c.value?"Thu gn":"Xem thm"),1),(I(),N("svg",{class:Ae(["w-4 h-4 transition-transform duration-300",{"rotate-180":c.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U[11]||(U[11]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])):Z("",!0)])]),d("div",qN,[(T=s.value)!=null&&T.actor&&s.value.actor.length?(I(),N("div",zN,[U[12]||(U[12]=d("span",{class:"text-gray-400"},"Din vin: ",-1)),d("span",KN,B(s.value.actor.slice(0,3).join(", ")),1)])):Z("",!0),(O=s.value)!=null&&O.category?(I(),N("div",GN,[U[13]||(U[13]=d("span",{class:"text-gray-400"},"Th loi: ",-1)),d("span",JN,B(_(s.value.category)),1)])):Z("",!0),(C=s.value)!=null&&C.country?(I(),N("div",YN,[U[14]||(U[14]=d("span",{class:"text-gray-400"},"Quc gia: ",-1)),d("span",XN,B(P(s.value.country)),1)])):Z("",!0),(j=s.value)!=null&&j.director&&s.value.director.length?(I(),N("div",QN,[U[15]||(U[15]=d("span",{class:"text-gray-400"},"o din: ",-1)),d("span",ZN,B(s.value.director.join(", ")),1)])):Z("",!0)])]),o.value&&o.value.length>0?(I(),N("div",eL,[d("div",tL,[U[16]||(U[16]=d("h3",{class:"text-xl font-bold text-white"},"Tp",-1)),d("span",nL,B((G=s.value)==null?void 0:G.name),1)]),d("div",rL,[(I(!0),N(we,null,He(o.value,(M,F)=>{var ie,te,D,z,ue;return I(),N("div",{key:F,onClick:Le=>De(M,F),class:"flex items-start gap-4 p-4 bg-[#2a2a2a] hover:bg-[#3a3a3a] rounded cursor-pointer transition-all group border-l-4 border-transparent hover:border-yellow-500"},[d("span",oL,B(F+1),1),d("div",iL,[d("img",{src:x(((ie=s.value)==null?void 0:ie.thumb_url)||((te=s.value)==null?void 0:te.poster_url)),class:"w-full h-full object-cover",alt:`Episode ${F+1}`,onError:k},null,40,aL),U[17]||(U[17]=d("div",{class:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])],-1))]),d("div",lL,[d("h4",cL,B(M.name||`Tp ${F+1}`),1),d("p",uL,B(((z=(D=s.value)==null?void 0:D.content)==null?void 0:z.substring(0,150))||"Xem ngay  khm ph ni dung hp dn ca tp phim ny."),1)]),d("span",dL,B(((ue=s.value)==null?void 0:ue.time)||"56 pht"),1)],8,sL)}),128))])])):Z("",!0),i.value.length>0?(I(),N("div",hL,[U[21]||(U[21]=d("h3",{class:"text-xl font-bold text-white mb-4"},"Ni dung tng t",-1)),d("div",fL,[(I(!0),N(we,null,He(p.value,(M,F)=>(I(),N("div",{key:M._id||M.slug||F,onClick:ie=>H(M),class:"bg-[#2a2a2a] rounded-lg overflow-hidden hover:bg-[#3a3a3a] transition-all duration-300 cursor-pointer group"},[d("div",gL,[d("img",{src:x(M.thumb_url),alt:M.name,class:"w-full h-full object-cover object-center",style:{"object-position":"center 20%"},onError:k},null,40,mL),M.episode_current?(I(),N("div",vL,[d("span",yL,B(M.episode_current),1)])):Z("",!0),U[18]||(U[18]=d("div",{class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},[d("div",{class:"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1))]),d("div",_L,[d("div",bL,[d("div",wL,[M.quality?(I(),N("span",EL,B(M.quality),1)):(I(),N("span",xL,"HD")),M.lang?(I(),N("span",kL,B(M.lang),1)):(I(),N("span",TL,"Vietsub")),M.year?(I(),N("span",SL,B(M.year),1)):Z("",!0),M.type==="series"?(I(),N("span",CL,"Phim b")):M.type==="single"?(I(),N("span",IL,"Phim l")):Z("",!0)]),d("button",{onClick:U[1]||(U[1]=zt(()=>{},["stop"])),class:"w-7 h-7 border-2 border-gray-500 hover:border-yellow-400 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-colors flex-shrink-0 ml-2 group"},U[19]||(U[19]=[d("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))]),d("p",AL,B(M.content||M.description||"Mt b phim hp dn ang ch bn khm ph. Hy xem ngay  bit thm chi tit v ct truyn v dn din vin."),1),d("div",OL,[M.origin_name?(I(),N("span",RL,B(M.origin_name),1)):Z("",!0)])])],8,pL))),128))]),i.value.length>6?(I(),N("button",{key:0,onClick:m,class:"mt-6 mx-auto w-12 h-12 border-2 border-gray-500 hover:border-yellow-400 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"},[(I(),N("svg",{class:Ae(["w-6 h-6 text-gray-400 group-hover:text-black transition-all duration-300",{"rotate-180":l.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U[20]||(U[20]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])):Z("",!0)])):Z("",!0),d("div",PL,[U[23]||(U[23]=d("h3",{class:"text-lg font-bold text-white mb-4"},"Bnh lun",-1)),X(Ty,{"movie-slug":n.movieSlug,onCommentAdded:$},null,8,["movie-slug"]),a.value.length>0?(I(),N("div",NL,[(I(!0),N(we,null,He(a.value,M=>(I(),N("div",{key:M.id,class:"flex gap-3 p-4 bg-[#2a2a2a] rounded-lg"},[d("img",{src:M.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(M.full_name||"User")}&background=f59e0b&color=000`,alt:M.full_name,class:"w-10 h-10 rounded-full flex-shrink-0"},null,8,LL),d("div",$L,[d("div",ML,[d("span",DL,B(M.full_name),1),d("span",jL,B(Q(M.created_at)),1)]),d("p",UL,B(M.content),1)])]))),128))])):(I(),N("div",FL,U[22]||(U[22]=[d("p",{class:"text-gray-400 text-sm"},"Cha c bnh lun no. Hy l ngi u tin!",-1)])))]),d("div",BL,[d("h3",HL,"Gii thiu v "+B((K=s.value)==null?void 0:K.name),1),d("div",VL,[(oe=s.value)!=null&&oe.actor&&s.value.actor.length?(I(),N("div",WL,[U[24]||(U[24]=d("span",{class:"text-gray-500"},"Din vin: ",-1)),d("span",qL,B(s.value.actor.join(", ")),1)])):Z("",!0),(se=s.value)!=null&&se.category?(I(),N("div",zL,[U[25]||(U[25]=d("span",{class:"text-gray-500"},"Th loi: ",-1)),d("span",KL,B(_(s.value.category)),1)])):Z("",!0),(w=s.value)!=null&&w.country?(I(),N("div",GL,[U[26]||(U[26]=d("span",{class:"text-gray-500"},"Series ny: ",-1)),d("span",JL,B(P(s.value.country)),1)])):Z("",!0),U[28]||(U[28]=d("div",null,[d("span",{class:"text-gray-500"},"Xp hng  tui: "),d("span",{class:"px-2 py-0.5 border border-gray-500 text-white text-xs rounded"},"T18"),d("span",{class:"text-gray-400"}," khoa thn, t hi, bo hnh tnh dc, bo lc")],-1)),(E=s.value)!=null&&E.director&&s.value.director.length?(I(),N("div",YL,[U[27]||(U[27]=d("span",{class:"text-gray-500"},"o din: ",-1)),d("span",XL,B(s.value.director.join(", ")),1)])):Z("",!0)])])])])])):Z("",!0)]}),_:1})]))}},Sy=kt(QL,[["__scopeId","data-v-2485324c"]]),ZL={class:"flex items-center gap-3 mb-6"},e5={class:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent"},t5={class:"relative group/row"},n5=["onMouseenter","onClick"],r5={class:"relative rounded-xl overflow-hidden shadow-lg transition-all duration-300 group-hover/card:scale-105 group-hover/card:shadow-2xl group-hover/card:shadow-yellow-400/20"},s5=["src","alt"],o5={class:"absolute bottom-0 left-0 right-0 p-4 transform translate-y-2 group-hover/card:translate-y-0 transition-transform duration-300"},i5={class:"text-sm md:text-base font-bold mb-2 line-clamp-2 text-white"},a5={class:"flex items-center gap-2 text-xs mb-2 opacity-0 group-hover/card:opacity-100 transition-opacity duration-300"},l5={key:0,class:"px-2 py-1 bg-gray-700/80 backdrop-blur-sm rounded text-white font-medium"},c5={key:1,class:"px-2 py-1 bg-yellow-500 rounded text-black font-bold"},u5={class:"flex gap-1 flex-wrap opacity-0 group-hover/card:opacity-100 transition-opacity duration-300 delay-100"},d5={class:"bg-gray-900 rounded-lg overflow-hidden shadow-2xl shadow-yellow-400/20 border border-yellow-400/30 transform transition-all duration-300 hover:scale-105 hover:shadow-yellow-400/40"},h5={class:"relative h-[160px] bg-black group/image"},f5=["src","alt"],p5={key:0,class:"absolute top-2 right-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black px-2 py-1 rounded text-[10px] font-bold shadow-lg"},g5={class:"p-3"},m5={class:"text-base font-bold text-white mb-0.5 line-clamp-1"},v5={class:"text-xs text-yellow-400 mb-2 line-clamp-1"},y5={class:"flex gap-1.5 mb-2"},_5={class:"flex gap-1.5 mb-2 flex-wrap"},b5={key:0,class:"bg-yellow-500 text-black px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},w5={key:1,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},E5={key:2,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},x5={key:3,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},k5={key:4,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},T5={key:5,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},S5={key:6,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},C5={key:7,class:"bg-purple-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold capitalize"},I5={key:8,class:"bg-green-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},A5={key:0,class:"text-[10px] text-gray-400 mb-1.5"},O5={key:0},R5={class:"text-[11px] text-gray-300 line-clamp-2 leading-relaxed"},P5={__name:"MovieRow",props:{title:{type:String,required:!0},movies:{type:Array,default:()=>[]}},setup(t){const e=Ar(),n=Y(null),r=Y(null),s=Y(!1),o=Y(!1),i=Y(null),a=Y({}),l=Y(!1),c=Y(!1),u=Y("");let h=null,f=null;const p=v=>{console.log(" Opening movie detail for:",v),v!=null&&v.slug?(console.log(" Movie slug:",v.slug),u.value=v.slug,c.value=!0,k()):console.error(" No slug found for movie:",v)},g=v=>{console.log(" Opening new movie from modal:",v),u.value=v,c.value=!0},m=v=>{if(v.poster_url){const $=v.poster_url.startsWith("http")?v.poster_url:`https://phimimg.com/${v.poster_url}`;return console.log(" Using poster_url:",$),$}if(v.thumb_url){const $=v.thumb_url.startsWith("http")?v.thumb_url:`https://phimimg.com/${v.thumb_url}`;return console.log(" Using thumb_url:",$),$}return v.backdrop_path?(console.log(" Using backdrop_path:",v.backdrop_path),v.backdrop_path):(console.log(" No image found, using placeholder"),"https://placehold.co/250x350/1a1a1a/fff?text=No+Image")},b=v=>{if(v.thumb_url){const $=v.thumb_url.startsWith("http")?v.thumb_url:`https://phimimg.com/${v.thumb_url}`;return console.log(" Preview using thumb_url:",$),$}return v.poster_url?v.poster_url.startsWith("http")?v.poster_url:`https://phimimg.com/${v.poster_url}`:v.backdrop_path?v.backdrop_path:"https://placehold.co/320x160/1a1a1a/fff?text=No+Image"},S=v=>v.category&&Array.isArray(v.category)?v.category.map($=>typeof $=="object"?$.name:$):v.genres&&Array.isArray(v.genres)?v.genres.map($=>typeof $=="object"?$.name:$):[],A=v=>{v.slug&&e.push(`/film/${v.slug}`)},y=()=>{n.value&&n.value.scrollBy({left:-800,behavior:"smooth"})},_=()=>{n.value&&n.value.scrollBy({left:800,behavior:"smooth"})},P=async(v,$)=>{console.log(" Mouse enter:",v.name),clearTimeout(h);const H=$.currentTarget.getBoundingClientRect();h=setTimeout(async()=>{var De,ee;console.log(" Showing preview for:",v.name);let ae=H.top-60,ce=H.left-30;if(ce<20&&(ce=20),ce+320>window.innerWidth&&(ce=window.innerWidth-340),ae<20&&(ae=20),ae+400>window.innerHeight&&(ae=window.innerHeight-420),a.value={top:`${ae}px`,left:`${ce}px`},i.value=v,o.value=!0,v.slug&&(!v.quality||!v.lang||!v.content))try{const U=(await ut(async()=>{const{default:ge}=await Promise.resolve().then(()=>rS);return{default:ge}},void 0,import.meta.url)).default,de=new AbortController,he=setTimeout(()=>de.abort(),3e3),Ee=await U.get(`https://phimapi.com/phim/${v.slug}`,{signal:de.signal});if(clearTimeout(he),(De=Ee.data)!=null&&De.movie){const ge=Ee.data.movie,Re={...v,quality:ge.quality||v.quality,lang:ge.lang||v.lang,content:ge.content||v.content,time:ge.time||v.time,episode_current:ge.episode_current||v.episode_current,type:ge.type||v.type,country:ge.country||v.country,category:ge.category||v.category,chieurap:ge.chieurap!==void 0?ge.chieurap:v.chieurap,sub_docquyen:ge.sub_docquyen!==void 0?ge.sub_docquyen:v.sub_docquyen};((ee=i.value)==null?void 0:ee.slug)===v.slug&&(i.value=Re),Object.assign(v,Re),console.log(" Fetched movie details:",Re.name)}}catch(U){console.log(" Could not fetch movie details:",U.message)}},300)},x=()=>{clearTimeout(h),setTimeout(()=>{l.value||k()},100)},k=()=>{l.value=!1,o.value=!1,i.value=null},R=v=>{console.error(" Image failed to load:",v.target.src),v.target.src="https://placehold.co/320x160/1a1a1a/fff?text=Image+Not+Found"};return Ot(()=>{f=new IntersectionObserver(v=>{v.forEach($=>{$.isIntersecting&&(s.value=!0,f.unobserve($.target))})},{threshold:.1,rootMargin:"50px"}),r.value&&f.observe(r.value)}),sn(()=>{f&&r.value&&f.unobserve(r.value)}),(v,$)=>(I(),N(we,null,[d("div",{ref_key:"movieRowRef",ref:r,class:Ae(["movie-row mb-16 px-4 md:px-12 opacity-0 translate-y-10 transition-all duration-700",{"opacity-100 translate-y-0":s.value}])},[d("div",ZL,[$[4]||($[4]=d("div",{class:"w-1 h-8 bg-yellow-400 rounded-full"},null,-1)),d("h2",e5,B(t.title),1)]),d("div",t5,[d("button",{onClick:y,class:"absolute left-2 top-1/2 -translate-y-1/2 z-10 w-14 h-14 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/row:opacity-100 shadow-2xl shadow-yellow-400/50 hover:scale-110 hover:shadow-yellow-400/70 group/arrow"},$[5]||($[5]=[d("svg",{class:"w-7 h-7 text-black group-hover/arrow:-translate-x-0.5 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"3"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1)])),d("button",{onClick:_,class:"absolute right-2 top-1/2 -translate-y-1/2 z-10 w-14 h-14 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/row:opacity-100 shadow-2xl shadow-yellow-400/50 hover:scale-110 hover:shadow-yellow-400/70 group/arrow"},$[6]||($[6]=[d("svg",{class:"w-7 h-7 text-black group-hover/arrow:translate-x-0.5 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"3"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1)])),d("div",{ref_key:"scrollContainer",ref:n,class:"flex gap-4 overflow-x-auto scrollbar-hide pb-4 select-none scroll-smooth"},[(I(!0),N(we,null,He(t.movies,(Q,H)=>{var ae;return I(),N("div",{key:Q._id||Q.slug,class:Ae(["movie-card flex-none w-[160px] md:w-[220px] lg:w-[260px] cursor-pointer group/card opacity-0 translate-x-8 transition-all duration-500",{"opacity-100 translate-x-0":s.value}]),onMouseenter:ce=>P(Q,ce),onMouseleave:x,onClick:ce=>A(Q),style:Er({transitionDelay:s.value?`${H*50}ms`:"0ms"})},[d("div",r5,[d("img",{src:m(Q),alt:Q.title||Q.name,class:"w-full h-[240px] md:h-[330px] lg:h-[390px] object-cover transition-transform duration-500 group-hover/card:scale-110",onError:R},null,40,s5),$[7]||($[7]=d("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-60 group-hover/card:opacity-90 transition-opacity duration-300"},null,-1)),d("div",o5,[d("h3",i5,B(Q.title||Q.name),1),d("div",a5,[Q.year?(I(),N("span",l5,B(Q.year),1)):Z("",!0),Q.quality?(I(),N("span",c5,B(Q.quality),1)):Z("",!0)]),d("div",u5,[(I(!0),N(we,null,He((ae=Q.category||Q.genres)==null?void 0:ae.slice(0,2),ce=>(I(),N("span",{key:ce.slug||ce,class:"text-xs text-gray-300 bg-gray-800/60 backdrop-blur-sm px-2 py-0.5 rounded"},B(ce.name||ce),1))),128))])]),$[8]||($[8]=d("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover/card:opacity-100 transition-all duration-300 scale-50 group-hover/card:scale-100"},[d("div",{class:"w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center shadow-xl"},[d("svg",{class:"w-8 h-8 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1))])],46,n5)}),128))],512)])],2),X(Sy,{"is-open":c.value,"movie-slug":u.value,onClose:$[0]||($[0]=Q=>c.value=!1),onOpenMovie:g},null,8,["is-open","movie-slug"]),(I(),$e(Zs,{to:"body"},[o.value&&i.value?(I(),N("div",{key:0,style:Er({...a.value,zIndex:99999}),class:"fixed w-[320px] animate-scale-in-smooth pointer-events-auto",onMouseenter:$[3]||($[3]=Q=>l.value=!0),onMouseleave:k},[d("div",d5,[d("div",h5,[d("img",{src:b(i.value),alt:i.value.name,class:"w-full h-full object-cover",onError:R},null,40,f5),$[9]||($[9]=d("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"},null,-1)),$[10]||($[10]=d("div",{class:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover/image:opacity-100 transition-all duration-300"},[d("div",{class:"w-14 h-14 bg-yellow-400 rounded-full flex items-center justify-center shadow-2xl transform transition-all duration-300 group-hover/image:scale-110 animate-pulse-slow"},[d("svg",{class:"w-7 h-7 text-black ml-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1)),i.value.quality?(I(),N("div",p5,B(i.value.quality),1)):Z("",!0)]),d("div",g5,[d("h3",m5,B(i.value.name),1),d("p",v5,B(i.value.origin_name),1),d("div",y5,[d("button",{onClick:$[1]||($[1]=Q=>A(i.value)),class:"flex-1 flex items-center justify-center gap-1.5 bg-yellow-400 text-black px-3 py-1.5 rounded-lg font-bold text-xs hover:bg-yellow-500 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-yellow-400/50"},$[11]||($[11]=[d("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),fe(" Xem ngay ")])),$[13]||($[13]=d("button",{class:"w-8 h-8 bg-gray-800 hover:bg-gray-700 hover:scale-110 rounded-lg flex items-center justify-center transition-all duration-300 group/btn"},[d("svg",{class:"w-3.5 h-3.5 text-white group-hover/btn:text-red-400 transition-colors",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),d("button",{onClick:$[2]||($[2]=zt(Q=>p(i.value),["stop"])),class:"w-8 h-8 bg-gray-800 hover:bg-gray-700 hover:scale-110 rounded-lg flex items-center justify-center transition-all duration-300 group/btn",title:"Cc tp & Thng tin"},$[12]||($[12]=[d("svg",{class:"w-3.5 h-3.5 text-white group-hover/btn:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]))]),d("div",_5,[i.value.quality?(I(),N("span",b5,B(i.value.quality),1)):Z("",!0),i.value.lang?(I(),N("span",w5,B(i.value.lang),1)):i.value.sub_docquyen?(I(),N("span",E5," Vietsub ")):i.value.chieurap===!1?(I(),N("span",x5," Vietsub ")):Z("",!0),i.value.year?(I(),N("span",k5,B(i.value.year),1)):Z("",!0),i.value.time?(I(),N("span",T5,B(i.value.time),1)):i.value.episode_current?(I(),N("span",S5,B(i.value.episode_current),1)):Z("",!0),i.value.type?(I(),N("span",C5,B(i.value.type==="series"?"Phim b":i.value.type==="single"?"Phim l":i.value.type==="hoathinh"?"Hot hnh":i.value.type),1)):Z("",!0),i.value.country&&i.value.country.length>0?(I(),N("span",I5,B(Array.isArray(i.value.country)?i.value.country[0].name||i.value.country[0]:i.value.country),1)):Z("",!0)]),S(i.value).length?(I(),N("div",A5,[(I(!0),N(we,null,He(S(i.value).slice(0,3),(Q,H)=>(I(),N("span",{key:H},[fe(B(Q),1),H<Math.min(2,S(i.value).length-1)?(I(),N("span",O5,"  ")):Z("",!0)]))),128))])):Z("",!0),d("p",R5,B(i.value.content||"ang cp nht m t..."),1)])])],36)):Z("",!0)]))],64))}},Es=kt(P5,[["__scopeId","data-v-f5b12abc"]]),N5={class:"community-section bg-black py-12 px-4 md:px-12"},L5={class:"max-w-[1920px] mx-auto"},$5={class:"mb-10"},M5={class:"mb-8"},D5={class:"relative group/scroll"},j5={class:"relative z-10"},U5={class:"flex gap-3 mb-3 justify-between"},F5={class:"relative flex-shrink-0"},B5=["src","alt"],H5={key:0,class:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 bg-yellow-400 text-black text-[10px] font-bold px-1.5 py-0.5 rounded-full shadow-lg"},V5={class:"flex-shrink-0"},W5=["src","alt"],q5={class:"mb-2"},z5={class:"flex items-center gap-1.5"},K5={class:"text-white font-bold text-sm drop-shadow-lg"},G5={key:0,class:"text-yellow-400 text-xs"},J5={class:"text-gray-200 text-xs leading-relaxed mb-3 line-clamp-2 drop-shadow-md"},Y5={class:"flex items-center gap-4 text-gray-300"},X5={class:"flex items-center gap-1.5 hover:text-green-400 transition-colors"},Q5={class:"text-xs font-medium"},Z5={class:"flex items-center gap-1.5 hover:text-red-400 transition-colors"},e8={class:"text-xs font-medium"},t8={class:"flex items-center gap-1.5 hover:text-blue-400 transition-colors"},n8={class:"text-xs font-medium"},r8={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},s8={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},o8={class:"space-y-2 mb-3"},i8={key:0,class:"text-center py-4 text-gray-500 text-xs"},a8={class:"text-yellow-400 font-bold text-xs w-5"},l8=["src"],c8={class:"flex-1 min-w-0"},u8={class:"text-white text-xs font-medium truncate"},d8={class:"text-gray-400 text-[10px]"},h8={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},f8={class:"space-y-2 mb-3"},p8={key:0,class:"text-center py-4 text-gray-500 text-xs"},g8={class:"text-yellow-400 font-bold text-xs w-5"},m8=["src"],v8={class:"flex-1 min-w-0"},y8={class:"text-white text-xs font-medium truncate"},_8={class:"text-gray-400 text-[10px]"},b8={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},w8={class:"space-y-3 max-h-[400px] overflow-hidden"},E8={class:"flex items-start gap-2 mb-1.5"},x8=["src"],k8={class:"flex-1 min-w-0"},T8={class:"flex items-center gap-1.5"},S8={class:"text-white text-xs font-medium"},C8={key:0,class:"text-green-400 text-[10px] animate-pulse"},I8={class:"text-gray-400 text-[10px]"},A8={class:"text-gray-300 text-[11px] line-clamp-2 leading-relaxed"},O8={class:"flex items-center justify-between p-4 border-b border-gray-800"},R8={class:"p-4 overflow-y-auto max-h-[calc(80vh-80px)] scrollbar-hide"},P8={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},N8={class:"relative aspect-[2/3] rounded-lg overflow-hidden mb-2"},L8=["src","alt"],$8={class:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},M8={class:"text-white text-sm font-medium line-clamp-2"},D8={class:"text-gray-400 text-xs"},j8={class:"flex items-center justify-between p-4 border-b border-gray-800"},U8={class:"p-4 overflow-y-auto max-h-[calc(80vh-80px)] scrollbar-hide"},F8={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},B8={class:"relative aspect-[2/3] rounded-lg overflow-hidden mb-2"},H8=["src","alt"],V8={class:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},W8={class:"text-white text-sm font-medium line-clamp-2"},q8={class:"text-gray-400 text-xs"},z8={__name:"CommunitySection",setup(t){const e=el.BACKEND_URL,n=Y(null),r=Y([]),s=Y([]),o=Y([]),i=Y([]),a=Y([]),l=Y(!1),c=Y(!1),u=Y([{id:1,name:"Hoang Gang",avatar:"https://ui-avatars.com/api/?name=Hoang&background=f59e0b&color=000",time:"va xong",text:"lun l b phim tuyt vi nht m ti tng xem"},{id:2,name:"Margaret Qualley",avatar:"https://ui-avatars.com/api/?name=Margaret&background=ef4444&color=fff",time:"2 pht trc",text:"Tuyt vi! Din xut qu nh"},{id:3,name:"Tsukii",avatar:"https://ui-avatars.com/api/?name=Tsukii&background=3b82f6&color=fff",time:"5 pht trc",text:"Cm n  chia s!"}]),h=[{name:"Minh Anh",text:"Phim hay qu! Ti  xem 3 ln ri "},{name:"Tun Kit",text:"CGI nh cao, xng ng 5 sao "},{name:"Linh Chi",text:"Cm ng qu, ti  khc khi xem "},{name:"Hong Long",text:"Din vin din xut rt t nhin "},{name:"Phng Anh",text:"Ct truyn hp dn t u n cui!"},{name:"c Anh",text:"Nhc phim hay lm, nghe mi khng chn "},{name:"Mai Ly",text:"Phim ny ng xem, recommend mi ngi!"},{name:"Quang Huy",text:"o din ti nng tht! Mi cnh u  ngha"},{name:"Tho Nguyn",text:"Tuyt vi! Khng th b l b phim ny"},{name:"Vn Ton",text:"Phim hay nhng hi di, nn chia lm 2 phn xem"},{name:"Bo Trm",text:"Cnh quay p mt, mu sc rc r "},{name:"Hi Nam",text:"Ni dung su sc, ng suy ngm "},{name:"Khnh Linh",text:"Phim ny lm ti nh v tui th..."},{name:"Duy Khnh",text:"Xem xong mun xem li ngay! "},{name:"Thu H",text:"Din vin ph cng din rt hay!"},{name:"Minh Tun",text:"Phim Vit ngy cng cht lng "},{name:"Ngc Anh",text:"Cm n  chia s phim hay! "},{name:"Trung Hiu",text:"Phim ny ng gi tng pht xem!"},{name:"Lan Hng",text:"Ti  gii thiu cho bn b xem ri "},{name:"Quc Bo",text:"Phim hay, nhng cn ph  tt hn"},{name:"Anh Tun",text:"Xem lc 2h sng vn khng bun ng! "},{name:"Hng Giang",text:"Phim ny viral trn TikTok ri "},{name:"Bo Ngc",text:"Mnh  khc ht c hp khn giy "},{name:"Thanh Tng",text:"Phim xut sc! Oscar phi trao gii cho phim ny"},{name:"Kim Ngn",text:"Nhc nn qu nh, ai bit tn bi khng?"},{name:"Vit Anh",text:"Phim ny phi xem  rp mi !"},{name:"Thy Linh",text:"Cnh cui lm ti sc nng "},{name:"ng Khoa",text:"Phim hay nht nm nay lun!"},{name:"Phng Tho",text:"Ti  mua v xem 2 ln ri "},{name:"Hu Ngha",text:"Din vin chnh qu p trai! "},{name:"Thanh H",text:"Phim ny ng  ch i!"},{name:"Minh Qun",text:"Xem xong mun i du lch ngay! "},{name:"T Anh",text:"Phim ny lm ti suy ngh nhiu v cuc sng"},{name:"Hoi Nam",text:"Cnh hnh ng mn nhn qu! "},{name:"Bch Ngc",text:"Ti  recommend cho c cng ty xem ri"},{name:"Quang Minh",text:"Phim ny xng ng trending #1! "},{name:"Hnh Nhn",text:"Xem i xem li vn thy hay!"},{name:"Tun V",text:"Phim ny phi vo top 10 nm!"},{name:"Ngc Trinh",text:"Cm xc ln xung nh tu ln! "},{name:"c Thnh",text:"Phim ny lm ti ci v khc!"},{name:"Mai Phng",text:"o din thin ti! Respect! "},{name:"Hng Nhung",text:"Phim ny s l huyn thoi!"},{name:"Trng i",text:"Xem xong ti  tr thnh fan cng!"},{name:"Yn Nhi",text:"Phim ny phi c phn 2 thi! "},{name:"Cng Phng",text:"Ti  xem trailer 10 ln ri!"},{name:"Tho My",text:"Phim ny ng  i c nm!"},{name:"Xun Trng",text:"Cnh chin u qu honh trng! "},{name:"Diu Hng",text:"Ti s mua a Bluray v su tm!"},{name:"Minh Hng",text:"Phim ny lm ti tin vo tnh yu! "},{name:"Tun Hng",text:"m thanh Dolby Atmos qu nh! "}],f=["f59e0b","ef4444","3b82f6","10b981","ec4899","8b5cf6","14b8a6","f97316"];let p=4,g=null;const m=()=>{var x;return(x=n.value)==null?void 0:x.scrollBy({left:-280,behavior:"smooth"})},b=()=>{var x;return(x=n.value)==null?void 0:x.scrollBy({left:280,behavior:"smooth"})};Zt([l,c],([x,k])=>{x||k?document.body.style.overflow="hidden":document.body.style.overflow=""});const S=async()=>{var x,k,R;try{const[v,$,Q]=await Promise.all([Pe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:1}}),Pe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:2}}),Pe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:3}})]),H=[...((x=v.data)==null?void 0:x.items)||[],...((k=$.data)==null?void 0:k.items)||[],...((R=Q.data)==null?void 0:R.items)||[]];if(console.log(" API Response - Total movies:",H.length),H.length>0){const ae=H,ce=[{name:"N VL",avatar:"https://ui-avatars.com/api/?name=NVL&background=f59e0b&color=000",text:"Tp mt bc mnh nam chnh tht s, tr li cu hi m c ng ng...",likes:1,dislikes:0,replies:4},{name:"Khuong Nguyen",avatar:"https://ui-avatars.com/api/?name=Khuong&background=3b82f6&color=fff",text:"Ci b ny tht s l hay qu, mnh  xem 3 ln ri m vn thy hay!",likes:5,dislikes:0,replies:2},{name:"Doss Nguyen",avatar:"https://ui-avatars.com/api/?name=Doss&background=ef4444&color=fff",text:"Phim hay lm, din xut tuyt vi, cnh quay p mt!",likes:8,dislikes:1,replies:6},{name:"toni_nguyen",avatar:"https://ui-avatars.com/api/?name=Toni&background=10b981&color=fff",text:"Anime nh cao! Miku chan kawaii qu i mt!",likes:12,dislikes:0,replies:8},{name:"Mai Anh",avatar:"https://ui-avatars.com/api/?name=Mai&background=ec4899&color=fff",text:"Cm ng qu! Ti  khc khi xem phn cui...",likes:15,dislikes:0,replies:10},{name:"Hoang Tuan",avatar:"https://ui-avatars.com/api/?name=Hoang&background=8b5cf6&color=fff",text:"CGI nh cao, xng ng 5 sao! Recommend mi ngi xem",likes:20,dislikes:2,replies:12},{name:"Linh Chi",avatar:"https://ui-avatars.com/api/?name=Linh&background=14b8a6&color=fff",text:"Phim hay nhng hi di, nn chia lm 2 phn xem cho  mt",likes:7,dislikes:1,replies:5},{name:"Minh Khoa",avatar:"https://ui-avatars.com/api/?name=Minh&background=f97316&color=fff",text:"o din ti nng tht! Mi cnh quay u  ngha",likes:18,dislikes:0,replies:9}];r.value=ae.slice(0,8).map((he,Ee)=>{const ge=he.poster_url||he.thumb_url||"",Re=ge.startsWith("http")?ge:`https://phimimg.com/${ge}`;return{id:Ee+1,...ce[Ee],movieTitle:he.name,moviePoster:Re}});const De=8,ee=10;o.value=ae.slice(De,De+ee).map(he=>{const Ee=he.poster_url||he.thumb_url||"";return{title:he.name,year:he.year||2024,poster:Ee.startsWith("http")?Ee:`https://phimimg.com/${Ee}`}}),s.value=o.value.slice(0,5);const U=De+ee,de=10;a.value=ae.slice(U,U+de).map(he=>{const Ee=he.poster_url||he.thumb_url||"";return{title:he.name,year:he.year||2024,poster:Ee.startsWith("http")?Ee:`https://phimimg.com/${Ee}`}}),i.value=a.value.slice(0,5),console.log(" Total movies from API:",ae.length),console.log(" Trending Movies (display):",s.value.length,s.value),console.log(" Trending Movies (all):",o.value.length),console.log(" Favorite Movies (display):",i.value.length,i.value),console.log(" Favorite Movies (all):",a.value.length),console.log(" Top Comments:",r.value),console.log(" Trending:",s.value),console.log(" Favorites:",i.value)}}catch(v){console.log(" Could not load movies:",v.message)}},A=async()=>{var x;try{const k=await Pe.get(`${e}/community.php`);if(console.log(" Community data:",k.data),k.data.success){const R=k.data.data;(x=R.recent_comments)!=null&&x.length&&(u.value=R.recent_comments.map(v=>{let $=v.avatar;if(!$||$.includes("ui-avatars.com")){const Q=v.full_name||v.username||"User";$=`https://ui-avatars.com/api/?name=${encodeURIComponent(Q)}&background=f59e0b&color=000&size=128`}return{id:v.id,name:v.full_name||v.username,avatar:$,time:v.time_ago,text:v.content}}),console.log(" Updated recent comments:",u.value.length),u.value.forEach((v,$)=>{console.log(`Comment ${$+1}:`,{name:v.name,avatar:v.avatar,text:v.text.substring(0,30)})}))}}catch(k){console.log(" Could not load community data:",k.message)}},y=()=>{const x=h[Math.floor(Math.random()*h.length)],k=f[Math.floor(Math.random()*f.length)],R={id:p++,name:x.name,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(x.name)}&background=${k}&color=fff`,time:"va xong",text:x.text};u.value.unshift(R),u.value.length>10&&u.value.pop(),u.value.forEach((v,$)=>{$===0?v.time="va xong":$===1?v.time="1 pht trc":$===2?v.time="2 pht trc":v.time=`${$+1} pht trc`})},_=()=>{const x=()=>{y();const k=Math.floor(Math.random()*2e3)+2e3;g=setTimeout(x,k)};g=setTimeout(x,2e3)},P=()=>{g&&(clearTimeout(g),g=null)};return Ot(()=>{A(),S(),_()}),sn(()=>{P()}),(x,k)=>(I(),N("div",N5,[d("div",L5,[d("div",$5,[X(Ty,{onCommentAdded:A})]),d("div",M5,[k[19]||(k[19]=d("div",{class:"flex items-center gap-2 mb-4"},[d("div",{class:"w-8 h-8 bg-yellow-400/10 rounded-lg flex items-center justify-center"},[d("span",{class:"text-lg"},"")]),d("h3",{class:"text-base font-bold text-white uppercase tracking-wide"},"TOP BNH LUN")],-1)),d("div",D5,[d("button",{onClick:m,class:"absolute left-1 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-gray-900/90 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/scroll:opacity-100"},k[13]||(k[13]=[d("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),d("button",{onClick:b,class:"absolute right-1 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-gray-900/90 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/scroll:opacity-100"},k[14]||(k[14]=[d("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),d("div",{ref_key:"topScrollRef",ref:n,class:"flex gap-4 overflow-x-auto scrollbar-hide py-4 px-2 scroll-smooth"},[(I(!0),N(we,null,He(r.value,(R,v)=>(I(),N("div",{key:R.id,class:"flex-none w-[300px] rounded-xl p-4 border border-gray-700/30 hover:border-yellow-400/50 transition-all duration-300 cursor-pointer hover:scale-[1.01] hover:shadow-lg hover:shadow-yellow-400/20 relative overflow-hidden group"},[d("div",{class:"absolute inset-0 bg-cover bg-center transition-all duration-300",style:Er({backgroundImage:`url(${R.moviePoster})`})},null,4),k[18]||(k[18]=d("div",{class:"absolute inset-0 bg-black/70 backdrop-blur-sm group-hover:bg-black/60 transition-all duration-300"},null,-1)),d("div",j5,[d("div",U5,[d("div",F5,[d("img",{src:R.avatar,alt:R.name,class:"w-14 h-14 rounded-full border-3 border-gray-700/50 group-hover:border-yellow-400 transition-all shadow-lg"},null,8,B5),v===0?(I(),N("div",H5,"")):Z("",!0)]),d("div",V5,[d("img",{src:R.moviePoster,alt:R.movieTitle,class:"w-16 h-24 rounded-md object-cover border border-gray-700/50 group-hover:border-yellow-400/50 transition-all shadow-lg",onError:k[0]||(k[0]=$=>$.target.src="https://placehold.co/64x96/1a1a1a/fff?text=No+Image")},null,40,W5)])]),d("div",q5,[d("div",z5,[d("h4",K5,B(R.name),1),v===0?(I(),N("span",G5,"")):Z("",!0)])]),d("p",J5,B(R.text),1),d("div",Y5,[d("button",X5,[k[15]||(k[15]=d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})],-1)),d("span",Q5,B(R.likes),1)]),d("button",Z5,[k[16]||(k[16]=d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"})],-1)),d("span",e8,B(R.dislikes),1)]),d("button",t8,[k[17]||(k[17]=d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z","clip-rule":"evenodd"})],-1)),d("span",n8,B(R.replies),1)])])])]))),128))],512)])]),d("div",r8,[d("div",s8,[k[20]||(k[20]=d("div",{class:"flex items-center gap-2 mb-3"},[d("span",{class:"text-base"},""),d("h3",{class:"text-sm font-bold text-white uppercase"},"SI NI NHT")],-1)),d("div",o8,[s.value.length===0?(I(),N("div",i8," ang ti phim... ")):Z("",!0),(I(!0),N(we,null,He(s.value,(R,v)=>(I(),N("div",{key:v,class:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[d("span",a8,B(v+1),1),d("img",{src:R.poster,class:"w-8 h-11 rounded object-cover",onError:k[1]||(k[1]=$=>$.target.src="https://placehold.co/32x44/1a1a1a/fff?text=?")},null,40,l8),d("div",c8,[d("p",u8,B(R.title),1),d("p",d8,B(R.year),1)])]))),128))]),d("button",{onClick:k[2]||(k[2]=R=>l.value=!0),class:"w-full py-2 text-xs text-yellow-400 hover:text-yellow-300 font-medium transition-colors border-t border-gray-800 pt-3"}," Xem thm  ")]),d("div",h8,[k[21]||(k[21]=d("div",{class:"flex items-center gap-2 mb-3"},[d("span",{class:"text-base"},""),d("h3",{class:"text-sm font-bold text-white uppercase"},"YU THCH NHT")],-1)),d("div",f8,[i.value.length===0?(I(),N("div",p8," ang ti phim... ")):Z("",!0),(I(!0),N(we,null,He(i.value,(R,v)=>(I(),N("div",{key:v,class:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[d("span",g8,B(v+1),1),d("img",{src:R.poster,class:"w-8 h-11 rounded object-cover",onError:k[3]||(k[3]=$=>$.target.src="https://placehold.co/32x44/1a1a1a/fff?text=?")},null,40,m8),d("div",v8,[d("p",y8,B(R.title),1),d("p",_8,B(R.year),1)])]))),128))]),d("button",{onClick:k[4]||(k[4]=R=>c.value=!0),class:"w-full py-2 text-xs text-yellow-400 hover:text-yellow-300 font-medium transition-colors border-t border-gray-800 pt-3"}," Xem thm  ")]),d("div",b8,[k[22]||(k[22]=d("div",{class:"flex items-center gap-2 mb-3"},[d("span",{class:"text-base"},""),d("h3",{class:"text-sm font-bold text-white uppercase"},"BNH LUN MI")],-1)),d("div",w8,[X(Gg,{name:"comment-list"},{default:ve(()=>[(I(!0),N(we,null,He(u.value.slice(0,5),R=>(I(),N("div",{key:R.id,class:"p-2 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[d("div",E8,[d("img",{src:R.avatar,class:"w-7 h-7 rounded-full"},null,8,x8),d("div",k8,[d("div",T8,[d("p",S8,B(R.name),1),R.time==="va xong"?(I(),N("span",C8,"")):Z("",!0)]),d("p",I8,B(R.time),1)])]),d("p",A8,B(R.text),1)]))),128))]),_:1})])])])]),X(vt,{name:"modal"},{default:ve(()=>[l.value?(I(),N("div",{key:0,onClick:k[8]||(k[8]=R=>l.value=!1),class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"},[d("div",{onClick:k[7]||(k[7]=zt(()=>{},["stop"])),class:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden border border-gray-800 modal-content"},[d("div",O8,[k[24]||(k[24]=d("div",{class:"flex items-center gap-2"},[d("span",{class:"text-2xl"},""),d("h2",{class:"text-xl font-bold text-white"},"SI NI NHT")],-1)),d("button",{onClick:k[5]||(k[5]=R=>l.value=!1),class:"text-gray-400 hover:text-white transition-colors"},k[23]||(k[23]=[d("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),d("div",R8,[d("div",P8,[(I(!0),N(we,null,He(o.value,(R,v)=>(I(),N("div",{key:v,class:"group cursor-pointer"},[d("div",N8,[d("img",{src:R.poster,alt:R.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:k[6]||(k[6]=$=>$.target.src="https://placehold.co/200x300/1a1a1a/fff?text=No+Image")},null,40,L8),d("div",$8,B(v+1),1)]),d("p",M8,B(R.title),1),d("p",D8,B(R.year),1)]))),128))])])])])):Z("",!0)]),_:1}),X(vt,{name:"modal"},{default:ve(()=>[c.value?(I(),N("div",{key:0,onClick:k[12]||(k[12]=R=>c.value=!1),class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"},[d("div",{onClick:k[11]||(k[11]=zt(()=>{},["stop"])),class:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden border border-gray-800 modal-content"},[d("div",j8,[k[26]||(k[26]=d("div",{class:"flex items-center gap-2"},[d("span",{class:"text-2xl"},""),d("h2",{class:"text-xl font-bold text-white"},"YU THCH NHT")],-1)),d("button",{onClick:k[9]||(k[9]=R=>c.value=!1),class:"text-gray-400 hover:text-white transition-colors"},k[25]||(k[25]=[d("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),d("div",U8,[d("div",F8,[(I(!0),N(we,null,He(a.value,(R,v)=>(I(),N("div",{key:v,class:"group cursor-pointer"},[d("div",B8,[d("img",{src:R.poster,alt:R.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:k[10]||(k[10]=$=>$.target.src="https://placehold.co/200x300/1a1a1a/fff?text=No+Image")},null,40,H8),d("div",V8,B(v+1),1)]),d("p",W8,B(R.title),1),d("p",q8,B(R.year),1)]))),128))])])])])):Z("",!0)]),_:1})]))}},K8=kt(z8,[["__scopeId","data-v-a90a47ad"]]),G8={class:"featured-section"},J8={class:"carousel-container"},Y8={class:"card-inner"},X8=["src","alt"],Q8={class:"card-overlay"},Z8={class:"card-content"},e6={class:"card-title"},t6={class:"card-meta"},n6={class:"card-year"},r6={class:"card-rating"},s6={class:"carousel-indicators"},o6=["onClick"],i6={__name:"FeaturedCarousel",setup(t){const e=Y([]),n=Y(0),r=Y(null),s=Y(!1),o=Y(0),i=Y(0),a=Y(0),l=_=>{const P=_-n.value,x=Math.abs(P);if(x>5)return{display:"none"};const k=30-x,R=x===0?1.05:1-x*.12,v=1-x*.2,$=P*70+a.value,Q=x*15,H=P*6;return{transform:`translateX(${$}%) translateY(${Q}px) scale(${R}) rotateY(${H}deg)`,zIndex:k,opacity:v,transition:s.value?"none":"all 0.7s cubic-bezier(0.34, 1.56, 0.64, 1)"}},c=()=>{n.value<e.value.length-1?n.value++:n.value=0,h(n.value)},u=()=>{n.value>0?n.value--:n.value=e.value.length-1,h(n.value)},h=_=>{n.value=_,setTimeout(()=>{const P=document.querySelector(".carousel-indicators"),x=document.querySelector(".indicator.active");P&&x&&x.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},100)},f=_=>{_.target.src="https://placehold.co/300x450/1a1a1a/fff?text=No+Image"},p=_=>{s.value=!0,o.value=_.clientX,i.value=_.clientX},g=_=>{if(!s.value)return;_.preventDefault(),i.value=_.clientX;const P=i.value-o.value,x=100,k=P/window.innerWidth*300;a.value=Math.max(-100,Math.min(x,k))},m=()=>{if(!s.value)return;const _=i.value-o.value;_>30?u():_<-30&&c(),s.value=!1,a.value=0},b=_=>{s.value=!0,o.value=_.touches[0].clientX,i.value=_.touches[0].clientX},S=_=>{if(!s.value)return;_.preventDefault(),i.value=_.touches[0].clientX;const P=i.value-o.value,x=100,k=P/window.innerWidth*300;a.value=Math.max(-100,Math.min(x,k))},A=()=>{m()},y=async()=>{var _,P;try{const x=await Pe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:1}});(P=(_=x.data)==null?void 0:_.items)!=null&&P.length&&(e.value=x.data.items.slice(0,20).map(k=>{var R;return{title:k.name,year:k.year||2024,rating:(Math.random()*2+7).toFixed(1),poster:(R=k.poster_url)!=null&&R.startsWith("http")?k.poster_url:`https://phimimg.com/${k.poster_url}`}}),n.value=Math.floor(e.value.length/2))}catch(x){console.error("Failed to fetch movies:",x)}};return Ot(()=>{y(),document.addEventListener("mousemove",g),document.addEventListener("mouseup",m);const _=r.value;_&&(_.addEventListener("touchmove",S),_.addEventListener("touchend",A))}),sn(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m);const _=r.value;_&&(_.removeEventListener("touchmove",S),_.removeEventListener("touchend",A))}),(_,P)=>(I(),N("div",G8,[P[3]||(P[3]=d("div",{class:"section-header"},[d("h2",{class:"section-title"}," Phim  C"),d("p",{class:"section-subtitle"},"Nhng b phim c  xut dnh ring cho bn")],-1)),d("div",J8,[d("div",{class:"cards-wrapper",ref_key:"cardsWrapper",ref:r,onMousedown:p,onTouchstart:b},[(I(!0),N(we,null,He(e.value,(x,k)=>(I(),N("div",{key:k,class:"movie-card",style:Er(l(k))},[d("div",Y8,[d("img",{src:x.poster,alt:x.title,class:"card-poster",onError:f},null,40,X8),d("div",Q8,[d("div",Z8,[d("h3",e6,B(x.title),1),d("div",t6,[d("span",n6,B(x.year),1),d("span",r6," "+B(x.rating),1)]),P[0]||(P[0]=d("button",{class:"card-button"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})]),fe(" Xem Ngay ")],-1))])])])],4))),128))],544),d("div",{class:"carousel-controls"},[d("button",{onClick:u,class:"control-btn prev-btn"},P[1]||(P[1]=[d("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),d("button",{onClick:c,class:"control-btn next-btn"},P[2]||(P[2]=[d("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),d("div",s6,[(I(!0),N(we,null,He(e.value,(x,k)=>(I(),N("button",{key:k,onClick:R=>h(k),class:Ae(["indicator",{active:n.value===k}])},null,10,o6))),128))])])]))}},a6=kt(i6,[["__scopeId","data-v-1f117a6b"]]),l6={class:"animate-pulse"},c6={key:0,class:"bg-gray-800 rounded-xl overflow-hidden"},u6={key:1,class:"relative h-[85vh] bg-gray-800"},d6={key:2,class:"space-y-4"},h6={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},f6={key:3,class:"bg-gray-800 rounded-2xl p-6 border-2 border-gray-700"},p6={class:"space-y-3"},g6={key:4,class:"bg-gray-800 rounded-2xl p-6 border border-gray-700"},m6={key:5,class:"space-y-3"},$i={__name:"LoadingSkeleton",props:{type:{type:String,default:"card",validator:t=>["card","hero","row","pricing","cart","list"].includes(t)},count:{type:Number,default:3}},setup(t){return(e,n)=>(I(),N("div",l6,[t.type==="card"?(I(),N("div",c6,n[0]||(n[0]=[d("div",{class:"aspect-[2/3] bg-gray-700"},null,-1),d("div",{class:"p-3 space-y-2"},[d("div",{class:"h-4 bg-gray-700 rounded w-3/4"}),d("div",{class:"h-3 bg-gray-700 rounded w-1/2"})],-1)]))):t.type==="hero"?(I(),N("div",u6,n[1]||(n[1]=[Jn('<div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"></div><div class="absolute bottom-20 left-8 space-y-4 max-w-2xl"><div class="h-12 bg-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-700 rounded w-full"></div><div class="h-4 bg-gray-700 rounded w-5/6"></div><div class="flex gap-3 mt-6"><div class="h-12 w-32 bg-gray-700 rounded-full"></div><div class="h-12 w-32 bg-gray-700 rounded-full"></div></div></div>',2)]))):t.type==="row"?(I(),N("div",d6,[n[2]||(n[2]=d("div",{class:"h-6 bg-gray-700 rounded w-48"},null,-1)),d("div",h6,[(I(),N(we,null,He(6,r=>d("div",{key:r,class:"aspect-[2/3] bg-gray-700 rounded-xl"})),64))])])):t.type==="pricing"?(I(),N("div",f6,[n[3]||(n[3]=d("div",{class:"w-20 h-20 bg-gray-700 rounded-2xl mb-6"},null,-1)),n[4]||(n[4]=d("div",{class:"h-8 bg-gray-700 rounded w-3/4 mb-2"},null,-1)),n[5]||(n[5]=d("div",{class:"h-4 bg-gray-700 rounded w-1/2 mb-6"},null,-1)),n[6]||(n[6]=d("div",{class:"h-12 bg-gray-700 rounded w-full mb-4"},null,-1)),d("div",p6,[(I(),N(we,null,He(4,r=>d("div",{key:r,class:"h-4 bg-gray-700 rounded"})),64))]),n[7]||(n[7]=d("div",{class:"h-12 bg-gray-700 rounded-xl mt-6"},null,-1))])):t.type==="cart"?(I(),N("div",g6,n[8]||(n[8]=[Jn('<div class="flex gap-6"><div class="w-20 h-20 bg-gray-700 rounded-2xl flex-shrink-0"></div><div class="flex-1 space-y-3"><div class="h-6 bg-gray-700 rounded w-1/2"></div><div class="h-4 bg-gray-700 rounded w-3/4"></div><div class="flex gap-2"><div class="h-6 w-16 bg-gray-700 rounded-full"></div><div class="h-6 w-16 bg-gray-700 rounded-full"></div></div></div></div>',1)]))):t.type==="list"?(I(),N("div",m6,[(I(!0),N(we,null,He(t.count,r=>(I(),N("div",{key:r,class:"h-16 bg-gray-700 rounded-xl"}))),128))])):Z("",!0)]))}},v6={key:0,class:"min-h-[400px] flex items-center justify-center p-8"},y6={class:"max-w-md w-full text-center"},_6={class:"text-2xl font-bold text-white mb-3"},b6={class:"text-gray-400 mb-6 leading-relaxed"},w6={key:0,class:"mb-6 text-left"},E6={class:"bg-gray-900 text-red-400 p-4 rounded-lg text-xs overflow-auto max-h-40"},x6={class:"flex flex-col sm:flex-row gap-3 justify-center"},k6={__name:"ErrorBoundary",props:{errorTitle:{type:String,default:" c li xy ra"},errorMessage:{type:String,default:"Khng th ti ni dung. Vui lng th li sau."},showDetails:{type:Boolean,default:!1},showHomeButton:{type:Boolean,default:!0},onRetry:{type:Function,default:null}},emits:["retry","error"],setup(t,{expose:e,emit:n}){const r=t,s=n,o=Ar(),i=Y(!1),a=Y(null);pg((u,h,f)=>{var p;return console.error("ErrorBoundary caught error:",u),i.value=!0,a.value=`${u.message}

Component: ${((p=h==null?void 0:h.$options)==null?void 0:p.name)||"Unknown"}
Info: ${f}`,s("error",u),!1});const l=()=>{i.value=!1,a.value=null,r.onRetry&&r.onRetry(),s("retry")},c=()=>{o.push("/")};return e({setError:u=>{i.value=!0,a.value=(u==null?void 0:u.message)||u},reset:()=>{i.value=!1,a.value=null}}),(u,h)=>i.value?(I(),N("div",v6,[d("div",y6,[h[3]||(h[3]=Jn('<div class="w-24 h-24 mx-auto mb-6 relative"><div class="absolute inset-0 bg-red-500/20 rounded-full animate-ping"></div><div class="relative w-24 h-24 bg-gradient-to-br from-red-600 to-red-700 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div></div>',1)),d("h2",_6,B(t.errorTitle),1),d("p",b6,B(t.errorMessage),1),t.showDetails&&a.value?(I(),N("details",w6,[h[0]||(h[0]=d("summary",{class:"cursor-pointer text-sm text-gray-500 hover:text-gray-400 mb-2"}," Chi tit li ",-1)),d("pre",E6,B(a.value),1)])):Z("",!0),d("div",x6,[d("button",{onClick:l,class:"inline-flex items-center justify-center gap-2 bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-xl font-bold hover:from-red-700 hover:to-red-800 transition-all hover:scale-105 shadow-lg"},h[1]||(h[1]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),fe(" Th li ")])),t.showHomeButton?(I(),N("button",{key:0,onClick:c,class:"inline-flex items-center justify-center gap-2 bg-gray-800 text-white px-6 py-3 rounded-xl font-bold hover:bg-gray-700 transition-all border border-gray-700"},h[2]||(h[2]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),fe(" V trang ch ")]))):Z("",!0)])])])):_g(u.$slots,"default",{key:1})}},T6={"aria-label":"Breadcrumb",class:"mb-6"},S6={class:"flex items-center gap-2 text-sm"},C6={key:1,class:"text-white font-semibold","aria-current":"page"},I6={__name:"Breadcrumb",props:{items:{type:Array,required:!0}},setup(t){return(e,n)=>{const r=Ma("router-link");return I(),N("nav",T6,[d("ol",S6,[(I(!0),N(we,null,He(t.items,(s,o)=>(I(),N("li",{key:o,class:"flex items-center gap-2"},[o===0?(I(),$e(r,{key:0,to:s.to,class:"flex items-center gap-1 text-gray-400 hover:text-yellow-400 transition-colors"},{default:ve(()=>[n[0]||(n[0]=d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1)),d("span",null,B(s.label),1)]),_:2},1032,["to"])):(I(),N(we,{key:1},[n[1]||(n[1]=d("svg",{class:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),o<t.items.length-1?(I(),$e(r,{key:0,to:s.to,class:"text-gray-400 hover:text-yellow-400 transition-colors"},{default:ve(()=>[fe(B(s.label),1)]),_:2},1032,["to"])):(I(),N("span",C6,B(s.label),1))],64))]))),128))])])}}};function A6(t={}){const e=Ba(),r={...{title:"HTHREE Film - Xem Phim Online Min Ph",description:"Xem phim online cht lng cao, phim b, phim l, anime, TV shows. Cp nht lin tc phim mi nht.",keywords:"xem phim, phim online, phim bo, phim le, anime, tv shows, phim moi",image:"https://hthree.com/og-image.jpg",url:"https://hthree.com",type:"website",siteName:"HTHREE Film"},...t},s=h=>{document.title=h},o=(h,f,p=!1)=>{if(!f)return;const g=p?"property":"name";let m=document.querySelector(`meta[${g}="${h}"]`);m||(m=document.createElement("meta"),m.setAttribute(g,h),document.head.appendChild(m)),m.setAttribute("content",f)},i=h=>{let f=document.querySelector('link[rel="canonical"]');f||(f=document.createElement("link"),f.setAttribute("rel","canonical"),document.head.appendChild(f)),f.setAttribute("href",h)},a=()=>{s(r.title),o("description",r.description),o("keywords",r.keywords),o("og:title",r.title,!0),o("og:description",r.description,!0),o("og:image",r.image,!0),o("og:url",r.url,!0),o("og:type",r.type,!0),o("og:site_name",r.siteName,!0),o("twitter:card","summary_large_image"),o("twitter:title",r.title),o("twitter:description",r.description),o("twitter:image",r.image),i(r.url)},l=h=>{let f=document.querySelector('script[type="application/ld+json"]');f||(f=document.createElement("script"),f.setAttribute("type","application/ld+json"),document.head.appendChild(f)),f.textContent=JSON.stringify(h)},c=h=>{var p;const f={"@context":"https://schema.org","@type":"Movie",name:h.name,alternateName:h.origin_name,description:h.content,image:h.poster_url||h.thumb_url,datePublished:h.year,genre:(p=h.category)==null?void 0:p.map(g=>g.name).join(", "),contentRating:h.quality,inLanguage:h.lang,aggregateRating:h.rating?{"@type":"AggregateRating",ratingValue:h.rating,bestRating:"10",worstRating:"1"}:void 0};l(f)},u=()=>{l({"@context":"https://schema.org","@type":"WebSite",name:"HTHREE Film",url:"https://hthree.com",potentialAction:{"@type":"SearchAction",target:"https://hthree.com/search?q={search_term_string}","query-input":"required name=search_term_string"}})};return Ot(()=>{a()}),Zt(()=>e.path,()=>{a()}),{setTitle:s,setMetaTag:o,setCanonical:i,updateMeta:a,setStructuredData:l,setMovieStructuredData:c,setWebsiteStructuredData:u}}function U$(t){var e,n;return{title:`${t.name} - ${t.origin_name} | HTHREE Film`,description:((e=t.content)==null?void 0:e.substring(0,160))||`Xem phim ${t.name} (${t.origin_name}) cht lng ${t.quality} vietsub min ph ti HTHREE Film.`,keywords:`${t.name}, ${t.origin_name}, xem phim, ${(n=t.category)==null?void 0:n.map(r=>r.name).join(", ")}`,image:t.poster_url||t.thumb_url,url:`https://hthree.com/film/${t.slug}`,type:"video.movie"}}function O6(t,e={}){return{...{home:{title:"HTHREE Film - Xem Phim Online Min Ph, Phim B, Phim L, Anime",description:"Xem phim online cht lng cao HD, phim b, phim l, anime, TV shows. Cp nht lin tc phim mi nht 2024.",keywords:"xem phim online, phim bo, phim le, anime, tv shows, phim moi 2024"},pricing:{title:"Bng Gi Gi Dch V - HTHREE Film",description:"Chn gi dch v ph hp vi bn. Xem phim khng gii hn, khng qung co, cht lng HD/FHD.",keywords:"gia goi dich vu, goi vip, xem phim khong quang cao"},library:{title:"Th Vin Ca Ti - HTHREE Film",description:"Qun l phim yu thch, danh sch xem sau v lch s xem ca bn.",keywords:"thu vien phim, phim yeu thich, lich su xem"},search:{title:`Tm kim: ${e.query||""} - HTHREE Film`,description:`Kt qu tm kim cho "${e.query||""}". Tm thy ${e.count||0} phim.`,keywords:`tim kiem phim, ${e.query||""}`}}[t],url:`https://hthree.com${e.path||""}`,type:"website"}}const R6={class:"bg-black min-h-screen text-white"},P6={key:0,class:"space-y-8"},N6={class:"container mx-auto px-4 sm:px-6 lg:px-8 space-y-8"},L6={key:2},$6={key:0,class:"absolute inset-0 z-10 overflow-hidden"},M6=["src"],D6={key:1,class:"absolute inset-0"},j6=["src","alt"],U6={class:"relative z-10 h-full flex items-center container mx-auto px-4 sm:px-6 lg:px-8 pt-20"},F6={class:"max-w-2xl"},B6={class:"text-3xl md:text-4xl lg:text-5xl font-extrabold mb-3 uppercase tracking-tight leading-tight text-white",style:{"text-shadow":"2px 2px 8px rgba(0,0,0,0.9), 0 0 20px rgba(0,0,0,0.7)"}},H6={class:"text-base md:text-lg text-white mb-4 font-semibold",style:{"text-shadow":"1px 1px 6px rgba(0,0,0,0.9), 0 0 12px rgba(0,0,0,0.7)"}},V6={class:"flex flex-wrap gap-2 mb-4"},W6={key:0,class:"bg-yellow-500 text-black px-3 py-1 rounded text-xs font-bold uppercase shadow-xl"},q6={key:1,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold uppercase shadow-xl border-2 border-gray-700"},z6={key:2,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},K6={key:3,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},G6={key:0,class:"flex flex-wrap gap-2 mb-5 text-sm"},J6={class:"text-sm md:text-base mb-6 line-clamp-3 text-white leading-relaxed max-w-xl font-semibold",style:{"text-shadow":"1px 1px 6px rgba(0,0,0,0.9), 0 0 12px rgba(0,0,0,0.7)"}},Y6={class:"flex flex-wrap gap-3"},X6=["onClick"],Q6=["onClick"],Z6={class:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-2"},e$=["onClick","aria-label"],t$={class:"container mx-auto px-4 sm:px-6 lg:px-8 pt-10 pb-10 relative z-20"},n$={class:"mb-8"},r$={class:"text-3xl md:text-4xl font-bold text-white mb-2"},s$={class:"text-gray-400"},o$={__name:"Homepage",setup(t){const e=Ar(),n=Y([]),r=Y(0),s=Y([]),o=Y([]),i=Y([]),a=Y([]),l=Y([]),c=Y([]),u=Y([]),h=Y(!1),f=Y(""),p=Y(null);let g=0,m=0,b=!1;const S=Y(!1),A=Y(""),y=Y(!0),_=Y(null),P=ye(()=>n.value[r.value]||null),x=[{label:"Trang ch",to:"/home"}],k=J=>{J!=null&&J.slug&&(A.value=J.slug,S.value=!0)},R=J=>{console.log(" Opening new movie from modal:",J),A.value=J,S.value=!0},v=J=>{J!=null&&J.slug&&e.push(`/film/${J.slug}`)},$=J=>{if(!J)return"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg";if(J.thumb_url){const xe=J.thumb_url.startsWith("http")?J.thumb_url:`https://phimimg.com/${J.thumb_url}`;return console.log(" Banner using thumb_url:",xe),xe}return J.poster_url?J.poster_url.startsWith("http")?J.poster_url:`https://phimimg.com/${J.poster_url}`:"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},Q=J=>{J.target.src="https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},H=J=>{var Ue,Fe;if(!J){h.value=!1,f.value="";return}let xe=J;if(J.includes("youtube.com/watch")){const W=(Ue=J.split("v=")[1])==null?void 0:Ue.split("&")[0];xe=`https://www.youtube.com/embed/${W}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${W}&iv_load_policy=3&disablekb=1&fs=0&vq=hd1080&hd=1&quality=highres`}else if(J.includes("youtu.be/")){const W=(Fe=J.split("youtu.be/")[1])==null?void 0:Fe.split("?")[0];xe=`https://www.youtube.com/embed/${W}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${W}&iv_load_policy=3&disablekb=1&fs=0&vq=hd1080&hd=1&quality=highres`}h.value=!1,setTimeout(()=>{f.value=xe,h.value=!0},500)},ae=()=>{r.value=(r.value+1)%n.value.length;const J=n.value[r.value];J!=null&&J.trailer_url?H(J.trailer_url):h.value=!1},ce=()=>{r.value=r.value===0?n.value.length-1:r.value-1;const J=n.value[r.value];J!=null&&J.trailer_url?H(J.trailer_url):h.value=!1},De=J=>{r.value=J;const xe=n.value[J];xe!=null&&xe.trailer_url?H(xe.trailer_url):h.value=!1},ee=J=>{b||Math.abs(J.deltaX)>Math.abs(J.deltaY)&&(J.preventDefault(),b=!0,J.deltaX>0?ae():ce(),setTimeout(()=>{b=!1},800))},U=J=>{g=J.changedTouches[0].screenX},de=J=>{m=J.changedTouches[0].screenX},he=()=>{if(b)return;const J=g-m;Math.abs(J)>50&&(b=!0,J>0?ae():ce(),setTimeout(()=>{b=!1},800))},Ee=async()=>{var J,xe,Ue,Fe,W,q,L,ne,re,T,O,C,j,G,K,oe,se,w,E,M;y.value=!0,_.value=null;try{console.log(" Loading movies from API...");const[F,ie,te,D,z,ue,Le,Ge,it]=await Promise.all([Pe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),Pe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),Pe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=2"),Pe.get("https://phimapi.com/v1/api/danh-sach/phim-bo?page=1&limit=30"),Pe.get("https://phimapi.com/v1/api/danh-sach/phim-le?page=1&limit=30"),Pe.get("https://phimapi.com/v1/api/quoc-gia/han-quoc?page=1&limit=25"),Pe.get("https://phimapi.com/v1/api/quoc-gia/trung-quoc?page=1&limit=25"),Pe.get("https://phimapi.com/v1/api/quoc-gia/nhat-ban?page=1&limit=25"),Pe.get("https://phimapi.com/v1/api/tim-kiem?keyword=hoc vien sieu anh hung")]);console.log(" API calls completed");try{const rt=((xe=(J=it==null?void 0:it.data)==null?void 0:J.data)==null?void 0:xe.items)||[];if(console.log(" My Hero Academia search results:",rt.length),rt.length>0){const Ve=rt[0];try{const lt=await Pe.get(`https://phimapi.com/phim/${Ve.slug}`);(Ue=lt.data)!=null&&Ue.movie?n.value.push({...Ve,content:lt.data.movie.content||Ve.content,trailer_url:lt.data.movie.trailer_url}):n.value.push(Ve)}catch{console.log(" Could not fetch My Hero detail, using basic info"),n.value.push(Ve)}}}catch{console.log(" My Hero Academia search failed, skipping")}const be=((Fe=F.data.items)==null?void 0:Fe.slice(0,2))||((q=(W=F.data.data)==null?void 0:W.items)==null?void 0:q.slice(0,2))||[];for(const rt of be)if(rt!=null&&rt.slug)try{const Ve=await Pe.get(`https://phimapi.com/phim/${rt.slug}`);(L=Ve.data)!=null&&L.movie?n.value.push({...rt,content:Ve.data.movie.content||rt.content,trailer_url:Ve.data.movie.trailer_url}):n.value.push(rt)}catch{n.value.push(rt)}(ne=n.value[0])!=null&&ne.trailer_url&&H(n.value[0].trailer_url),console.log(" Featured movies loaded:",n.value.length);const _t=ie.data.items||((re=ie.data.data)==null?void 0:re.items)||[];s.value=_t.sort((rt,Ve)=>{const lt={FHD:3,HD:2,SD:1,"":0},nr=lt[rt.quality]||0,oo=lt[Ve.quality]||0;if(nr!==oo)return oo-nr;const mi=parseInt(rt.year)||0;return(parseInt(Ve.year)||0)-mi}),o.value=te.data.items||((T=te.data.data)==null?void 0:T.items)||[],i.value=((O=D.data.data)==null?void 0:O.items)||[],a.value=((C=z.data.data)==null?void 0:C.items)||[],l.value=((j=ue.data.data)==null?void 0:j.items)||[],c.value=((G=Le.data.data)==null?void 0:G.items)||[],u.value=((K=Ge.data.data)==null?void 0:K.items)||[],console.log(" Movies loaded successfully"),console.log(" Featured:",(oe=P.value)==null?void 0:oe.name),console.log(" Content:",(w=(se=P.value)==null?void 0:se.content)==null?void 0:w.substring(0,100))}catch(F){console.error(" Error loading movies:",F),_.value=((M=(E=F.response)==null?void 0:E.data)==null?void 0:M.message)||F.message||"Khng th ti d liu phim. Vui lng th li sau.",je.error("Khng th ti d liu phim")}finally{y.value=!1}},ge=O6("home",{path:"/home"}),{setWebsiteStructuredData:Re}=A6(ge);return Ot(()=>{Ee(),Re()}),sn(()=>{}),(J,xe)=>{var Ue,Fe,W,q,L,ne;return I(),N("div",R6,[y.value?(I(),N("div",P6,[X($i,{type:"hero"}),d("div",N6,[X($i,{type:"row"}),X($i,{type:"row"}),X($i,{type:"row"})])])):_.value?(I(),$e(k6,{key:1,"error-title":"Khng th ti phim","error-message":_.value,"show-details":!0,onRetry:Ee},null,8,["error-message"])):(I(),N("div",L6,[d("div",{ref_key:"heroBannerRef",ref:p,class:"relative h-[85vh] overflow-hidden group/hero pt-16",onWheel:ee,onTouchstart:U,onTouchmove:de,onTouchend:he},[(I(!0),N(we,null,He(n.value,(re,T)=>{var O;return I(),N("div",{key:re.slug,class:Ae(["absolute inset-0 transition-opacity duration-700",r.value===T?"opacity-100 z-10":"opacity-0 z-0"])},[h.value&&r.value===T&&f.value?(I(),N("div",$6,[d("iframe",{src:f.value,class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.77vh] h-[56.25vw] min-h-full min-w-full",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:"",style:{"pointer-events":"none"}},null,8,M6),xe[1]||(xe[1]=d("div",{class:"absolute inset-0 pointer-events-none"},[d("div",{class:"absolute top-0 right-0 w-32 h-20 bg-black"})],-1))])):Z("",!0),!h.value||r.value!==T?(I(),N("div",D6,[d("img",{src:$(re),class:"w-full h-full object-cover",alt:re.name,onError:Q},null,40,j6),xe[2]||(xe[2]=d("div",{class:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent"},null,-1)),xe[3]||(xe[3]=d("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"},null,-1))])):Z("",!0),d("div",U6,[d("div",F6,[d("h1",B6,B((re==null?void 0:re.name)||"KHM PH PHIM HAY"),1),d("p",H6,B((re==null?void 0:re.origin_name)||""),1),d("div",V6,[re!=null&&re.quality?(I(),N("span",W6,B(re.quality),1)):Z("",!0),re!=null&&re.lang?(I(),N("span",q6,B(re.lang),1)):Z("",!0),re!=null&&re.year?(I(),N("span",z6,B(re.year),1)):Z("",!0),re!=null&&re.time?(I(),N("span",K6,B(re.time),1)):Z("",!0)]),(O=re==null?void 0:re.category)!=null&&O.length?(I(),N("div",G6,[(I(!0),N(we,null,He(re.category.slice(0,4),(C,j)=>(I(),N("span",{key:j,class:"text-white font-bold",style:{"text-shadow":"1px 1px 4px rgba(0,0,0,0.9), 0 0 8px rgba(0,0,0,0.7)"}},B(C.name),1))),128))])):Z("",!0),d("p",J6,B((re==null?void 0:re.content)||"Khm ph nhng b phim tuyt vi cng HTHREE"),1),d("div",Y6,[d("button",{onClick:C=>v(re),class:"flex items-center gap-2 bg-yellow-400 text-black px-8 py-3.5 rounded-full font-bold text-base hover:bg-yellow-500 transition-all shadow-xl hover:scale-105"},[xe[4]||(xe[4]=d("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1)),fe(" "+B(J.$t("movie.play")),1)],8,X6),xe[6]||(xe[6]=d("button",{class:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3.5 rounded-full font-bold text-base hover:bg-white/30 transition-all border border-white/30"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),d("button",{onClick:C=>k(re),class:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3.5 rounded-full font-bold text-base hover:bg-white/30 transition-all border border-white/30",title:"Cc tp & Thng tin"},xe[5]||(xe[5]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),8,Q6)])])])],2)}),128)),d("div",Z6,[(I(!0),N(we,null,He(n.value,(re,T)=>(I(),N("button",{key:`dot-${re.slug}`,onClick:O=>De(T),class:Ae(["transition-all duration-300 ease-out rounded-full transform hover:scale-110",r.value===T?"w-8 h-2 bg-yellow-400 shadow-lg shadow-yellow-400/50":"w-2 h-2 bg-white/50 hover:bg-white/80"]),"aria-label":`Chuyn n phim ${T+1}`},null,10,e$))),128))])],544),X(a6),d("div",t$,[X(I6,{items:x}),d("div",n$,[d("h1",r$,B(J.$t("home.title")),1),d("p",s$,B(J.$t("home.subtitle")),1)]),(Ue=o.value)!=null&&Ue.length?(I(),$e(Es,{key:0,title:J.$t("home.newMovies"),movies:o.value},null,8,["title","movies"])):Z("",!0),(Fe=i.value)!=null&&Fe.length?(I(),$e(Es,{key:1,title:J.$t("home.series"),movies:i.value},null,8,["title","movies"])):Z("",!0),(W=a.value)!=null&&W.length?(I(),$e(Es,{key:2,title:J.$t("home.single"),movies:a.value},null,8,["title","movies"])):Z("",!0),(q=l.value)!=null&&q.length?(I(),$e(Es,{key:3,title:" Phim Hn Quc",movies:l.value},null,8,["movies"])):Z("",!0),(L=c.value)!=null&&L.length?(I(),$e(Es,{key:4,title:" Phim Trung Quc",movies:c.value},null,8,["movies"])):Z("",!0),(ne=u.value)!=null&&ne.length?(I(),$e(Es,{key:5,title:J.$t("home.anime"),movies:u.value},null,8,["title","movies"])):Z("",!0)]),X(K8),X(Sy,{"is-open":S.value,"movie-slug":A.value,onClose:xe[0]||(xe[0]=re=>S.value=!1),onOpenMovie:R},null,8,["is-open","movie-slug"])]))])}}},i$=kt(o$,[["__scopeId","data-v-1dd39514"]]),a$=()=>ut(()=>import("./NetflixHomepage-KixIRhxu.js"),__vite__mapDeps([2,3]),import.meta.url),l$=()=>ut(()=>import("./MovieDetail-B5RwK4_5.js"),__vite__mapDeps([4,5,6,7]),import.meta.url),c$=()=>ut(()=>import("./WatchMovie-DUmqM1xO.js"),__vite__mapDeps([8,9]),import.meta.url),u$=()=>ut(()=>import("./ListBaseType-P-ZhHaVt.js"),__vite__mapDeps([10,0,1,5,6,11,12,13]),import.meta.url),d$=()=>ut(()=>import("./ListBaseCategory-CkyNVIWy.js"),__vite__mapDeps([14,0,1,11,12,5,6,15]),import.meta.url),h$=()=>ut(()=>import("./ListBaseNational-fkOrr257.js"),__vite__mapDeps([16,0,1,5,6,11,12,17]),import.meta.url),f$=()=>ut(()=>import("./Contact-CEUKKB0g.js"),__vite__mapDeps([18,19]),import.meta.url),p$=()=>ut(()=>import("./Account-CQFRiiHa.js"),__vite__mapDeps([20,21]),import.meta.url),g$=()=>ut(()=>import("./DemoUI-BOUQG5OZ.js"),[],import.meta.url),m$=()=>ut(()=>import("./TestImages-DmOlNPmy.js"),[],import.meta.url),v$=()=>ut(()=>import("./SearchResults-DOPt5HEV.js"),__vite__mapDeps([22,0,1,23]),import.meta.url),y$=()=>ut(()=>import("./Pricing-DOLrCv6b.js"),__vite__mapDeps([24,25,1,26]),import.meta.url),_$=()=>ut(()=>import("./Checkout-Ct1SW-2o.js"),__vite__mapDeps([27,25,1,28]),import.meta.url),b$=()=>ut(()=>import("./PaymentProcessing-DWY0N9Jk.js"),[],import.meta.url),w$=()=>ut(()=>import("./Admin-Bs8kA9f9.js"),__vite__mapDeps([29,30]),import.meta.url),E$=()=>ut(()=>import("./Categories-DZGD9HiB.js"),[],import.meta.url),x$=()=>ut(()=>import("./Library-Djj3U_GP.js"),__vite__mapDeps([31,32]),import.meta.url),k$=[{path:"/",name:"Welcome",component:hN},{path:"/home",name:"Homepage",component:i$},{path:"/categories",name:"Categories",component:E$},{path:"/library",name:"Library",component:x$},{path:"/pricing",name:"Pricing",component:y$},{path:"/checkout",name:"Checkout",component:_$},{path:"/payment-processing",name:"PaymentProcessing",component:b$},{path:"/admin",name:"Admin",component:w$},{path:"/netflix",name:"NetflixHome",component:a$},{path:"/demo",name:"DemoUI",component:g$},{path:"/test-images",name:"TestImages",component:m$},{path:"/film/:filmName",name:"MovieDetail",component:l$,props:!0},{path:"/film/:filmName/tap/:tap",name:"WatchMovie",component:c$,props:!0},{path:"/list/:type/page/:pageNumber",name:"ListBaseType",component:u$,props:!0},{path:"/category/:categorySlug?/page/:pageNumber",name:"ListBaseCategory",component:d$,props:!0},{path:"/country/:countrySlug?/page/:pageNumber",name:"ListBaseNational",component:h$,props:!0},{path:"/contact",name:"Contact",component:f$},{path:"/account",name:"Account",component:p$},{path:"/search",name:"Search",component:v$}],ld=gm({history:om("./"),routes:k$,scrollBehavior(t,e,n){return{top:0,behavior:"smooth"}}});ld.beforeEach((t,e,n)=>{if(["Pricing","Cart","Checkout"].includes(t.name)){const s=JSON.parse(localStorage.getItem("user")||"null"),o=["hient7182@gmail.com","admin@hthree.com"];if(s&&(s.role==="admin"||o.includes(s.email))){console.log(" Admin khng th truy cp trang:",t.name),n({name:"Homepage"});return}}n()});var T$="firebase",S$="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(T$,S$,"app");const C$={apiKey:"AIzaSyAiwMHCsSrqX20x8o90R5hksRxUPVmnwKM",authDomain:"hthree-94a3e.firebaseapp.com",projectId:"hthree-94a3e",storageBucket:"hthree-94a3e.firebasestorage.app",messagingSenderId:"917487991713",appId:"1:917487991713:web:68dd73293f38d7fe2229e0",measurementId:"G-9LNBDMVK0M"},I$=Sm(C$),cd=fs(I$);Wx(cd,k0).catch(t=>{console.error("Error setting persistence:",t)});const gi=Yg(cN),Cy=ok();gi.use(ld);gi.use(Cy);gi.use(xy);const A$=uv(Cy);A$.initAuth();ld.beforeEach((t,e,n)=>{const r=t.matched.some(o=>o.meta.requiresAuth),s=cd.currentUser;r&&!s?(console.log("Cha ng nhp (Firebase), chuyn hng v /auth"),n("/auth")):n()});let Yl=!1;ci(cd,t=>{Yl=!!t,gi.config.globalProperties.$isAuthenticated=Yl,console.log("Firebase Auth state changed. isAuthenticated:",Yl)});gi.mount("#app");export{Wn as $,ol as A,sn as B,je as C,$i as D,k6 as E,we as F,I6 as G,Ty as H,ut as I,U$ as J,A6 as K,el as L,Es as M,r3 as N,qc as O,fg as P,Is as Q,fm as R,jo as S,vt as T,zt as U,OI as V,fs as W,rn as X,ci as Y,vg as Z,kt as _,d as a,O$ as a0,Vx as a1,j0 as a2,Zs as a3,Sy as a4,G_ as a5,ul as a6,oN as a7,_g as a8,ky as a9,rS as aa,T3 as ab,Jn as b,N as c,Z as d,fe as e,He as f,Ar as g,Pe as h,SC as i,ye as j,Ot as k,X as l,ve as m,Ae as n,I as o,Ma as p,Eu as q,Y as r,Ke as s,B as t,Ba as u,J_ as v,Zt as w,$e as x,Er as y,uv as z};
