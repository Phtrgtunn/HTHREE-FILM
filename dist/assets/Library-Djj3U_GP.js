import{a2 as re,r as $,j as M,$ as y,p as ae,c as v,o as d,a as t,x as V,d as z,a8 as ne,n as q,Z as G,t as p,m as Q,e as O,_ as ie,w as P,B as ce,y as Y,T as ue,u as de,a6 as ge,k as he,l as ve,s as h,F as R,f as U,U as Z,a9 as ye,A as fe,g as me}from"./index-C1YtYqPe.js";const pe=re("library",()=>{const r=$([]),g=$([]),a=$([]),i=$(!1),c=$(null),m=M(()=>r.value.length),b=M(()=>g.value.length),S=M(()=>a.value.length),w=e=>{try{const s=localStorage.getItem(e);return s?JSON.parse(s):[]}catch(s){return console.error(`Error reading ${e} from localStorage:`,s),[]}},x=(e,s)=>{try{localStorage.setItem(e,JSON.stringify(s))}catch(T){console.error(`Error saving ${e} to localStorage:`,T)}},k=async()=>{i.value=!0,c.value=null;try{r.value=w("library_favorites"),g.value=w("library_watchlist"),a.value=w("library_continue")}catch(e){c.value=e.message,console.error("Error loading library:",e)}finally{i.value=!1}},f=e=>r.value.some(s=>s.id===e||s.slug===e),_=async e=>{try{if(f(e.id||e.slug)){console.log("Movie already in favorites");return}const s={id:e.id||e.slug,slug:e.slug,title:e.name||e.title,poster:e.poster_url||e.poster,year:e.year,quality:e.quality,addedAt:new Date().toISOString()};return r.value.unshift(s),x("library_favorites",r.value),!0}catch(s){return c.value=s.message,console.error("Error adding to favorites:",s),!1}},j=async e=>{try{return r.value=r.value.filter(s=>s.id!==e&&s.slug!==e),x("library_favorites",r.value),!0}catch(s){return c.value=s.message,console.error("Error removing from favorites:",s),!1}},E=async e=>f(e.id||e.slug)?await j(e.id||e.slug):await _(e),W=e=>g.value.some(s=>s.id===e||s.slug===e),B=async e=>{try{if(W(e.id||e.slug)){console.log("Movie already in watchlist");return}const s={id:e.id||e.slug,slug:e.slug,title:e.name||e.title,poster:e.poster_url||e.poster,year:e.year,quality:e.quality,addedAt:new Date().toISOString()};return g.value.unshift(s),x("library_watchlist",g.value),!0}catch(s){return c.value=s.message,console.error("Error adding to watchlist:",s),!1}},C=async e=>{try{return g.value=g.value.filter(s=>s.id!==e&&s.slug!==e),x("library_watchlist",g.value),!0}catch(s){return c.value=s.message,console.error("Error removing from watchlist:",s),!1}};return{favorites:r,watchlist:g,continueWatching:a,loading:i,error:c,favoritesCount:m,watchlistCount:b,continueWatchingCount:S,loadAll:k,isFavorite:f,addToFavorites:_,removeFromFavorites:j,toggleFavorite:E,isInWatchlist:W,addToWatchlist:B,removeFromWatchlist:C,toggleWatchlist:async e=>W(e.id||e.slug)?await C(e.id||e.slug):await B(e),isInContinue:e=>a.value.some(s=>s.id===e||s.slug===e),saveContinueWatching:async(e,s,T=0)=>{try{a.value=a.value.filter(I=>I.id!==(e.id||e.slug)&&I.slug!==e.slug);const A={id:e.id||e.slug,slug:e.slug,title:e.name||e.title,poster:e.poster_url||e.poster,year:e.year,quality:e.quality,progress:Math.round(s),currentTime:Math.round(T),lastWatched:new Date().toISOString()};return a.value.unshift(A),a.value.length>20&&(a.value=a.value.slice(0,20)),x("library_continue",a.value),!0}catch(A){return c.value=A.message,console.error("Error saving continue watching:",A),!1}},getContinueProgress:e=>{const s=a.value.find(T=>T.id===e||T.slug===e);return s?{progress:s.progress,currentTime:s.currentTime}:null},removeFromContinue:async e=>{try{return a.value=a.value.filter(s=>s.id!==e&&s.slug!==e),x("library_continue",a.value),!0}catch(s){return c.value=s.message,console.error("Error removing from continue:",s),!1}},clearAll:()=>{r.value=[],g.value=[],a.value=[],localStorage.removeItem("library_favorites"),localStorage.removeItem("library_watchlist"),localStorage.removeItem("library_continue")}}});function be(){const r=$(!1),g=$(""),a=$(null),i=(b,S)=>{g.value=b,a.value=S,r.value=!0},c=()=>{a.value&&a.value(),m()},m=()=>{r.value=!1,g.value="",a.value=null};return{showUndo:r,undoMessage:g,triggerUndo:i,handleUndo:c,closeUndo:m}}function we(){const r=$(new Set),g=$(!1),a=()=>{g.value=!g.value,g.value||m()},i=k=>{r.value.has(k)?r.value.delete(k):r.value.add(k),r.value=new Set(r.value)},c=k=>{k.forEach(f=>{r.value.add(f.id||f)}),r.value=new Set(r.value)},m=()=>{r.value.clear(),r.value=new Set},b=k=>r.value.has(k),S=M(()=>r.value.size),w=M(()=>Array.from(r.value)),x=M(()=>r.value.size>0);return{selectedItems:r,isSelectionMode:g,selectedCount:S,selectedArray:w,hasSelection:x,toggleSelectionMode:a,toggleItem:i,selectAll:c,clearSelection:m,isSelected:b}}const xe={class:"text-center py-20"},ke={class:"flex justify-center mb-6"},_e={class:"text-2xl font-bold text-white mb-3"},Ce={class:"text-gray-400 text-base mb-8 max-w-md mx-auto"},N={__name:"EmptyState",props:{icon:{type:String,default:"box",validator:r=>["heart","list","clock","box","search","film","user","cart"].includes(r)},title:{type:String,required:!0},description:{type:String,required:!0},actionText:{type:String,default:"Khám phá ngay"},actionLink:{type:String,default:null}},setup(r){const g=r,a={heart:()=>y("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})]),list:()=>y("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),clock:()=>y("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),box:()=>y("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),search:()=>y("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),film:()=>y("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})]),user:()=>y("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),cart:()=>y("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})])},i=M(()=>a[g.icon]),c=M(()=>({heart:"bg-red-500/20",list:"bg-blue-500/20",clock:"bg-yellow-500/20",box:"bg-gray-500/20",search:"bg-purple-500/20",film:"bg-green-500/20",user:"bg-indigo-500/20",cart:"bg-orange-500/20"})[g.icon]),m=M(()=>({heart:"text-red-400",list:"text-blue-400",clock:"text-yellow-400",box:"text-gray-400",search:"text-purple-400",film:"text-green-400",user:"text-indigo-400",cart:"text-orange-400"})[g.icon]);return(b,S)=>{const w=ae("router-link");return d(),v("div",xe,[t("div",ke,[t("div",{class:q(["w-24 h-24 rounded-full flex items-center justify-center",c.value])},[(d(),V(G(i.value),{class:q(["w-12 h-12",m.value])},null,8,["class"]))],2)]),t("h3",_e,p(r.title),1),t("p",Ce,p(r.description),1),r.actionLink?(d(),V(w,{key:0,to:r.actionLink,class:"inline-flex items-center gap-2 bg-yellow-500 text-black px-6 py-3 rounded-lg font-semibold hover:bg-yellow-600 transition-all hover:scale-105 shadow-lg"},{default:Q(()=>[O(p(r.actionText)+" ",1),S[0]||(S[0]=t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),_:1},8,["to"])):z("",!0),ne(b.$slots,"action")])}}},Me={key:0,class:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 flex items-center gap-4 bg-gray-800 text-white px-6 py-4 rounded-lg shadow-2xl border border-gray-700 min-w-[320px] max-w-md"},Se={class:"flex-1"},Fe={class:"text-sm font-medium"},$e={class:"absolute bottom-0 left-0 right-0 h-1 bg-gray-700 rounded-b-lg overflow-hidden"},ze={__name:"UndoSnackbar",props:{show:{type:Boolean,default:!1},message:{type:String,default:"Đã xóa"},duration:{type:Number,default:5e3}},emits:["undo","close"],setup(r,{emit:g}){const a=r,i=g,c=$(100);let m=null,b=null;const S=()=>{i("undo"),w()},w=()=>{i("close"),x()},x=()=>{m&&clearTimeout(m),b&&clearInterval(b),c.value=100};return P(()=>a.show,k=>{if(k){c.value=100,m=setTimeout(()=>{i("close")},a.duration);const f=50,_=100/a.duration*f;b=setInterval(()=>{c.value-=_,c.value<=0&&clearInterval(b)},f)}else x()}),ce(()=>{x()}),(k,f)=>(d(),V(ue,{name:"slide-up"},{default:Q(()=>[r.show?(d(),v("div",Me,[f[1]||(f[1]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),t("div",Se,[t("p",Fe,p(r.message),1)]),t("button",{onClick:S,class:"flex-shrink-0 bg-yellow-500 hover:bg-yellow-600 text-black px-4 py-2 rounded-lg font-bold text-sm transition-all hover:scale-105"}," Hoàn tác "),t("button",{onClick:w,class:"flex-shrink-0 text-gray-400 hover:text-white transition-colors"},f[0]||(f[0]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),t("div",$e,[t("div",{class:"h-full bg-yellow-500 transition-all ease-linear",style:Y({width:`${c.value}%`})},null,4)])])):z("",!0)]),_:1}))}},Te=ie(ze,[["__scopeId","data-v-8da0a2b1"]]),We={class:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900 pt-24 pb-16"},Be={class:"container mx-auto px-4 sm:px-6 lg:px-8"},Le={class:"mb-8"},He={class:"text-4xl md:text-5xl font-bold text-white mb-2"},Ae={class:"text-gray-400 text-lg"},Ve={class:"flex gap-2 mb-8 border-b border-gray-800 overflow-x-auto"},je=["onClick"],Ee={class:"flex items-center gap-2"},Ie={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-yellow-400"},Re={class:"mt-8"},Ue={key:0,class:"space-y-6"},qe={key:0,class:"flex items-center justify-between bg-gray-800 rounded-lg px-4 py-3"},De={class:"flex items-center gap-4"},Ne={class:"flex items-center gap-2 cursor-pointer"},Oe=["checked"],Pe={class:"text-white text-sm font-medium"},Xe={key:0,class:"flex items-center gap-2"},Je={key:2,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},Ke={class:"absolute top-2 left-2 z-10"},Ze=["checked","onChange"],Ge=["src","alt"],Qe={class:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},Ye={class:"absolute bottom-0 left-0 right-0 p-4"},et={class:"text-white font-semibold text-sm mb-2"},tt={class:"flex gap-2"},ot=["onClick"],st=["onClick","title"],lt={key:1,class:"space-y-6"},rt={key:0,class:"flex items-center justify-between bg-gray-800 rounded-lg px-4 py-3"},at={class:"flex items-center gap-4"},nt={class:"flex items-center gap-2 cursor-pointer"},it=["checked"],ct={class:"text-white text-sm font-medium"},ut={key:0,class:"flex items-center gap-2"},dt={key:2,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},gt={class:"absolute top-2 left-2 z-10"},ht=["checked","onChange"],vt=["src","alt"],yt={class:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},ft={class:"absolute bottom-0 left-0 right-0 p-4"},mt={class:"text-white font-semibold text-sm mb-2"},pt={class:"flex gap-2"},bt=["onClick"],wt=["onClick"],xt={key:2,class:"space-y-6"},kt={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},_t=["src","alt"],Ct={class:"absolute bottom-0 left-0 right-0 h-1 bg-gray-700"},Mt={class:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},St={class:"absolute bottom-0 left-0 right-0 p-4"},Ft={class:"text-white font-semibold text-sm mb-1"},$t={class:"text-gray-400 text-xs mb-2"},zt={class:"flex gap-2"},Tt=["onClick"],Wt=["onClick","title"],Lt={__name:"Library",setup(r){const g=me(),a=de(),i=pe(),c=fe(),{confirm:m}=ye(),{showUndo:b,undoMessage:S,triggerUndo:w,handleUndo:x,closeUndo:k}=be(),{selectedItems:f,isSelected:_,toggleSelection:j,selectAll:E,deselectAll:W,hasSelection:B}=we(),C=$(a.query.tab||"favorites"),X=()=>y("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[y("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})]),J=()=>y("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[y("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})]),K=()=>y("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[y("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})]),L=M(()=>i.favorites),H=M(()=>i.watchlist),D=M(()=>i.continueWatching),{t:e}=ge(),s=M(()=>[{id:"favorites",label:e("library.favorites"),icon:X,count:i.favoritesCount},{id:"watchlist",label:e("library.watchlist"),icon:J,count:i.watchlistCount},{id:"continue",label:e("library.continue"),icon:K,count:i.continueWatchingCount}]),T=l=>l?l.startsWith("http")?l:`https://phimimg.com/${l}`:"https://placehold.co/400x600/1a1a1a/fff?text=No+Image",A=l=>{g.push(`/film/${l.slug}`)},I=async l=>{if(await m({title:e("library.removeFromFavoritesConfirm"),message:e("library.removeFromFavoritesMessage",{title:l.title}),type:"warning",confirmText:e("common.delete"),cancelText:e("common.cancel")})){const o={...l};await i.removeFromFavorites(l.id)?w(e("library.removedFromFavorites",{title:l.title}),async()=>{await i.addToFavorites(o),c.success(e("library.undoSuccess"))}):c.error(e("library.cannotRemove"))}},ee=async()=>{if(!B)return;if(await m({title:e("library.bulkRemoveConfirm"),message:e("library.bulkRemoveMessage",{count:f.length}),type:"warning",confirmText:e("library.deleteAll"),cancelText:e("common.cancel")})){const u=L.value.filter(F=>_(F.id)),o=f.value;let n=0;for(const F of o)await i.removeFromFavorites(F)&&n++;W(),n>0?w(e("library.bulkRemovedFromFavorites",{count:n}),async()=>{for(const F of u)await i.addToFavorites(F);c.success(e("library.undoSuccess"))}):c.error(e("library.cannotRemove"))}},te=async l=>{if(await m({title:e("library.removeFromWatchlistConfirm"),message:e("library.removeFromWatchlistMessage",{title:l.title}),type:"warning",confirmText:e("common.delete"),cancelText:e("common.cancel")})){const o={...l};await i.removeFromWatchlist(l.id)?w(e("library.removedFromWatchlist",{title:l.title}),async()=>{await i.addToWatchlist(o),c.success(e("library.undoSuccess"))}):c.error(e("library.cannotRemove"))}},oe=async()=>{if(!B)return;if(await m({title:e("library.bulkRemoveConfirm"),message:e("library.bulkRemoveFromWatchlistMessage",{count:f.length}),type:"warning",confirmText:e("library.deleteAll"),cancelText:e("common.cancel")})){const u=H.value.filter(F=>_(F.id)),o=f.value;let n=0;for(const F of o)await i.removeFromWatchlist(F)&&n++;W(),n>0?w(e("library.bulkRemovedFromWatchlist",{count:n}),async()=>{for(const F of u)await i.addToWatchlist(F);c.success(e("library.undoSuccess"))}):c.error(e("library.cannotRemove"))}},se=async l=>{if(await m({title:e("library.removeFromHistoryConfirm"),message:e("library.removeFromHistoryMessage",{title:l.title}),type:"warning",confirmText:e("common.delete"),cancelText:e("common.cancel")})){const o={...l},n=i.getContinueProgress(l.id);await i.removeFromContinue(l.id)?w(e("library.removedFromHistory",{title:l.title}),async()=>{await i.saveContinueWatching(o,n),c.success(e("library.undoSuccess"))}):c.error(e("library.cannotRemove"))}};return P(()=>a.query.tab,l=>{l&&["favorites","watchlist","continue"].includes(l)&&(C.value=l)}),P(C,()=>{W()}),he(async()=>{await i.loadAll(),a.query.tab&&["favorites","watchlist","continue"].includes(a.query.tab)&&(C.value=a.query.tab)}),(l,u)=>(d(),v("div",We,[ve(Te,{show:h(b),message:h(S),onUndo:h(x),onClose:h(k)},null,8,["show","message","onUndo","onClose"]),t("div",Be,[t("div",Le,[t("h1",He,p(l.$t("library.title")),1),t("p",Ae,p(l.$t("library.subtitle")),1)]),t("div",Ve,[(d(!0),v(R,null,U(s.value,o=>(d(),v("button",{key:o.id,onClick:n=>C.value=o.id,class:q(["px-6 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 relative",C.value===o.id?"text-yellow-400":"text-gray-400 hover:text-white"])},[t("div",Ee,[(d(),V(G(o.icon),{class:"w-5 h-5"})),t("span",null,p(o.label),1),o.count>0?(d(),v("span",{key:0,class:q(["px-2 py-0.5 bg-gray-800 rounded-full text-xs",C.value===o.id?"bg-yellow-500 text-black":"bg-gray-800 text-gray-400"])},p(o.count),3)):z("",!0)]),C.value===o.id?(d(),v("div",Ie)):z("",!0)],10,je))),128))]),t("div",Re,[C.value==="favorites"?(d(),v("div",Ue,[L.value.length>0?(d(),v("div",qe,[t("div",De,[t("label",Ne,[t("input",{type:"checkbox",checked:L.value.length>0&&L.value.every(o=>h(_)(o.id)),onChange:u[0]||(u[0]=o=>L.value.every(n=>h(_)(n.id))?h(W)():h(E)(L.value.map(n=>n.id))),class:"w-4 h-4 rounded border-gray-600 text-yellow-400 focus:ring-yellow-400"},null,40,Oe),t("span",Pe,p(h(B)?h(e)("library.selected",{count:h(f).length}):h(e)("library.selectAll")),1)])]),h(B)?(d(),v("div",Xe,[t("button",{onClick:ee,class:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition-colors"},[u[7]||(u[7]=t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),O(" "+p(l.$t("library.deleteSelected")),1)])])):z("",!0)])):z("",!0),L.value.length===0?(d(),V(N,{key:1,icon:"heart",title:l.$t("library.emptyFavorites"),description:l.$t("library.emptyFavoritesDesc"),"action-text":l.$t("library.discoverMovies"),"action-link":"/home"},null,8,["title","description","action-text"])):(d(),v("div",Je,[(d(!0),v(R,null,U(L.value,o=>(d(),v("div",{key:o.id,class:"group relative bg-gray-800 rounded-lg overflow-hidden hover:scale-105 transition-transform duration-300 cursor-pointer"},[t("div",Ke,[t("input",{type:"checkbox",checked:h(_)(o.id),onChange:n=>h(j)(o.id),onClick:u[1]||(u[1]=Z(()=>{},["stop"])),class:"w-5 h-5 rounded border-gray-600 text-yellow-400 focus:ring-yellow-400 cursor-pointer"},null,40,Ze)]),t("img",{src:T(o.poster),alt:o.title,class:"w-full aspect-[2/3] object-cover",onError:u[2]||(u[2]=n=>n.target.src="https://placehold.co/400x600/1a1a1a/fff?text=Error")},null,40,Ge),t("div",Qe,[t("div",Ye,[t("h4",et,p(o.title),1),t("div",tt,[t("button",{onClick:n=>A(o),class:"flex-1 bg-yellow-500 text-black px-3 py-1.5 rounded text-xs font-semibold hover:bg-yellow-600 transition-colors"},p(l.$t("library.watchNow")),9,ot),t("button",{onClick:n=>I(o),class:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",title:l.$t("library.removeFromFavorites")},u[8]||(u[8]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]),8,st)])])])]))),128))]))])):z("",!0),C.value==="watchlist"?(d(),v("div",lt,[H.value.length>0?(d(),v("div",rt,[t("div",at,[t("label",nt,[t("input",{type:"checkbox",checked:H.value.length>0&&H.value.every(o=>h(_)(o.id)),onChange:u[3]||(u[3]=o=>H.value.every(n=>h(_)(n.id))?h(W)():h(E)(H.value.map(n=>n.id))),class:"w-4 h-4 rounded border-gray-600 text-yellow-400 focus:ring-yellow-400"},null,40,it),t("span",ct,p(h(B)?`Đã chọn ${h(f).length}`:"Chọn tất cả"),1)])]),h(B)?(d(),v("div",ut,[t("button",{onClick:oe,class:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition-colors"},u[9]||(u[9]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),O(" Xóa đã chọn ")]))])):z("",!0)])):z("",!0),H.value.length===0?(d(),V(N,{key:1,icon:"list",title:l.$t("library.emptyWatchlist"),description:l.$t("library.emptyWatchlistDesc"),"action-text":l.$t("library.findMovies"),"action-link":"/home"},null,8,["title","description","action-text"])):(d(),v("div",dt,[(d(!0),v(R,null,U(H.value,o=>(d(),v("div",{key:o.id,class:"group relative bg-gray-800 rounded-lg overflow-hidden hover:scale-105 transition-transform duration-300 cursor-pointer"},[t("div",gt,[t("input",{type:"checkbox",checked:h(_)(o.id),onChange:n=>h(j)(o.id),onClick:u[4]||(u[4]=Z(()=>{},["stop"])),class:"w-5 h-5 rounded border-gray-600 text-yellow-400 focus:ring-yellow-400 cursor-pointer"},null,40,ht)]),t("img",{src:T(o.poster),alt:o.title,class:"w-full aspect-[2/3] object-cover",onError:u[5]||(u[5]=n=>n.target.src="https://placehold.co/400x600/1a1a1a/fff?text=Error")},null,40,vt),t("div",yt,[t("div",ft,[t("h4",mt,p(o.title),1),t("div",pt,[t("button",{onClick:n=>A(o),class:"flex-1 bg-yellow-500 text-black px-3 py-1.5 rounded text-xs font-semibold hover:bg-yellow-600 transition-colors"}," Xem ngay ",8,bt),t("button",{onClick:n=>te(o),class:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",title:"Xóa khỏi danh sách"},u[10]||(u[10]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]),8,wt)])])])]))),128))]))])):z("",!0),C.value==="continue"?(d(),v("div",xt,[D.value.length===0?(d(),V(N,{key:0,icon:"clock",title:l.$t("library.emptyHistory"),description:l.$t("library.emptyHistoryDesc"),"action-text":l.$t("library.startWatching"),"action-link":"/home"},null,8,["title","description","action-text"])):(d(),v("div",kt,[(d(!0),v(R,null,U(D.value,o=>(d(),v("div",{key:o.id,class:"group relative bg-gray-800 rounded-lg overflow-hidden hover:scale-105 transition-transform duration-300 cursor-pointer"},[t("img",{src:T(o.poster),alt:o.title,class:"w-full aspect-[2/3] object-cover",onError:u[6]||(u[6]=n=>n.target.src="https://placehold.co/400x600/1a1a1a/fff?text=Error")},null,40,_t),t("div",Ct,[t("div",{class:"h-full bg-yellow-500 transition-all duration-300",style:Y({width:o.progress+"%"})},null,4)]),t("div",Mt,[t("div",St,[t("h4",Ft,p(o.title),1),t("p",$t,p(o.progress)+"% "+p(l.$t("library.watched")),1),t("div",zt,[t("button",{onClick:n=>A(o),class:"flex-1 bg-yellow-500 text-black px-3 py-1.5 rounded text-xs font-semibold hover:bg-yellow-600 transition-colors"},p(l.$t("library.continueWatching")),9,Tt),t("button",{onClick:n=>se(o),class:"p-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",title:l.$t("library.removeFromHistory")},u[11]||(u[11]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,Wt)])])])]))),128))]))])):z("",!0)])])]))}};export{Lt as default};
