const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NetflixHomepage-_Nuvkr2S.js","./NetflixHomepage-DaF0RcGy.css","./MovieDetail-DsyTQElb.js","./MovieCardRecommended-EnqoEWNv.js","./MovieCardRecommended-_uzs5TfP.css","./MovieDetail-CCzYKY1Y.css","./WatchMovie-D5jqSC20.js","./WatchMovie-DMhpZVtX.css","./ListBaseType-CyIhfcWW.js","./movieApi-DIAZUpTg.js","./country-CWUN06FE.js","./country-tn0RQdqM.css","./ListBaseType-BU-68pVX.css","./ListBaseCategory-1DuZ_yFl.js","./ListBaseCategory-BspsSTlx.css","./ListBaseNational-FdlCGGtc.js","./ListBaseNational-COpFSnOy.css","./Contact-HlN7Z5BQ.js","./Contact-CLC8FJQy.css","./Account-BmFg4zUU.js","./Account-CuRz_6m_.css","./SearchResults-B06OV59Y.js","./SearchResults-Dfl-sKSy.css","./Pricing-B7brZ57H.js","./Pricing-D5GcraEp.css","./Cart-7keVBp-d.js","./UndoSnackbar-BFGwi3ek.js","./UndoSnackbar-Dl76tMyS.css","./ConfirmModal-CkTs-yUa.js","./ConfirmModal-Bae_SFrS.css","./Cart-BCzSTYxP.css","./Checkout-B54YB1SE.js","./Checkout-BGEMLIcF.css","./Admin-DEA6pbdO.js","./Admin-BmXBmDzx.css","./Library-Jbyoj2C5.js"])))=>i.map(i=>d[i]);
function Py(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Qe={},Ps=[],Sn=()=>{},Ny=()=>!1,Ra=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),uu=t=>t.startsWith("onUpdate:"),mt=Object.assign,du=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ly=Object.prototype.hasOwnProperty,ze=(t,e)=>Ly.call(t,e),ye=Array.isArray,Ns=t=>ti(t)==="[object Map]",eo=t=>ti(t)==="[object Set]",yd=t=>ti(t)==="[object Date]",Re=t=>typeof t=="function",ot=t=>typeof t=="string",gn=t=>typeof t=="symbol",Ze=t=>t!==null&&typeof t=="object",Cp=t=>(Ze(t)||Re(t))&&Re(t.then)&&Re(t.catch),Ip=Object.prototype.toString,ti=t=>Ip.call(t),$y=t=>ti(t).slice(8,-1),Ap=t=>ti(t)==="[object Object]",hu=t=>ot(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bo=cu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pa=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},My=/-(\w)/g,tn=Pa(t=>t.replace(My,(e,n)=>n?n.toUpperCase():"")),Dy=/\B([A-Z])/g,Sr=Pa(t=>t.replace(Dy,"-$1").toLowerCase()),Na=Pa(t=>t.charAt(0).toUpperCase()+t.slice(1)),gl=Pa(t=>t?`on${Na(t)}`:""),_r=(t,e)=>!Object.is(t,e),Ui=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Op=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},sa=t=>{const e=parseFloat(t);return isNaN(e)?t:e},jy=t=>{const e=ot(t)?Number(t):NaN;return isNaN(e)?t:e};let _d;const La=()=>_d||(_d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xr(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ot(r)?Hy(r):xr(r);if(s)for(const o in s)e[o]=s[o]}return e}else if(ot(t)||Ze(t))return t}const Uy=/;(?![^(]*\))/g,Fy=/:([^]+)/,By=/\/\*[^]*?\*\//g;function Hy(t){const e={};return t.replace(By,"").split(Uy).forEach(n=>{if(n){const r=n.split(Fy);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Oe(t){let e="";if(ot(t))e=t;else if(ye(t))for(let n=0;n<t.length;n++){const r=Oe(t[n]);r&&(e+=r+" ")}else if(Ze(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Vy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wy=cu(Vy);function Rp(t){return!!t||t===""}function qy(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ls(t[r],e[r]);return n}function ls(t,e){if(t===e)return!0;let n=yd(t),r=yd(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=gn(t),r=gn(e),n||r)return t===e;if(n=ye(t),r=ye(e),n||r)return n&&r?qy(t,e):!1;if(n=Ze(t),r=Ze(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!ls(t[i],e[i]))return!1}}return String(t)===String(e)}function fu(t,e){return t.findIndex(n=>ls(n,e))}const Pp=t=>!!(t&&t.__v_isRef===!0),H=t=>ot(t)?t:t==null?"":ye(t)||Ze(t)&&(t.toString===Ip||!Re(t.toString))?Pp(t)?H(t.value):JSON.stringify(t,Np,2):String(t),Np=(t,e)=>Pp(e)?Np(t,e.value):Ns(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],o)=>(n[ml(r,o)+" =>"]=s,n),{})}:eo(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ml(n))}:gn(e)?ml(e):Ze(e)&&!ye(e)&&!Ap(e)?String(e):e,ml=(t,e="")=>{var n;return gn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lt;class Lp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Lt,!e&&Lt&&(this.index=(Lt.scopes||(Lt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Lt;try{return Lt=this,e()}finally{Lt=n}}}on(){Lt=this}off(){Lt=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function pu(t){return new Lp(t)}function $p(){return Lt}function zy(t,e=!1){Lt&&Lt.cleanups.push(t)}let tt;const vl=new WeakSet;class Mp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Lt&&Lt.active&&Lt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vl.has(this)&&(vl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bd(this),Up(this);const e=tt,n=fn;tt=this,fn=!0;try{return this.fn()}finally{Fp(this),tt=e,fn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)vu(e);this.deps=this.depsTail=void 0,bd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ec(this)&&this.run()}get dirty(){return ec(this)}}let Dp=0,wo,Eo;function jp(t,e=!1){if(t.flags|=8,e){t.next=Eo,Eo=t;return}t.next=wo,wo=t}function gu(){Dp++}function mu(){if(--Dp>0)return;if(Eo){let e=Eo;for(Eo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;wo;){let e=wo;for(wo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Up(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Fp(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),vu(r),Ky(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function ec(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Bp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Bp(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===$o))return;t.globalVersion=$o;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ec(t)){t.flags&=-3;return}const n=tt,r=fn;tt=t,fn=!0;try{Up(t);const s=t.fn(t._value);(e.version===0||_r(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{tt=n,fn=r,Fp(t),t.flags&=-3}}function vu(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)vu(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ky(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let fn=!0;const Hp=[];function Cr(){Hp.push(fn),fn=!1}function Ir(){const t=Hp.pop();fn=t===void 0?!0:t}function bd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=tt;tt=void 0;try{e()}finally{tt=n}}}let $o=0;class Gy{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!tt||!fn||tt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==tt)n=this.activeLink=new Gy(tt,this),tt.deps?(n.prevDep=tt.depsTail,tt.depsTail.nextDep=n,tt.depsTail=n):tt.deps=tt.depsTail=n,Vp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=tt.depsTail,n.nextDep=void 0,tt.depsTail.nextDep=n,tt.depsTail=n,tt.deps===n&&(tt.deps=r)}return n}trigger(e){this.version++,$o++,this.notify(e)}notify(e){gu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{mu()}}}function Vp(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Vp(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const oa=new WeakMap,os=Symbol(""),tc=Symbol(""),Mo=Symbol("");function Ct(t,e,n){if(fn&&tt){let r=oa.get(t);r||oa.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new yu),s.map=r,s.key=n),s.track()}}function Un(t,e,n,r,s,o){const i=oa.get(t);if(!i){$o++;return}const a=l=>{l&&l.trigger()};if(gu(),e==="clear")i.forEach(a);else{const l=ye(t),c=l&&hu(n);if(l&&n==="length"){const u=Number(r);i.forEach((h,f)=>{(f==="length"||f===Mo||!gn(f)&&f>=u)&&a(h)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),c&&a(i.get(Mo)),e){case"add":l?c&&a(i.get("length")):(a(i.get(os)),Ns(t)&&a(i.get(tc)));break;case"delete":l||(a(i.get(os)),Ns(t)&&a(i.get(tc)));break;case"set":Ns(t)&&a(i.get(os));break}}mu()}function Jy(t,e){const n=oa.get(t);return n&&n.get(e)}function vs(t){const e=Ie(t);return e===t?e:(Ct(e,"iterate",Mo),Qt(t)?e:e.map(It))}function $a(t){return Ct(t=Ie(t),"iterate",Mo),t}const Yy={__proto__:null,[Symbol.iterator](){return yl(this,Symbol.iterator,It)},concat(...t){return vs(this).concat(...t.map(e=>ye(e)?vs(e):e))},entries(){return yl(this,"entries",t=>(t[1]=It(t[1]),t))},every(t,e){return Pn(this,"every",t,e,void 0,arguments)},filter(t,e){return Pn(this,"filter",t,e,n=>n.map(It),arguments)},find(t,e){return Pn(this,"find",t,e,It,arguments)},findIndex(t,e){return Pn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Pn(this,"findLast",t,e,It,arguments)},findLastIndex(t,e){return Pn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Pn(this,"forEach",t,e,void 0,arguments)},includes(...t){return _l(this,"includes",t)},indexOf(...t){return _l(this,"indexOf",t)},join(t){return vs(this).join(t)},lastIndexOf(...t){return _l(this,"lastIndexOf",t)},map(t,e){return Pn(this,"map",t,e,void 0,arguments)},pop(){return lo(this,"pop")},push(...t){return lo(this,"push",t)},reduce(t,...e){return wd(this,"reduce",t,e)},reduceRight(t,...e){return wd(this,"reduceRight",t,e)},shift(){return lo(this,"shift")},some(t,e){return Pn(this,"some",t,e,void 0,arguments)},splice(...t){return lo(this,"splice",t)},toReversed(){return vs(this).toReversed()},toSorted(t){return vs(this).toSorted(t)},toSpliced(...t){return vs(this).toSpliced(...t)},unshift(...t){return lo(this,"unshift",t)},values(){return yl(this,"values",It)}};function yl(t,e,n){const r=$a(t),s=r[e]();return r!==t&&!Qt(t)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=n(o.value)),o}),s}const Xy=Array.prototype;function Pn(t,e,n,r,s,o){const i=$a(t),a=i!==t&&!Qt(t),l=i[e];if(l!==Xy[e]){const h=l.apply(t,o);return a?It(h):h}let c=n;i!==t&&(a?c=function(h,f){return n.call(this,It(h),f,t)}:n.length>2&&(c=function(h,f){return n.call(this,h,f,t)}));const u=l.call(i,c,r);return a&&s?s(u):u}function wd(t,e,n,r){const s=$a(t);let o=n;return s!==t&&(Qt(t)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,t)}):o=function(i,a,l){return n.call(this,i,It(a),l,t)}),s[e](o,...r)}function _l(t,e,n){const r=Ie(t);Ct(r,"iterate",Mo);const s=r[e](...n);return(s===-1||s===!1)&&wu(n[0])?(n[0]=Ie(n[0]),r[e](...n)):s}function lo(t,e,n=[]){Cr(),gu();const r=Ie(t)[e].apply(t,n);return mu(),Ir(),r}const Qy=cu("__proto__,__v_isRef,__isVue"),Wp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gn));function Zy(t){gn(t)||(t=String(t));const e=Ie(this);return Ct(e,"has",t),e.hasOwnProperty(t)}class qp{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?c1:Jp:o?Gp:Kp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const i=ye(e);if(!s){let l;if(i&&(l=Yy[n]))return l;if(n==="hasOwnProperty")return Zy}const a=Reflect.get(e,n,lt(e)?e:r);return(gn(n)?Wp.has(n):Qy(n))||(s||Ct(e,"get",n),o)?a:lt(a)?i&&hu(n)?a:a.value:Ze(a)?s?Xp(a):rn(a):a}}class zp extends qp{constructor(e=!1){super(!1,e)}set(e,n,r,s){let o=e[n];if(!this._isShallow){const l=cs(o);if(!Qt(r)&&!cs(r)&&(o=Ie(o),r=Ie(r)),!ye(e)&&lt(o)&&!lt(r))return l?!1:(o.value=r,!0)}const i=ye(e)&&hu(n)?Number(n)<e.length:ze(e,n),a=Reflect.set(e,n,r,lt(e)?e:s);return e===Ie(s)&&(i?_r(r,o)&&Un(e,"set",n,r):Un(e,"add",n,r)),a}deleteProperty(e,n){const r=ze(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Un(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!gn(n)||!Wp.has(n))&&Ct(e,"has",n),r}ownKeys(e){return Ct(e,"iterate",ye(e)?"length":os),Reflect.ownKeys(e)}}class e1 extends qp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const t1=new zp,n1=new e1,r1=new zp(!0);const nc=t=>t,bi=t=>Reflect.getPrototypeOf(t);function s1(t,e,n){return function(...r){const s=this.__v_raw,o=Ie(s),i=Ns(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,c=s[t](...r),u=n?nc:e?rc:It;return!e&&Ct(o,"iterate",l?tc:os),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function wi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function o1(t,e){const n={get(s){const o=this.__v_raw,i=Ie(o),a=Ie(s);t||(_r(s,a)&&Ct(i,"get",s),Ct(i,"get",a));const{has:l}=bi(i),c=e?nc:t?rc:It;if(l.call(i,s))return c(o.get(s));if(l.call(i,a))return c(o.get(a));o!==i&&o.get(s)},get size(){const s=this.__v_raw;return!t&&Ct(Ie(s),"iterate",os),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,i=Ie(o),a=Ie(s);return t||(_r(s,a)&&Ct(i,"has",s),Ct(i,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){const i=this,a=i.__v_raw,l=Ie(a),c=e?nc:t?rc:It;return!t&&Ct(l,"iterate",os),a.forEach((u,h)=>s.call(o,c(u),c(h),i))}};return mt(n,t?{add:wi("add"),set:wi("set"),delete:wi("delete"),clear:wi("clear")}:{add(s){!e&&!Qt(s)&&!cs(s)&&(s=Ie(s));const o=Ie(this);return bi(o).has.call(o,s)||(o.add(s),Un(o,"add",s,s)),this},set(s,o){!e&&!Qt(o)&&!cs(o)&&(o=Ie(o));const i=Ie(this),{has:a,get:l}=bi(i);let c=a.call(i,s);c||(s=Ie(s),c=a.call(i,s));const u=l.call(i,s);return i.set(s,o),c?_r(o,u)&&Un(i,"set",s,o):Un(i,"add",s,o),this},delete(s){const o=Ie(this),{has:i,get:a}=bi(o);let l=i.call(o,s);l||(s=Ie(s),l=i.call(o,s)),a&&a.call(o,s);const c=o.delete(s);return l&&Un(o,"delete",s,void 0),c},clear(){const s=Ie(this),o=s.size!==0,i=s.clear();return o&&Un(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=s1(s,t,e)}),n}function _u(t,e){const n=o1(t,e);return(r,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(ze(n,s)&&s in r?n:r,s,o)}const i1={get:_u(!1,!1)},a1={get:_u(!1,!0)},l1={get:_u(!0,!1)};const Kp=new WeakMap,Gp=new WeakMap,Jp=new WeakMap,c1=new WeakMap;function u1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function d1(t){return t.__v_skip||!Object.isExtensible(t)?0:u1($y(t))}function rn(t){return cs(t)?t:bu(t,!1,t1,i1,Kp)}function Yp(t){return bu(t,!1,r1,a1,Gp)}function Xp(t){return bu(t,!0,n1,l1,Jp)}function bu(t,e,n,r,s){if(!Ze(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const i=d1(t);if(i===0)return t;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function br(t){return cs(t)?br(t.__v_raw):!!(t&&t.__v_isReactive)}function cs(t){return!!(t&&t.__v_isReadonly)}function Qt(t){return!!(t&&t.__v_isShallow)}function wu(t){return t?!!t.__v_raw:!1}function Ie(t){const e=t&&t.__v_raw;return e?Ie(e):t}function Eu(t){return!ze(t,"__v_skip")&&Object.isExtensible(t)&&Op(t,"__v_skip",!0),t}const It=t=>Ze(t)?rn(t):t,rc=t=>Ze(t)?Xp(t):t;function lt(t){return t?t.__v_isRef===!0:!1}function Y(t){return Qp(t,!1)}function xu(t){return Qp(t,!0)}function Qp(t,e){return lt(t)?t:new h1(t,e)}class h1{constructor(e,n){this.dep=new yu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ie(e),this._value=n?e:It(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Qt(e)||cs(e);e=r?e:Ie(e),_r(e,n)&&(this._rawValue=e,this._value=r?e:It(e),this.dep.trigger())}}function Fe(t){return lt(t)?t.value:t}const f1={get:(t,e,n)=>e==="__v_raw"?t:Fe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return lt(s)&&!lt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Zp(t){return br(t)?t:new Proxy(t,f1)}function p1(t){const e=ye(t)?new Array(t.length):{};for(const n in t)e[n]=m1(t,n);return e}class g1{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Jy(Ie(this._object),this._key)}}function m1(t,e,n){const r=t[e];return lt(r)?r:new g1(t,e,n)}class v1{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new yu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$o-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&tt!==this)return jp(this,!0),!0}get value(){const e=this.dep.track();return Bp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function y1(t,e,n=!1){let r,s;return Re(t)?r=t:(r=t.get,s=t.set),new v1(r,s,n)}const Ei={},ia=new WeakMap;let Jr;function _1(t,e=!1,n=Jr){if(n){let r=ia.get(n);r||ia.set(n,r=[]),r.push(t)}}function b1(t,e,n=Qe){const{immediate:r,deep:s,once:o,scheduler:i,augmentJob:a,call:l}=n,c=b=>s?b:Qt(b)||s===!1||s===0?Fn(b,1):Fn(b);let u,h,f,p,g=!1,y=!1;if(lt(t)?(h=()=>t.value,g=Qt(t)):br(t)?(h=()=>c(t),g=!0):ye(t)?(y=!0,g=t.some(b=>br(b)||Qt(b)),h=()=>t.map(b=>{if(lt(b))return b.value;if(br(b))return c(b);if(Re(b))return l?l(b,2):b()})):Re(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Cr();try{f()}finally{Ir()}}const b=Jr;Jr=u;try{return l?l(t,3,[p]):t(p)}finally{Jr=b}}:h=Sn,e&&s){const b=h,R=s===!0?1/0:s;h=()=>Fn(b(),R)}const v=$p(),T=()=>{u.stop(),v&&v.active&&du(v.effects,u)};if(o&&e){const b=e;e=(...R)=>{b(...R),T()}}let A=y?new Array(t.length).fill(Ei):Ei;const _=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(e){const R=u.run();if(s||g||(y?R.some((k,x)=>_r(k,A[x])):_r(R,A))){f&&f();const k=Jr;Jr=u;try{const x=[R,A===Ei?void 0:y&&A[0]===Ei?[]:A,p];l?l(e,3,x):e(...x),A=R}finally{Jr=k}}}else u.run()};return a&&a(_),u=new Mp(h),u.scheduler=i?()=>i(_,!1):_,p=b=>_1(b,!1,u),f=u.onStop=()=>{const b=ia.get(u);if(b){if(l)l(b,4);else for(const R of b)R();ia.delete(u)}},e?r?_(!0):A=u.run():i?i(_.bind(null,!0),!0):u.run(),T.pause=u.pause.bind(u),T.resume=u.resume.bind(u),T.stop=T,T}function Fn(t,e=1/0,n){if(e<=0||!Ze(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,lt(t))Fn(t.value,e,n);else if(ye(t))for(let r=0;r<t.length;r++)Fn(t[r],e,n);else if(eo(t)||Ns(t))t.forEach(r=>{Fn(r,e,n)});else if(Ap(t)){for(const r in t)Fn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Fn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ni(t,e,n,r){try{return r?t(...r):t()}catch(s){Ma(s,e,n)}}function mn(t,e,n,r){if(Re(t)){const s=ni(t,e,n,r);return s&&Cp(s)&&s.catch(o=>{Ma(o,e,n)}),s}if(ye(t)){const s=[];for(let o=0;o<t.length;o++)s.push(mn(t[o],e,n,r));return s}}function Ma(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Qe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(o){Cr(),ni(o,null,10,[t,l,c]),Ir();return}}w1(t,n,s,r,i)}function w1(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const $t=[];let xn=-1;const Ls=[];let dr=null,Ts=0;const eg=Promise.resolve();let aa=null;function Ar(t){const e=aa||eg;return t?e.then(this?t.bind(this):t):e}function E1(t){let e=xn+1,n=$t.length;for(;e<n;){const r=e+n>>>1,s=$t[r],o=Do(s);o<t||o===t&&s.flags&2?e=r+1:n=r}return e}function ku(t){if(!(t.flags&1)){const e=Do(t),n=$t[$t.length-1];!n||!(t.flags&2)&&e>=Do(n)?$t.push(t):$t.splice(E1(e),0,t),t.flags|=1,tg()}}function tg(){aa||(aa=eg.then(rg))}function x1(t){ye(t)?Ls.push(...t):dr&&t.id===-1?dr.splice(Ts+1,0,t):t.flags&1||(Ls.push(t),t.flags|=1),tg()}function Ed(t,e,n=xn+1){for(;n<$t.length;n++){const r=$t[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;$t.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ng(t){if(Ls.length){const e=[...new Set(Ls)].sort((n,r)=>Do(n)-Do(r));if(Ls.length=0,dr){dr.push(...e);return}for(dr=e,Ts=0;Ts<dr.length;Ts++){const n=dr[Ts];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}dr=null,Ts=0}}const Do=t=>t.id==null?t.flags&2?-1:1/0:t.id;function rg(t){try{for(xn=0;xn<$t.length;xn++){const e=$t[xn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ni(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;xn<$t.length;xn++){const e=$t[xn];e&&(e.flags&=-2)}xn=-1,$t.length=0,ng(),aa=null,($t.length||Ls.length)&&rg()}}let pt=null,sg=null;function la(t){const e=pt;return pt=t,sg=t&&t.type.__scopeId||null,e}function ge(t,e=pt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Md(-1);const o=la(e);let i;try{i=t(...s)}finally{la(o),r._d&&Md(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function Tu(t,e){if(pt===null)return t;const n=Ba(pt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,i,a,l=Qe]=e[s];o&&(Re(o)&&(o={mounted:o,updated:o}),o.deep&&Fn(i),r.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function Fr(t,e,n,r){const s=t.dirs,o=e&&e.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let l=a.dir[r];l&&(Cr(),mn(l,n,8,[t.el,a,t,e]),Ir())}}const og=Symbol("_vte"),ig=t=>t.__isTeleport,xo=t=>t&&(t.disabled||t.disabled===""),xd=t=>t&&(t.defer||t.defer===""),kd=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Td=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,sc=(t,e)=>{const n=t&&t.to;return ot(n)?e?e(n):null:n},ag={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,o,i,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:y,createComment:v}}=c,T=xo(e.props);let{shapeFlag:A,children:_,dynamicChildren:b}=e;if(t==null){const R=e.el=y(""),k=e.anchor=y("");p(R,n,r),p(k,n,r);const x=(m,$)=>{A&16&&(s&&s.isCE&&(s.ce._teleportTarget=m),u(_,m,$,s,o,i,a,l))},P=()=>{const m=e.target=sc(e.props,g),$=lg(m,e,y,p);m&&(i!=="svg"&&kd(m)?i="svg":i!=="mathml"&&Td(m)&&(i="mathml"),T||(x(m,$),Fi(e,!1)))};T&&(x(n,k),Fi(e,!0)),xd(e.props)?Nt(()=>{P(),e.el.__isMounted=!0},o):P()}else{if(xd(e.props)&&!t.el.__isMounted){Nt(()=>{ag.process(t,e,n,r,s,o,i,a,l,c),delete t.el.__isMounted},o);return}e.el=t.el,e.targetStart=t.targetStart;const R=e.anchor=t.anchor,k=e.target=t.target,x=e.targetAnchor=t.targetAnchor,P=xo(t.props),m=P?n:k,$=P?R:x;if(i==="svg"||kd(k)?i="svg":(i==="mathml"||Td(k))&&(i="mathml"),b?(f(t.dynamicChildren,b,m,s,o,i,a),Iu(t,e,!0)):l||h(t,e,m,$,s,o,i,a,!1),T)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):xi(e,n,R,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const ee=e.target=sc(e.props,g);ee&&xi(e,ee,null,c,0)}else P&&xi(e,k,x,c,1);Fi(e,T)}},remove(t,e,n,{um:r,o:{remove:s}},o){const{shapeFlag:i,children:a,anchor:l,targetStart:c,targetAnchor:u,target:h,props:f}=t;if(h&&(s(c),s(u)),o&&s(l),i&16){const p=o||!xo(f);for(let g=0;g<a.length;g++){const y=a[g];r(y,e,n,p,!!y.dynamicChildren)}}},move:xi,hydrate:k1};function xi(t,e,n,{o:{insert:r},m:s},o=2){o===0&&r(t.targetAnchor,e,n);const{el:i,anchor:a,shapeFlag:l,children:c,props:u}=t,h=o===2;if(h&&r(i,e,n),(!h||xo(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);h&&r(a,e,n)}function k1(t,e,n,r,s,o,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:c,createText:u}},h){const f=e.target=sc(e.props,l);if(f){const p=xo(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(i(t),e,a(t),n,r,s,o),e.targetStart=g,e.targetAnchor=g&&i(g);else{e.anchor=i(t);let y=g;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,f._lpa=e.targetAnchor&&i(e.targetAnchor);break}}y=i(y)}e.targetAnchor||lg(f,e,u,c),h(g&&i(g),e,f,n,r,s,o)}Fi(e,p)}return e.anchor&&i(e.anchor)}const to=ag;function Fi(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function lg(t,e,n,r){const s=e.targetStart=n(""),o=e.targetAnchor=n("");return s[og]=o,t&&(r(s,t),r(o,t)),o}const hr=Symbol("_leaveCb"),ki=Symbol("_enterCb");function cg(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ot(()=>{t.isMounted=!0}),yg(()=>{t.isUnmounting=!0}),t}const Gt=[Function,Array],ug={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gt,onEnter:Gt,onAfterEnter:Gt,onEnterCancelled:Gt,onBeforeLeave:Gt,onLeave:Gt,onAfterLeave:Gt,onLeaveCancelled:Gt,onBeforeAppear:Gt,onAppear:Gt,onAfterAppear:Gt,onAppearCancelled:Gt},dg=t=>{const e=t.subTree;return e.component?dg(e.component):e},T1={name:"BaseTransition",props:ug,setup(t,{slots:e}){const n=hs(),r=cg();return()=>{const s=e.default&&Su(e.default(),!0);if(!s||!s.length)return;const o=hg(s),i=Ie(t),{mode:a}=i;if(r.isLeaving)return bl(o);const l=Sd(o);if(!l)return bl(o);let c=jo(l,i,r,n,h=>c=h);l.type!==Mt&&us(l,c);let u=n.subTree&&Sd(n.subTree);if(u&&u.type!==Mt&&!Qr(l,u)&&dg(n).type!==Mt){let h=jo(u,i,r,n);if(us(u,h),a==="out-in"&&l.type!==Mt)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,u=void 0},bl(o);a==="in-out"&&l.type!==Mt?h.delayLeave=(f,p,g)=>{const y=fg(r,u);y[String(u.key)]=u,f[hr]=()=>{p(),f[hr]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function hg(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Mt){e=n;break}}return e}const S1=T1;function fg(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function jo(t,e,n,r,s){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:v,onAppear:T,onAfterAppear:A,onAppearCancelled:_}=e,b=String(t.key),R=fg(n,t),k=(m,$)=>{m&&mn(m,r,9,$)},x=(m,$)=>{const ee=$[1];k(m,$),ye(m)?m.every(F=>F.length<=1)&&ee():m.length<=1&&ee()},P={mode:i,persisted:a,beforeEnter(m){let $=l;if(!n.isMounted)if(o)$=v||l;else return;m[hr]&&m[hr](!0);const ee=R[b];ee&&Qr(t,ee)&&ee.el[hr]&&ee.el[hr](),k($,[m])},enter(m){let $=c,ee=u,F=h;if(!n.isMounted)if(o)$=T||c,ee=A||u,F=_||h;else return;let ae=!1;const _e=m[ki]=Ce=>{ae||(ae=!0,Ce?k(F,[m]):k(ee,[m]),P.delayedLeave&&P.delayedLeave(),m[ki]=void 0)};$?x($,[m,_e]):_e()},leave(m,$){const ee=String(t.key);if(m[ki]&&m[ki](!0),n.isUnmounting)return $();k(f,[m]);let F=!1;const ae=m[hr]=_e=>{F||(F=!0,$(),_e?k(y,[m]):k(g,[m]),m[hr]=void 0,R[ee]===t&&delete R[ee])};R[ee]=t,p?x(p,[m,ae]):ae()},clone(m){const $=jo(m,e,n,r,s);return s&&s($),$}};return P}function bl(t){if(Da(t))return t=Gn(t),t.children=null,t}function Sd(t){if(!Da(t))return ig(t.type)&&t.children?hg(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Re(n.default))return n.default()}}function us(t,e){t.shapeFlag&6&&t.component?(t.transition=e,us(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Su(t,e=!1,n){let r=[],s=0;for(let o=0;o<t.length;o++){let i=t[o];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===we?(i.patchFlag&128&&s++,r=r.concat(Su(i.children,e,a))):(e||i.type!==Mt)&&r.push(a!=null?Gn(i,{key:a}):i)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Qn(t,e){return Re(t)?mt({name:t.name},e,{setup:t}):t}function pg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ca(t,e,n,r,s=!1){if(ye(t)){t.forEach((g,y)=>ca(g,e&&(ye(e)?e[y]:e),n,r,s));return}if($s(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ca(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?Ba(r.component):r.el,i=s?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Qe?a.refs={}:a.refs,h=a.setupState,f=Ie(h),p=h===Qe?()=>!1:g=>ze(f,g);if(c!=null&&c!==l&&(ot(c)?(u[c]=null,p(c)&&(h[c]=null)):lt(c)&&(c.value=null)),Re(l))ni(l,a,12,[i,u]);else{const g=ot(l),y=lt(l);if(g||y){const v=()=>{if(t.f){const T=g?p(l)?h[l]:u[l]:l.value;s?ye(T)&&du(T,o):ye(T)?T.includes(o)||T.push(o):g?(u[l]=[o],p(l)&&(h[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else g?(u[l]=i,p(l)&&(h[l]=i)):y&&(l.value=i,t.k&&(u[t.k]=i))};i?(v.id=-1,Nt(v,n)):v()}}}La().requestIdleCallback;La().cancelIdleCallback;const $s=t=>!!t.type.__asyncLoader,Da=t=>t.type.__isKeepAlive;function C1(t,e){gg(t,"a",e)}function I1(t,e){gg(t,"da",e)}function gg(t,e,n=vt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(ja(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Da(s.parent.vnode)&&A1(r,e,n,s),s=s.parent}}function A1(t,e,n,r){const s=ja(e,t,r,!0);sn(()=>{du(r[e],s)},n)}function ja(t,e,n=vt,r=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Cr();const a=si(n),l=mn(e,n,t,i);return a(),Ir(),l});return r?s.unshift(o):s.push(o),o}}const Zn=t=>(e,n=vt)=>{(!Fo||t==="sp")&&ja(t,(...r)=>e(...r),n)},mg=Zn("bm"),Ot=Zn("m"),O1=Zn("bu"),vg=Zn("u"),yg=Zn("bum"),sn=Zn("um"),R1=Zn("sp"),P1=Zn("rtg"),N1=Zn("rtc");function _g(t,e=vt){ja("ec",t,e)}const bg="components";function Ua(t,e){return xg(bg,t,!0,e)||t}const wg=Symbol.for("v-ndc");function Eg(t){return ot(t)?xg(bg,t,!1)||t:t||wg}function xg(t,e,n=!0,r=!1){const s=pt||vt;if(s){const o=s.type;{const a=__(o,!1);if(a&&(a===e||a===tn(e)||a===Na(tn(e))))return o}const i=Cd(s[t]||o[t],e)||Cd(s.appContext[t],e);return!i&&r?o:i}}function Cd(t,e){return t&&(t[e]||t[tn(e)]||t[Na(tn(e))])}function Ve(t,e,n,r){let s;const o=n,i=ye(t);if(i||ot(t)){const a=i&&br(t);let l=!1;a&&(l=!Qt(t),t=$a(t)),s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(l?It(t[c]):t[c],c,void 0,o)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,o)}else if(Ze(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,o)}}else s=[];return s}function kg(t,e,n={},r,s){if(pt.ce||pt.parent&&$s(pt.parent)&&pt.parent.ce)return e!=="default"&&(n.name=e),I(),Le(we,null,[X("slot",n,r)],64);let o=t[e];o&&o._c&&(o._d=!1),I();const i=o&&Tg(o(n)),a=n.key||i&&i.key,l=Le(we,{key:(a&&!gn(a)?a:`_${e}`)+""},i||[],i&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Tg(t){return t.some(e=>ds(e)?!(e.type===Mt||e.type===we&&!Tg(e.children)):!0)?t:null}const oc=t=>t?Wg(t)?Ba(t):oc(t.parent):null,ko=mt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>oc(t.parent),$root:t=>oc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Cg(t),$forceUpdate:t=>t.f||(t.f=()=>{ku(t.update)}),$nextTick:t=>t.n||(t.n=Ar.bind(t.proxy)),$watch:t=>t_.bind(t)}),wl=(t,e)=>t!==Qe&&!t.__isScriptSetup&&ze(t,e),L1={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(wl(r,e))return i[e]=1,r[e];if(s!==Qe&&ze(s,e))return i[e]=2,s[e];if((c=t.propsOptions[0])&&ze(c,e))return i[e]=3,o[e];if(n!==Qe&&ze(n,e))return i[e]=4,n[e];ic&&(i[e]=0)}}const u=ko[e];let h,f;if(u)return e==="$attrs"&&Ct(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Qe&&ze(n,e))return i[e]=4,n[e];if(f=l.config.globalProperties,ze(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:o}=t;return wl(s,e)?(s[e]=n,!0):r!==Qe&&ze(r,e)?(r[e]=n,!0):ze(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let a;return!!n[i]||t!==Qe&&ze(t,i)||wl(e,i)||(a=o[0])&&ze(a,i)||ze(r,i)||ze(ko,i)||ze(s.config.globalProperties,i)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ze(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Id(t){return ye(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ic=!0;function $1(t){const e=Cg(t),n=t.proxy,r=t.ctx;ic=!1,e.beforeCreate&&Ad(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:y,deactivated:v,beforeDestroy:T,beforeUnmount:A,destroyed:_,unmounted:b,render:R,renderTracked:k,renderTriggered:x,errorCaptured:P,serverPrefetch:m,expose:$,inheritAttrs:ee,components:F,directives:ae,filters:_e}=e;if(c&&M1(c,r,null),i)for(const U in i){const de=i[U];Re(de)&&(r[U]=de.bind(n))}if(s){const U=s.call(n,n);Ze(U)&&(t.data=rn(U))}if(ic=!0,o)for(const U in o){const de=o[U],ce=Re(de)?de.bind(n,n):Re(de.get)?de.get.bind(n,n):Sn,be=!Re(de)&&Re(de.set)?de.set.bind(n):Sn,pe=ve({get:ce,set:be});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>pe.value,set:Pe=>pe.value=Pe})}if(a)for(const U in a)Sg(a[U],r,n,U);if(l){const U=Re(l)?l.call(n):l;Reflect.ownKeys(U).forEach(de=>{Bi(de,U[de])})}u&&Ad(u,t,"c");function te(U,de){ye(de)?de.forEach(ce=>U(ce.bind(n))):de&&U(de.bind(n))}if(te(mg,h),te(Ot,f),te(O1,p),te(vg,g),te(C1,y),te(I1,v),te(_g,P),te(N1,k),te(P1,x),te(yg,A),te(sn,b),te(R1,m),ye($))if($.length){const U=t.exposed||(t.exposed={});$.forEach(de=>{Object.defineProperty(U,de,{get:()=>n[de],set:ce=>n[de]=ce})})}else t.exposed||(t.exposed={});R&&t.render===Sn&&(t.render=R),ee!=null&&(t.inheritAttrs=ee),F&&(t.components=F),ae&&(t.directives=ae),m&&pg(t)}function M1(t,e,n=Sn){ye(t)&&(t=ac(t));for(const r in t){const s=t[r];let o;Ze(s)?"default"in s?o=Kt(s.from||r,s.default,!0):o=Kt(s.from||r):o=Kt(s),lt(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[r]=o}}function Ad(t,e,n){mn(ye(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Sg(t,e,n,r){let s=r.includes(".")?Ug(n,r):()=>n[r];if(ot(t)){const o=e[t];Re(o)&&Zt(s,o)}else if(Re(t))Zt(s,t.bind(n));else if(Ze(t))if(ye(t))t.forEach(o=>Sg(o,e,n,r));else{const o=Re(t.handler)?t.handler.bind(n):e[t.handler];Re(o)&&Zt(s,o,t)}}function Cg(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>ua(l,c,i,!0)),ua(l,e,i)),Ze(e)&&o.set(e,l),l}function ua(t,e,n,r=!1){const{mixins:s,extends:o}=e;o&&ua(t,o,n,!0),s&&s.forEach(i=>ua(t,i,n,!0));for(const i in e)if(!(r&&i==="expose")){const a=D1[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const D1={data:Od,props:Rd,emits:Rd,methods:mo,computed:mo,beforeCreate:Rt,created:Rt,beforeMount:Rt,mounted:Rt,beforeUpdate:Rt,updated:Rt,beforeDestroy:Rt,beforeUnmount:Rt,destroyed:Rt,unmounted:Rt,activated:Rt,deactivated:Rt,errorCaptured:Rt,serverPrefetch:Rt,components:mo,directives:mo,watch:U1,provide:Od,inject:j1};function Od(t,e){return e?t?function(){return mt(Re(t)?t.call(this,this):t,Re(e)?e.call(this,this):e)}:e:t}function j1(t,e){return mo(ac(t),ac(e))}function ac(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rt(t,e){return t?[...new Set([].concat(t,e))]:e}function mo(t,e){return t?mt(Object.create(null),t,e):e}function Rd(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:mt(Object.create(null),Id(t),Id(e??{})):e}function U1(t,e){if(!t)return e;if(!e)return t;const n=mt(Object.create(null),t);for(const r in e)n[r]=Rt(t[r],e[r]);return n}function Ig(){return{app:null,config:{isNativeTag:Ny,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let F1=0;function B1(t,e){return function(r,s=null){Re(r)||(r=mt({},r)),s!=null&&!Ze(s)&&(s=null);const o=Ig(),i=new WeakSet,a=[];let l=!1;const c=o.app={_uid:F1++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:w_,get config(){return o.config},set config(u){},use(u,...h){return i.has(u)||(u&&Re(u.install)?(i.add(u),u.install(c,...h)):Re(u)&&(i.add(u),u(c,...h))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,h){return h?(o.components[u]=h,c):o.components[u]},directive(u,h){return h?(o.directives[u]=h,c):o.directives[u]},mount(u,h,f){if(!l){const p=c._ceVNode||X(r,s);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),t(p,u,f),l=!0,c._container=u,u.__vue_app__=c,Ba(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(mn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return o.provides[u]=h,c},runWithContext(u){const h=is;is=c;try{return u()}finally{is=h}}};return c}}let is=null;function Bi(t,e){if(vt){let n=vt.provides;const r=vt.parent&&vt.parent.provides;r===n&&(n=vt.provides=Object.create(r)),n[t]=e}}function Kt(t,e,n=!1){const r=vt||pt;if(r||is){const s=is?is._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Re(e)?e.call(r&&r.proxy):e}}function H1(){return!!(vt||pt||is)}const Ag={},Og=()=>Object.create(Ag),Rg=t=>Object.getPrototypeOf(t)===Ag;function V1(t,e,n,r=!1){const s={},o=Og();t.propsDefaults=Object.create(null),Pg(t,e,s,o);for(const i in t.propsOptions[0])i in s||(s[i]=void 0);n?t.props=r?s:Yp(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function W1(t,e,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=t,a=Ie(s),[l]=t.propsOptions;let c=!1;if((r||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Fa(t.emitsOptions,f))continue;const p=e[f];if(l)if(ze(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const g=tn(f);s[g]=lc(l,a,g,p,t,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{Pg(t,e,s,o)&&(c=!0);let u;for(const h in a)(!e||!ze(e,h)&&((u=Sr(h))===h||!ze(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=lc(l,a,h,void 0,t,!0)):delete s[h]);if(o!==a)for(const h in o)(!e||!ze(e,h))&&(delete o[h],c=!0)}c&&Un(t.attrs,"set","")}function Pg(t,e,n,r){const[s,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(bo(l))continue;const c=e[l];let u;s&&ze(s,u=tn(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Fa(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,i=!0)}if(o){const l=Ie(n),c=a||Qe;for(let u=0;u<o.length;u++){const h=o[u];n[h]=lc(s,l,h,c[h],t,!ze(c,h))}}return i}function lc(t,e,n,r,s,o){const i=t[n];if(i!=null){const a=ze(i,"default");if(a&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Re(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=si(s);r=c[n]=l.call(null,e),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===Sr(n))&&(r=!0))}return r}const q1=new WeakMap;function Ng(t,e,n=!1){const r=n?q1:e.propsCache,s=r.get(t);if(s)return s;const o=t.props,i={},a=[];let l=!1;if(!Re(t)){const u=h=>{l=!0;const[f,p]=Ng(h,e,!0);mt(i,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Ze(t)&&r.set(t,Ps),Ps;if(ye(o))for(let u=0;u<o.length;u++){const h=tn(o[u]);Pd(h)&&(i[h]=Qe)}else if(o)for(const u in o){const h=tn(u);if(Pd(h)){const f=o[u],p=i[h]=ye(f)||Re(f)?{type:f}:mt({},f),g=p.type;let y=!1,v=!0;if(ye(g))for(let T=0;T<g.length;++T){const A=g[T],_=Re(A)&&A.name;if(_==="Boolean"){y=!0;break}else _==="String"&&(v=!1)}else y=Re(g)&&g.name==="Boolean";p[0]=y,p[1]=v,(y||ze(p,"default"))&&a.push(h)}}const c=[i,a];return Ze(t)&&r.set(t,c),c}function Pd(t){return t[0]!=="$"&&!bo(t)}const Lg=t=>t[0]==="_"||t==="$stable",Cu=t=>ye(t)?t.map(kn):[kn(t)],z1=(t,e,n)=>{if(e._n)return e;const r=ge((...s)=>Cu(e(...s)),n);return r._c=!1,r},$g=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Lg(s))continue;const o=t[s];if(Re(o))e[s]=z1(s,o,r);else if(o!=null){const i=Cu(o);e[s]=()=>i}}},Mg=(t,e)=>{const n=Cu(e);t.slots.default=()=>n},Dg=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},K1=(t,e,n)=>{const r=t.slots=Og();if(t.vnode.shapeFlag&32){const s=e._;s?(Dg(r,e,n),n&&Op(r,"_",s,!0)):$g(e,r)}else e&&Mg(t,e)},G1=(t,e,n)=>{const{vnode:r,slots:s}=t;let o=!0,i=Qe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:Dg(s,e,n):(o=!e.$stable,$g(e,s)),i=e}else e&&(Mg(t,e),i={default:1});if(o)for(const a in s)!Lg(a)&&i[a]==null&&delete s[a]},Nt=l_;function J1(t){return Y1(t)}function Y1(t,e){const n=La();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=Sn,insertStaticContent:g}=t,y=(S,O,C,j=null,G=null,K=null,se=void 0,re=null,w=!!O.dynamicChildren)=>{if(S===O)return;S&&!Qr(S,O)&&(j=q(S),Pe(S,G,K,!0),S=null),O.patchFlag===-2&&(w=!1,O.dynamicChildren=null);const{type:E,ref:M,shapeFlag:B}=O;switch(E){case ri:v(S,O,C,j);break;case Mt:T(S,O,C,j);break;case Vi:S==null&&A(O,C,j,se);break;case we:F(S,O,C,j,G,K,se,re,w);break;default:B&1?R(S,O,C,j,G,K,se,re,w):B&6?ae(S,O,C,j,G,K,se,re,w):(B&64||B&128)&&E.process(S,O,C,j,G,K,se,re,w,L)}M!=null&&G&&ca(M,S&&S.ref,K,O||S,!O)},v=(S,O,C,j)=>{if(S==null)r(O.el=a(O.children),C,j);else{const G=O.el=S.el;O.children!==S.children&&c(G,O.children)}},T=(S,O,C,j)=>{S==null?r(O.el=l(O.children||""),C,j):O.el=S.el},A=(S,O,C,j)=>{[S.el,S.anchor]=g(S.children,O,C,j,S.el,S.anchor)},_=({el:S,anchor:O},C,j)=>{let G;for(;S&&S!==O;)G=f(S),r(S,C,j),S=G;r(O,C,j)},b=({el:S,anchor:O})=>{let C;for(;S&&S!==O;)C=f(S),s(S),S=C;s(O)},R=(S,O,C,j,G,K,se,re,w)=>{O.type==="svg"?se="svg":O.type==="math"&&(se="mathml"),S==null?k(O,C,j,G,K,se,re,w):m(S,O,G,K,se,re,w)},k=(S,O,C,j,G,K,se,re)=>{let w,E;const{props:M,shapeFlag:B,transition:oe,dirs:ne}=S;if(w=S.el=i(S.type,K,M&&M.is,M),B&8?u(w,S.children):B&16&&P(S.children,w,null,j,G,El(S,K),se,re),ne&&Fr(S,null,j,"created"),x(w,S,S.scopeId,se,j),M){for(const z in M)z!=="value"&&!bo(z)&&o(w,z,null,M[z],K,j);"value"in M&&o(w,"value",null,M.value,K),(E=M.onVnodeBeforeMount)&&_n(E,j,S)}ne&&Fr(S,null,j,"beforeMount");const D=X1(G,oe);D&&oe.beforeEnter(w),r(w,O,C),((E=M&&M.onVnodeMounted)||D||ne)&&Nt(()=>{E&&_n(E,j,S),D&&oe.enter(w),ne&&Fr(S,null,j,"mounted")},G)},x=(S,O,C,j,G)=>{if(C&&p(S,C),j)for(let K=0;K<j.length;K++)p(S,j[K]);if(G){let K=G.subTree;if(O===K||Bg(K.type)&&(K.ssContent===O||K.ssFallback===O)){const se=G.vnode;x(S,se,se.scopeId,se.slotScopeIds,G.parent)}}},P=(S,O,C,j,G,K,se,re,w=0)=>{for(let E=w;E<S.length;E++){const M=S[E]=re?fr(S[E]):kn(S[E]);y(null,M,O,C,j,G,K,se,re)}},m=(S,O,C,j,G,K,se)=>{const re=O.el=S.el;let{patchFlag:w,dynamicChildren:E,dirs:M}=O;w|=S.patchFlag&16;const B=S.props||Qe,oe=O.props||Qe;let ne;if(C&&Br(C,!1),(ne=oe.onVnodeBeforeUpdate)&&_n(ne,C,O,S),M&&Fr(O,S,C,"beforeUpdate"),C&&Br(C,!0),(B.innerHTML&&oe.innerHTML==null||B.textContent&&oe.textContent==null)&&u(re,""),E?$(S.dynamicChildren,E,re,C,j,El(O,G),K):se||de(S,O,re,null,C,j,El(O,G),K,!1),w>0){if(w&16)ee(re,B,oe,C,G);else if(w&2&&B.class!==oe.class&&o(re,"class",null,oe.class,G),w&4&&o(re,"style",B.style,oe.style,G),w&8){const D=O.dynamicProps;for(let z=0;z<D.length;z++){const ue=D[z],Me=B[ue],Ge=oe[ue];(Ge!==Me||ue==="value")&&o(re,ue,Me,Ge,G,C)}}w&1&&S.children!==O.children&&u(re,O.children)}else!se&&E==null&&ee(re,B,oe,C,G);((ne=oe.onVnodeUpdated)||M)&&Nt(()=>{ne&&_n(ne,C,O,S),M&&Fr(O,S,C,"updated")},j)},$=(S,O,C,j,G,K,se)=>{for(let re=0;re<O.length;re++){const w=S[re],E=O[re],M=w.el&&(w.type===we||!Qr(w,E)||w.shapeFlag&70)?h(w.el):C;y(w,E,M,null,j,G,K,se,!0)}},ee=(S,O,C,j,G)=>{if(O!==C){if(O!==Qe)for(const K in O)!bo(K)&&!(K in C)&&o(S,K,O[K],null,G,j);for(const K in C){if(bo(K))continue;const se=C[K],re=O[K];se!==re&&K!=="value"&&o(S,K,re,se,G,j)}"value"in C&&o(S,"value",O.value,C.value,G)}},F=(S,O,C,j,G,K,se,re,w)=>{const E=O.el=S?S.el:a(""),M=O.anchor=S?S.anchor:a("");let{patchFlag:B,dynamicChildren:oe,slotScopeIds:ne}=O;ne&&(re=re?re.concat(ne):ne),S==null?(r(E,C,j),r(M,C,j),P(O.children||[],C,M,G,K,se,re,w)):B>0&&B&64&&oe&&S.dynamicChildren?($(S.dynamicChildren,oe,C,G,K,se,re),(O.key!=null||G&&O===G.subTree)&&Iu(S,O,!0)):de(S,O,C,M,G,K,se,re,w)},ae=(S,O,C,j,G,K,se,re,w)=>{O.slotScopeIds=re,S==null?O.shapeFlag&512?G.ctx.activate(O,C,j,se,w):_e(O,C,j,G,K,se,w):Ce(S,O,w)},_e=(S,O,C,j,G,K,se)=>{const re=S.component=p_(S,j,G);if(Da(S)&&(re.ctx.renderer=L),g_(re,!1,se),re.asyncDep){if(G&&G.registerDep(re,te,se),!S.el){const w=re.subTree=X(Mt);T(null,w,O,C)}}else te(re,S,O,C,G,K,se)},Ce=(S,O,C)=>{const j=O.component=S.component;if(i_(S,O,C))if(j.asyncDep&&!j.asyncResolved){U(j,O,C);return}else j.next=O,j.update();else O.el=S.el,j.vnode=O},te=(S,O,C,j,G,K,se)=>{const re=()=>{if(S.isMounted){let{next:B,bu:oe,u:ne,parent:D,vnode:z}=S;{const at=jg(S);if(at){B&&(B.el=z.el,U(S,B,se)),at.asyncDep.then(()=>{S.isUnmounted||re()});return}}let ue=B,Me;Br(S,!1),B?(B.el=z.el,U(S,B,se)):B=z,oe&&Ui(oe),(Me=B.props&&B.props.onVnodeBeforeUpdate)&&_n(Me,D,B,z),Br(S,!0);const Ge=Ld(S),it=S.subTree;S.subTree=Ge,y(it,Ge,h(it.el),q(it),S,G,K),B.el=Ge.el,ue===null&&a_(S,Ge.el),ne&&Nt(ne,G),(Me=B.props&&B.props.onVnodeUpdated)&&Nt(()=>_n(Me,D,B,z),G)}else{let B;const{el:oe,props:ne}=O,{bm:D,m:z,parent:ue,root:Me,type:Ge}=S,it=$s(O);Br(S,!1),D&&Ui(D),!it&&(B=ne&&ne.onVnodeBeforeMount)&&_n(B,ue,O),Br(S,!0);{Me.ce&&Me.ce._injectChildStyle(Ge);const at=S.subTree=Ld(S);y(null,at,C,j,S,G,K),O.el=at.el}if(z&&Nt(z,G),!it&&(B=ne&&ne.onVnodeMounted)){const at=O;Nt(()=>_n(B,ue,at),G)}(O.shapeFlag&256||ue&&$s(ue.vnode)&&ue.vnode.shapeFlag&256)&&S.a&&Nt(S.a,G),S.isMounted=!0,O=C=j=null}};S.scope.on();const w=S.effect=new Mp(re);S.scope.off();const E=S.update=w.run.bind(w),M=S.job=w.runIfDirty.bind(w);M.i=S,M.id=S.uid,w.scheduler=()=>ku(M),Br(S,!0),E()},U=(S,O,C)=>{O.component=S;const j=S.vnode.props;S.vnode=O,S.next=null,W1(S,O.props,j,C),G1(S,O.children,C),Cr(),Ed(S),Ir()},de=(S,O,C,j,G,K,se,re,w=!1)=>{const E=S&&S.children,M=S?S.shapeFlag:0,B=O.children,{patchFlag:oe,shapeFlag:ne}=O;if(oe>0){if(oe&128){be(E,B,C,j,G,K,se,re,w);return}else if(oe&256){ce(E,B,C,j,G,K,se,re,w);return}}ne&8?(M&16&&je(E,G,K),B!==E&&u(C,B)):M&16?ne&16?be(E,B,C,j,G,K,se,re,w):je(E,G,K,!0):(M&8&&u(C,""),ne&16&&P(B,C,j,G,K,se,re,w))},ce=(S,O,C,j,G,K,se,re,w)=>{S=S||Ps,O=O||Ps;const E=S.length,M=O.length,B=Math.min(E,M);let oe;for(oe=0;oe<B;oe++){const ne=O[oe]=w?fr(O[oe]):kn(O[oe]);y(S[oe],ne,C,null,G,K,se,re,w)}E>M?je(S,G,K,!0,!1,B):P(O,C,j,G,K,se,re,w,B)},be=(S,O,C,j,G,K,se,re,w)=>{let E=0;const M=O.length;let B=S.length-1,oe=M-1;for(;E<=B&&E<=oe;){const ne=S[E],D=O[E]=w?fr(O[E]):kn(O[E]);if(Qr(ne,D))y(ne,D,C,null,G,K,se,re,w);else break;E++}for(;E<=B&&E<=oe;){const ne=S[B],D=O[oe]=w?fr(O[oe]):kn(O[oe]);if(Qr(ne,D))y(ne,D,C,null,G,K,se,re,w);else break;B--,oe--}if(E>B){if(E<=oe){const ne=oe+1,D=ne<M?O[ne].el:j;for(;E<=oe;)y(null,O[E]=w?fr(O[E]):kn(O[E]),C,D,G,K,se,re,w),E++}}else if(E>oe)for(;E<=B;)Pe(S[E],G,K,!0),E++;else{const ne=E,D=E,z=new Map;for(E=D;E<=oe;E++){const He=O[E]=w?fr(O[E]):kn(O[E]);He.key!=null&&z.set(He.key,E)}let ue,Me=0;const Ge=oe-D+1;let it=!1,at=0;const Ne=new Array(Ge);for(E=0;E<Ge;E++)Ne[E]=0;for(E=ne;E<=B;E++){const He=S[E];if(Me>=Ge){Pe(He,G,K,!0);continue}let ct;if(He.key!=null)ct=z.get(He.key);else for(ue=D;ue<=oe;ue++)if(Ne[ue-D]===0&&Qr(He,O[ue])){ct=ue;break}ct===void 0?Pe(He,G,K,!0):(Ne[ct-D]=E+1,ct>=at?at=ct:it=!0,y(He,O[ct],C,null,G,K,se,re,w),Me++)}const Je=it?Q1(Ne):Ps;for(ue=Je.length-1,E=Ge-1;E>=0;E--){const He=D+E,ct=O[He],nr=He+1<M?O[He+1].el:j;Ne[E]===0?y(null,ct,C,nr,G,K,se,re,w):it&&(ue<0||E!==Je[ue]?pe(ct,C,nr,2):ue--)}}},pe=(S,O,C,j,G=null)=>{const{el:K,type:se,transition:re,children:w,shapeFlag:E}=S;if(E&6){pe(S.component.subTree,O,C,j);return}if(E&128){S.suspense.move(O,C,j);return}if(E&64){se.move(S,O,C,L);return}if(se===we){r(K,O,C);for(let B=0;B<w.length;B++)pe(w[B],O,C,j);r(S.anchor,O,C);return}if(se===Vi){_(S,O,C);return}if(j!==2&&E&1&&re)if(j===0)re.beforeEnter(K),r(K,O,C),Nt(()=>re.enter(K),G);else{const{leave:B,delayLeave:oe,afterLeave:ne}=re,D=()=>r(K,O,C),z=()=>{B(K,()=>{D(),ne&&ne()})};oe?oe(K,D,z):z()}else r(K,O,C)},Pe=(S,O,C,j=!1,G=!1)=>{const{type:K,props:se,ref:re,children:w,dynamicChildren:E,shapeFlag:M,patchFlag:B,dirs:oe,cacheIndex:ne}=S;if(B===-2&&(G=!1),re!=null&&ca(re,null,C,S,!0),ne!=null&&(O.renderCache[ne]=void 0),M&256){O.ctx.deactivate(S);return}const D=M&1&&oe,z=!$s(S);let ue;if(z&&(ue=se&&se.onVnodeBeforeUnmount)&&_n(ue,O,S),M&6)We(S.component,C,j);else{if(M&128){S.suspense.unmount(C,j);return}D&&Fr(S,null,O,"beforeUnmount"),M&64?S.type.remove(S,O,C,L,j):E&&!E.hasOnce&&(K!==we||B>0&&B&64)?je(E,O,C,!1,!0):(K===we&&B&384||!G&&M&16)&&je(w,O,C),j&&J(S)}(z&&(ue=se&&se.onVnodeUnmounted)||D)&&Nt(()=>{ue&&_n(ue,O,S),D&&Fr(S,null,O,"unmounted")},C)},J=S=>{const{type:O,el:C,anchor:j,transition:G}=S;if(O===we){Ee(C,j);return}if(O===Vi){b(S);return}const K=()=>{s(C),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(S.shapeFlag&1&&G&&!G.persisted){const{leave:se,delayLeave:re}=G,w=()=>se(C,K);re?re(S.el,K,w):w()}else K()},Ee=(S,O)=>{let C;for(;S!==O;)C=f(S),s(S),S=C;s(O)},We=(S,O,C)=>{const{bum:j,scope:G,job:K,subTree:se,um:re,m:w,a:E}=S;Nd(w),Nd(E),j&&Ui(j),G.stop(),K&&(K.flags|=8,Pe(se,S,O,C)),re&&Nt(re,O),Nt(()=>{S.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},je=(S,O,C,j=!1,G=!1,K=0)=>{for(let se=K;se<S.length;se++)Pe(S[se],O,C,j,G)},q=S=>{if(S.shapeFlag&6)return q(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const O=f(S.anchor||S.el),C=O&&O[og];return C?f(C):O};let ie=!1;const V=(S,O,C)=>{S==null?O._vnode&&Pe(O._vnode,null,null,!0):y(O._vnode||null,S,O,null,null,null,C),O._vnode=S,ie||(ie=!0,Ed(),ng(),ie=!1)},L={p:y,um:Pe,m:pe,r:J,mt:_e,mc:P,pc:de,pbc:$,n:q,o:t};return{render:V,hydrate:void 0,createApp:B1(V)}}function El({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Br({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function X1(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Iu(t,e,n=!1){const r=t.children,s=e.children;if(ye(r)&&ye(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=fr(s[o]),a.el=i.el),!n&&a.patchFlag!==-2&&Iu(i,a)),a.type===ri&&(a.el=i.el)}}function Q1(t){const e=t.slice(),n=[0];let r,s,o,i,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<c?o=a+1:i=a;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}function jg(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:jg(e)}function Nd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Z1=Symbol.for("v-scx"),e_=()=>Kt(Z1);function Hi(t,e){return Au(t,null,e)}function Zt(t,e,n){return Au(t,e,n)}function Au(t,e,n=Qe){const{immediate:r,deep:s,flush:o,once:i}=n,a=mt({},n),l=e&&r||!e&&o!=="post";let c;if(Fo){if(o==="sync"){const p=e_();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Sn,p.resume=Sn,p.pause=Sn,p}}const u=vt;a.call=(p,g,y)=>mn(p,u,g,y);let h=!1;o==="post"?a.scheduler=p=>{Nt(p,u&&u.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():ku(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=b1(t,e,a);return Fo&&(c?c.push(f):l&&f()),f}function t_(t,e,n){const r=this.proxy,s=ot(t)?t.includes(".")?Ug(r,t):()=>r[t]:t.bind(r,r);let o;Re(e)?o=e:(o=e.handler,n=e);const i=si(this),a=Au(s,o.bind(r),n);return i(),a}function Ug(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const n_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${tn(e)}Modifiers`]||t[`${Sr(e)}Modifiers`];function r_(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Qe;let s=n;const o=e.startsWith("update:"),i=o&&n_(r,e.slice(7));i&&(i.trim&&(s=n.map(u=>ot(u)?u.trim():u)),i.number&&(s=n.map(sa)));let a,l=r[a=gl(e)]||r[a=gl(tn(e))];!l&&o&&(l=r[a=gl(Sr(e))]),l&&mn(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,mn(c,t,6,s)}}function Fg(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const o=t.emits;let i={},a=!1;if(!Re(t)){const l=c=>{const u=Fg(c,e,!0);u&&(a=!0,mt(i,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Ze(t)&&r.set(t,null),null):(ye(o)?o.forEach(l=>i[l]=null):mt(i,o),Ze(t)&&r.set(t,i),i)}function Fa(t,e){return!t||!Ra(e)?!1:(e=e.slice(2).replace(/Once$/,""),ze(t,e[0].toLowerCase()+e.slice(1))||ze(t,Sr(e))||ze(t,e))}function Ld(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:i,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:p,ctx:g,inheritAttrs:y}=t,v=la(t);let T,A;try{if(n.shapeFlag&4){const b=s||r,R=b;T=kn(c.call(R,b,u,h,p,f,g)),A=a}else{const b=e;T=kn(b.length>1?b(h,{attrs:a,slots:i,emit:l}):b(h,null)),A=e.props?a:s_(a)}}catch(b){To.length=0,Ma(b,t,1),T=X(Mt)}let _=T;if(A&&y!==!1){const b=Object.keys(A),{shapeFlag:R}=_;b.length&&R&7&&(o&&b.some(uu)&&(A=o_(A,o)),_=Gn(_,A,!1,!0))}return n.dirs&&(_=Gn(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&us(_,n.transition),T=_,la(v),T}const s_=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ra(n))&&((e||(e={}))[n]=t[n]);return e},o_=(t,e)=>{const n={};for(const r in t)(!uu(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function i_(t,e,n){const{props:r,children:s,component:o}=t,{props:i,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?$d(r,i,c):!!i;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(i[f]!==r[f]&&!Fa(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?$d(r,i,c):!0:!!i;return!1}function $d(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(e[o]!==t[o]&&!Fa(n,o))return!0}return!1}function a_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Bg=t=>t.__isSuspense;function l_(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):x1(t)}const we=Symbol.for("v-fgt"),ri=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),Vi=Symbol.for("v-stc"),To=[];let qt=null;function I(t=!1){To.push(qt=t?null:[])}function c_(){To.pop(),qt=To[To.length-1]||null}let Uo=1;function Md(t,e=!1){Uo+=t,t<0&&qt&&e&&(qt.hasOnce=!0)}function Hg(t){return t.dynamicChildren=Uo>0?qt||Ps:null,c_(),Uo>0&&qt&&qt.push(t),t}function N(t,e,n,r,s,o){return Hg(d(t,e,n,r,s,o,!0))}function Le(t,e,n,r,s){return Hg(X(t,e,n,r,s,!0))}function ds(t){return t?t.__v_isVNode===!0:!1}function Qr(t,e){return t.type===e.type&&t.key===e.key}const Vg=({key:t})=>t??null,Wi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ot(t)||lt(t)||Re(t)?{i:pt,r:t,k:e,f:!!n}:t:null);function d(t,e=null,n=null,r=0,s=null,o=t===we?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Vg(e),ref:e&&Wi(e),scopeId:sg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:pt};return a?(Ou(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=ot(n)?8:16),Uo>0&&!i&&qt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&qt.push(l),l}const X=u_;function u_(t,e=null,n=null,r=0,s=null,o=!1){if((!t||t===wg)&&(t=Mt),ds(t)){const a=Gn(t,e,!0);return n&&Ou(a,n),Uo>0&&!o&&qt&&(a.shapeFlag&6?qt[qt.indexOf(t)]=a:qt.push(a)),a.patchFlag=-2,a}if(b_(t)&&(t=t.__vccOpts),e){e=d_(e);let{class:a,style:l}=e;a&&!ot(a)&&(e.class=Oe(a)),Ze(l)&&(wu(l)&&!ye(l)&&(l=mt({},l)),e.style=xr(l))}const i=ot(t)?1:Bg(t)?128:ig(t)?64:Ze(t)?4:Re(t)?2:0;return d(t,e,n,r,s,i,o,!0)}function d_(t){return t?wu(t)||Rg(t)?mt({},t):t:null}function Gn(t,e,n=!1,r=!1){const{props:s,ref:o,patchFlag:i,children:a,transition:l}=t,c=e?On(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Vg(c),ref:e&&e.ref?n&&o?ye(o)?o.concat(Wi(e)):[o,Wi(e)]:Wi(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Gn(t.ssContent),ssFallback:t.ssFallback&&Gn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&us(u,l.clone(u)),u}function he(t=" ",e=0){return X(ri,null,t,e)}function Jn(t,e){const n=X(Vi,null,t);return n.staticCount=e,n}function Q(t="",e=!1){return e?(I(),Le(Mt,null,t)):X(Mt,null,t)}function kn(t){return t==null||typeof t=="boolean"?X(Mt):ye(t)?X(we,null,t.slice()):ds(t)?fr(t):X(ri,null,String(t))}function fr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Gn(t)}function Ou(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ye(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Ou(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Rg(e)?e._ctx=pt:s===3&&pt&&(pt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Re(e)?(e={default:e,_ctx:pt},n=32):(e=String(e),r&64?(n=16,e=[he(e)]):n=8);t.children=e,t.shapeFlag|=n}function On(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Oe([e.class,r.class]));else if(s==="style")e.style=xr([e.style,r.style]);else if(Ra(s)){const o=e[s],i=r[s];i&&o!==i&&!(ye(o)&&o.includes(i))&&(e[s]=o?[].concat(o,i):i)}else s!==""&&(e[s]=r[s])}return e}function _n(t,e,n,r=null){mn(t,e,7,[n,r])}const h_=Ig();let f_=0;function p_(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||h_,o={uid:f_++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ng(r,s),emitsOptions:Fg(r,s),emit:null,emitted:null,propsDefaults:Qe,inheritAttrs:r.inheritAttrs,ctx:Qe,data:Qe,props:Qe,attrs:Qe,slots:Qe,refs:Qe,setupState:Qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=r_.bind(null,o),t.ce&&t.ce(o),o}let vt=null;const hs=()=>vt||pt;let da,cc;{const t=La(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};da=e("__VUE_INSTANCE_SETTERS__",n=>vt=n),cc=e("__VUE_SSR_SETTERS__",n=>Fo=n)}const si=t=>{const e=vt;return da(t),t.scope.on(),()=>{t.scope.off(),da(e)}},Dd=()=>{vt&&vt.scope.off(),da(null)};function Wg(t){return t.vnode.shapeFlag&4}let Fo=!1;function g_(t,e=!1,n=!1){e&&cc(e);const{props:r,children:s}=t.vnode,o=Wg(t);V1(t,r,o,e),K1(t,s,n);const i=o?m_(t,e):void 0;return e&&cc(!1),i}function m_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,L1);const{setup:r}=n;if(r){Cr();const s=t.setupContext=r.length>1?y_(t):null,o=si(t),i=ni(r,t,0,[t.props,s]),a=Cp(i);if(Ir(),o(),(a||t.sp)&&!$s(t)&&pg(t),a){if(i.then(Dd,Dd),e)return i.then(l=>{jd(t,l)}).catch(l=>{Ma(l,t,0)});t.asyncDep=i}else jd(t,i)}else qg(t)}function jd(t,e,n){Re(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ze(e)&&(t.setupState=Zp(e)),qg(t)}function qg(t,e,n){const r=t.type;t.render||(t.render=r.render||Sn);{const s=si(t);Cr();try{$1(t)}finally{Ir(),s()}}}const v_={get(t,e){return Ct(t,"get",""),t[e]}};function y_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,v_),slots:t.slots,emit:t.emit,expose:e}}function Ba(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Zp(Eu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ko)return ko[n](t)},has(e,n){return n in e||n in ko}})):t.proxy}function __(t,e=!0){return Re(t)?t.displayName||t.name:t.name||e&&t.__name}function b_(t){return Re(t)&&"__vccOpts"in t}const ve=(t,e)=>y1(t,e,Fo);function Wn(t,e,n){const r=arguments.length;return r===2?Ze(e)&&!ye(e)?ds(e)?X(t,null,[e]):X(t,e):X(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ds(n)&&(n=[n]),X(t,e,n))}const w_="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let uc;const Ud=typeof window<"u"&&window.trustedTypes;if(Ud)try{uc=Ud.createPolicy("vue",{createHTML:t=>t})}catch{}const zg=uc?t=>uc.createHTML(t):t=>t,E_="http://www.w3.org/2000/svg",x_="http://www.w3.org/1998/Math/MathML",Dn=typeof document<"u"?document:null,Fd=Dn&&Dn.createElement("template"),k_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Dn.createElementNS(E_,t):e==="mathml"?Dn.createElementNS(x_,t):n?Dn.createElement(t,{is:n}):Dn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Dn.createTextNode(t),createComment:t=>Dn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Dn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,o){const i=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Fd.innerHTML=zg(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Fd.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},rr="transition",co="animation",Hs=Symbol("_vtc"),Kg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Gg=mt({},ug,Kg),T_=t=>(t.displayName="Transition",t.props=Gg,t),yt=T_((t,{slots:e})=>Wn(S1,Jg(t),e)),Hr=(t,e=[])=>{ye(t)?t.forEach(n=>n(...e)):t&&t(...e)},Bd=t=>t?ye(t)?t.some(e=>e.length>1):t.length>1:!1;function Jg(t){const e={};for(const F in t)F in Kg||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=i,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=S_(s),y=g&&g[0],v=g&&g[1],{onBeforeEnter:T,onEnter:A,onEnterCancelled:_,onLeave:b,onLeaveCancelled:R,onBeforeAppear:k=T,onAppear:x=A,onAppearCancelled:P=_}=e,m=(F,ae,_e,Ce)=>{F._enterCancelled=Ce,lr(F,ae?u:a),lr(F,ae?c:i),_e&&_e()},$=(F,ae)=>{F._isLeaving=!1,lr(F,h),lr(F,p),lr(F,f),ae&&ae()},ee=F=>(ae,_e)=>{const Ce=F?x:A,te=()=>m(ae,F,_e);Hr(Ce,[ae,te]),Hd(()=>{lr(ae,F?l:o),wn(ae,F?u:a),Bd(Ce)||Vd(ae,r,y,te)})};return mt(e,{onBeforeEnter(F){Hr(T,[F]),wn(F,o),wn(F,i)},onBeforeAppear(F){Hr(k,[F]),wn(F,l),wn(F,c)},onEnter:ee(!1),onAppear:ee(!0),onLeave(F,ae){F._isLeaving=!0;const _e=()=>$(F,ae);wn(F,h),F._enterCancelled?(wn(F,f),dc()):(dc(),wn(F,f)),Hd(()=>{F._isLeaving&&(lr(F,h),wn(F,p),Bd(b)||Vd(F,r,v,_e))}),Hr(b,[F,_e])},onEnterCancelled(F){m(F,!1,void 0,!0),Hr(_,[F])},onAppearCancelled(F){m(F,!0,void 0,!0),Hr(P,[F])},onLeaveCancelled(F){$(F),Hr(R,[F])}})}function S_(t){if(t==null)return null;if(Ze(t))return[xl(t.enter),xl(t.leave)];{const e=xl(t);return[e,e]}}function xl(t){return jy(t)}function wn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Hs]||(t[Hs]=new Set)).add(e)}function lr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Hs];n&&(n.delete(e),n.size||(t[Hs]=void 0))}function Hd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let C_=0;function Vd(t,e,n,r){const s=t._endId=++C_,o=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:i,timeout:a,propCount:l}=Yg(t,e);if(!i)return r();const c=i+"end";let u=0;const h=()=>{t.removeEventListener(c,f),o()},f=p=>{p.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function Yg(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),s=r(`${rr}Delay`),o=r(`${rr}Duration`),i=Wd(s,o),a=r(`${co}Delay`),l=r(`${co}Duration`),c=Wd(a,l);let u=null,h=0,f=0;e===rr?i>0&&(u=rr,h=i,f=o.length):e===co?c>0&&(u=co,h=c,f=l.length):(h=Math.max(i,c),u=h>0?i>c?rr:co:null,f=u?u===rr?o.length:l.length:0);const p=u===rr&&/\b(transform|all)(,|$)/.test(r(`${rr}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:p}}function Wd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>qd(n)+qd(t[r])))}function qd(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function dc(){return document.body.offsetHeight}function I_(t,e,n){const r=t[Hs];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const zd=Symbol("_vod"),A_=Symbol("_vsh"),O_=Symbol(""),R_=/(^|;)\s*display\s*:/;function P_(t,e,n){const r=t.style,s=ot(n);let o=!1;if(n&&!s){if(e)if(ot(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&qi(r,a,"")}else for(const i in e)n[i]==null&&qi(r,i,"");for(const i in n)i==="display"&&(o=!0),qi(r,i,n[i])}else if(s){if(e!==n){const i=r[O_];i&&(n+=";"+i),r.cssText=n,o=R_.test(n)}}else e&&t.removeAttribute("style");zd in t&&(t[zd]=o?r.display:"",t[A_]&&(r.display="none"))}const Kd=/\s*!important$/;function qi(t,e,n){if(ye(n))n.forEach(r=>qi(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=N_(t,e);Kd.test(n)?t.setProperty(Sr(r),n.replace(Kd,""),"important"):t[r]=n}}const Gd=["Webkit","Moz","ms"],kl={};function N_(t,e){const n=kl[e];if(n)return n;let r=tn(e);if(r!=="filter"&&r in t)return kl[e]=r;r=Na(r);for(let s=0;s<Gd.length;s++){const o=Gd[s]+r;if(o in t)return kl[e]=o}return e}const Jd="http://www.w3.org/1999/xlink";function Yd(t,e,n,r,s,o=Wy(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Jd,e.slice(6,e.length)):t.setAttributeNS(Jd,e,n):n==null||o&&!Rp(n)?t.removeAttribute(e):t.setAttribute(e,o?"":gn(n)?String(n):n)}function Xd(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?zg(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Rp(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(s||e)}function Bn(t,e,n,r){t.addEventListener(e,n,r)}function L_(t,e,n,r){t.removeEventListener(e,n,r)}const Qd=Symbol("_vei");function $_(t,e,n,r,s=null){const o=t[Qd]||(t[Qd]={}),i=o[e];if(r&&i)i.value=r;else{const[a,l]=M_(e);if(r){const c=o[e]=U_(r,s);Bn(t,a,c,l)}else i&&(L_(t,a,i,l),o[e]=void 0)}}const Zd=/(?:Once|Passive|Capture)$/;function M_(t){let e;if(Zd.test(t)){e={};let r;for(;r=t.match(Zd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Sr(t.slice(2)),e]}let Tl=0;const D_=Promise.resolve(),j_=()=>Tl||(D_.then(()=>Tl=0),Tl=Date.now());function U_(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;mn(F_(r,n.value),e,5,[r])};return n.value=t,n.attached=j_(),n}function F_(t,e){if(ye(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const eh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,B_=(t,e,n,r,s,o)=>{const i=s==="svg";e==="class"?I_(t,r,i):e==="style"?P_(t,n,r):Ra(e)?uu(e)||$_(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):H_(t,e,r,i))?(Xd(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Yd(t,e,r,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ot(r))?Xd(t,tn(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Yd(t,e,r,i))};function H_(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&eh(e)&&Re(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return eh(e)&&ot(n)?!1:e in t}const Xg=new WeakMap,Qg=new WeakMap,ha=Symbol("_moveCb"),th=Symbol("_enterCb"),V_=t=>(delete t.props.mode,t),W_=V_({name:"TransitionGroup",props:mt({},Gg,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=hs(),r=cg();let s,o;return vg(()=>{if(!s.length)return;const i=t.moveClass||`${t.name||"v"}-move`;if(!G_(s[0].el,n.vnode.el,i))return;s.forEach(q_),s.forEach(z_);const a=s.filter(K_);dc(),a.forEach(l=>{const c=l.el,u=c.style;wn(c,i),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[ha]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",h),c[ha]=null,lr(c,i))};c.addEventListener("transitionend",h)})}),()=>{const i=Ie(t),a=Jg(i);let l=i.tag||we;if(s=[],o)for(let c=0;c<o.length;c++){const u=o[c];u.el&&u.el instanceof Element&&(s.push(u),us(u,jo(u,a,r,n)),Xg.set(u,u.el.getBoundingClientRect()))}o=e.default?Su(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&us(u,jo(u,a,r,n))}return X(l,null,o)}}}),Zg=W_;function q_(t){const e=t.el;e[ha]&&e[ha](),e[th]&&e[th]()}function z_(t){Qg.set(t,t.el.getBoundingClientRect())}function K_(t){const e=Xg.get(t),n=Qg.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${s}px)`,o.transitionDuration="0s",t}}function G_(t,e,n){const r=t.cloneNode(),s=t[Hs];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:i}=Yg(r);return o.removeChild(r),i}const kr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ye(e)?n=>Ui(e,n):e};function J_(t){t.target.composing=!0}function nh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const en=Symbol("_assign"),Bo={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[en]=kr(s);const o=r||s.props&&s.props.type==="number";Bn(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=sa(a)),t[en](a)}),n&&Bn(t,"change",()=>{t.value=t.value.trim()}),e||(Bn(t,"compositionstart",J_),Bn(t,"compositionend",nh),Bn(t,"change",nh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:o}},i){if(t[en]=kr(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?sa(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},Y_={deep:!0,created(t,e,n){t[en]=kr(n),Bn(t,"change",()=>{const r=t._modelValue,s=Vs(t),o=t.checked,i=t[en];if(ye(r)){const a=fu(r,s),l=a!==-1;if(o&&!l)i(r.concat(s));else if(!o&&l){const c=[...r];c.splice(a,1),i(c)}}else if(eo(r)){const a=new Set(r);o?a.add(s):a.delete(s),i(a)}else i(em(t,o))})},mounted:rh,beforeUpdate(t,e,n){t[en]=kr(n),rh(t,e,n)}};function rh(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(ye(e))s=fu(e,r.props.value)>-1;else if(eo(e))s=e.has(r.props.value);else{if(e===n)return;s=ls(e,em(t,!0))}t.checked!==s&&(t.checked=s)}const X_={created(t,{value:e},n){t.checked=ls(e,n.props.value),t[en]=kr(n),Bn(t,"change",()=>{t[en](Vs(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[en]=kr(r),e!==n&&(t.checked=ls(e,r.props.value))}},Q_={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=eo(e);Bn(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>n?sa(Vs(i)):Vs(i));t[en](t.multiple?s?new Set(o):o:o[0]),t._assigning=!0,Ar(()=>{t._assigning=!1})}),t[en]=kr(r)},mounted(t,{value:e}){sh(t,e)},beforeUpdate(t,e,n){t[en]=kr(n)},updated(t,{value:e}){t._assigning||sh(t,e)}};function sh(t,e){const n=t.multiple,r=ye(e);if(!(n&&!r&&!eo(e))){for(let s=0,o=t.options.length;s<o;s++){const i=t.options[s],a=Vs(i);if(n)if(r){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(c=>String(c)===String(a)):i.selected=fu(e,a)>-1}else i.selected=e.has(a);else if(ls(Vs(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Vs(t){return"_value"in t?t._value:t.value}function em(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const H$={created(t,e,n){Ti(t,e,n,null,"created")},mounted(t,e,n){Ti(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Ti(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Ti(t,e,n,r,"updated")}};function Z_(t,e){switch(t){case"SELECT":return Q_;case"TEXTAREA":return Bo;default:switch(e){case"checkbox":return Y_;case"radio":return X_;default:return Bo}}}function Ti(t,e,n,r,s){const i=Z_(t.tagName,n.props&&n.props.type)[s];i&&i(t,e,n,r)}const eb=["ctrl","shift","alt","meta"],tb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>eb.some(n=>t[`${n}Key`]&&!e.includes(n))},zt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...o)=>{for(let i=0;i<e.length;i++){const a=tb[e[i]];if(a&&a(s,e))return}return t(s,...o)})},nb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Os=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const o=Sr(s.key);if(e.some(i=>i===o||nb[i]===o))return t(s)})},rb=mt({patchProp:B_},k_);let oh;function sb(){return oh||(oh=J1(rb))}const tm=(...t)=>{const e=sb().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=ib(r);if(!s)return;const o=e._component;!Re(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,ob(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},e};function ob(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ib(t){return ot(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ss=typeof document<"u";function nm(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ab(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&nm(t.default)}const qe=Object.assign;function Sl(t,e){const n={};for(const r in e){const s=e[r];n[r]=vn(s)?s.map(t):t(s)}return n}const So=()=>{},vn=Array.isArray,rm=/#/g,lb=/&/g,cb=/\//g,ub=/=/g,db=/\?/g,sm=/\+/g,hb=/%5B/g,fb=/%5D/g,om=/%5E/g,pb=/%60/g,im=/%7B/g,gb=/%7C/g,am=/%7D/g,mb=/%20/g;function Ru(t){return encodeURI(""+t).replace(gb,"|").replace(hb,"[").replace(fb,"]")}function vb(t){return Ru(t).replace(im,"{").replace(am,"}").replace(om,"^")}function hc(t){return Ru(t).replace(sm,"%2B").replace(mb,"+").replace(rm,"%23").replace(lb,"%26").replace(pb,"`").replace(im,"{").replace(am,"}").replace(om,"^")}function yb(t){return hc(t).replace(ub,"%3D")}function _b(t){return Ru(t).replace(rm,"%23").replace(db,"%3F")}function bb(t){return t==null?"":_b(t).replace(cb,"%2F")}function Ho(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const wb=/\/$/,Eb=t=>t.replace(wb,"");function Cl(t,e,n="/"){let r,s={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),s=t(o)),a>-1&&(r=r||e.slice(0,a),i=e.slice(a,e.length)),r=Sb(r??e,n),{fullPath:r+(o&&"?")+o+i,path:r,query:s,hash:Ho(i)}}function xb(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ih(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function kb(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ws(e.matched[r],n.matched[s])&&lm(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ws(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function lm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Tb(t[n],e[n]))return!1;return!0}function Tb(t,e){return vn(t)?ah(t,e):vn(e)?ah(e,t):t===e}function ah(t,e){return vn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Sb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,i,a;for(i=0;i<r.length;i++)if(a=r[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(i).join("/")}const $n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vo;(function(t){t.pop="pop",t.push="push"})(Vo||(Vo={}));var Co;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Co||(Co={}));function Cb(t){if(!t)if(Ss){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Eb(t)}const Ib=/^[^#]+#/;function Ab(t,e){return t.replace(Ib,"#")+e}function Ob(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ha=()=>({left:window.scrollX,top:window.scrollY});function Rb(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Ob(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function lh(t,e){return(history.state?history.state.position-e:-1)+t}const fc=new Map;function Pb(t,e){fc.set(t,e)}function Nb(t){const e=fc.get(t);return fc.delete(t),e}let Lb=()=>location.protocol+"//"+location.host;function cm(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let a=s.includes(t.slice(o))?t.slice(o).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),ih(l,"")}return ih(n,t)+r+s}function $b(t,e,n,r){let s=[],o=[],i=null;const a=({state:f})=>{const p=cm(t,location),g=n.value,y=e.value;let v=0;if(f){if(n.value=p,e.value=f,i&&i===g){i=null;return}v=y?f.position-y.position:0}else r(p);s.forEach(T=>{T(n.value,g,{delta:v,type:Vo.pop,direction:v?v>0?Co.forward:Co.back:Co.unknown})})};function l(){i=n.value}function c(f){s.push(f);const p=()=>{const g=s.indexOf(f);g>-1&&s.splice(g,1)};return o.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(qe({},f.state,{scroll:Ha()}),"")}function h(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function ch(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ha():null}}function Mb(t){const{history:e,location:n}=window,r={value:cm(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:Lb()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function i(l,c){const u=qe({},e.state,ch(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});o(l,u,!0),r.value=l}function a(l,c){const u=qe({},s.value,e.state,{forward:l,scroll:Ha()});o(u.current,u,!0);const h=qe({},ch(r.value,l,null),{position:u.position+1},c);o(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:i}}function um(t){t=Cb(t);const e=Mb(t),n=$b(t,e.state,e.location,e.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=qe({location:"",base:t,go:r,createHref:Ab.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Db(t){return typeof t=="string"||t&&typeof t=="object"}function dm(t){return typeof t=="string"||typeof t=="symbol"}const hm=Symbol("");var pc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(pc||(pc={}));function qs(t,e){return qe(new Error,{type:t,[hm]:!0},e)}function En(t,e){return t instanceof Error&&hm in t&&(e==null||!!(t.type&e))}const uh="[^/]+?",jb={sensitive:!1,strict:!1,start:!0,end:!0},Ub=/[.+*?^${}()[\]/\\]/g;function Fb(t,e){const n=qe({},jb,e),r=[];let s=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(Ub,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:y,optional:v,regexp:T}=f;o.push({name:g,repeatable:y,optional:v});const A=T||uh;if(A!==uh){p+=10;try{new RegExp(`(${A})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+b.message)}}let _=y?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;h||(_=v&&c.length<2?`(?:/${_})`:"/"+_),v&&(_+="?"),s+=_,p+=20,v&&(p+=-8),y&&(p+=-20),A===".*"&&(p+=-50)}u.push(p)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(i),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",g=o[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:y,optional:v}=p,T=g in c?c[g]:"";if(vn(T)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=vn(T)?T.join("/"):T;if(!A)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=A}}return u||"/"}return{re:i,score:r,keys:o,parse:a,stringify:l}}function Bb(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function fm(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=Bb(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(dh(r))return 1;if(dh(s))return-1}return s.length-r.length}function dh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Hb={type:0,value:""},Vb=/[a-zA-Z0-9_]/;function Wb(t){if(!t)return[[]];if(t==="/")return[[Hb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let a=0,l,c="",u="";function h(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),i()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Vb.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),i(),s}function qb(t,e,n){const r=Fb(Wb(t.path),n),s=qe(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function pm(t,e){const n=[],r=new Map;e=gh({strict:!1,end:!0,sensitive:!1},e);function s(h){return r.get(h)}function o(h,f,p){const g=!p,y=fh(h);y.aliasOf=p&&p.record;const v=gh(e,h),T=[y];if("alias"in h){const b=typeof h.alias=="string"?[h.alias]:h.alias;for(const R of b)T.push(fh(qe({},y,{components:p?p.record.components:y.components,path:R,aliasOf:p?p.record:y})))}let A,_;for(const b of T){const{path:R}=b;if(f&&R[0]!=="/"){const k=f.record.path,x=k[k.length-1]==="/"?"":"/";b.path=f.record.path+(R&&x+R)}if(A=qb(b,f,v),p?p.alias.push(A):(_=_||A,_!==A&&_.alias.push(A),g&&h.name&&!ph(A)&&i(h.name)),gm(A)&&l(A),y.children){const k=y.children;for(let x=0;x<k.length;x++)o(k[x],A,p&&p.children[x])}p=p||A}return _?()=>{i(_)}:So}function i(h){if(dm(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function a(){return n}function l(h){const f=Gb(h,n);n.splice(f,0,h),h.record.name&&!ph(h)&&r.set(h.record.name,h)}function c(h,f){let p,g={},y,v;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw qs(1,{location:h});v=p.record.name,g=qe(hh(f.params,p.keys.filter(_=>!_.optional).concat(p.parent?p.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),h.params&&hh(h.params,p.keys.map(_=>_.name))),y=p.stringify(g)}else if(h.path!=null)y=h.path,p=n.find(_=>_.re.test(y)),p&&(g=p.parse(y),v=p.record.name);else{if(p=f.name?r.get(f.name):n.find(_=>_.re.test(f.path)),!p)throw qs(1,{location:h,currentLocation:f});v=p.record.name,g=qe({},f.params,h.params),y=p.stringify(g)}const T=[];let A=p;for(;A;)T.unshift(A.record),A=A.parent;return{name:v,path:y,params:g,matched:T,meta:Kb(T)}}t.forEach(h=>o(h));function u(){n.length=0,r.clear()}return{addRoute:o,resolve:c,removeRoute:i,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function hh(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function fh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:zb(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function zb(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ph(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Kb(t){return t.reduce((e,n)=>qe(e,n.meta),{})}function gh(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Gb(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;fm(t,e[o])<0?r=o:n=o+1}const s=Jb(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function Jb(t){let e=t;for(;e=e.parent;)if(gm(e)&&fm(t,e)===0)return e}function gm({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function mm(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(sm," "),i=o.indexOf("="),a=Ho(i<0?o:o.slice(0,i)),l=i<0?null:Ho(o.slice(i+1));if(a in e){let c=e[a];vn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function gc(t){let e="";for(let n in t){const r=t[n];if(n=yb(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(vn(r)?r.map(o=>o&&hc(o)):[r&&hc(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Yb(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=vn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const vm=Symbol(""),mc=Symbol(""),oi=Symbol(""),Va=Symbol(""),fa=Symbol("");function uo(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function pr(t,e,n,r,s,o=i=>i()){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(qs(4,{from:n,to:e})):f instanceof Error?l(f):Db(f)?l(qs(2,{from:e,to:f})):(i&&r.enterCallbacks[s]===i&&typeof f=="function"&&i.push(f),a())},u=o(()=>t.call(r&&r.instances[s],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function Il(t,e,n,r,s=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(nm(l)){const u=(l.__vccOpts||l)[e];u&&o.push(pr(u,n,r,i,a,s))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const h=ab(u)?u.default:u;i.mods[a]=u,i.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&pr(p,n,r,i,a,s)()}))}}return o}function vc(t){const e=Kt(oi),n=Kt(Va),r=ve(()=>{const l=Fe(t.to);return e.resolve(l)}),s=ve(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Ws.bind(null,u));if(f>-1)return f;const p=mh(l[c-2]);return c>1&&mh(u)===p&&h[h.length-1].path!==p?h.findIndex(Ws.bind(null,l[c-2])):f}),o=ve(()=>s.value>-1&&ew(n.params,r.value.params)),i=ve(()=>s.value>-1&&s.value===n.matched.length-1&&lm(n.params,r.value.params));function a(l={}){if(Zb(l)){const c=e[Fe(t.replace)?"replace":"push"](Fe(t.to)).catch(So);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:ve(()=>r.value.href),isActive:o,isExactActive:i,navigate:a}}function Xb(t){return t.length===1?t[0]:t}const Qb=Qn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vc,setup(t,{slots:e}){const n=rn(vc(t)),{options:r}=Kt(oi),s=ve(()=>({[vh(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[vh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&Xb(e.default(n));return t.custom?o:Wn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),ym=Qb;function Zb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ew(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!vn(s)||s.length!==r.length||r.some((o,i)=>o!==s[i]))return!1}return!0}function mh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vh=(t,e,n)=>t??e??n,tw=Qn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Kt(fa),s=ve(()=>t.route||r.value),o=Kt(mc,0),i=ve(()=>{let c=Fe(o);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=ve(()=>s.value.matched[i.value]);Bi(mc,ve(()=>i.value+1)),Bi(vm,a),Bi(fa,s);const l=Y();return Zt(()=>[l.value,a.value,t.name],([c,u,h],[f,p,g])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Ws(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return yh(n.default,{Component:f,route:c});const p=h.props[u],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,v=Wn(f,qe({},g,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return yh(n.default,{Component:v,route:c})||v}}});function yh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const _m=tw;function bm(t){const e=pm(t.routes,t),n=t.parseQuery||mm,r=t.stringifyQuery||gc,s=t.history,o=uo(),i=uo(),a=uo(),l=xu($n);let c=$n;Ss&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Sl.bind(null,q=>""+q),h=Sl.bind(null,bb),f=Sl.bind(null,Ho);function p(q,ie){let V,L;return dm(q)?(V=e.getRecordMatcher(q),L=ie):L=q,e.addRoute(L,V)}function g(q){const ie=e.getRecordMatcher(q);ie&&e.removeRoute(ie)}function y(){return e.getRoutes().map(q=>q.record)}function v(q){return!!e.getRecordMatcher(q)}function T(q,ie){if(ie=qe({},ie||l.value),typeof q=="string"){const C=Cl(n,q,ie.path),j=e.resolve({path:C.path},ie),G=s.createHref(C.fullPath);return qe(C,j,{params:f(j.params),hash:Ho(C.hash),redirectedFrom:void 0,href:G})}let V;if(q.path!=null)V=qe({},q,{path:Cl(n,q.path,ie.path).path});else{const C=qe({},q.params);for(const j in C)C[j]==null&&delete C[j];V=qe({},q,{params:h(C)}),ie.params=h(ie.params)}const L=e.resolve(V,ie),Z=q.hash||"";L.params=u(f(L.params));const S=xb(r,qe({},q,{hash:vb(Z),path:L.path})),O=s.createHref(S);return qe({fullPath:S,hash:Z,query:r===gc?Yb(q.query):q.query||{}},L,{redirectedFrom:void 0,href:O})}function A(q){return typeof q=="string"?Cl(n,q,l.value.path):qe({},q)}function _(q,ie){if(c!==q)return qs(8,{from:ie,to:q})}function b(q){return x(q)}function R(q){return b(qe(A(q),{replace:!0}))}function k(q){const ie=q.matched[q.matched.length-1];if(ie&&ie.redirect){const{redirect:V}=ie;let L=typeof V=="function"?V(q):V;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=A(L):{path:L},L.params={}),qe({query:q.query,hash:q.hash,params:L.path!=null?{}:q.params},L)}}function x(q,ie){const V=c=T(q),L=l.value,Z=q.state,S=q.force,O=q.replace===!0,C=k(V);if(C)return x(qe(A(C),{state:typeof C=="object"?qe({},Z,C.state):Z,force:S,replace:O}),ie||V);const j=V;j.redirectedFrom=ie;let G;return!S&&kb(r,L,V)&&(G=qs(16,{to:j,from:L}),pe(L,L,!0,!1)),(G?Promise.resolve(G):$(j,L)).catch(K=>En(K)?En(K,2)?K:be(K):de(K,j,L)).then(K=>{if(K){if(En(K,2))return x(qe({replace:O},A(K.to),{state:typeof K.to=="object"?qe({},Z,K.to.state):Z,force:S}),ie||j)}else K=F(j,L,!0,O,Z);return ee(j,L,K),K})}function P(q,ie){const V=_(q,ie);return V?Promise.reject(V):Promise.resolve()}function m(q){const ie=Ee.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(q):q()}function $(q,ie){let V;const[L,Z,S]=nw(q,ie);V=Il(L.reverse(),"beforeRouteLeave",q,ie);for(const C of L)C.leaveGuards.forEach(j=>{V.push(pr(j,q,ie))});const O=P.bind(null,q,ie);return V.push(O),je(V).then(()=>{V=[];for(const C of o.list())V.push(pr(C,q,ie));return V.push(O),je(V)}).then(()=>{V=Il(Z,"beforeRouteUpdate",q,ie);for(const C of Z)C.updateGuards.forEach(j=>{V.push(pr(j,q,ie))});return V.push(O),je(V)}).then(()=>{V=[];for(const C of S)if(C.beforeEnter)if(vn(C.beforeEnter))for(const j of C.beforeEnter)V.push(pr(j,q,ie));else V.push(pr(C.beforeEnter,q,ie));return V.push(O),je(V)}).then(()=>(q.matched.forEach(C=>C.enterCallbacks={}),V=Il(S,"beforeRouteEnter",q,ie,m),V.push(O),je(V))).then(()=>{V=[];for(const C of i.list())V.push(pr(C,q,ie));return V.push(O),je(V)}).catch(C=>En(C,8)?C:Promise.reject(C))}function ee(q,ie,V){a.list().forEach(L=>m(()=>L(q,ie,V)))}function F(q,ie,V,L,Z){const S=_(q,ie);if(S)return S;const O=ie===$n,C=Ss?history.state:{};V&&(L||O?s.replace(q.fullPath,qe({scroll:O&&C&&C.scroll},Z)):s.push(q.fullPath,Z)),l.value=q,pe(q,ie,V,O),be()}let ae;function _e(){ae||(ae=s.listen((q,ie,V)=>{if(!We.listening)return;const L=T(q),Z=k(L);if(Z){x(qe(Z,{replace:!0,force:!0}),L).catch(So);return}c=L;const S=l.value;Ss&&Pb(lh(S.fullPath,V.delta),Ha()),$(L,S).catch(O=>En(O,12)?O:En(O,2)?(x(qe(A(O.to),{force:!0}),L).then(C=>{En(C,20)&&!V.delta&&V.type===Vo.pop&&s.go(-1,!1)}).catch(So),Promise.reject()):(V.delta&&s.go(-V.delta,!1),de(O,L,S))).then(O=>{O=O||F(L,S,!1),O&&(V.delta&&!En(O,8)?s.go(-V.delta,!1):V.type===Vo.pop&&En(O,20)&&s.go(-1,!1)),ee(L,S,O)}).catch(So)}))}let Ce=uo(),te=uo(),U;function de(q,ie,V){be(q);const L=te.list();return L.length?L.forEach(Z=>Z(q,ie,V)):console.error(q),Promise.reject(q)}function ce(){return U&&l.value!==$n?Promise.resolve():new Promise((q,ie)=>{Ce.add([q,ie])})}function be(q){return U||(U=!q,_e(),Ce.list().forEach(([ie,V])=>q?V(q):ie()),Ce.reset()),q}function pe(q,ie,V,L){const{scrollBehavior:Z}=t;if(!Ss||!Z)return Promise.resolve();const S=!V&&Nb(lh(q.fullPath,0))||(L||!V)&&history.state&&history.state.scroll||null;return Ar().then(()=>Z(q,ie,S)).then(O=>O&&Rb(O)).catch(O=>de(O,q,ie))}const Pe=q=>s.go(q);let J;const Ee=new Set,We={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:y,resolve:T,options:t,push:b,replace:R,go:Pe,back:()=>Pe(-1),forward:()=>Pe(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:te.add,isReady:ce,install(q){const ie=this;q.component("RouterLink",ym),q.component("RouterView",_m),q.config.globalProperties.$router=ie,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>Fe(l)}),Ss&&!J&&l.value===$n&&(J=!0,b(s.location).catch(Z=>{}));const V={};for(const Z in $n)Object.defineProperty(V,Z,{get:()=>l.value[Z],enumerable:!0});q.provide(oi,ie),q.provide(Va,Yp(V)),q.provide(fa,l);const L=q.unmount;Ee.add(q),q.unmount=function(){Ee.delete(q),Ee.size<1&&(c=$n,ae&&ae(),ae=null,l.value=$n,J=!1,U=!1),L()}}};function je(q){return q.reduce((ie,V)=>ie.then(()=>m(V)),Promise.resolve())}return We}function nw(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(c=>Ws(c,a))?r.push(a):n.push(a));const l=t.matched[i];l&&(e.matched.find(c=>Ws(c,l))||s.push(l))}return[n,r,s]}function Or(){return Kt(oi)}function Wa(t){return Kt(Va)}const rw=Object.freeze(Object.defineProperty({__proto__:null,get NavigationFailureType(){return pc},RouterLink:ym,RouterView:_m,START_LOCATION:$n,createRouter:bm,createRouterMatcher:pm,createWebHistory:um,isNavigationFailure:En,matchedRouteKey:vm,parseQuery:mm,routeLocationKey:Va,routerKey:oi,routerViewLocationKey:fa,stringifyQuery:gc,useLink:vc,useRoute:Wa,useRouter:Or,viewDepthKey:mc},Symbol.toStringTag,{value:"Module"})),sw=()=>{};var _h={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ow=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},Em={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,i||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ow(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||c==null||h==null)throw new iw;const f=o<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aw=function(t){const e=wm(t);return Em.encodeByteArray(e,!0)},xm=function(t){return aw(t).replace(/\./g,"")},km=function(t){try{return Em.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=()=>lw().__FIREBASE_DEFAULTS__,uw=()=>{if(typeof process>"u"||typeof _h>"u")return;const t=_h.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&km(t[1]);return e&&JSON.parse(e)},Pu=()=>{try{return sw()||cw()||uw()||dw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hw=t=>{var e,n;return(n=(e=Pu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Tm=()=>{var t;return(t=Pu())===null||t===void 0?void 0:t.config},Sm=t=>{var e;return(e=Pu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){return t.endsWith(".cloudworkstations.dev")}async function pw(t){return(await fetch(t,{credentials:"include"})).ok}const Io={};function gw(){const t={prod:[],emulator:[]};for(const e of Object.keys(Io))Io[e]?t.emulator.push(e):t.prod.push(e);return t}function mw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bh=!1;function vw(t,e){if(typeof window>"u"||typeof document>"u"||!Nu(window.location.host)||Io[t]===e||Io[t]||bh)return;Io[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",o=gw().prod.length>0;function i(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{bh=!0,i()},f}function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=mw(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),v=document.getElementById(y)||document.createElement("a"),T=n("preprendIcon"),A=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;a(_),u(v,y);const b=c();l(A,T),_.append(A,g,v,b),document.body.appendChild(_)}o?(g.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function _w(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ew(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xw(){try{return typeof indexedDB=="object"}catch{return!1}}function kw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Tw,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ii.prototype.create)}}class ii{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?Sw(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Rr(s,a,r)}}function Sw(t,e){return t.replace(Cw,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Cw=/\{\$([^}]+)}/g;function Iw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(wh(o)&&wh(i)){if(!zs(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function wh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function yo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Aw(t,e){const n=new Ow(t,e);return n.subscribe.bind(n)}class Ow{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Rw(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Al),s.error===void 0&&(s.error=Al),s.complete===void 0&&(s.complete=Al);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rw(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Al(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lw(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nw(t){return t===Yr?void 0:t}function Lw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const Mw={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},Dw=Xe.INFO,jw={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},Uw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jw[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=Dw,this._logHandler=Uw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const Fw=(t,e)=>e.some(n=>t instanceof n);let Eh,xh;function Bw(){return Eh||(Eh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hw(){return xh||(xh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Im=new WeakMap,yc=new WeakMap,Am=new WeakMap,Ol=new WeakMap,Lu=new WeakMap;function Vw(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(wr(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&Im.set(n,t)}).catch(()=>{}),Lu.set(e,t),e}function Ww(t){if(yc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});yc.set(t,e)}let _c={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Am.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qw(t){_c=t(_c)}function zw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rl(this),e,...n);return Am.set(r,e.sort?e.sort():[e]),wr(r)}:Hw().includes(t)?function(...e){return t.apply(Rl(this),e),wr(Im.get(this))}:function(...e){return wr(t.apply(Rl(this),e))}}function Kw(t){return typeof t=="function"?zw(t):(t instanceof IDBTransaction&&Ww(t),Fw(t,Bw())?new Proxy(t,_c):t)}function wr(t){if(t instanceof IDBRequest)return Vw(t);if(Ol.has(t))return Ol.get(t);const e=Kw(t);return e!==t&&(Ol.set(t,e),Lu.set(e,t)),e}const Rl=t=>Lu.get(t);function Gw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=wr(i);return r&&i.addEventListener("upgradeneeded",l=>{r(wr(i.result),l.oldVersion,l.newVersion,wr(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Jw=["get","getKey","getAll","getAllKeys","count"],Yw=["put","add","delete","clear"],Pl=new Map;function kh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pl.get(e))return Pl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Yw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Jw.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Pl.set(e,o),o}qw(t=>({...t,get:(e,n,r)=>kh(e,n)||t.get(e,n,r),has:(e,n)=>!!kh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Qw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bc="@firebase/app",Th="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Cm("@firebase/app"),Zw="@firebase/app-compat",eE="@firebase/analytics-compat",tE="@firebase/analytics",nE="@firebase/app-check-compat",rE="@firebase/app-check",sE="@firebase/auth",oE="@firebase/auth-compat",iE="@firebase/database",aE="@firebase/data-connect",lE="@firebase/database-compat",cE="@firebase/functions",uE="@firebase/functions-compat",dE="@firebase/installations",hE="@firebase/installations-compat",fE="@firebase/messaging",pE="@firebase/messaging-compat",gE="@firebase/performance",mE="@firebase/performance-compat",vE="@firebase/remote-config",yE="@firebase/remote-config-compat",_E="@firebase/storage",bE="@firebase/storage-compat",wE="@firebase/firestore",EE="@firebase/ai",xE="@firebase/firestore-compat",kE="firebase",TE="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="[DEFAULT]",SE={[bc]:"fire-core",[Zw]:"fire-core-compat",[tE]:"fire-analytics",[eE]:"fire-analytics-compat",[rE]:"fire-app-check",[nE]:"fire-app-check-compat",[sE]:"fire-auth",[oE]:"fire-auth-compat",[iE]:"fire-rtdb",[aE]:"fire-data-connect",[lE]:"fire-rtdb-compat",[cE]:"fire-fn",[uE]:"fire-fn-compat",[dE]:"fire-iid",[hE]:"fire-iid-compat",[fE]:"fire-fcm",[pE]:"fire-fcm-compat",[gE]:"fire-perf",[mE]:"fire-perf-compat",[vE]:"fire-rc",[yE]:"fire-rc-compat",[_E]:"fire-gcs",[bE]:"fire-gcs-compat",[wE]:"fire-fst",[xE]:"fire-fst-compat",[EE]:"fire-vertex","fire-js":"fire-js",[kE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Map,CE=new Map,Ec=new Map;function Sh(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wo(t){const e=t.name;if(Ec.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;Ec.set(e,t);for(const n of pa.values())Sh(n,t);for(const n of CE.values())Sh(n,t);return!0}function Om(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new ii("app","Firebase",IE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=TE;function Rm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wc,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Er.create("bad-app-name",{appName:String(s)});if(n||(n=Tm()),!n)throw Er.create("no-options");const o=pa.get(s);if(o){if(zs(n,o.options)&&zs(r,o.config))return o;throw Er.create("duplicate-app",{appName:s})}const i=new $w(s);for(const l of Ec.values())i.addComponent(l);const a=new AE(n,r,i);return pa.set(s,a),a}function OE(t=wc){const e=pa.get(t);if(!e&&t===wc&&Tm())return Rm();if(!e)throw Er.create("no-app",{appName:t});return e}function Ms(t,e,n){var r;let s=(r=SE[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(a.join(" "));return}Wo(new Ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="firebase-heartbeat-database",PE=1,qo="firebase-heartbeat-store";let Nl=null;function Pm(){return Nl||(Nl=Gw(RE,PE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),Nl}async function NE(t){try{const n=(await Pm()).transaction(qo),r=await n.objectStore(qo).get(Nm(t));return await n.done,r}catch(e){if(e instanceof Rr)Yn.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yn.warn(n.message)}}}async function Ch(t,e){try{const r=(await Pm()).transaction(qo,"readwrite");await r.objectStore(qo).put(e,Nm(t)),await r.done}catch(n){if(n instanceof Rr)Yn.warn(n.message);else{const r=Er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yn.warn(r.message)}}}function Nm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=1024,$E=30;class ME{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ih();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>$E){const i=UE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ih(),{heartbeatsToSend:r,unsentEntries:s}=DE(this._heartbeatsCache.heartbeats),o=xm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Yn.warn(n),""}}}function Ih(){return new Date().toISOString().substring(0,10)}function DE(t,e=LE){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),Ah(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ah(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xw()?kw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ch(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ch(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ah(t){return xm(JSON.stringify({version:2,heartbeats:t})).length}function UE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){Wo(new Ks("platform-logger",e=>new Xw(e),"PRIVATE")),Wo(new Ks("heartbeat",e=>new ME(e),"PRIVATE")),Ms(bc,Th,t),Ms(bc,Th,"esm2017"),Ms("fire-js","")}FE("");var xc=function(t,e){return xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},xc(t,e)};function Lm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ga=function(){return ga=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ga.apply(this,arguments)};function er(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function $m(t,e,n,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function Mm(t,e){return function(n,r){e(n,r,t)}}function Dm(t,e,n,r,s,o){function i(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var g={};for(var y in r)g[y]=y==="access"?{}:r[y];for(var y in r.access)g.access[y]=r.access[y];g.addInitializer=function(T){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(T||null))};var v=(0,n[p])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=i(v.get))&&(u.get=h),(h=i(v.set))&&(u.set=h),(h=i(v.init))&&s.unshift(h)}else(h=i(v))&&(a==="field"?s.unshift(h):u[l]=h)}c&&Object.defineProperty(c,r.name,u),f=!0}function jm(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function Um(t){return typeof t=="symbol"?t:"".concat(t)}function Fm(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Bm(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function fe(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(h){i(h)}}function l(u){try{c(r.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Hm(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(o=c[0]&2?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var qa=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Vm(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qa(e,t,n)}function ma(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $u(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function Wm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($u(arguments[e]));return t}function qm(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)r[s]=o[i];return r}function zm(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Gs(t){return this instanceof Gs?(this.v=t,this):new Gs(t)}function Km(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(p){return function(g){return Promise.resolve(g).then(p,h)}}function a(p,g){r[p]&&(s[p]=function(y){return new Promise(function(v,T){o.push([p,y,v,T])>1||l(p,y)})},g&&(s[p]=g(s[p])))}function l(p,g){try{c(r[p](g))}catch(y){f(o[0][3],y)}}function c(p){p.value instanceof Gs?Promise.resolve(p.value.v).then(u,h):f(o[0][2],p)}function u(p){l("next",p)}function h(p){l("throw",p)}function f(p,g){p(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Gm(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,o){e[s]=t[s]?function(i){return(n=!n)?{value:Gs(t[s](i)),done:!1}:o?o(i):i}:o}}function Jm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ma=="function"?ma(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(i){return new Promise(function(a,l){i=t[o](i),s(a,l,i.done,i.value)})}}function s(o,i,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},i)}}function Ym(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var BE=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},kc=function(t){return kc=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},kc(t)};function Xm(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=kc(t),r=0;r<n.length;r++)n[r]!=="default"&&qa(e,t,n[r]);return BE(e,t),e}function Qm(t){return t&&t.__esModule?t:{default:t}}function Zm(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function e0(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function t0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function n0(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var HE=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function r0(t){function e(o){t.error=t.hasError?new HE(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(s,function(i){return e(i),s()})}else r|=1}catch(i){e(i)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function s0(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,o,i){return r?e?".jsx":".js":s&&(!o||!i)?n:s+o+"."+i.toLowerCase()+"js"}):t}const VE={__extends:Lm,__assign:ga,__rest:er,__decorate:$m,__param:Mm,__esDecorate:Dm,__runInitializers:jm,__propKey:Um,__setFunctionName:Fm,__metadata:Bm,__awaiter:fe,__generator:Hm,__createBinding:qa,__exportStar:Vm,__values:ma,__read:$u,__spread:Wm,__spreadArrays:qm,__spreadArray:zm,__await:Gs,__asyncGenerator:Km,__asyncDelegator:Gm,__asyncValues:Jm,__makeTemplateObject:Ym,__importStar:Xm,__importDefault:Qm,__classPrivateFieldGet:Zm,__classPrivateFieldSet:e0,__classPrivateFieldIn:t0,__addDisposableResource:n0,__disposeResources:r0,__rewriteRelativeImportExtension:s0},WE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:n0,get __assign(){return ga},__asyncDelegator:Gm,__asyncGenerator:Km,__asyncValues:Jm,__await:Gs,__awaiter:fe,__classPrivateFieldGet:Zm,__classPrivateFieldIn:t0,__classPrivateFieldSet:e0,__createBinding:qa,__decorate:$m,__disposeResources:r0,__esDecorate:Dm,__exportStar:Vm,__extends:Lm,__generator:Hm,__importDefault:Qm,__importStar:Xm,__makeTemplateObject:Ym,__metadata:Bm,__param:Mm,__propKey:Um,__read:$u,__rest:er,__rewriteRelativeImportExtension:s0,__runInitializers:jm,__setFunctionName:Fm,__spread:Wm,__spreadArray:zm,__spreadArrays:qm,__values:ma,default:VE},Symbol.toStringTag,{value:"Module"}));function o0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qE=o0,i0=new ii("auth","Firebase",o0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Cm("@firebase/auth");function zE(t,...e){va.logLevel<=Xe.WARN&&va.warn(`Auth (${li}): ${t}`,...e)}function zi(t,...e){va.logLevel<=Xe.ERROR&&va.error(`Auth (${li}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,...e){throw Du(t,...e)}function pn(t,...e){return Du(t,...e)}function Mu(t,e,n){const r=Object.assign(Object.assign({},qE()),{[e]:n});return new ii("auth","Firebase",r).create(e,{appName:t.name})}function Kn(t){return Mu(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KE(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nn(t,"argument-error"),Mu(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Du(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return i0.create(t,...e)}function Te(t,e,...n){if(!t)throw Du(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zi(e),new Error(e)}function Xn(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GE(){return Oh()==="http:"||Oh()==="https:"}function Oh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GE()||bw()||"connection"in navigator)?navigator.onLine:!0}function YE(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=yw()||ww()}get(){return JE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e){Xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZE=new ci(3e4,6e4);function Pr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function tr(t,e,n,r,s={}){return l0(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=ai(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return _w()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Nu(t.emulatorConfig.host)&&(c.credentials="include"),a0.fetch()(await c0(t,t.config.apiHost,n,a),c)})}async function l0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XE),e);try{const s=new tx(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Si(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Si(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw Si(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw Si(t,"user-disabled",i);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Mu(t,u,c);nn(t,u)}}catch(s){if(s instanceof Rr)throw s;nn(t,"network-request-failed",{message:String(s)})}}async function ui(t,e,n,r,s={}){const o=await tr(t,e,n,r,s);return"mfaPendingCredential"in o&&nn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function c0(t,e,n,r){const s=`${e}${n}?${r}`,o=t,i=o.config.emulator?ju(t.config,s):`${t.config.apiScheme}://${s}`;return QE.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i}function ex(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),ZE.get())})}}function Si(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=pn(t,e,r);return s.customData._tokenResponse=n,s}function Rh(t){return t!==void 0&&t.enterprise!==void 0}class nx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ex(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rx(t,e){return tr(t,"GET","/v2/recaptchaConfig",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(t,e){return tr(t,"POST","/v1/accounts:delete",e)}async function ya(t,e){return tr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ox(t,e=!1){const n=Rn(t),r=await n.getIdToken(e),s=Uu(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Ao(Ll(s.auth_time)),issuedAtTime:Ao(Ll(s.iat)),expirationTime:Ao(Ll(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ll(t){return Number(t)*1e3}function Uu(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zi("JWT malformed, contained fewer than 3 sections"),null;try{const s=km(n);return s?JSON.parse(s):(zi("Failed to decode base64 JWT payload"),null)}catch(s){return zi("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ph(t){const e=Uu(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&ix(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ix({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Js(t,ya(n,{idToken:r}));Te(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?u0(o.providerUserInfo):[],a=cx(t.providerData,i),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Sc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function lx(t){const e=Rn(t);await _a(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cx(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function u0(t){return t.map(e=>{var{providerId:n}=e,r=er(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(t,e){const n=await l0(t,{},async()=>{const r=ai({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=await c0(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",a0.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dx(t,e){return tr(t,"POST","/v2/accounts:revokeToken",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ph(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Ph(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await ux(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new Ds;return r&&(Te(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(Te(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ds,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class un{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=er(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ax(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Js(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ox(this,e)}reload(){return lx(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _a(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Kn(this.auth));const e=await this.getIdToken();return await Js(this,sx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(i=n.photoURL)!==null&&i!==void 0?i:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,A=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:b,isAnonymous:R,providerData:k,stsTokenManager:x}=n;Te(_&&x,e,"internal-error");const P=Ds.fromJSON(this.name,x);Te(typeof _=="string",e,"internal-error"),sr(h,e.name),sr(f,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof R=="boolean",e,"internal-error"),sr(p,e.name),sr(g,e.name),sr(y,e.name),sr(v,e.name),sr(T,e.name),sr(A,e.name);const m=new un({uid:_,auth:e,email:f,emailVerified:b,displayName:h,isAnonymous:R,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:P,createdAt:T,lastLoginAt:A});return k&&Array.isArray(k)&&(m.providerData=k.map($=>Object.assign({},$))),v&&(m._redirectEventId=v),m}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ds;s.updateFromServerResponse(n);const o=new un({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _a(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?u0(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),a=new Ds;a.updateFromIdToken(r);const l=new un({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:i}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Sc(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map;function zn(t){Xn(t instanceof Function,"Expected a class definition");let e=Nh.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nh.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d0.type="NONE";const Lh=d0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Ki(this.userKey,s.apiKey,o),this.fullPersistenceKey=Ki("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ya(this.auth,{idToken:e}).catch(()=>{});return n?un._fromGetAccountInfoResponse(this.auth,n,e):null}return un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new js(zn(Lh),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=s[0]||zn(Lh);const i=Ki(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(i);if(u){let h;if(typeof u=="string"){const f=await ya(e,{idToken:u}).catch(()=>{});if(!f)break;h=await un._fromGetAccountInfoResponse(e,f,u)}else h=un._fromJSON(e,u);c!==o&&(a=h),o=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new js(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(i)}catch{}})),new js(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v0(e))return"Blackberry";if(y0(e))return"Webos";if(f0(e))return"Safari";if((e.includes("chrome/")||p0(e))&&!e.includes("edge/"))return"Chrome";if(m0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function h0(t=Dt()){return/firefox\//i.test(t)}function f0(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p0(t=Dt()){return/crios\//i.test(t)}function g0(t=Dt()){return/iemobile/i.test(t)}function m0(t=Dt()){return/android/i.test(t)}function v0(t=Dt()){return/blackberry/i.test(t)}function y0(t=Dt()){return/webos/i.test(t)}function Fu(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hx(t=Dt()){var e;return Fu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fx(){return Ew()&&document.documentMode===10}function _0(t=Dt()){return Fu(t)||m0(t)||y0(t)||v0(t)||/windows phone/i.test(t)||g0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t,e=[]){let n;switch(t){case"Browser":n=$h(Dt());break;case"Worker":n=`${$h(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${li}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(t,e={}){return tr(t,"GET","/v2/passwordPolicy",Pr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=6;class vx{constructor(e){var n,r,s,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=i.minPasswordLength)!==null&&n!==void 0?n:mx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,i,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsNumericCharacter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mh(this),this.idTokenSubscription=new Mh(this),this.beforeStateQueue=new px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ya(this,{idToken:e}),r=await un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xt(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _a(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Kn(this));const n=e?Rn(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gx(this),n=new vx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ii("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zn(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(a,this,"internal-error"),a.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{i=!0,l()}}else{const l=e.addObserver(n);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zE(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Nr(t){return Rn(t)}class Mh{constructor(e){this.auth=e,this.observer=null,this.addObserver=Aw(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _x(t){za=t}function w0(t){return za.loadJS(t)}function bx(){return za.recaptchaEnterpriseScript}function wx(){return za.gapiScript}function Ex(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xx{constructor(){this.enterprise=new kx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Tx="recaptcha-enterprise",E0="NO_RECAPTCHA";class Sx{constructor(e){this.type=Tx,this.auth=Nr(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{rx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new nx(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,i(c.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;Rh(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{i(c)}).catch(()=>{i(E0)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xx().execute("siteKey",{action:"verify"}):new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&Rh(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=bx();l.length!==0&&(l+=a),w0(l).then(()=>{s(a,o,i)}).catch(c=>{i(c)})}}).catch(a=>{i(a)})})}}async function Dh(t,e,n,r=!1,s=!1){const o=new Sx(t);let i;if(s)i=E0;else try{i=await o.verify(n)}catch{i=await o.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Cc(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Dh(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Dh(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t,e){const n=Om(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(zs(o,e??{}))return s;nn(s,"already-initialized")}return n.initialize({options:e})}function Ix(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ax(t,e,n){const r=Nr(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=x0(e),{host:i,port:a}=Ox(e),l=a===null?"":`:${a}`,c={url:`${o}//${i}${l}/`},u=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(zs(c,r.config.emulator)&&zs(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Nu(i)?(pw(`${o}//${i}${l}`),vw("Auth",!0)):Rx()}function x0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ox(t){const e=x0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:jh(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:jh(i)}}}function jh(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Rx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}async function Px(t,e){return tr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t,e){return ui(t,"POST","/v1/accounts:signInWithPassword",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t,e){return ui(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,e))}async function $x(t,e){return ui(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Bu{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new zo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cc(e,n,"signInWithPassword",Nx);case"emailLink":return Lx(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cc(e,r,"signUpPassword",Px);case"emailLink":return $x(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t,e){return ui(t,"POST","/v1/accounts:signInWithIdp",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="http://localhost";class fs extends Bu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=er(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new fs(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Us(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Us(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Us(e,n)}buildRequest(){const e={requestUri:Mx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ai(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jx(t){const e=vo(yo(t)).link,n=e?vo(yo(e)).deep_link_id:null,r=vo(yo(t)).deep_link_id;return(r?vo(yo(r)).link:null)||r||n||e||t}class Hu{constructor(e){var n,r,s,o,i,a;const l=vo(yo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Dx((s=l.mode)!==null&&s!==void 0?s:null);Te(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.lang)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jx(e);try{return new Hu(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,n){return zo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hu.parseLink(n);return Te(r,"argument-error"),zo._fromEmailAndCode(e,r.code,r.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Vu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends di{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends di{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hn.credential(n,r)}catch{return null}}}Hn.GOOGLE_SIGN_IN_METHOD="google.com";Hn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends di{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends di{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(t,e){return ui(t,"POST","/v1/accounts:signUp",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await un._fromIdTokenResponse(e,r,s),i=Uh(r);return new ps({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Uh(r);return new ps({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Uh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends Rr{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ba.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ba(e,n,r,s)}}function k0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ba._fromErrorAndOperation(t,o,e,r):o})}async function Fx(t,e,n=!1){const r=await Js(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ps._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(t,e,n=!1){const{auth:r}=t;if(Xt(r.app))return Promise.reject(Kn(r));const s="reauthenticate";try{const o=await Js(t,k0(r,s,e,t),n);Te(o.idToken,r,"internal-error");const i=Uu(o.idToken);Te(i,r,"internal-error");const{sub:a}=i;return Te(t.uid===a,r,"user-mismatch"),ps._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&nn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(t,e,n=!1){if(Xt(t.app))return Promise.reject(Kn(t));const r="signIn",s=await k0(t,r,e),o=await ps._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function Hx(t,e){return T0(Nr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(t){const e=Nr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vx(t,e,n){if(Xt(t.app))return Promise.reject(Kn(t));const r=Nr(t),i=await Cc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ux).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&S0(t),l}),a=await ps._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function Wx(t,e,n){return Xt(t.app)?Promise.reject(Kn(t)):Hx(Rn(t),no.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&S0(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e){return tr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Rn(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},i=await Js(r,qx(r.auth,o));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e){return Rn(t).setPersistence(e)}function Gx(t,e,n,r){return Rn(t).onIdTokenChanged(e,n,r)}function Jx(t,e,n){return Rn(t).beforeAuthStateChanged(e,n)}function hi(t,e,n,r){return Rn(t).onAuthStateChanged(e,n,r)}const wa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=1e3,Xx=10;class I0 extends C0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);fx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Xx):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I0.type="LOCAL";const A0=I0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends C0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O0.type="SESSION";const R0=O0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ka(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async c=>c(n.origin,o)),l=await Qx(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ka.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const c=Wu("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function e2(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function t2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r2(){return P0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firebaseLocalStorageDb",s2=1,Ea="firebaseLocalStorage",L0="fbase_key";class fi{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ga(t,e){return t.transaction([Ea],e?"readwrite":"readonly").objectStore(Ea)}function o2(){const t=indexedDB.deleteDatabase(N0);return new fi(t).toPromise()}function Ic(){const t=indexedDB.open(N0,s2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ea,{keyPath:L0})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ea)?e(r):(r.close(),await o2(),e(await Ic()))})})}async function Fh(t,e,n){const r=Ga(t,!0).put({[L0]:e,value:n});return new fi(r).toPromise()}async function i2(t,e){const n=Ga(t,!1).get(e),r=await new fi(n).toPromise();return r===void 0?null:r.value}function Bh(t,e){const n=Ga(t,!0).delete(e);return new fi(n).toPromise()}const a2=800,l2=3;class $0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ic(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ka._getInstance(r2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t2(),!this.activeServiceWorker)return;this.sender=new Zx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ic();return await Fh(e,wa,"1"),await Bh(e,wa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fh(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bh(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Ga(s,!1).getAll();return new fi(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$0.type="LOCAL";const c2=$0;new ci(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e){return e?zn(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Bu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Us(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Us(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Us(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u2(t){return T0(t.auth,new qu(t),t.bypassAuthState)}function d2(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Bx(n,new qu(t),t.bypassAuthState)}async function h2(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Fx(n,new qu(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u2;case"linkViaPopup":case"linkViaRedirect":return h2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:nn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new ci(2e3,1e4);async function p2(t,e,n){if(Xt(t.app))return Promise.reject(pn(t,"operation-not-supported-in-this-environment"));const r=Nr(t);KE(t,e,Vu);const s=M0(r,n);return new ns(r,"signInViaPopup",e,s).executeNotNull()}class ns extends D0{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=Wu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f2.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="pendingRedirect",Gi=new Map;class m2 extends D0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gi.get(this.auth._key());if(!e){try{const r=await v2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gi.set(this.auth._key(),e)}return this.bypassAuthState||Gi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v2(t,e){const n=b2(e),r=_2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function y2(t,e){Gi.set(t._key(),e)}function _2(t){return zn(t._redirectPersistence)}function b2(t){return Ki(g2,t.config.apiKey,t.name)}async function w2(t,e,n=!1){if(Xt(t.app))return Promise.reject(Kn(t));const r=Nr(t),s=M0(r,e),i=await new m2(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=10*60*1e3;class x2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!j0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hh(e))}saveEventToCache(e){this.cachedEventUids.add(Hh(e)),this.lastProcessedEventTime=Date.now()}}function Hh(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(t,e={}){return tr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C2=/^https?/;async function I2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T2(t);for(const n of e)try{if(A2(n))return}catch{}nn(t,"unauthorized-domain")}function A2(t){const e=Tc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!C2.test(n))return!1;if(S2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new ci(3e4,6e4);function Vh(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R2(t){return new Promise((e,n)=>{var r,s,o;function i(){Vh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vh(),n(pn(t,"network-request-failed"))},timeout:O2.get()})}if(!((s=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Cn().gapi)===null||o===void 0)&&o.load)i();else{const a=Ex("iframefcb");return Cn()[a]=()=>{gapi.load?i():n(pn(t,"network-request-failed"))},w0(`${wx()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ji=null,e})}let Ji=null;function P2(t){return Ji=Ji||R2(t),Ji}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new ci(5e3,15e3),L2="__/auth/iframe",$2="emulator/auth/iframe",M2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j2(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ju(e,$2):`https://${t.config.authDomain}/${L2}`,r={apiKey:e.apiKey,appName:t.name,v:li},s=D2.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ai(r).slice(1)}`}async function U2(t){const e=await P2(t),n=Cn().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:j2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M2,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=pn(t,"network-request-failed"),a=Cn().setTimeout(()=>{o(i)},N2.get());function l(){Cn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B2=500,H2=600,V2="_blank",W2="http://localhost";class Wh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q2(t,e,n,r=B2,s=H2){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},F2),{width:r.toString(),height:s.toString(),top:o,left:i}),c=Dt().toLowerCase();n&&(a=p0(c)?V2:n),h0(c)&&(e=e||W2,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(hx(c)&&a!=="_self")return z2(e||"",a),new Wh(null);const h=window.open(e||"",a,u);Te(h,t,"popup-blocked");try{h.focus()}catch{}return new Wh(h)}function z2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="__/auth/handler",G2="emulator/auth/handler",J2=encodeURIComponent("fac");async function qh(t,e,n,r,s,o){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:li,eventId:s};if(e instanceof Vu){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",Iw(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))i[u]=h}if(e instanceof di){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(i.scopes=u.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${J2}=${encodeURIComponent(l)}`:"";return`${Y2(t)}?${ai(a).slice(1)}${c}`}function Y2({config:t}){return t.emulator?ju(t,G2):`https://${t.authDomain}/${K2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="webStorageSupport";class X2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=w2,this._overrideRedirectResult=y2}async _openPopup(e,n,r,s){var o;Xn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await qh(e,n,r,Tc(),s);return q2(e,i,Wu())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await qh(e,n,r,Tc(),s);return e2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Xn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U2(e),r=new x2(e);return n.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($l,{type:$l},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[$l];i!==void 0&&n(!!i),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _0()||f0()||Fu()}}const Q2=X2;var zh="@firebase/auth",Kh="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tk(t){Wo(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;Te(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b0(t)},c=new yx(r,s,o,l);return Ix(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new Ks("auth-internal",e=>{const n=Nr(e.getProvider("auth").getImmediate());return(r=>new Z2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(zh,Kh,ek(t)),Ms(zh,Kh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=5*60,rk=Sm("authIdTokenMaxAge")||nk;let Gh=null;const sk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rk)return;const s=n==null?void 0:n.token;Gh!==s&&(Gh=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function gs(t=OE()){const e=Om(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Cx(t,{popupRedirectResolver:Q2,persistence:[c2,A0,R0]}),r=Sm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=sk(o.toString());Jx(n,i,()=>i(n.currentUser)),Gx(n,a=>i(a))}}const s=hw("auth");return s&&Ax(n,`http://${s}`),n}function ok(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_x({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=pn("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",ok().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tk("Browser");const ik="modulepreload",ak=function(t,e){return new URL(t,e).href},Jh={},dt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=ak(c,r),c in Jh)return;Jh[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!r)for(let g=i.length-1;g>=0;g--){const y=i[g];if(y.href===c&&(!u||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":ik,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((g,y)=>{p.addEventListener("load",g),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let U0;const Ja=t=>U0=t,F0=Symbol();function Ac(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Oo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Oo||(Oo={}));function lk(){const t=pu(!0),e=t.run(()=>Y({}));let n=[],r=[];const s=Eu({install(o){Ja(s),s._a=o,o.provide(F0,s),o.config.globalProperties.$pinia=s,r.forEach(i=>n.push(i)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const B0=()=>{};function Yh(t,e,n,r=B0){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&$p()&&zy(s),s}function ys(t,...e){t.slice().forEach(n=>{n(...e)})}const ck=t=>t(),Xh=Symbol(),Ml=Symbol();function Oc(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Ac(s)&&Ac(r)&&t.hasOwnProperty(n)&&!lt(r)&&!br(r)?t[n]=Oc(s,r):t[n]=r}return t}const uk=Symbol();function dk(t){return!Ac(t)||!Object.prototype.hasOwnProperty.call(t,uk)}const{assign:cr}=Object;function hk(t){return!!(lt(t)&&t.effect)}function fk(t,e,n,r){const{state:s,actions:o,getters:i}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=s?s():{});const u=p1(n.state.value[t]);return cr(u,o,Object.keys(i||{}).reduce((h,f)=>(h[f]=Eu(ve(()=>{Ja(n);const p=n._s.get(t);return i[f].call(p,p)})),h),{}))}return l=H0(t,c,e,n,r,!0),l}function H0(t,e,n={},r,s,o){let i;const a=cr({actions:{}},n),l={deep:!0};let c,u,h=[],f=[],p;const g=r.state.value[t];!o&&!g&&(r.state.value[t]={}),Y({});let y;function v(P){let m;c=u=!1,typeof P=="function"?(P(r.state.value[t]),m={type:Oo.patchFunction,storeId:t,events:p}):(Oc(r.state.value[t],P),m={type:Oo.patchObject,payload:P,storeId:t,events:p});const $=y=Symbol();Ar().then(()=>{y===$&&(c=!0)}),u=!0,ys(h,m,r.state.value[t])}const T=o?function(){const{state:m}=n,$=m?m():{};this.$patch(ee=>{cr(ee,$)})}:B0;function A(){i.stop(),h=[],f=[],r._s.delete(t)}const _=(P,m="")=>{if(Xh in P)return P[Ml]=m,P;const $=function(){Ja(r);const ee=Array.from(arguments),F=[],ae=[];function _e(U){F.push(U)}function Ce(U){ae.push(U)}ys(f,{args:ee,name:$[Ml],store:R,after:_e,onError:Ce});let te;try{te=P.apply(this&&this.$id===t?this:R,ee)}catch(U){throw ys(ae,U),U}return te instanceof Promise?te.then(U=>(ys(F,U),U)).catch(U=>(ys(ae,U),Promise.reject(U))):(ys(F,te),te)};return $[Xh]=!0,$[Ml]=m,$},b={_p:r,$id:t,$onAction:Yh.bind(null,f),$patch:v,$reset:T,$subscribe(P,m={}){const $=Yh(h,P,m.detached,()=>ee()),ee=i.run(()=>Zt(()=>r.state.value[t],F=>{(m.flush==="sync"?u:c)&&P({storeId:t,type:Oo.direct,events:p},F)},cr({},l,m)));return $},$dispose:A},R=rn(b);r._s.set(t,R);const x=(r._a&&r._a.runWithContext||ck)(()=>r._e.run(()=>(i=pu()).run(()=>e({action:_}))));for(const P in x){const m=x[P];if(lt(m)&&!hk(m)||br(m))o||(g&&dk(m)&&(lt(m)?m.value=g[P]:Oc(m,g[P])),r.state.value[t][P]=m);else if(typeof m=="function"){const $=_(m,P);x[P]=$,a.actions[P]=m}}return cr(R,x),cr(Ie(R),x),Object.defineProperty(R,"$state",{get:()=>r.state.value[t],set:P=>{v(m=>{cr(m,P)})}}),r._p.forEach(P=>{cr(R,i.run(()=>P({store:R,app:r._a,pinia:r,options:a})))}),g&&o&&n.hydrate&&n.hydrate(R.$state,g),c=!0,u=!0,R}/*! #__NO_SIDE_EFFECTS__ */function zu(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function o(i,a){const l=H1();return i=i||(l?Kt(F0,null):null),i&&Ja(i),i=U0,i._s.has(t)||(s?H0(t,e,r,i):fk(t,r,i)),i._s.get(t)}return o.$id=t,o}function V0(t,e){return function(){return t.apply(e,arguments)}}const{toString:pk}=Object.prototype,{getPrototypeOf:Ku}=Object,{iterator:Ya,toStringTag:W0}=Symbol,Xa=(t=>e=>{const n=pk.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=t=>(t=t.toLowerCase(),e=>Xa(e)===t),Qa=t=>e=>typeof e===t,{isArray:ro}=Array,Ko=Qa("undefined");function gk(t){return t!==null&&!Ko(t)&&t.constructor!==null&&!Ko(t.constructor)&&Ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const q0=yn("ArrayBuffer");function mk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&q0(t.buffer),e}const vk=Qa("string"),Ft=Qa("function"),z0=Qa("number"),Za=t=>t!==null&&typeof t=="object",yk=t=>t===!0||t===!1,Yi=t=>{if(Xa(t)!=="object")return!1;const e=Ku(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(W0 in t)&&!(Ya in t)},_k=yn("Date"),bk=yn("File"),wk=yn("Blob"),Ek=yn("FileList"),xk=t=>Za(t)&&Ft(t.pipe),kk=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ft(t.append)&&((e=Xa(t))==="formdata"||e==="object"&&Ft(t.toString)&&t.toString()==="[object FormData]"))},Tk=yn("URLSearchParams"),[Sk,Ck,Ik,Ak]=["ReadableStream","Request","Response","Headers"].map(yn),Ok=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pi(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),ro(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,t[a],a,t)}}function K0(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,G0=t=>!Ko(t)&&t!==rs;function Rc(){const{caseless:t}=G0(this)&&this||{},e={},n=(r,s)=>{const o=t&&K0(e,s)||s;Yi(e[o])&&Yi(r)?e[o]=Rc(e[o],r):Yi(r)?e[o]=Rc({},r):ro(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&pi(arguments[r],n);return e}const Rk=(t,e,n,{allOwnKeys:r}={})=>(pi(e,(s,o)=>{n&&Ft(s)?t[o]=V0(s,n):t[o]=s},{allOwnKeys:r}),t),Pk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Nk=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Lk=(t,e,n,r)=>{let s,o,i;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Ku(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$k=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Mk=t=>{if(!t)return null;if(ro(t))return t;let e=t.length;if(!z0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Dk=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ku(Uint8Array)),jk=(t,e)=>{const r=(t&&t[Ya]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Uk=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Fk=yn("HTMLFormElement"),Bk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Qh=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Hk=yn("RegExp"),J0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};pi(n,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(r[o]=i||s)}),Object.defineProperties(t,r)},Vk=t=>{J0(t,(e,n)=>{if(Ft(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ft(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Wk=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return ro(t)?r(t):r(String(t).split(e)),n},qk=()=>{},zk=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Kk(t){return!!(t&&Ft(t.append)&&t[W0]==="FormData"&&t[Ya])}const Gk=t=>{const e=new Array(10),n=(r,s)=>{if(Za(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=ro(r)?[]:{};return pi(r,(i,a)=>{const l=n(i,s+1);!Ko(l)&&(o[a]=l)}),e[s]=void 0,o}}return r};return n(t,0)},Jk=yn("AsyncFunction"),Yk=t=>t&&(Za(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch),Y0=((t,e)=>t?setImmediate:e?((n,r)=>(rs.addEventListener("message",({source:s,data:o})=>{s===rs&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),rs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ft(rs.postMessage)),Xk=typeof queueMicrotask<"u"?queueMicrotask.bind(rs):typeof process<"u"&&process.nextTick||Y0,Qk=t=>t!=null&&Ft(t[Ya]),W={isArray:ro,isArrayBuffer:q0,isBuffer:gk,isFormData:kk,isArrayBufferView:mk,isString:vk,isNumber:z0,isBoolean:yk,isObject:Za,isPlainObject:Yi,isReadableStream:Sk,isRequest:Ck,isResponse:Ik,isHeaders:Ak,isUndefined:Ko,isDate:_k,isFile:bk,isBlob:wk,isRegExp:Hk,isFunction:Ft,isStream:xk,isURLSearchParams:Tk,isTypedArray:Dk,isFileList:Ek,forEach:pi,merge:Rc,extend:Rk,trim:Ok,stripBOM:Pk,inherits:Nk,toFlatObject:Lk,kindOf:Xa,kindOfTest:yn,endsWith:$k,toArray:Mk,forEachEntry:jk,matchAll:Uk,isHTMLForm:Fk,hasOwnProperty:Qh,hasOwnProp:Qh,reduceDescriptors:J0,freezeMethods:Vk,toObjectSet:Wk,toCamelCase:Bk,noop:qk,toFiniteNumber:zk,findKey:K0,global:rs,isContextDefined:G0,isSpecCompliantForm:Kk,toJSONObject:Gk,isAsyncFn:Jk,isThenable:Yk,setImmediate:Y0,asap:Xk,isIterable:Qk};function $e(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}W.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const X0=$e.prototype,Q0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Q0[t]={value:t}});Object.defineProperties($e,Q0);Object.defineProperty(X0,"isAxiosError",{value:!0});$e.from=(t,e,n,r,s,o)=>{const i=Object.create(X0);return W.toFlatObject(t,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),$e.call(i,t.message,e,n,r,s),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const Zk=null;function Pc(t){return W.isPlainObject(t)||W.isArray(t)}function Z0(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function Zh(t,e,n){return t?t.concat(e).map(function(s,o){return s=Z0(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function eT(t){return W.isArray(t)&&!t.some(Pc)}const tT=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function el(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!W.isUndefined(v[y])});const r=n.metaTokens,s=n.visitor||u,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(s))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(W.isDate(g))return g.toISOString();if(!l&&W.isBlob(g))throw new $e("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(g)||W.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,v){let T=g;if(g&&!v&&typeof g=="object"){if(W.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(W.isArray(g)&&eT(g)||(W.isFileList(g)||W.endsWith(y,"[]"))&&(T=W.toArray(g)))return y=Z0(y),T.forEach(function(_,b){!(W.isUndefined(_)||_===null)&&e.append(i===!0?Zh([y],b,o):i===null?y:y+"[]",c(_))}),!1}return Pc(g)?!0:(e.append(Zh(v,y,o),c(g)),!1)}const h=[],f=Object.assign(tT,{defaultVisitor:u,convertValue:c,isVisitable:Pc});function p(g,y){if(!W.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(g),W.forEach(g,function(T,A){(!(W.isUndefined(T)||T===null)&&s.call(e,T,W.isString(A)?A.trim():A,y,f))===!0&&p(T,y?y.concat(A):[A])}),h.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return p(t),e}function ef(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Gu(t,e){this._pairs=[],t&&el(t,this,e)}const ev=Gu.prototype;ev.append=function(e,n){this._pairs.push([e,n])};ev.toString=function(e){const n=e?function(r){return e.call(this,r,ef)}:ef;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function nT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tv(t,e,n){if(!e)return t;const r=n&&n.encode||nT;W.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=W.isURLSearchParams(e)?e.toString():new Gu(e,n).toString(r),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class tf{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(r){r!==null&&e(r)})}}const nv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rT=typeof URLSearchParams<"u"?URLSearchParams:Gu,sT=typeof FormData<"u"?FormData:null,oT=typeof Blob<"u"?Blob:null,iT={isBrowser:!0,classes:{URLSearchParams:rT,FormData:sT,Blob:oT},protocols:["http","https","file","blob","url","data"]},Ju=typeof window<"u"&&typeof document<"u",Nc=typeof navigator=="object"&&navigator||void 0,aT=Ju&&(!Nc||["ReactNative","NativeScript","NS"].indexOf(Nc.product)<0),lT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cT=Ju&&window.location.href||"http://localhost",uT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ju,hasStandardBrowserEnv:aT,hasStandardBrowserWebWorkerEnv:lT,navigator:Nc,origin:cT},Symbol.toStringTag,{value:"Module"})),At={...uT,...iT};function dT(t,e){return el(t,new At.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return At.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function hT(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function fT(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function rv(t){function e(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&W.isArray(s)?s.length:i,l?(W.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!W.isObject(s[i]))&&(s[i]=[]),e(n,r,s[i],o)&&W.isArray(s[i])&&(s[i]=fT(s[i])),!a)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(r,s)=>{e(hT(r),s,n,0)}),n}return null}function pT(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const gi={transitional:nv,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=W.isObject(e);if(o&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return s?JSON.stringify(rv(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return dT(e,this.formSerializer).toString();if((a=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return el(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),pT(e)):e}],transformResponse:[function(e){const n=this.transitional||gi.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?$e.from(a,$e.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{gi.headers[t]={}});const gT=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mT=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||e[n]&&gT[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},nf=Symbol("internals");function ho(t){return t&&String(t).trim().toLowerCase()}function Xi(t){return t===!1||t==null?t:W.isArray(t)?t.map(Xi):String(t)}function vT(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const yT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Dl(t,e,n,r,s){if(W.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!W.isString(e)){if(W.isString(r))return e.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(e)}}function _T(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function bT(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,i){return this[r].call(this,e,s,o,i)},configurable:!0})})}let Bt=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(a,l,c){const u=ho(l);if(!u)throw new Error("header name must be a non-empty string");const h=W.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=Xi(a))}const i=(a,l)=>W.forEach(a,(c,u)=>o(c,u,l));if(W.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(W.isString(e)&&(e=e.trim())&&!yT(e))i(mT(e),n);else if(W.isObject(e)&&W.isIterable(e)){let a={},l,c;for(const u of e){if(!W.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?W.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=ho(e),e){const r=W.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return vT(s);if(W.isFunction(n))return n.call(this,s,r);if(W.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ho(e),e){const r=W.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Dl(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(i){if(i=ho(i),i){const a=W.findKey(r,i);a&&(!n||Dl(r,r[a],a,n))&&(delete r[a],s=!0)}}return W.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||Dl(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return W.forEach(this,(s,o)=>{const i=W.findKey(r,o);if(i){n[i]=Xi(s),delete n[o];return}const a=e?_T(o):String(o).trim();a!==o&&delete n[o],n[a]=Xi(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[nf]=this[nf]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=ho(i);r[a]||(bT(s,i),r[a]=!0)}return W.isArray(e)?e.forEach(o):o(e),this}};Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Bt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});W.freezeMethods(Bt);function jl(t,e){const n=this||gi,r=e||n,s=Bt.from(r.headers);let o=r.data;return W.forEach(t,function(a){o=a.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function sv(t){return!!(t&&t.__CANCEL__)}function so(t,e,n){$e.call(this,t??"canceled",$e.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(so,$e,{__CANCEL__:!0});function ov(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new $e("Request failed with status code "+n.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wT(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ET(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];i||(i=c),n[s]=l,r[s]=c;let h=o,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),c-i<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function xT(t,e){let n=0,r=1e3/e,s,o;const i=(c,u=Date.now())=>{n=u,s=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?i(c,u):(s=c,o||(o=setTimeout(()=>{o=null,i(s)},r-h)))},()=>s&&i(s)]}const xa=(t,e,n=3)=>{let r=0;const s=ET(50,250);return xT(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,l=i-r,c=s(l),u=i<=a;r=i;const h={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-i)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},rf=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},sf=t=>(...e)=>W.asap(()=>t(...e)),kT=At.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,At.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,TT=At.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const i=[t+"="+encodeURIComponent(e)];W.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),W.isString(r)&&i.push("path="+r),W.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ST(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CT(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function iv(t,e,n){let r=!ST(e);return t&&(r||n==!1)?CT(t,e):e}const of=t=>t instanceof Bt?{...t}:t;function ms(t,e){e=e||{};const n={};function r(c,u,h,f){return W.isPlainObject(c)&&W.isPlainObject(u)?W.merge.call({caseless:f},c,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function s(c,u,h,f){if(W.isUndefined(u)){if(!W.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function o(c,u){if(!W.isUndefined(u))return r(void 0,u)}function i(c,u){if(W.isUndefined(u)){if(!W.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(c,u,h)=>s(of(c),of(u),h,!0)};return W.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,f=h(t[u],e[u],u);W.isUndefined(f)&&h!==a||(n[u]=f)}),n}const av=t=>{const e=ms({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=e;e.headers=i=Bt.from(i),e.url=tv(iv(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(W.isFormData(n)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(At.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(e)),r||r!==!1&&kT(e.url))){const c=s&&o&&TT.read(o);c&&i.set(s,c)}return e},IT=typeof XMLHttpRequest<"u",AT=IT&&function(t){return new Promise(function(n,r){const s=av(t);let o=s.data;const i=Bt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,h,f,p,g;function y(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function T(){if(!v)return;const _=Bt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:t,request:v};ov(function(x){n(x),y()},function(x){r(x),y()},R),v=null}"onloadend"in v?v.onloadend=T:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(T)},v.onabort=function(){v&&(r(new $e("Request aborted",$e.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new $e("Network Error",$e.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||nv;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),r(new $e(b,R.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,t,v)),v=null},o===void 0&&i.setContentType(null),"setRequestHeader"in v&&W.forEach(i.toJSON(),function(b,R){v.setRequestHeader(R,b)}),W.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),a&&a!=="json"&&(v.responseType=s.responseType),c&&([f,g]=xa(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([h,p]=xa(l),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=_=>{v&&(r(!_||_.type?new so(null,t,v):_),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const A=wT(s.url);if(A&&At.protocols.indexOf(A)===-1){r(new $e("Unsupported protocol "+A+":",$e.ERR_BAD_REQUEST,t));return}v.send(o||null)})},OT=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof $e?u:new so(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new $e(`timeout ${e} of ms exceeded`,$e.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>W.asap(a),l}},RT=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},PT=async function*(t,e){for await(const n of NT(t))yield*RT(n,e)},NT=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},af=(t,e,n,r)=>{const s=PT(t,e);let o=0,i,a=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let h=u.byteLength;if(n){let f=o+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},tl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lv=tl&&typeof ReadableStream=="function",LT=tl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),cv=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$T=lv&&cv(()=>{let t=!1;const e=new Request(At.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),lf=64*1024,Lc=lv&&cv(()=>W.isReadableStream(new Response("").body)),ka={stream:Lc&&(t=>t.body)};tl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ka[e]&&(ka[e]=W.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new $e(`Response type '${e}' is not supported`,$e.ERR_NOT_SUPPORT,r)})})})(new Response);const MT=async t=>{if(t==null)return 0;if(W.isBlob(t))return t.size;if(W.isSpecCompliantForm(t))return(await new Request(At.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(W.isArrayBufferView(t)||W.isArrayBuffer(t))return t.byteLength;if(W.isURLSearchParams(t)&&(t=t+""),W.isString(t))return(await LT(t)).byteLength},DT=async(t,e)=>{const n=W.toFiniteNumber(t.getContentLength());return n??MT(e)},jT=tl&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=av(t);c=c?(c+"").toLowerCase():"text";let p=OT([s,o&&o.toAbortSignal()],i),g;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&$T&&n!=="get"&&n!=="head"&&(v=await DT(u,r))!==0){let R=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(W.isFormData(r)&&(k=R.headers.get("content-type"))&&u.setContentType(k),R.body){const[x,P]=rf(v,xa(sf(l)));r=af(R.body,lf,x,P)}}W.isString(h)||(h=h?"include":"omit");const T="credentials"in Request.prototype;g=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:T?h:void 0});let A=await fetch(g);const _=Lc&&(c==="stream"||c==="response");if(Lc&&(a||_&&y)){const R={};["status","statusText","headers"].forEach(m=>{R[m]=A[m]});const k=W.toFiniteNumber(A.headers.get("content-length")),[x,P]=a&&rf(k,xa(sf(a),!0))||[];A=new Response(af(A.body,lf,x,()=>{P&&P(),y&&y()}),R)}c=c||"text";let b=await ka[W.findKey(ka,c)||"text"](A,t);return!_&&y&&y(),await new Promise((R,k)=>{ov(R,k,{data:b,headers:Bt.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:g})})}catch(T){throw y&&y(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,t,g),{cause:T.cause||T}):$e.from(T,T&&T.code,t,g)}}),$c={http:Zk,xhr:AT,fetch:jT};W.forEach($c,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cf=t=>`- ${t}`,UT=t=>W.isFunction(t)||t===null||t===!1,uv={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let i;if(r=n,!UT(n)&&(r=$c[(i=String(n)).toLowerCase()],r===void 0))throw new $e(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(cf).join(`
`):" "+cf(o[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:$c};function Ul(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new so(null,t)}function uf(t){return Ul(t),t.headers=Bt.from(t.headers),t.data=jl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uv.getAdapter(t.adapter||gi.adapter)(t).then(function(r){return Ul(t),r.data=jl.call(t,t.transformResponse,r),r.headers=Bt.from(r.headers),r},function(r){return sv(r)||(Ul(t),r&&r.response&&(r.response.data=jl.call(t,t.transformResponse,r.response),r.response.headers=Bt.from(r.response.headers))),Promise.reject(r)})}const dv="1.9.0",nl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{nl[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const df={};nl.transitional=function(e,n,r){function s(o,i){return"[Axios v"+dv+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(e===!1)throw new $e(s(i," has been removed"+(n?" in "+n:"")),$e.ERR_DEPRECATED);return n&&!df[i]&&(df[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};nl.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function FT(t,e,n){if(typeof t!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],i=e[o];if(i){const a=t[o],l=a===void 0||i(a,o,t);if(l!==!0)throw new $e("option "+o+" must be "+l,$e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $e("Unknown option "+o,$e.ERR_BAD_OPTION)}}const Qi={assertOptions:FT,validators:nl},bn=Qi.validators;let as=class{constructor(e){this.defaults=e||{},this.interceptors={request:new tf,response:new tf}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ms(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Qi.assertOptions(r,{silentJSONParsing:bn.transitional(bn.boolean),forcedJSONParsing:bn.transitional(bn.boolean),clarifyTimeoutError:bn.transitional(bn.boolean)},!1),s!=null&&(W.isFunction(s)?n.paramsSerializer={serialize:s}:Qi.assertOptions(s,{encode:bn.function,serialize:bn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Qi.assertOptions(n,{baseUrl:bn.spelling("baseURL"),withXsrfToken:bn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&W.merge(o.common,o[n.method]);o&&W.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=Bt.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,h=0,f;if(!l){const g=[uf.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);h<f;)u=u.then(g[h++],g[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const g=a[h++],y=a[h++];try{p=g(p)}catch(v){y.call(this,v);break}}try{u=uf.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=ms(this.defaults,e);const n=iv(e.baseURL,e.url,e.allowAbsoluteUrls);return tv(n,e.params,e.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(e){as.prototype[e]=function(n,r){return this.request(ms(r||{},{method:e,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(r){return function(o,i,a){return this.request(ms(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}as.prototype[e]=n(),as.prototype[e+"Form"]=n(!0)});let BT=class hv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,a){r.reason||(r.reason=new so(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new hv(function(s){e=s}),cancel:e}}};function HT(t){return function(n){return t.apply(null,n)}}function VT(t){return W.isObject(t)&&t.isAxiosError===!0}const Mc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mc).forEach(([t,e])=>{Mc[e]=t});function fv(t){const e=new as(t),n=V0(as.prototype.request,e);return W.extend(n,as.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return fv(ms(t,s))},n}const xe=fv(gi);xe.Axios=as;xe.CanceledError=so;xe.CancelToken=BT;xe.isCancel=sv;xe.VERSION=dv;xe.toFormData=el;xe.AxiosError=$e;xe.Cancel=xe.CanceledError;xe.all=function(e){return Promise.all(e)};xe.spread=HT;xe.isAxiosError=VT;xe.mergeConfig=ms;xe.AxiosHeaders=Bt;xe.formToJSON=t=>rv(W.isHTMLForm(t)?new FormData(t):t);xe.getAdapter=uv.getAdapter;xe.HttpStatusCode=Mc;xe.default=xe;const{Axios:WT,AxiosError:qT,CanceledError:zT,isCancel:KT,CancelToken:GT,VERSION:JT,all:YT,Cancel:XT,isAxiosError:QT,spread:ZT,toFormData:eS,AxiosHeaders:tS,HttpStatusCode:nS,formToJSON:rS,getAdapter:sS,mergeConfig:oS}=xe,iS=Object.freeze(Object.defineProperty({__proto__:null,Axios:WT,AxiosError:qT,AxiosHeaders:tS,Cancel:XT,CancelToken:GT,CanceledError:zT,HttpStatusCode:nS,VERSION:JT,all:YT,default:xe,formToJSON:rS,getAdapter:sS,isAxiosError:QT,isCancel:KT,mergeConfig:oS,spread:ZT,toFormData:eS},Symbol.toStringTag,{value:"Module"})),aS=()=>"https://your-production-domain.com/backend/api",rl={BACKEND_URL:aS(),MOVIE_API_URL:"https://phimapi.com/v1/api",USE_PHP_BACKEND:!1};class lS{constructor(){this.dbName="hthree_auth_db",this.storeName="auth_store",this.db=null,this.initDB()}async initDB(){return new Promise((e,n)=>{if(!window.indexedDB){console.warn(" IndexedDB not supported"),e(null);return}const r=indexedDB.open(this.dbName,1);r.onerror=()=>{console.error(" IndexedDB error:",r.error),n(r.error)},r.onsuccess=()=>{this.db=r.result,console.log(" IndexedDB initialized"),e(this.db)},r.onupgradeneeded=s=>{const o=s.target.result;o.objectStoreNames.contains(this.storeName)||(o.createObjectStore(this.storeName),console.log(" IndexedDB object store created"))}})}async setItem(e,n){const r=typeof n=="string"?n:JSON.stringify(n),s={indexedDB:!1,localStorage:!1,sessionStorage:!1,cookie:!1};try{await this.setIndexedDB(e,r),s.indexedDB=!0,console.log(` Saved to IndexedDB: ${e}`)}catch(o){console.warn(` IndexedDB save failed: ${o.message}`)}try{localStorage.setItem(e,r),s.localStorage=!0,console.log(` Saved to LocalStorage: ${e}`)}catch(o){console.warn(` LocalStorage save failed: ${o.message}`)}try{sessionStorage.setItem(e,r),s.sessionStorage=!0,console.log(` Saved to SessionStorage: ${e}`)}catch(o){console.warn(` SessionStorage save failed: ${o.message}`)}try{r.length<4e3&&(document.cookie=`${e}=${encodeURIComponent(r)}; path=/; max-age=2592000; SameSite=Lax`,s.cookie=!0,console.log(` Saved to Cookie: ${e}`))}catch(o){console.warn(` Cookie save failed: ${o.message}`)}return console.log(` Save results for "${e}":`,s),s}async getItem(e){let n=null;try{if(n=await this.getIndexedDB(e),n)return console.log(` Retrieved from IndexedDB: ${e}`),this.syncToOtherStorages(e,n),n}catch(r){console.warn(` IndexedDB read failed: ${r.message}`)}try{if(n=localStorage.getItem(e),n)return console.log(` Retrieved from LocalStorage: ${e}`),this.setIndexedDB(e,n),n}catch(r){console.warn(` LocalStorage read failed: ${r.message}`)}try{if(n=sessionStorage.getItem(e),n)return console.log(` Retrieved from SessionStorage: ${e}`),this.syncToOtherStorages(e,n),n}catch(r){console.warn(` SessionStorage read failed: ${r.message}`)}try{if(n=this.getCookie(e),n)return console.log(` Retrieved from Cookie: ${e}`),this.syncToOtherStorages(e,n),n}catch(r){console.warn(` Cookie read failed: ${r.message}`)}return console.log(` No data found for: ${e}`),null}async removeItem(e){try{await this.removeIndexedDB(e),console.log(` Removed from IndexedDB: ${e}`)}catch(n){console.warn(` IndexedDB remove failed: ${n.message}`)}try{localStorage.removeItem(e),console.log(` Removed from LocalStorage: ${e}`)}catch(n){console.warn(` LocalStorage remove failed: ${n.message}`)}try{sessionStorage.removeItem(e),console.log(` Removed from SessionStorage: ${e}`)}catch(n){console.warn(` SessionStorage remove failed: ${n.message}`)}try{document.cookie=`${e}=; path=/; max-age=0`,console.log(` Removed from Cookie: ${e}`)}catch(n){console.warn(` Cookie remove failed: ${n.message}`)}}async setIndexedDB(e,n){if(this.db||await this.initDB(),!this.db)throw new Error("IndexedDB not available");return new Promise((r,s)=>{const a=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(n,e);a.onsuccess=()=>r(!0),a.onerror=()=>s(a.error)})}async getIndexedDB(e){return this.db||await this.initDB(),this.db?new Promise((n,r)=>{const i=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);i.onsuccess=()=>n(i.result||null),i.onerror=()=>r(i.error)}):null}async removeIndexedDB(e){if(this.db||await this.initDB(),!!this.db)return new Promise((n,r)=>{const i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);i.onsuccess=()=>n(!0),i.onerror=()=>r(i.error)})}getCookie(e){const n=document.cookie.split(";");for(let r of n){const[s,o]=r.trim().split("=");if(s===e)return decodeURIComponent(o)}return null}async syncToOtherStorages(e,n){try{await this.setIndexedDB(e,n),localStorage.setItem(e,n),sessionStorage.setItem(e,n)}catch(r){console.warn(" Sync failed:",r.message)}}}const Vr=new lS,hf=rl.BACKEND_URL;class cS{async register(e,n,r,s){try{return(await xe.post(`${hf}/auth/register.php`,{username:e,email:n,password:r,full_name:s})).data}catch(o){throw console.error("Register error:",o),o}}async login(e,n){try{const r=await xe.post(`${hf}/auth/login.php`,{username:e,password:n});return r.data.status&&(await Vr.setItem("user",JSON.stringify(r.data.user)),await Vr.setItem("token",r.data.token),console.log(" Auth data saved to persistent storage")),r.data}catch(r){throw console.error("Login error:",r),r}}async logout(){await Vr.removeItem("user"),await Vr.removeItem("token"),console.log(" Auth data removed from all storages")}async getCurrentUser(){const e=await Vr.getItem("user");if(e)try{return JSON.parse(e)}catch(n){return console.error("Error parsing user data:",n),null}return null}getCurrentUserSync(){try{const e=localStorage.getItem("user");if(e)return JSON.parse(e)}catch(e){console.error("Error getting user sync:",e)}return null}async isLoggedIn(){return!!await Vr.getItem("token")}async getToken(){return await Vr.getItem("token")}getTokenSync(){return localStorage.getItem("token")}}const or=new cS,Ro=zu("auth",{state:()=>({user:null,loading:!0,error:null}),getters:{isAuthenticated:t=>!!t.user,userId:t=>{var e,n;return((e=t.user)==null?void 0:e.id)||((n=t.user)==null?void 0:n.uid)||null},userEmail:t=>{var e;return((e=t.user)==null?void 0:e.email)||null},userName:t=>t.user?t.user.full_name||t.user.displayName||t.user.username||"User":null,userAvatar:t=>t.user&&(t.user.avatar||t.user.photoURL)||null},actions:{async initAuth(){this.loading=!0;try{console.log(" Initializing auth...");const t=or.getCurrentUserSync(),e=or.getTokenSync();if(t&&e)return this.user=t,this.loading=!1,console.log(" AuthStore - User restored INSTANTLY from localStorage:",t.email),this.verifyPersistentStorage(),this.refreshUserData(),t;const n=await or.getCurrentUser(),r=await or.getToken();if(console.log(" Checking persistent storage on init:",{hasUser:!!n,hasToken:!!r,user:n}),n&&r)return this.user=n,console.log(" AuthStore - User restored from persistent storage:",n.email),this.loading=!1,n;const s=gs();return new Promise(o=>{hi(s,i=>{i?(this.user={id:i.uid,uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,emailVerified:i.emailVerified},console.log(" AuthStore - Firebase user loaded:",i.email)):(this.user=null,console.log(" AuthStore - No user logged in")),this.loading=!1,o(this.user)})})}catch(t){return console.error(" Error initializing auth:",t),this.error=t.message,this.loading=!1,null}},async verifyPersistentStorage(){try{const t=await or.getCurrentUser(),e=await or.getToken();t&&e?console.log(" Persistent storage verified"):(console.warn(" Persistent storage missing, syncing from localStorage..."),this.user&&await or.login(null,null))}catch(t){console.warn(" Persistent storage verification failed:",t)}},async refreshUserData(){try{if(!this.user)return;const t=this.user.id||this.user.uid;if(!t)return;const r=await(await fetch(`https://hthree-film-production.up.railway.app/api/get_user.php?user_id=${t}`)).json();if(r.success&&r.user){const s={...this.user,avatar:r.user.avatar||this.user.avatar,photoURL:r.user.avatar||this.user.photoURL,full_name:r.user.full_name||this.user.full_name,phone:r.user.phone||this.user.phone,bio:r.user.bio||this.user.bio};this.user=s,localStorage.setItem("user",JSON.stringify(s)),console.log(" AuthStore - User data refreshed from database:",{avatar:r.user.avatar,full_name:r.user.full_name})}}catch(t){console.warn(" Failed to refresh user data:",t)}},setUser(t){this.user=t,this.error=null},clearUser(){this.user=null,this.error=null},async logout(){try{await gs().signOut(),or.logout(),this.clearUser(),console.log(" AuthStore - User logged out")}catch(t){throw console.error("Error logging out:",t),this.error=t.message,t}}}}),uS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Yu extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class dS extends Yu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ff extends Yu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pf extends Yu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Dc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Dc||(Dc={}));class hS{constructor(e,{headers:n={},customFetch:r,region:s=Dc.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=uS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return fe(this,arguments,void 0,function*(n,r={}){var s;let o,i;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(f["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(f["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;let v=u;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),u?(v=i.signal,u.addEventListener("abort",()=>i.abort())):v=i.signal);const T=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:y,signal:v}).catch(R=>{throw new dS(R)}),A=T.headers.get("x-relay-error");if(A&&A==="true")throw new ff(T);if(!T.ok)throw new pf(T);let _=((s=T.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield T.json():_==="application/octet-stream"||_==="application/pdf"?b=yield T.blob():_==="text/event-stream"?b=T:_==="multipart/form-data"?b=yield T.formData():b=yield T.text(),{data:b,error:null,response:T}}catch(a){return{data:null,error:a,response:a instanceof pf||a instanceof ff?a.context:void 0}}finally{o&&clearTimeout(o)}})}}function fS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pS(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Tt={};const oo=pS(WE);var Ci={},Ii={},Ai={},Oi={},Ri={},Pi={},gf;function pv(){if(gf)return Pi;gf=1,Object.defineProperty(Pi,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Pi.default=t,Pi}var mf;function gv(){if(mf)return Ri;mf=1,Object.defineProperty(Ri,"__esModule",{value:!0});const e=oo.__importDefault(pv());class n{constructor(s){var o,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h,f;let p=null,g=null,y=null,v=l.status,T=l.statusText;if(l.ok){if(this.method!=="HEAD"){const R=await l.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=R:g=JSON.parse(R))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),b=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&b&&b.length>1&&(y=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,T="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await l.text();try{p=JSON.parse(_),Array.isArray(p)&&l.status===404&&(g=[],p=null,v=200,T="OK")}catch{l.status===404&&_===""?(v=204,T="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,v=200,T="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:y,status:v,statusText:T}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,u,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,o)}returns(){return this}overrideTypes(){return this}}return Ri.default=n,Ri}var vf;function mv(){if(vf)return Oi;vf=1,Object.defineProperty(Oi,"__esModule",{value:!0});const e=oo.__importDefault(gv());class n extends e.default{select(s){let o=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[s?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Oi.default=n,Oi}var yf;function Xu(){if(yf)return Ai;yf=1,Object.defineProperty(Ai,"__esModule",{value:!0});const e=oo.__importDefault(mv()),n=new RegExp("[,()]");class r extends e.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${c}fts${u}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return Ai.default=r,Ai}var _f;function vv(){if(_f)return Ii;_f=1,Object.defineProperty(Ii,"__esModule",{value:!0});const e=oo.__importDefault(Xu());class n{constructor(s,{headers:o={},schema:i,fetch:a}){this.url=s,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(s,o){const{head:i=!1,count:a}=o??{},l=i?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:i=!0}={}){var a;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var o;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ii.default=n,Ii}var bf;function gS(){if(bf)return Ci;bf=1,Object.defineProperty(Ci,"__esModule",{value:!0});const t=oo,e=t.__importDefault(vv()),n=t.__importDefault(Xu());class r{constructor(o,{headers:i={},schema:a,fetch:l}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(o){const i=new URL(`${this.url}/${o}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const f=new URL(`${this.url}/rpc/${o}`);let p;a||l?(h=a?"HEAD":"GET",Object.entries(i).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{f.searchParams.append(y,v)})):(h="POST",p=i);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new n.default({method:h,url:f,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Ci.default=r,Ci}var wf;function mS(){if(wf)return Tt;wf=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const t=oo,e=t.__importDefault(gS());Tt.PostgrestClient=e.default;const n=t.__importDefault(vv());Tt.PostgrestQueryBuilder=n.default;const r=t.__importDefault(Xu());Tt.PostgrestFilterBuilder=r.default;const s=t.__importDefault(mv());Tt.PostgrestTransformBuilder=s.default;const o=t.__importDefault(gv());Tt.PostgrestBuilder=o.default;const i=t.__importDefault(pv());return Tt.PostgrestError=i.default,Tt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:i.default},Tt}var yv=mS();const _v=fS(yv),vS=Py({__proto__:null,default:_v},[yv]),{PostgrestClient:yS,PostgrestQueryBuilder:z$,PostgrestFilterBuilder:K$,PostgrestTransformBuilder:G$,PostgrestBuilder:J$,PostgrestError:Y$}=_v||vS;class _S{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const bS="2.81.1",wS=`realtime-js/${bS}`,bv="1.0.0",ES="2.0.0",Ef=bv,jc=1e4,xS=1e3,kS=100;var Zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zr||(Zr={}));var ft;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ft||(ft={}));var Jt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jt||(Jt={}));var Uc;(function(t){t.websocket="websocket"})(Uc||(Uc={}));var es;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(es||(es={}));class TS{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:n,ref:r,event:s,topic:o,payload:i}=e,a=this.META_LENGTH+n.length+r.length+o.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,n.length),c.setUint8(u++,r.length),c.setUint8(u++,o.length),c.setUint8(u++,s.length),Array.from(n,f=>c.setUint8(u++,f.charCodeAt(0))),Array.from(r,f=>c.setUint8(u++,f.charCodeAt(0))),Array.from(o,f=>c.setUint8(u++,f.charCodeAt(0))),Array.from(s,f=>c.setUint8(u++,f.charCodeAt(0)));var h=new Uint8Array(l.byteLength+i.byteLength);return h.set(new Uint8Array(l),0),h.set(new Uint8Array(i),l.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const{join_ref:s,ref:o,topic:i}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+o.length+i.length+a.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(u),f=0;h.setUint8(f++,this.KINDS.userBroadcastPush),h.setUint8(f++,s.length),h.setUint8(f++,o.length),h.setUint8(f++,i.length),h.setUint8(f++,a.length),h.setUint8(f++,this.BINARY_ENCODING),Array.from(s,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(o,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(i,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(a,g=>h.setUint8(f++,g.charCodeAt(0)));var p=new Uint8Array(u.byteLength+l.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(l),u.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var n,r;const{join_ref:s,ref:o,topic:i}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+o.length+i.length+a.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,s.length),p.setUint8(g++,o.length),p.setUint8(g++,i.length),p.setUint8(g++,a.length),p.setUint8(g++,this.JSON_ENCODING),Array.from(s,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(i,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(a,v=>p.setUint8(g++,v.charCodeAt(0)));var y=new Uint8Array(f.byteLength+u.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(u),f.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,o,i,a,l]=r;return n({join_ref:s,ref:o,topic:i,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,s);case this.KINDS.reply:return this._decodeReply(e,n,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodePush(e,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+o));a=a+o;const u=r.decode(e.slice(a,a+i));a=a+i;const h=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:h}}_decodeReply(e,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=r.decode(e.slice(l,l+s));l=l+s;const u=r.decode(e.slice(l,l+o));l=l+o;const h=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+a));l=l+a;const p=JSON.parse(r.decode(e.slice(l,e.byteLength))),g={status:f,response:p};return{join_ref:c,ref:u,topic:h,event:Jt.reply,payload:g}}_decodeBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(e.slice(i,i+s));i=i+s;const l=r.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:c}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+s));l=l+s;const u=r.decode(e.slice(l,l+o));l=l+o;const h=r.decode(e.slice(l,l+i));l=l+i;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,g={type:this.BROADCAST,event:u,payload:p};return i>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class wv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const xf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=SS(i,t,e,s),o),{}):{}},SS=(t,e,n,r)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=n[t];return o&&!r.includes(o)?Ev(o,i):Fc(i)},Ev=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return OS(e,n)}switch(t){case et.bool:return CS(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return IS(e);case et.json:case et.jsonb:return AS(e);case et.timestamp:return RS(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Fc(e);default:return Fc(e)}},Fc=t=>t,CS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},IS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},AS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},OS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const i=t.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Ev(e,a))}return t},RS=t=>typeof t=="string"?t.replace(" ","T"):t,xv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Fl{constructor(e,n,r={},s=jc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kf||(kf={}));class Po{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Po.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Po.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Po.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const o=this.cloneDeep(e),i=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const h=o[c];if(h){const f=u.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),g=u.filter(v=>p.indexOf(v.presence_ref)<0),y=h.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(a[c]=g),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Tf||(Tf={}));var No;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(No||(No={}));var jn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class Qu{constructor(e,n={config:{}},r){var s,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fl(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new wv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Po(this),this.broadcastEndpointURL=xv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[No.PRESENCE]&&this.bindings[No.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(jn.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(jn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,T=[];for(let A=0;A<v;A++){const _=y[A],{filter:{event:b,schema:R,table:k,filter:x}}=_,P=p&&p[A];if(P&&P.event===b&&P.schema===R&&P.table===k&&P.filter===x)T.push(Object.assign(Object.assign({},_),{id:P.id}));else{this.unsubscribe(),this.state=ft.errored,e==null||e(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(jn.SUBSCRIBED);return}}).receive("error",p=>{this.state=ft.errored,e==null||e(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ft.joined&&e===No.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Fl(this,Jt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fl(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>kS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Jt;if(r&&[a,l,c,u].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,y,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(p=>p.callback(f,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var g,y,v,T,A,_;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const b=p.id,R=(g=p.filter)===null||g===void 0?void 0:g.event;return b&&((y=n.ids)===null||y===void 0?void 0:y.includes(b))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const b=(A=(T=p==null?void 0:p.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return b==="*"||b===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:v,commit_timestamp:T,type:A,errors:_}=g;f=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:T,eventType:A,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(f,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Qu.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jt.close,{},e)}_onError(e){this._on(Jt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=xf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=xf(e.columns,e.old_record)),n}}const Bl=()=>{},Ni={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PS=[1e3,2e3,5e3,1e4],NS=1e4,LS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $S{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jc,this.transport=null,this.heartbeatIntervalMs=Ni.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bl,this.ref=0,this.reconnectTimer=null,this.vsn=Ef,this.logger=Bl,this.conn=null,this.sendBuffer=[],this.serializer=new TS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Uc.websocket}`,this.httpEndpoint=xv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_S.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zr.connecting:return es.Connecting;case Zr.open:return es.Open;case Zr.closing:return es.Closing;default:return es.Closed}}isConnected(){return this.connectionState()===es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Qu(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(xS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ni.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zr.open||this.conn.readyState===Zr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([LS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:wS};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Jt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ni.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,o,i,a,l,c,u,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:jc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ni.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Bl,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Ef,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>PS[g-1]||NS,this.vsn){case bv:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,y)=>y(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,y)=>y(JSON.parse(g));break;case ES:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Zu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class MS extends Zu{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bc extends Zu{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const ed=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),DS=()=>Response,Hc=t=>{if(Array.isArray(t))return t.map(n=>Hc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Hc(r)}),e},jS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hl=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},US=(t,e,n)=>fe(void 0,void 0,void 0,function*(){const r=yield DS();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new MS(Hl(s),o,i))}).catch(s=>{e(new Bc(Hl(s),s))}):e(new Bc(Hl(t),t))}),FS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(jS(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function mi(t,e,n,r,s,o){return fe(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,FS(e,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>US(l,a,r))})})}function Go(t,e,n,r){return fe(this,void 0,void 0,function*(){return mi(t,"GET",e,n,r)})}function cn(t,e,n,r,s){return fe(this,void 0,void 0,function*(){return mi(t,"POST",e,r,s,n)})}function Vc(t,e,n,r,s){return fe(this,void 0,void 0,function*(){return mi(t,"PUT",e,r,s,n)})}function BS(t,e,n,r){return fe(this,void 0,void 0,function*(){return mi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function td(t,e,n,r,s){return fe(this,void 0,void 0,function*(){return mi(t,"DELETE",e,r,s,n)})}class HS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return fe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var kv;class VS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[kv]="BlobDownloadBuilder",this.promise=null}asStream(){return new HS(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return fe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}kv=Symbol.toStringTag;const WS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qS{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=ed(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return fe(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Sf),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield(e=="PUT"?Vc:cn)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}upload(e,n,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return fe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Sf.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Vc(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield cn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Zu("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}update(e,n,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return fe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}copy(e,n,r){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return fe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield cn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return fe(this,void 0,void 0,function*(){try{const s=yield cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>Go(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new VS(l,this.shouldThrowOnError)}info(e){return fe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Go(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Hc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}exists(e){return fe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield BS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r)&&r instanceof Bc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return fe(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}list(e,n,r){return fe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},WS),n),{prefix:e||""});return{data:yield cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}listV2(e,n){return fe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Tv="2.81.1",Sv={"X-Client-Info":`storage-js/${Tv}`};class zS{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sv),n),this.fetch=ed(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return fe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Go(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}createBucket(e){return fe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return fe(this,void 0,void 0,function*(){try{return{data:yield Vc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}emptyBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class KS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sv),n),this.fetch=ed(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBuckets(e){return fe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Go(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}const nd={"X-Client-Info":`storage-js/${Tv}`,"Content-Type":"application/json"};class Cv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Vl extends Cv{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class GS extends Cv{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Cf;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Cf||(Cf={}));const rd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),JS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},If=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YS=(t,e,n)=>fe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";e(new Vl(If(i),s,a))}).catch(()=>{const i=s+"",a=o.statusText||`HTTP ${s} error`;e(new Vl(a,s,i))});else{const i=s+"",a=o.statusText||`HTTP ${s} error`;e(new Vl(a,s,i))}}else e(new GS(If(t),t))}),XS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(JS(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function QS(t,e,n,r,s,o){return fe(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,XS(e,r,s,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>YS(l,a,r))})})}function Wt(t,e,n,r,s){return fe(this,void 0,void 0,function*(){return QS(t,"POST",e,r,s,n)})}class ZS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nd),n),this.fetch=rd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return fe(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return fe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listIndexes(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return fe(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class e4{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nd),n),this.fetch=rd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return fe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}getVectors(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}listVectors(e){return fe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Wt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}queryVectors(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return fe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}}class t4{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nd),n),this.fetch=rd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}getBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}listBuckets(){return fe(this,arguments,void 0,function*(e={}){try{return{data:yield Wt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}}class n4 extends t4{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new r4(this.url,this.headers,e,this.fetch)}}class r4 extends ZS{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return fe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return fe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return fe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return fe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new s4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class s4 extends e4{constructor(e,n,r,s,o){super(e,n,o),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return fe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return fe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return fe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return fe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return fe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class o4 extends zS{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new qS(this.url,this.headers,e,this.fetch)}get vectors(){return new n4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new KS(this.url+"/iceberg",this.headers,this.fetch)}}const i4="2.81.1";let _o="";typeof Deno<"u"?_o="deno":typeof document<"u"?_o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_o="react-native":_o="node";const a4={"X-Client-Info":`supabase-js-${_o}/${i4}`},l4={headers:a4},c4={schema:"public"},u4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d4={},h4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),f4=()=>Headers,p4=(t,e,n)=>{const r=h4(n),s=f4();return async(o,i)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))}};function g4(t){return t.endsWith("/")?t:t+"/"}function m4(t,e){var n,r;const{db:s,auth:o,realtime:i,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function v4(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(g4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Iv="2.81.1",Cs=30*1e3,Wc=3,Wl=Wc*Cs,y4="http://localhost:9999",_4="supabase.auth.token",b4={"X-Client-Info":`gotrue-js/${Iv}`},qc="X-Supabase-Api-Version",Av={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E4=10*60*1e3;class Jo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class x4 extends Jo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function k4(t){return me(t)&&t.name==="AuthApiError"}class ts extends Jo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Lr extends Jo{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class an extends Lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T4(t){return me(t)&&t.name==="AuthSessionMissingError"}class _s extends Lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Li extends Lr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $i extends Lr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function S4(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class Af extends Lr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zc extends Lr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ql(t){return me(t)&&t.name==="AuthRetryableFetchError"}class Of extends Lr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Kc extends Lr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rf=` 	
\r=`.split(""),C4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Rf.length;e+=1)t[Rf[e].charCodeAt(0)]=-2;for(let e=0;e<Ta.length;e+=1)t[Ta[e].charCodeAt(0)]=e;return t})();function Pf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ta[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ta[r]),e.queuedBits-=6}}function Ov(t,e,n){const r=C4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Nf(t){const e=[],n=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{O4(i,r,n)};for(let i=0;i<t.length;i+=1)Ov(t.charCodeAt(i),s,o);return e.join("")}function I4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function A4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}I4(r,e)}}function O4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Fs(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ov(t.charCodeAt(s),n,r);return new Uint8Array(e)}function R4(t){const e=[];return A4(t,n=>e.push(n)),new Uint8Array(e)}function ss(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Pf(s,n,r)),Pf(null,n,r),e.join("")}function P4(t){return Math.round(Date.now()/1e3)+t}function N4(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",Wr={tested:!1,writable:!1},Rv=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function L4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Pv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Is=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},qr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ir=async(t,e)=>{await t.removeItem(e)};class sl{constructor(){this.promise=new sl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}sl.promiseConstructor=Promise;function zl(t){const e=t.split(".");if(e.length!==3)throw new Kc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!w4.test(e[r]))throw new Kc("JWT not in base64url format");return{header:JSON.parse(Nf(e[0])),payload:JSON.parse(Nf(e[1])),signature:Fs(e[2]),raw:{header:e[0],payload:e[1]}}}async function M4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function D4(t,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){r(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function j4(t){return("0"+t.toString(16)).substr(-2)}function U4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,j4).join("")}async function F4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function B4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await F4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bs(t,e,n=!1){const r=U4();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Is(t,`${e}-code-verifier`,s);const o=await B4(r);return[o,r===o?"plain":"s256"]}const H4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V4(t){const e=t.headers.get(qc);if(!e||!e.match(H4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function W4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function q4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ws(t){if(!z4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function K4(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Lf(t){return JSON.parse(JSON.stringify(t))}const Xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),G4=[502,503,504];async function $f(t){var e;if(!$4(t))throw new zc(Xr(t),0);if(G4.includes(t.status))throw new zc(Xr(t),t.status);let n;try{n=await t.json()}catch(o){throw new ts(Xr(o),o)}let r;const s=V4(t);if(s&&s.getTime()>=Av["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Of(Xr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new an}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Of(Xr(n),t.status,n.weak_password.reasons);throw new x4(Xr(n),t.status||500,r)}const J4=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Se(t,e,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[qc]||(o[qc]=Av["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Y4(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Y4(t,e,n,r,s,o){const i=J4(e,r,s,o);let a;try{a=await t(n,Object.assign({},i))}catch(l){throw console.error(l),new zc(Xr(l),0)}if(a.ok||await $f(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await $f(l)}}function ln(t){var e;let n=null;Z4(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=P4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Mf(t){const e=ln(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function X4(t){return{data:t,error:null}}function Q4(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=t,i=er(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Df(t){return t}function Z4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gl=["global","local","others"];class eC{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Pv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Gl[0]){if(Gl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gl.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=er(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Q4,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Df});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(me(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ws(e);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ws(e);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ws(e);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ws(e.userId);try{const{data:n,error:r}=await Se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ws(e.userId),ws(e.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Df});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(me(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}}function jf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Es={debug:!!(globalThis&&Rv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tC extends Nv{}async function nC(t,e,n){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Es.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function rC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Lv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function sC(t){return parseInt(t,16)}function oC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function iC(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Lv(t.address),g=u?`${u}://${r}`:r,y=t.statement?`${t.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${y}`;let T=`URI: ${h}
Version: ${f}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(T+=`
Expiration Time: ${s.toISOString()}`),a&&(T+=`
Not Before: ${a.toISOString()}`),l&&(T+=`
Request ID: ${l}`),c){let A=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);A+=`
- ${_}`}T+=A}return`${v}
${T}`}class ht extends Error{constructor({message:e,code:n,cause:r,name:s}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Sa extends ht{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function aC({error:t,options:e}){var n,r,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if($v(i)){if(o.rp.id!==i)return new ht({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function lC({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if($v(r)){if(n.rpId!==r)return new ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class cC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const uC=new cC;function dC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=er(t,["challenge","user","excludeCredentials"]),o=Fs(e).buffer,i=Object.assign(Object.assign({},n),{id:Fs(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Fs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function hC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=er(t,["challenge","allowCredentials"]),s=Fs(e).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const a=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Fs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function fC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ss(new Uint8Array(t.response.attestationObject)),clientDataJSON:ss(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ss(new Uint8Array(s.authenticatorData)),clientDataJSON:ss(new Uint8Array(s.clientDataJSON)),signature:ss(new Uint8Array(s.signature)),userHandle:s.userHandle?ss(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $v(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Uf(){var t,e;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function gC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:aC({error:e,options:t})}}}async function mC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:lC({error:e,options:t})}}}const vC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ca(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))r[o]=i;else if(n(i))r[o]=i;else if(e(i)){const a=r[o];e(a)?r[o]=Ca(a,i):r[o]=Ca(i)}else r[o]=i}return r}function _C(t,e){return Ca(vC,t,e||{})}function bC(t,e){return Ca(yC,t,e||{})}class wC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!i)return{data:null,error:a};const l=s??uC.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=_C(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:u,error:h}=await gC({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=bC(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:u,error:h}=await mC(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(i){return me(i)?{data:null,error:i}:{data:null,error:new ts("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Jo("rpId is required for WebAuthn authentication")};try{if(!Uf())return{data:null,error:new ts("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(i){return me(i)?{data:null,error:i}:{data:null,error:new ts("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Jo("rpId is required for WebAuthn registration")};try{if(!Uf())return{data:null,error:new ts("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return me(i)?{data:null,error:i}:{data:null,error:new ts("Unexpected error in register",i)}}}}rC();const EC={url:y4,storageKey:_4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ff(t,e,n){return await n()}const xs={};class Yo{get jwks(){var e,n;return(n=(e=xs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=xs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},EC),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Yo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Yo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&wt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new eC({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Pv(o.fetch),this.lock=o.lock||Ff,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:wt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=nC:this.lock=Ff,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Rv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=jf(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Iv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(wt()&&(n=L4(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),wt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),S4(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?this._returnResult({error:n}):this._returnResult({error:new ts("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ln}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,s;try{let o;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await bs(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:ln})}else if("phone"in e){const{phone:u,password:h,options:f}=e;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ln})}else throw new Li("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:i,options:a}=e;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mf})}else if("phone"in e){const{phone:o,password:i,options:a}=e;n=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mf})}else throw new Li("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new _s;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,o,i,a,l,c,u,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:y,wallet:v,statement:T,options:A}=e;let _;if(wt())if(typeof v=="object")_=v;else{const m=window;if("ethereum"in m&&typeof m.ethereum=="object"&&"request"in m.ethereum&&typeof m.ethereum.request=="function")_=m.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const b=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),R=await _.request({method:"eth_requestAccounts"}).then(m=>m).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Lv(R[0]);let x=(r=A==null?void 0:A.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!x){const m=await _.request({method:"eth_chainId"});x=sC(m)}const P={domain:b.host,address:k,statement:T,uri:b.href,version:"1",chainId:x,nonce:(s=A==null?void 0:A.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=A==null?void 0:A.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=A==null?void 0:A.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=A==null?void 0:A.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=iC(P),g=await _.request({method:"personal_sign",params:[oC(p),k]})}try{const{data:y,error:v}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ln});if(v)throw v;if(!y||!y.session||!y.user){const T=new _s;return this._returnResult({data:{user:null,session:null},error:T})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(me(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,s,o,i,a,l,c,u,h,f,p;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:v,wallet:T,statement:A,options:_}=e;let b;if(wt())if(typeof T=="object")b=T;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=T}const R=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),A?{statement:A}:null));let x;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")x=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)x=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)g=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),y=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${R.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:v,error:T}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ss(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ln});if(T)throw T;if(!v||!v.session||!v.user){const A=new _s;return this._returnResult({data:{user:null,session:null},error:A})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:T})}catch(v){if(me(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const n=await qr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ln});if(await ir(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new _s;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=e,a=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ln}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new _s;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await bs(this.storage,this.storageKey));const{error:h}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Li("You must provide either an email or phone number.")}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ln});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,o,i;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await bs(this.storage,this.storageKey));const c=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:X4});return!((o=c.data)===null||o===void 0)&&o.url&&wt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new an;const{error:s}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:i}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:i,error:a}=await Se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new Li("You must provide either an email or phone number and a type")}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Wl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const i=await qr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Kl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=K4(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new an}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:yr})})}catch(n){if(me(n))return T4(n)&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new an;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await bs(this.storage,this.storageKey));const{data:c,error:u}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:yr});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new an;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=zl(e.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:i,error:a}=n;if(a)throw a;e=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new an;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!wt())throw new $i("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $i(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Af("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $i("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Af("No code detected.");const{data:A,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new $i("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const p=f-u;p*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:y,error:v}=await this._getUser(o);if(v)throw v;const T={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(k4(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ir(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=N4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await bs(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(me(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,u;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return wt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(me(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:i,provider:a,token:l,access_token:c,nonce:u}=e,h=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ln}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new _s}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await D4(async s=>(s>0&&await M4(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ln})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ql(o)&&Date.now()+i-r<Cs})}catch(r){if(this._debug(n,"error",r),me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),wt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await qr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Is(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Kl()}else if(s&&!s.user&&!s.user){const i=await qr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await ir(this.storage,this.storageKey+"-user"),await Is(this.storage,this.storageKey,s)):s.user=Kl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Wl;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Wl}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ql(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new an;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new sl;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new an;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),me(o)){const i={data:null,error:o};return ql(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Is(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Lf(s);await Is(this.storage,this.storageKey,o)}else{const s=Lf(n);await Is(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ir(this.storage,this.storageKey),await ir(this.storage,this.storageKey+"-code-verifier"),await ir(this.storage,this.storageKey+"-user"),this.userStorage&&await ir(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cs}ms, refresh threshold is ${Wc} ticks`),s<=Wc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Nv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await bs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await Se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fC(e.webauthn.credential_response):pC(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:dC(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:hC(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zl(r.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new an})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new an});const i=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new an});const i=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+E4>s)return r;const{data:o,error:i}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});r=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=zl(r);n!=null&&n.allowExpired||W4(o.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=q4(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,R4(`${a}.${l}`)))throw new Kc("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}}Yo.nextInstanceID={};const xC=Yo;class kC extends xC{constructor(e){super(e)}}class TC{constructor(e,n,r){var s,o,i;this.supabaseUrl=e,this.supabaseKey=n;const a=v4(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:c4,realtime:d4,auth:Object.assign(Object.assign({},u4),{storageKey:l}),global:l4},u=m4(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=p4(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new yS(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new o4(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new hS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kC({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $S(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SC=(t,e,n)=>new TC(t,e,n);function CC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}CC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bf="https://hganinmpourhfimksydd.supabase.co",Hf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnYW5pbm1wb3VyaGZpbWtzeWRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2Njk3NDAsImV4cCI6MjA3ODI0NTc0MH0.L0-LLStOhod_M4kKOQGGDJaq_BPAZkyS0af4aiZL8_U",IC=t=>{try{return new URL(t),!0}catch{return!1}};let Gc=null;!IC(Bf)||Hf==="your_supabase_key"?(console.warn(" Supabase cha c cu hnh. Mt s tnh nng c th khng hot ng."),Gc={auth:{signUp:()=>Promise.reject(new Error("Supabase not configured")),signInWithPassword:()=>Promise.reject(new Error("Supabase not configured")),signOut:()=>Promise.reject(new Error("Supabase not configured")),getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},from:()=>({select:()=>Promise.resolve({data:[],error:null}),insert:()=>Promise.reject(new Error("Supabase not configured")),update:()=>Promise.reject(new Error("Supabase not configured")),delete:()=>Promise.reject(new Error("Supabase not configured"))})}):Gc=SC(Bf,Hf);const AC=zu("category",{state:()=>({categories:[],loading:!1,error:null}),actions:{async getCategory(t=3){this.loading=!0,this.error=null,console.log("CategoryStore: Bt u fetch genres t bng movies...");let e=null;for(let n=1;n<=t;n++)try{console.log(`CategoryStore: Attempt ${n}/${t}`);const{data:r,error:s}=await Promise.race([Gc.from("movies").select("genres"),new Promise((i,a)=>setTimeout(()=>a(new Error("Request timeout")),1e4))]);if(s)throw s;let o=new Set;r&&r.forEach(i=>{i.genres&&Array.isArray(i.genres)&&i.genres.forEach(a=>{typeof a=="string"&&a.trim()!==""&&o.add(a.trim())})}),this.categories=Array.from(o).map(i=>({name:i,slug:i.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})).sort((i,a)=>i.name.localeCompare(a.name)),console.log("CategoryStore: Genres fetched thnh cng (t bng movies). S lng:",this.categories.length,"D liu:",this.categories),this.loading=!1;return}catch(r){if(e=r,console.error(`CategoryStore: Li attempt ${n}/${t}:`,r.message),n<t){const s=n*1e3;console.log(`CategoryStore: Retry sau ${s}ms...`),await new Promise(o=>setTimeout(o,s))}}this.error=(e==null?void 0:e.message)||"Failed to fetch genres after multiple attempts",this.loading=!1,this.categories.length===0&&(console.warn("CategoryStore: S dng fallback genres"),this.categories=this.getFallbackCategories()),console.log("CategoryStore: Kt thc fetch genres. Loading:",this.loading)},getFallbackCategories(){return[{name:"Hnh ng",slug:"hanh-dong"},{name:"Hi Hc",slug:"hai-huoc"},{name:"Tnh Cm",slug:"tinh-cam"},{name:"Kinh D",slug:"kinh-di"},{name:"Khoa Hc Vin Tng",slug:"khoa-hoc-vien-tuong"},{name:"Phiu Lu",slug:"phieu-luu"},{name:"Hot Hnh",slug:"hoat-hinh"},{name:"Ti Liu",slug:"tai-lieu"},{name:"Gia nh",slug:"gia-dinh"},{name:"B n",slug:"bi-an"}].sort((t,e)=>t.name.localeCompare(e.name))}},getters:{getAllCategories:t=>t.categories,getLoading:t=>t.loading,getError:t=>t.error}});class OC{constructor(e={}){this.cache=new Map,this.defaultTTL=e.defaultTTL||5*60*1e3,this.maxSize=e.maxSize||100}generateKey(e,n={}){const r=Object.keys(n).sort().map(s=>`${s}=${JSON.stringify(n[s])}`).join("&");return`${e}?${r}`}get(e){const n=this.cache.get(e);if(!n)return null;const s=Date.now()-n.timestamp;return{data:n.data,age:s,isStale:s>n.ttl,isFresh:s<=n.ttl}}set(e,n,r=this.defaultTTL){if(this.cache.size>=this.maxSize){const s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(e,{data:n,timestamp:Date.now(),ttl:r})}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}clearExpired(){const e=Date.now();for(const[n,r]of this.cache.entries())e-r.timestamp>r.ttl*2&&this.cache.delete(n)}getStats(){return{size:this.cache.size,maxSize:this.maxSize,keys:Array.from(this.cache.keys())}}}const ur=new OC({defaultTTL:5*60*1e3,maxSize:100}),RC={async get(t,e,n=5*60*1e3){const r=ur.get(t);if(r&&r.isFresh)return console.log(` Cache HIT (fresh): ${t}`),r.data;if(r&&r.isStale){console.log(` Cache HIT (stale): ${t} - Revalidating...`);const s=r.data;return e().then(o=>{ur.set(t,o,n),console.log(` Cache UPDATED: ${t}`)}).catch(o=>{console.error(` Cache revalidation failed: ${t}`,o)}),s}console.log(` Cache MISS: ${t}`);try{const s=await e();return ur.set(t,s,n),s}catch(s){if(r)return console.warn(` Fetch failed, returning stale data: ${t}`),r.data;throw s}},invalidate(t){const n=ur.getStats().keys.filter(r=>r.includes(t));n.forEach(r=>{ur.delete(r)}),console.log(` Invalidated ${n.length} cache entries matching: ${t}`)},clear(){ur.clear(),console.log(" All cache cleared")},getStats(){return ur.getStats()}};setInterval(()=>{ur.clearExpired(),console.log(" Cleared expired cache")},10*60*1e3);const $r="https://hthree-film-production.up.railway.app/api",X$=async(t=!0)=>{try{const e=`${$r}/plans.php?active_only=${t}`;return await RC.get(e,async()=>(await xe.get(e)).data,10*60*1e3)}catch(e){throw console.error("Error fetching plans:",e),e}},PC=async t=>{try{return(await xe.get(`${$r}/cart.php`,{params:{user_id:t}})).data}catch(e){throw console.error("Error fetching cart:",e),e}},NC=async(t,e,n=1,r=1)=>{try{return(await xe.post(`${$r}/cart.php`,{user_id:t,plan_id:e,quantity:n,duration_months:r})).data}catch(s){throw console.error("Error adding to cart:",s),s}},LC=async(t,e)=>{try{return(await xe.put(`${$r}/cart.php`,{cart_id:t,quantity:e})).data}catch(n){throw console.error("Error updating cart:",n),n}},$C=async t=>{try{return(await xe.delete(`${$r}/cart.php`,{params:{cart_id:t}})).data}catch(e){throw console.error("Error removing from cart:",e),e}},MC=async t=>{try{return(await xe.delete(`${$r}/cart.php`,{params:{user_id:t}})).data}catch(e){throw console.error("Error clearing cart:",e),e}},Q$=async t=>{try{return(await xe.post(`${$r}/orders.php`,t)).data}catch(e){throw console.error("Error creating order:",e),e}},Z$=async(t,e,n=null)=>{try{return(await xe.post(`${$r}/coupons.php`,{code:t,order_value:e,user_id:n})).data}catch(r){throw console.error("Error validating coupon:",r),r}},DC=zu("cart",{state:()=>({items:[],total:0,count:0,loading:!1,error:null}),getters:{cartCount:t=>t.count,cartTotal:t=>t.total,cartTotalFormatted:t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.total),isEmpty:t=>t.items.length===0},actions:{async fetchCart(){var n,r;const t=Ro(),e=((n=t.user)==null?void 0:n.id)||((r=t.user)==null?void 0:r.uid);if(!e){this.items=[],this.total=0,this.count=0;return}this.loading=!0,this.error=null;try{const s=await PC(e);s.success&&(this.items=s.data.items,this.total=s.data.total,this.count=s.data.count)}catch(s){this.error=s.message,console.error("Error fetching cart:",s)}finally{this.loading=!1}},async addItem(t,e=1,n=1){var o,i;const r=Ro(),s=((o=r.user)==null?void 0:o.id)||((i=r.user)==null?void 0:i.uid);if(!s)throw new Error("Vui lng ng nhp  thm vo gi hng");this.loading=!0,this.error=null;try{console.log("Adding to cart:",{userId:s,planId:t,quantity:e,durationMonths:n});const a=await NC(s,t,e,n);if(a.success)return await this.fetchCart(),a}catch(a){throw console.error("Error adding to cart:",a),this.error=a.message,a}finally{this.loading=!1}},async updateQuantity(t,e){this.loading=!0,this.error=null;try{const n=await LC(t,e);if(n.success)return await this.fetchCart(),n}catch(n){throw this.error=n.message,n}finally{this.loading=!1}},async removeItem(t){this.loading=!0,this.error=null;try{const e=await $C(t);if(e.success)return await this.fetchCart(),e}catch(e){throw this.error=e.message,e}finally{this.loading=!1}},async clear(){var n,r;const t=Ro(),e=((n=t.user)==null?void 0:n.id)||((r=t.user)==null?void 0:r.uid);if(e){this.loading=!0,this.error=null;try{(await MC(e)).success&&(this.items=[],this.total=0,this.count=0)}catch(s){throw this.error=s.message,s}finally{this.loading=!1}}},hasItem(t){return this.items.some(e=>e.plan_id===t)},getItem(t){return this.items.find(e=>e.plan_id===t)}}}),vi={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ys={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},jt={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},jC={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},UC={dangerouslyHTMLString:!1,multiple:!0,position:vi.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},FC={rtl:!1,newestOnTop:!1,toastClassName:""},Mv={...UC,...FC};jt.DEFAULT;var Ke=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(Ke||{}),Jc=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Jc||{});const BC={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},HC={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},VC={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},WC={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},Vf="Toastify--animate Toastify__none-enter";function Dv(t,e=!1){var n;let r=BC;if(!t||typeof t=="string")switch(t){case"flip":r=WC;break;case"zoom":r=VC;break;case"slide":r=HC;break}else r=t;if(e)r.enter=Vf;else if(r.enter===Vf){const s=(n=r.exit.split("__")[1])==null?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${s}-enter`}return r}function qC(t){return t.containerId||String(t.position)}const ol="will-unmount";function zC(t=vi.TOP_RIGHT){return!!document.querySelector(`.${Ke.CSS_NAMESPACE}__toast-container--${t}`)}function KC(t=vi.TOP_RIGHT){return`${Ke.CSS_NAMESPACE}__toast-container--${t}`}function GC(t,e,n=!1){const r=[`${Ke.CSS_NAMESPACE}__toast-container`,`${Ke.CSS_NAMESPACE}__toast-container--${t}`,n?`${Ke.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Bs(e)?e({position:t,rtl:n,defaultClassName:r}):`${r} ${e||""}`}function JC(t){var e;const{position:n,containerClassName:r,rtl:s=!1,style:o={}}=t,i=Ke.CSS_NAMESPACE,a=KC(n),l=document.querySelector(`.${i}`),c=document.querySelector(`.${a}`),u=!!c&&!((e=c.className)!=null&&e.includes(ol)),h=l||document.createElement("div"),f=document.createElement("div");f.className=GC(n,r,s),f.dataset.testid=`${Ke.CSS_NAMESPACE}__toast-container--${n}`,f.id=qC(t);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const g=o[p];f.style[p]=g}return l||(h.className=Ke.CSS_NAMESPACE,document.body.appendChild(h)),u||h.appendChild(f),f}function Yc(t){var e,n,r;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),o=document.getElementById(s);o&&o.removeEventListener("animationend",Yc,!1);try{Xo[s].unmount(),(r=document.getElementById(s))==null||r.remove(),delete Xo[s],delete Et[s]}catch{}}const Xo=rn({});function YC(t,e){const n=document.getElementById(String(e));n&&(Xo[n.id]=t)}function Xc(t,e=!0){const n=String(t);if(!Xo[n])return;const r=document.getElementById(n);r&&r.classList.add(ol),e?(QC(t),r&&r.addEventListener("animationend",Yc,!1)):Yc(n),An.items=An.items.filter(s=>s.containerId!==t)}function XC(t){for(const e in Xo)Xc(e,t);An.items=[]}function jv(t,e){const n=document.getElementById(t.toastId);if(n){let r=t;r={...r,...Dv(r.transition)};const s=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${s}`,e&&e(n)}}function QC(t){for(const e in Et)if(e===t)for(const n of Et[e]||[])jv(n)}function ZC(t){const e=Xs().find(n=>n.toastId===t);return e==null?void 0:e.containerId}function sd(t){return document.getElementById(t)}function eI(t){const e=sd(t.containerId);return e&&e.classList.contains(ol)}function Wf(t){var e;const n=ds(t.content)?Ie(t.content.props):null;return n??Ie((e=t.data)!=null?e:{})}function tI(t){return t?An.items.filter(e=>e.containerId===t).length>0:An.items.length>0}function nI(){if(An.items.length>0){const t=An.items.shift();Zi(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const Et=rn({}),An=rn({items:[]});function Xs(){const t=Ie(Et);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function rI(t){return Xs().find(e=>e.toastId===t)}function Zi(t,e={}){if(eI(e)){const n=sd(e.containerId);n&&n.addEventListener("animationend",Qc.bind(null,t,e),!1)}else Qc(t,e)}function Qc(t,e={}){const n=sd(e.containerId);n&&n.removeEventListener("animationend",Qc.bind(null,t,e),!1);const r=Et[e.containerId]||[],s=r.length>0;if(!s&&!zC(e.position)){const o=JC(e),i=tm(xI,e);e.useHandler&&e.useHandler(i),i.mount(o),YC(i,o.id)}s&&!e.updateId&&(e.position=r[0].position),Ar(()=>{e.updateId?Ht.update(e):Ht.add(t,e)})}const Ht={add(t,e){const{containerId:n=""}=e;n&&(Et[n]=Et[n]||[],Et[n].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,s;e.newestOnTop?(r=Et[n])==null||r.unshift(e):(s=Et[n])==null||s.push(e),e.onOpen&&e.onOpen(Wf(e))},e.delay||0))},remove(t){if(t){const e=ZC(t);if(e){const n=Et[e];let r=n.find(s=>s.toastId===t);Et[e]=n.filter(s=>s.toastId!==t),!Et[e].length&&!tI(e)&&Xc(e,!1),nI(),Ar(()=>{r!=null&&r.onClose&&(r.onClose(Wf(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){Et[e]=Et[e]||[];const n=Et[e].find(o=>o.toastId===t.toastId),r=(n==null?void 0:n.position)!==t.position||(n==null?void 0:n.transition)!==t.transition,s={...t,disabledEnterTransition:!r,updateId:void 0};Ht.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{Ue(s.content,s)},t.delay||0)}},clear(t,e=!0){t?Xc(t,e):XC(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",Ht.dismissCallback,!1),setTimeout(()=>{Ht.remove(n)}))},dismiss(t){if(t){const e=Xs();for(const n of e)if(n.toastId===t){jv(n,r=>{r.addEventListener("animationend",Ht.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Xs();for(const n of e)if(n.toastId===t){const r=document.getElementById(t);r&&(r.remove(),r.removeEventListener("animationend",Ht.dismissCallback,!1),Ht.remove(t));break}}}},sI=rn({useHandler:void 0}),Uv=rn({}),Ia=rn({});function Fv(){return Math.random().toString(36).substring(2,9)}function oI(t){return typeof t=="number"&&!isNaN(t)}function Zc(t){return typeof t=="string"}function Bs(t){return typeof t=="function"}function il(...t){return On(...t)}function ea(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function iI(t={}){Uv[`${Ke.CSS_NAMESPACE}-default-options`]=t}function aI(){return Uv[`${Ke.CSS_NAMESPACE}-default-options`]||Mv}function lI(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var ta=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(ta||{});const Bv={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:vi.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Ys.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:jt.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},cI={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:jt.DEFAULT},theme:{type:String,required:!1,default:Ys.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},uI=Qn({name:"ProgressBar",props:cI,setup(t,{attrs:e}){const n=Y(),r=ve(()=>t.hide?"true":"false"),s=ve(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),o=ve(()=>[`${Ke.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${Ke.CSS_NAMESPACE}__progress-bar--controlled`:`${Ke.CSS_NAMESPACE}__progress-bar--animated`,`${Ke.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${Ke.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${Ke.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),i=ve(()=>`${o.value} ${(e==null?void 0:e.class)||""}`),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},c=ve(()=>t.controlledProgress?null:l),u=ve(()=>t.controlledProgress?l:null);return Hi(()=>{n.value&&(a(),n.value.onanimationend=c.value,n.value.ontransitionend=u.value)}),()=>X("div",{ref:n,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:i.value,style:s.value},null)}}),dI=Qn({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Ys.AUTO},type:{type:String,required:!1,default:Ys.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>X("button",{class:`${Ke.CSS_NAMESPACE}__close-button ${Ke.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[X("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[X("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),al=({theme:t,type:e,path:n,...r})=>X("svg",On({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},r),[X("path",{d:n},null)]);function hI(t){return X(al,On(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function fI(t){return X(al,On(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function pI(t){return X(al,On(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function gI(t){return X(al,On(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function mI(){return X("div",{class:`${Ke.CSS_NAMESPACE}__spinner`},null)}const na={info:fI,warning:hI,success:pI,error:gI,spinner:mI},vI=t=>t in na;function yI({theme:t,type:e,isLoading:n,icon:r}){let s;const o=!!n||e==="loading",i={theme:t,type:e};if(o&&(r===void 0||typeof r=="boolean"))return na.spinner();if(r!==!1){if(ea(r))s=Ie(r);else if(Bs(r)){const a=r;i.type=o?"loading":e,s=a(i),s=!s&&o?na.spinner():s}else ds(r)?s=Gn(r,i):Zc(r)||oI(r)?s=r:vI(e)&&(s=na[e](i));return s}}const _I=()=>{};function bI(t,e,n=Ke.COLLAPSE_DURATION){const{scrollHeight:r,style:s}=t,o=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${o}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,o)})})}function wI(t){const e=Y(!1),n=Y(!1),r=Y(!1),s=Y(ta.Enter),o=rn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||Ke.COLLAPSE_DURATION}),i=o.done||_I,a=ve(()=>o.appendPosition?`${o.enter}--${o.position}`:o.enter),l=ve(()=>o.appendPosition?`${o.exit}--${o.position}`:o.exit),c=ve(()=>t.pauseOnHover?{onMouseenter:v,onMouseleave:y}:{});function u(){const A=a.value.split(" ");f().addEventListener(Jc.ENTRANCE_ANIMATION_END,y,{once:!0});const _=R=>{const k=f();R.target===k&&(k.dispatchEvent(new Event(Jc.ENTRANCE_ANIMATION_END)),k.removeEventListener("animationend",_),k.removeEventListener("animationcancel",_),s.value===ta.Enter&&R.type!=="animationcancel"&&k.classList.remove(...A))},b=()=>{const R=f();R.classList.add(...A),R.addEventListener("animationend",_),R.addEventListener("animationcancel",_)};t.pauseOnFocusLoss&&p(),b()}function h(){if(!f())return;const A=()=>{const b=f();b.removeEventListener("animationend",A),o.collapse?bI(b,i,o.collapseDuration):i()},_=()=>{const b=f();s.value=ta.Exit,b&&(b.className+=` ${l.value}`,b.addEventListener("animationend",A))};n.value||(r.value?A():setTimeout(_))}function f(){return t.toastRef.value}function p(){document.hasFocus()||v(),window.addEventListener("focus",y),window.addEventListener("blur",v)}function g(){window.removeEventListener("focus",y),window.removeEventListener("blur",v)}function y(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function v(){e.value=!1}function T(A){A&&(A.stopPropagation(),A.preventDefault()),n.value=!1}return Hi(h),Hi(()=>{const A=Xs();n.value=A.findIndex(_=>_.toastId===o.toastId)>-1}),Hi(()=>{t.isLoading!==void 0&&(t.loading.value?v():y())}),Ot(u),sn(()=>{t.pauseOnFocusLoss&&g()}),{isIn:n,isRunning:e,hideToast:T,eventHandlers:c}}const EI=Qn({name:"ToastItem",inheritAttrs:!1,props:Bv,setup(t){const e=Y(),n=ve(()=>!!t.isLoading),r=ve(()=>t.progress!==void 0&&t.progress!==null),s=ve(()=>yI(t)),o=ve(()=>[`${Ke.CSS_NAMESPACE}__toast`,`${Ke.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${Ke.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${Ke.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:i,isIn:a,hideToast:l,eventHandlers:c}=wI({toastRef:e,loading:n,done:()=>{Ht.remove(t.toastId)},...Dv(t.transition,t.disabledEnterTransition),...t});return()=>X("div",On({id:t.toastId,class:o.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:u=>{t.closeOnClick&&l(),t.onClick&&t.onClick(u)}},c.value),[X("div",{role:t.role,"data-testid":"toast-body",class:`${Ke.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&X("div",{"data-testid":`toast-icon-${t.type}`,class:[`${Ke.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${Ke.CSS_NAMESPACE}--animate-icon ${Ke.CSS_NAMESPACE}__zoom-enter`].join(" ")},[ea(s.value)?Wn(Ie(s.value),{theme:t.theme,type:t.type}):Bs(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),X("div",{"data-testid":"toast-content"},[ea(t.content)?Wn(Ie(t.content),{toastProps:Ie(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Bs(t.content)?t.content({toastProps:Ie(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?Wn("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&X(dI,{theme:t.theme,closeToast:u=>{u.stopPropagation(),u.preventDefault(),l()}},null),ea(t.closeButton)?Wn(Ie(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Bs(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,X(uI,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:i.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let Lo=0;function Hv(){typeof window>"u"||(Lo&&window.cancelAnimationFrame(Lo),Lo=window.requestAnimationFrame(Hv),Ia.lastUrl!==window.location.href&&(Ia.lastUrl=window.location.href,Ht.clear()))}const xI=Qn({name:"ToastifyContainer",inheritAttrs:!1,props:Bv,setup(t){const e=ve(()=>t.containerId),n=ve(()=>Et[e.value]||[]),r=ve(()=>n.value.filter(s=>s.position===t.position));return Ot(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(Hv)}),sn(()=>{typeof window<"u"&&Lo&&(window.cancelAnimationFrame(Lo),Ia.lastUrl="")}),()=>X(we,null,[r.value.map(s=>{const{toastId:o=""}=s;return X(EI,On({key:o},s),null)})])}});let Jl=!1;const Vv={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function Wv(){const t=[];return Xs().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(ol)&&t.push(e)}),t}function kI(t){const e=Wv().length,n=t??0;return n>0&&e+An.items.length>=n}function TI(t){kI(t.limit)&&!t.updateId&&An.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Mr(t,e,n={}){if(Jl)return;n=il(aI(),{type:e},Ie(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=Fv()),n={...n,...n.type==="loading"?Vv:{},content:t,containerId:n.containerId||String(n.position)};const r=Number(n==null?void 0:n.progress);return!isNaN(r)&&r<0&&(n.progress=0),r>1&&(n.progress=1),n.theme==="auto"&&(n.theme=lI()),TI(n),Ia.lastUrl=window.location.href,n.multiple?An.items.length?n.updateId&&Zi(t,n):Zi(t,n):(Jl=!0,Ue.clearAll(void 0,!1),setTimeout(()=>{Zi(t,n)},0),setTimeout(()=>{Jl=!1},390)),n.toastId}const Ue=(t,e)=>Mr(t,jt.DEFAULT,e);Ue.info=(t,e)=>Mr(t,jt.DEFAULT,{...e,type:jt.INFO});Ue.error=(t,e)=>Mr(t,jt.DEFAULT,{...e,type:jt.ERROR});Ue.warning=(t,e)=>Mr(t,jt.DEFAULT,{...e,type:jt.WARNING});Ue.warn=Ue.warning;Ue.success=(t,e)=>Mr(t,jt.DEFAULT,{...e,type:jt.SUCCESS});Ue.loading=(t,e)=>Mr(t,jt.DEFAULT,il(e,Vv));Ue.dark=(t,e)=>Mr(t,jt.DEFAULT,il(e,{theme:Ys.DARK}));Ue.remove=t=>{t?Ht.dismiss(t):Ht.clear()};Ue.clearAll=(t,e)=>{Ar(()=>{Ht.clear(t,e)})};Ue.isActive=t=>{let e=!1;return e=Wv().findIndex(n=>n.toastId===t)>-1,e};Ue.update=(t,e={})=>{setTimeout(()=>{const n=rI(t);if(n){const r=Ie(n),{content:s}=r,o={...r,...e,toastId:e.toastId||t,updateId:Fv()},i=o.render||s;delete o.render,Mr(i,o.type,o)}},0)};Ue.done=t=>{Ue.update(t,{isLoading:!1,progress:1})};Ue.promise=SI;function SI(t,{pending:e,error:n,success:r},s){var o,i,a;let l;const c={...s||{},autoClose:!1};e&&(l=Zc(e)?Ue.loading(e,c):Ue.loading(e.render,{...c,...e}));const u={autoClose:(o=s==null?void 0:s.autoClose)!=null?o:!0,closeOnClick:(i=s==null?void 0:s.closeOnClick)!=null?i:!0,closeButton:(a=s==null?void 0:s.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},h=(p,g,y)=>{if(g==null){Ue.remove(l);return}const v={type:p,...u,...s,data:y},T=Zc(g)?{render:g}:g;return l?Ue.update(l,{...v,...T,isLoading:!1}):Ue(T.render,{...v,...T,isLoading:!1}),y},f=Bs(t)?t():t;return f.then(p=>{h("success",r,p)}).catch(p=>{h("error",n,p)}),f}Ue.POSITION=vi;Ue.THEME=Ys;Ue.TYPE=jt;Ue.TRANSITIONS=jC;const CI={install(t,e={}){sI.useHandler=e.useHandler||(()=>{}),II(e)}};typeof window<"u"&&(window.Vue3Toastify=CI);function II(t={}){const e=il(Mv,t);iI(e)}const kt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},AI={class:"space-y-1"},OI=["for"],RI={key:0,class:"text-red-400"},PI={class:"relative"},NI=["id","type","value","placeholder","required","disabled"],LI={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2"},$I={key:1,class:"absolute right-3 top-1/2 -translate-y-1/2"},MI={key:0,class:"text-sm text-red-400 flex items-center gap-1 animate-slide-in"},DI={key:1,class:"text-sm text-gray-400"},jI={__name:"FormInput",props:{id:String,label:String,type:{type:String,default:"text"},modelValue:[String,Number],placeholder:String,required:Boolean,disabled:Boolean,helperText:String,validation:Function,validateOnInput:{type:Boolean,default:!1}},emits:["update:modelValue","validate"],setup(t,{expose:e,emit:n}){const r=t,s=n,o=Y(!1),i=Y(""),a=ve(()=>o.value&&!i.value&&r.modelValue&&r.modelValue.length>0),l=h=>{const f=h.target.value;s("update:modelValue",f),r.validateOnInput&&o.value&&u(f)},c=h=>{o.value=!0,u(h.target.value)},u=h=>{if(i.value="",r.required&&!h)return i.value="Trng ny l bt buc",s("validate",!1),!1;if(r.validation){const f=r.validation(h);if(f!==!0)return i.value=f,s("validate",!1),!1}return r.type==="email"&&h&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)?(i.value="Email khng hp l",s("validate",!1),!1):(s("validate",!0),!0)};return e({validate:u}),(h,f)=>(I(),N("div",AI,[t.label?(I(),N("label",{key:0,for:t.id,class:"block text-sm font-medium text-gray-300"},[he(H(t.label)+" ",1),t.required?(I(),N("span",RI,"*")):Q("",!0)],8,OI)):Q("",!0),d("div",PI,[d("input",{id:t.id,type:t.type,value:t.modelValue,onInput:l,onBlur:c,placeholder:t.placeholder,required:t.required,disabled:t.disabled,class:Oe(["w-full px-4 py-2.5 rounded-lg bg-gray-800 text-white placeholder-gray-500 border transition-all","focus:outline-none focus:ring-2",i.value?"border-red-500 focus:border-red-500 focus:ring-red-500/50":a.value?"border-green-500 focus:border-green-500 focus:ring-green-500/50":"border-gray-700 focus:border-yellow-400 focus:ring-yellow-400/50",t.disabled&&"opacity-50 cursor-not-allowed"])},null,42,NI),a.value&&!i.value?(I(),N("div",LI,f[0]||(f[0]=[d("svg",{class:"w-5 h-5 text-green-500 animate-scale-in",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)]))):Q("",!0),i.value?(I(),N("div",$I,f[1]||(f[1]=[d("svg",{class:"w-5 h-5 text-red-500 animate-shake",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)]))):Q("",!0)]),X(yt,{name:"slide-down"},{default:ge(()=>[i.value?(I(),N("p",MI,[f[2]||(f[2]=d("svg",{class:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),he(" "+H(i.value),1)])):Q("",!0)]),_:1}),t.helperText&&!i.value?(I(),N("p",DI,H(t.helperText),1)):Q("",!0)]))}},fo=kt(jI,[["__scopeId","data-v-15cf11d7"]]),UI=["type","disabled"],FI={key:0,class:"absolute inset-0 flex items-center justify-center"},BI={__name:"LoadingButton",props:{loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},variant:{type:String,default:"primary",validator:t=>["primary","secondary","danger","success","ghost"].includes(t)},size:{type:String,default:"md",validator:t=>["xs","sm","md","lg","xl"].includes(t)},type:{type:String,default:"button"}},setup(t){const e=t,n=ve(()=>({xs:"px-2 py-1 text-xs rounded",sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2 text-base rounded-lg",lg:"px-6 py-3 text-lg rounded-lg",xl:"px-8 py-4 text-xl rounded-xl"})[e.size]),r=ve(()=>({xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"})[e.size]),s=ve(()=>({primary:"bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-400 shadow-lg",secondary:"bg-gray-700 text-white hover:bg-gray-600 focus:ring-gray-500",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400",success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-400",ghost:"bg-transparent text-white border border-gray-600 hover:bg-gray-800 focus:ring-gray-500"})[e.variant]);return(o,i)=>(I(),N("button",On({type:t.type,disabled:t.loading||t.disabled,class:["relative inline-flex items-center justify-center gap-2 font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",n.value,s.value,t.loading||t.disabled?"cursor-not-allowed opacity-70":"hover:scale-105"]},o.$attrs),[t.loading?(I(),N("div",FI,[(I(),N("svg",{class:Oe(["animate-spin",r.value]),fill:"none",viewBox:"0 0 24 24"},i[0]||(i[0]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),2))])):Q("",!0),d("span",{class:Oe({invisible:t.loading})},[kg(o.$slots,"default")],2)],16,UI))}},HI={class:"relative w-full max-w-5xl bg-gray-900 rounded-2xl shadow-2xl overflow-hidden transform transition-all"},VI={class:"grid md:grid-cols-2 min-h-[600px]"},WI={class:"p-6 md:p-8 overflow-y-auto max-h-[600px] scrollbar-hide"},qI={class:"text-2xl font-bold text-white mb-1"},zI={class:"text-sm text-gray-400 mb-4"},KI={key:0,class:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm"},GI={key:1,class:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-400 text-sm"},JI=["disabled"],YI={class:"relative"},XI={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},QI={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ZI={key:2,class:"relative"},eA={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tA={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},nA={class:"mt-4 text-center"},rA={class:"font-semibold"},sA={__name:"AuthModal",props:{modelValue:Boolean},emits:["update:modelValue","success"],setup(t,{emit:e}){const n=e,r=gs(),s=new Hn;s.setCustomParameters({prompt:"select_account"});const o=Y(!0),i=Y(""),a=Y(""),l=Y(""),c=Y(""),u=Y(""),h=Y(!1),f=Y(!1),p=Y(""),g=Y(""),y=Y(!1),v=P=>P?P.length<3?"Tn ng nhp phi c t nht 3 k t":/^[a-zA-Z0-9_]+$/.test(P)?!0:"Ch c dng ch, s v du gch di":"Tn ng nhp l bt buc",T=P=>P?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)?!0:"Email khng hp l":"Email l bt buc",A=P=>P?P.length<6?"Mt khu phi c t nht 6 k t":!0:"Mt khu l bt buc",_=()=>{n("update:modelValue",!1),setTimeout(()=>{p.value="",g.value="",i.value="",a.value="",l.value="",c.value="",u.value=""},300)},b=()=>{o.value=!o.value,p.value="",g.value=""},R=async()=>{y.value=!0,p.value="",g.value="";try{if(o.value){const m=(await Wx(r,a.value,l.value)).user,$=await m.getIdToken();await k(m,$);const ee=localStorage.getItem("user"),F=localStorage.getItem("token");if(console.log(" Login successful! Checking localStorage:"),console.log("  - User data:",ee),console.log("  - Token:",F?"EXISTS":"MISSING"),console.log("  - Parsed user:",ee?JSON.parse(ee):null),!ee||!F){console.error(" CRITICAL: localStorage not saved properly!"),p.value="Li lu thng tin ng nhp. Vui lng th li.",Ue.error(p.value),y.value=!1;return}g.value="ng nhp thnh cng!",Ue.success("ng nhp thnh cng!"),await new Promise(ae=>setTimeout(ae,500)),n("success"),_(),console.log(" Reloading page..."),window.location.reload()}else{if(l.value!==c.value){p.value="Mt khu xc nhn khng khp",Ue.error("Mt khu xc nhn khng khp"),y.value=!1;return}const m=(await Vx(r,a.value,l.value)).user;await zx(m,{displayName:u.value||i.value});const $=await m.getIdToken();await k(m,$),g.value="ng k thnh cng! Vui lng ng nhp li.",Ue.success("ng k thnh cng!");const ee=a.value;setTimeout(()=>{o.value=!0,a.value=ee,l.value="",c.value="",i.value="",u.value="",g.value="",p.value=""},1500)}}catch(P){console.error("Firebase auth error:",P);const m={"auth/user-not-found":"Khng tm thy ti khon vi email ny","auth/wrong-password":"Mt khu khng ng","auth/email-already-in-use":"Email  c s dng","auth/weak-password":"Mt khu qu yu (ti thiu 6 k t)","auth/invalid-email":"Email khng hp l","auth/invalid-credential":"Email hoc mt khu khng ng","auth/too-many-requests":"Qu nhiu ln th. Vui lng th li sau"};p.value=m[P.code]||"C li xy ra. Vui lng th li",Ue.error(p.value)}finally{y.value=!1}},k=async(P,m)=>{let $=null;try{const _e=await(await fetch("https://hthree-film-production.up.railway.app/api/auth/sync_user.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebase_uid:P.uid,email:P.email,username:P.displayName||P.email.split("@")[0],full_name:P.displayName})})).json();$=_e.success?_e.user_id:null,console.log(" MySQL sync result:",_e)}catch(F){console.error("Failed to sync user to MySQL:",F)}const ee={id:$||P.uid,firebase_uid:P.uid,username:P.displayName||P.email.split("@")[0],email:P.email,full_name:P.displayName,avatar:P.photoURL};localStorage.setItem("user",JSON.stringify(ee)),localStorage.setItem("token",m),console.log(" Saved to localStorage:",ee)},x=async()=>{y.value=!0,p.value="";try{const m=(await p2(r,s)).user;let $=null;try{const ae=await(await fetch("https://hthree-film-production.up.railway.app/api/auth/sync_user.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebase_uid:m.uid,email:m.email,username:m.displayName||m.email.split("@")[0],full_name:m.displayName,avatar:m.photoURL})})).json();ae.success&&ae.user_id&&($=ae.user_id)}catch(ee){console.error("Failed to sync user to MySQL:",ee)}localStorage.setItem("user",JSON.stringify({id:$||m.uid,firebase_uid:m.uid,username:m.displayName,email:m.email,full_name:m.displayName,avatar:m.photoURL})),localStorage.setItem("token",m.accessToken),Ue.success("ng nhp Google thnh cng!"),setTimeout(()=>{n("success"),_(),window.location.reload()},1e3)}catch(P){console.error("Google auth error:",P),p.value="ng nhp Google tht bi",Ue.error(p.value)}finally{y.value=!1}};return(P,m)=>(I(),Le(yt,{name:"modal"},{default:ge(()=>[t.modelValue?(I(),N("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:zt(_,["self"])},[d("div",HI,[d("button",{onClick:_,class:"absolute top-4 right-4 z-10 text-gray-400 hover:text-white transition-colors"},m[7]||(m[7]=[d("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),d("div",VI,[m[16]||(m[16]=d("div",{class:"hidden md:block relative overflow-hidden"},[d("img",{src:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=800&q=80",alt:"Cinema",class:"absolute inset-0 w-full h-full object-cover"}),d("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent to-gray-900/50"}),d("div",{class:"absolute inset-0 flex flex-col justify-end p-8 text-white"},[d("div",{class:"flex items-center gap-2 mb-4"},[d("svg",{class:"w-12 h-12 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),d("span",{class:"text-3xl font-bold text-yellow-400"},"HTHREE")]),d("h2",{class:"text-3xl font-bold mb-2"},"Cho mng tr li!"),d("p",{class:"text-gray-300"},"Khm ph hng ngn b phim hay nht")])],-1)),d("div",WI,[m[13]||(m[13]=d("div",{class:"md:hidden flex justify-center mb-6"},[d("div",{class:"flex items-center gap-2"},[d("svg",{class:"w-10 h-10 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),d("span",{class:"text-3xl font-bold text-yellow-400"},"HTHREE")])],-1)),d("h2",qI,H(o.value?"ng Nhp":"ng K"),1),d("p",zI,H(o.value?"Cho mng bn tr li!":"To ti khon mi"),1),p.value?(I(),N("div",KI,H(p.value),1)):Q("",!0),g.value?(I(),N("div",GI,H(g.value),1)):Q("",!0),d("button",{onClick:x,type:"button",disabled:y.value,class:"w-full flex items-center justify-center gap-2 bg-white hover:bg-gray-100 text-gray-800 font-medium py-2.5 rounded-lg transition-all mb-4 text-sm"},[m[8]||(m[8]=d("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",class:"w-4 h-4"},null,-1)),he(" "+H(o.value?"ng nhp":"ng k")+" vi Google ",1)],8,JI),m[14]||(m[14]=d("div",{class:"relative mb-4"},[d("div",{class:"absolute inset-0 flex items-center"},[d("div",{class:"w-full border-t border-gray-700"})]),d("div",{class:"relative flex justify-center text-xs"},[d("span",{class:"px-3 bg-gray-900 text-gray-400"},"Hoc")])],-1)),d("form",{onSubmit:zt(R,["prevent"]),class:"space-y-3"},[o.value?Q("",!0):(I(),Le(fo,{key:0,id:"username",modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=$=>i.value=$),placeholder:"Tn ng nhp",required:!0,"validate-on-input":!0,validation:v,"helper-text":"Ti thiu 3 k t, ch ch v s"},null,8,["modelValue"])),o.value?Q("",!0):(I(),Le(fo,{key:1,id:"fullName",modelValue:u.value,"onUpdate:modelValue":m[1]||(m[1]=$=>u.value=$),placeholder:"H v tn","helper-text":"Ty chn"},null,8,["modelValue"])),X(fo,{id:"email",modelValue:a.value,"onUpdate:modelValue":m[2]||(m[2]=$=>a.value=$),type:o.value?"text":"email",placeholder:o.value?"Tn ng nhp hoc Email":"Email",required:!0,"validate-on-input":!o.value,validation:o.value?null:T},null,8,["modelValue","type","placeholder","validate-on-input","validation"]),d("div",YI,[X(fo,{id:"password",modelValue:l.value,"onUpdate:modelValue":m[3]||(m[3]=$=>l.value=$),type:h.value?"text":"password",placeholder:"Mt khu",required:!0,"validate-on-input":!o.value,validation:A,"helper-text":"Ti thiu 6 k t"},null,8,["modelValue","type","validate-on-input"]),d("button",{type:"button",onClick:m[4]||(m[4]=$=>h.value=!h.value),class:"absolute right-3 top-[14px] text-gray-400 hover:text-white z-10"},[h.value?(I(),N("svg",QI,m[10]||(m[10]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(I(),N("svg",XI,m[9]||(m[9]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),o.value?Q("",!0):(I(),N("div",ZI,[X(fo,{id:"confirmPassword",modelValue:c.value,"onUpdate:modelValue":m[5]||(m[5]=$=>c.value=$),type:f.value?"text":"password",placeholder:"Nhp li mt khu",required:!0,"validate-on-input":!0,validation:$=>$?$!==l.value?"Mt khu khng khp":!0:"Vui lng nhp li mt khu"},null,8,["modelValue","type","validation"]),d("button",{type:"button",onClick:m[6]||(m[6]=$=>f.value=!f.value),class:"absolute right-3 top-[14px] text-gray-400 hover:text-white z-10"},[f.value?(I(),N("svg",tA,m[12]||(m[12]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(I(),N("svg",eA,m[11]||(m[11]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])),X(BI,{type:"submit",loading:y.value,variant:"primary",size:"md",class:"w-full"},{default:ge(()=>[he(H(o.value?"ng Nhp":"ng K"),1)]),_:1},8,["loading"])],32),d("div",nA,[d("button",{onClick:b,class:"text-sm text-gray-400 hover:text-yellow-400"},[he(H(o.value?"Cha c ti khon?":" c ti khon?")+" ",1),d("span",rA,H(o.value?"ng k ngay":"ng nhp"),1)])]),m[15]||(m[15]=d("div",{class:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700"},[d("p",{class:"text-xs text-gray-400 mb-1.5"},"Ti khon demo:"),d("div",{class:"space-y-0.5 text-xs text-gray-500"},[d("p",null," admin / 123456"),d("p",null," user1 / 123456")])],-1))])])])])):Q("",!0)]),_:1}))}},oA=kt(sA,[["__scopeId","data-v-b89f35ea"]]);function iA(t={}){const e=n=>{const r=[];(n.ctrlKey||n.metaKey)&&r.push("ctrl"),n.shiftKey&&r.push("shift"),n.altKey&&r.push("alt"),r.push(n.key.toLowerCase());const s=r.join("+"),o=t[s];o&&(n.preventDefault(),n.stopPropagation(),o(n))};return Ot(()=>{window.addEventListener("keydown",e)}),sn(()=>{window.removeEventListener("keydown",e)}),{handleKeyDown:e}}const aA={"ctrl+k":"Focus search",escape:"Close modal/dialog","/":"Quick search","ctrl+z":"Undo last action","ctrl+shift+z":"Redo last action","ctrl+s":"Save (where applicable)","ctrl+f":"Find in page","?":"Show keyboard shortcuts help"};function zr(){const t=document.activeElement,e=t==null?void 0:t.tagName.toLowerCase();return["input","textarea","select"].includes(e)||(t==null?void 0:t.isContentEditable)}function lA(t){return t.split("+").map(e=>({ctrl:"",shift:"",alt:"",escape:"Esc",arrowleft:"",arrowright:"",arrowup:"",arrowdown:""})[e.toLowerCase()]||e.toUpperCase()).join(" + ")}const cA={class:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg hover:bg-gray-800 transition-colors"},uA={class:"text-gray-300 text-sm"},dA={class:"flex items-center gap-1"},St={__name:"ShortcutItem",props:{shortcut:{type:String,required:!0},description:{type:String,required:!0}},setup(t){const e=t,n=ve(()=>lA(e.shortcut).split(" + "));return(r,s)=>(I(),N("div",cA,[d("span",uA,H(t.description),1),d("div",dA,[(I(!0),N(we,null,Ve(n.value,(o,i)=>(I(),N("kbd",{key:i,class:"px-2 py-1 bg-gray-700 text-white rounded text-xs font-mono min-w-[28px] text-center"},H(o),1))),128))])]))}},hA={class:"bg-gray-900 rounded-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden border border-gray-700 shadow-2xl"},fA={class:"bg-gradient-to-r from-yellow-500 to-red-600 p-6 flex items-center justify-between"},pA={class:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]"},gA={class:"mb-8"},mA={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},vA={class:"mb-8"},yA={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},_A={class:"mb-8"},bA={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},wA={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},EA={__name:"KeyboardShortcutsHelp",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t){const e=aA;return(n,r)=>(I(),Le(to,{to:"body"},[X(yt,{name:"fade"},{default:ge(()=>[t.show?(I(),N("div",{key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:r[1]||(r[1]=zt(s=>n.$emit("close"),["self"]))},[d("div",hA,[d("div",fA,[r[3]||(r[3]=d("div",{class:"flex items-center gap-3"},[d("div",{class:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})])]),d("div",null,[d("h2",{class:"text-2xl font-bold text-white"},"Phm tt"),d("p",{class:"text-white/80 text-sm"},"Thao tc nhanh hn vi bn phm")])],-1)),d("button",{onClick:r[0]||(r[0]=s=>n.$emit("close")),class:"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors"},r[2]||(r[2]=[d("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),d("div",pA,[d("div",gA,[r[4]||(r[4]=d("h3",{class:"text-lg font-bold text-white mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z","clip-rule":"evenodd"})]),he(" Phm tt chung ")],-1)),d("div",mA,[(I(!0),N(we,null,Ve(Fe(e),(s,o)=>(I(),Le(St,{key:o,shortcut:o,description:s},null,8,["shortcut","description"]))),128))])]),d("div",vA,[r[5]||(r[5]=d("h3",{class:"text-lg font-bold text-white mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),he(" iu hng ")],-1)),d("div",yA,[X(St,{shortcut:"g+h",description:"V trang ch"}),X(St,{shortcut:"g+l",description:"Th vin ca ti"}),X(St,{shortcut:"g+p",description:"Gi dch v"}),X(St,{shortcut:"g+c",description:"Gi hng"})])]),d("div",_A,[r[6]||(r[6]=d("h3",{class:"text-lg font-bold text-white mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-purple-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})]),he(" Th vin ")],-1)),d("div",bA,[X(St,{shortcut:"f",description:"Lc yu thch"}),X(St,{shortcut:"w",description:"Lc danh sch xem"}),X(St,{shortcut:"c",description:"Lc ang xem"}),X(St,{shortcut:"delete",description:"Xa mc  chn"})])]),d("div",null,[r[7]||(r[7]=d("h3",{class:"text-lg font-bold text-white mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),he(" Trnh pht video ")],-1)),d("div",wA,[X(St,{shortcut:"space",description:"Pht/Tm dng"}),X(St,{shortcut:"f",description:"Ton mn hnh"}),X(St,{shortcut:"m",description:"Tt/Bt ting"}),X(St,{shortcut:"",description:"Tua li 10s"}),X(St,{shortcut:"",description:"Tua ti 10s"}),X(St,{shortcut:"",description:"Tng m lng"}),X(St,{shortcut:"",description:"Gim m lng"})])])]),r[8]||(r[8]=d("div",{class:"bg-gray-800/50 px-6 py-4 border-t border-gray-700"},[d("p",{class:"text-gray-400 text-sm text-center"},[he(" Nhn "),d("kbd",{class:"px-2 py-1 bg-gray-700 rounded text-xs"},"?"),he(" bt c lc no  xem phm tt ")])],-1))])])):Q("",!0)]),_:1})]))}},qv=kt(EA,[["__scopeId","data-v-b775cdea"]]);let Mn=null;function xA(t){Mn=t}function ll(){return{success:(t,e=3e3)=>{Mn&&Mn.success(t,e)},error:(t,e=3e3)=>{Mn&&Mn.error(t,e)},warning:(t,e=3e3)=>{Mn&&Mn.warning(t,e)},info:(t,e=3e3)=>{Mn&&Mn.info(t,e)}}}function kA(t=10){const e="recent_searches",r=Y((()=>{try{const c=localStorage.getItem(e);return c?JSON.parse(c):[]}catch(c){return console.error("Failed to load recent searches:",c),[]}})()),s=()=>{try{localStorage.setItem(e,JSON.stringify(r.value))}catch(c){console.error("Failed to save recent searches:",c)}};return{recentSearches:r,addSearch:c=>{if(!c||!c.trim())return;const u=c.trim();r.value=r.value.filter(h=>h.toLowerCase()!==u.toLowerCase()),r.value.unshift(u),r.value.length>t&&(r.value=r.value.slice(0,t)),s()},removeSearch:c=>{r.value=r.value.filter(u=>u!==c),s()},clearSearches:()=>{r.value=[],localStorage.removeItem(e)},getFilteredSearches:c=>{if(!c)return r.value;const u=c.toLowerCase();return r.value.filter(h=>h.toLowerCase().includes(u))}}}/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function TA(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Aa=typeof window<"u",Dr=(t,e=!1)=>e?Symbol.for(t):Symbol(t),SA=(t,e,n)=>CA({l:t,k:e,s:n}),CA=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ut=t=>typeof t=="number"&&isFinite(t),IA=t=>Kv(t)==="[object Date]",Tr=t=>Kv(t)==="[object RegExp]",cl=t=>Ae(t)&&Object.keys(t).length===0,xt=Object.assign,AA=Object.create,Ye=(t=null)=>AA(t);let qf;const Vn=()=>qf||(qf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ye());function zf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Kf(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function OA(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,s,o)=>`${s}="${Kf(o)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,s,o)=>`${s}='${Kf(o)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{t=t.replace(r,"$1javascript&#58;")}),t}const RA=Object.prototype.hasOwnProperty;function dn(t,e){return RA.call(t,e)}const rt=Array.isArray,nt=t=>typeof t=="function",le=t=>typeof t=="string",De=t=>typeof t=="boolean",Be=t=>t!==null&&typeof t=="object",PA=t=>Be(t)&&nt(t.then)&&nt(t.catch),zv=Object.prototype.toString,Kv=t=>zv.call(t),Ae=t=>{if(!Be(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},NA=t=>t==null?"":rt(t)||Ae(t)&&t.toString===zv?JSON.stringify(t,null,2):String(t);function LA(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function ul(t){let e=t;return()=>++e}const Mi=t=>!Be(t)||rt(t);function ra(t,e){if(Mi(t)||Mi(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(o=>{o!=="__proto__"&&(Be(r[o])&&!Be(s[o])&&(s[o]=Array.isArray(r[o])?[]:Ye()),Mi(s[o])||Mi(r[o])?s[o]=r[o]:n.push({src:r[o],des:s[o]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function $A(t,e,n){return{line:t,column:e,offset:n}}function Oa(t,e,n){return{start:t,end:e}}const MA=/\{([0-9a-zA-Z]+)\}/g;function Gv(t,...e){return e.length===1&&DA(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(MA,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const Jv=Object.assign,Gf=t=>typeof t=="string",DA=t=>t!==null&&typeof t=="object";function Yv(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const od={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},jA={[od.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function UA(t,e,...n){const r=Gv(jA[t],...n||[]),s={message:String(r),code:t};return e&&(s.location=e),s}const ke={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},FA={[ke.EXPECTED_TOKEN]:"Expected token: '{0}'",[ke.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ke.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ke.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ke.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ke.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ke.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ke.EMPTY_PLACEHOLDER]:"Empty placeholder",[ke.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ke.INVALID_LINKED_FORMAT]:"Invalid linked format",[ke.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ke.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ke.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ke.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ke.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ke.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function io(t,e,n={}){const{domain:r,messages:s,args:o}=n,i=Gv((s||FA)[t]||"",...o||[]),a=new SyntaxError(String(i));return a.code=t,e&&(a.location=e),a.domain=r,a}function BA(t){throw t}const Nn=" ",HA="\r",Pt=`
`,VA="\u2028",WA="\u2029";function qA(t){const e=t;let n=0,r=1,s=1,o=0;const i=x=>e[x]===HA&&e[x+1]===Pt,a=x=>e[x]===Pt,l=x=>e[x]===WA,c=x=>e[x]===VA,u=x=>i(x)||a(x)||l(x)||c(x),h=()=>n,f=()=>r,p=()=>s,g=()=>o,y=x=>i(x)||l(x)||c(x)?Pt:e[x],v=()=>y(n),T=()=>y(n+o);function A(){return o=0,u(n)&&(r++,s=0),i(n)&&n++,n++,s++,e[n]}function _(){return i(n+o)&&o++,o++,e[n+o]}function b(){n=0,r=1,s=1,o=0}function R(x=0){o=x}function k(){const x=n+o;for(;x!==n;)A();o=0}return{index:h,line:f,column:p,peekOffset:g,charAt:y,currentChar:v,currentPeek:T,next:A,peek:_,reset:b,resetPeek:R,skipToPeek:k}}const ar=void 0,zA=".",Jf="'",KA="tokenizer";function GA(t,e={}){const n=e.location!==!1,r=qA(t),s=()=>r.index(),o=()=>$A(r.line(),r.column(),r.index()),i=o(),a=s(),l={currentType:14,offset:a,startLoc:i,endLoc:i,lastType:14,lastOffset:a,lastStartLoc:i,lastEndLoc:i,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function h(w,E,M,...B){const oe=c();if(E.column+=M,E.offset+=M,u){const ne=n?Oa(oe.startLoc,E):null,D=io(w,ne,{domain:KA,args:B});u(D)}}function f(w,E,M){w.endLoc=o(),w.currentType=E;const B={type:E};return n&&(B.loc=Oa(w.startLoc,w.endLoc)),M!=null&&(B.value=M),B}const p=w=>f(w,14);function g(w,E){return w.currentChar()===E?(w.next(),E):(h(ke.EXPECTED_TOKEN,o(),0,E),"")}function y(w){let E="";for(;w.currentPeek()===Nn||w.currentPeek()===Pt;)E+=w.currentPeek(),w.peek();return E}function v(w){const E=y(w);return w.skipToPeek(),E}function T(w){if(w===ar)return!1;const E=w.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E===95}function A(w){if(w===ar)return!1;const E=w.charCodeAt(0);return E>=48&&E<=57}function _(w,E){const{currentType:M}=E;if(M!==2)return!1;y(w);const B=T(w.currentPeek());return w.resetPeek(),B}function b(w,E){const{currentType:M}=E;if(M!==2)return!1;y(w);const B=w.currentPeek()==="-"?w.peek():w.currentPeek(),oe=A(B);return w.resetPeek(),oe}function R(w,E){const{currentType:M}=E;if(M!==2)return!1;y(w);const B=w.currentPeek()===Jf;return w.resetPeek(),B}function k(w,E){const{currentType:M}=E;if(M!==8)return!1;y(w);const B=w.currentPeek()===".";return w.resetPeek(),B}function x(w,E){const{currentType:M}=E;if(M!==9)return!1;y(w);const B=T(w.currentPeek());return w.resetPeek(),B}function P(w,E){const{currentType:M}=E;if(!(M===8||M===12))return!1;y(w);const B=w.currentPeek()===":";return w.resetPeek(),B}function m(w,E){const{currentType:M}=E;if(M!==10)return!1;const B=()=>{const ne=w.currentPeek();return ne==="{"?T(w.peek()):ne==="@"||ne==="%"||ne==="|"||ne===":"||ne==="."||ne===Nn||!ne?!1:ne===Pt?(w.peek(),B()):F(w,!1)},oe=B();return w.resetPeek(),oe}function $(w){y(w);const E=w.currentPeek()==="|";return w.resetPeek(),E}function ee(w){const E=y(w),M=w.currentPeek()==="%"&&w.peek()==="{";return w.resetPeek(),{isModulo:M,hasSpace:E.length>0}}function F(w,E=!0){const M=(oe=!1,ne="",D=!1)=>{const z=w.currentPeek();return z==="{"?ne==="%"?!1:oe:z==="@"||!z?ne==="%"?!0:oe:z==="%"?(w.peek(),M(oe,"%",!0)):z==="|"?ne==="%"||D?!0:!(ne===Nn||ne===Pt):z===Nn?(w.peek(),M(!0,Nn,D)):z===Pt?(w.peek(),M(!0,Pt,D)):!0},B=M();return E&&w.resetPeek(),B}function ae(w,E){const M=w.currentChar();return M===ar?ar:E(M)?(w.next(),M):null}function _e(w){const E=w.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||E===95||E===36}function Ce(w){return ae(w,_e)}function te(w){const E=w.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||E===95||E===36||E===45}function U(w){return ae(w,te)}function de(w){const E=w.charCodeAt(0);return E>=48&&E<=57}function ce(w){return ae(w,de)}function be(w){const E=w.charCodeAt(0);return E>=48&&E<=57||E>=65&&E<=70||E>=97&&E<=102}function pe(w){return ae(w,be)}function Pe(w){let E="",M="";for(;E=ce(w);)M+=E;return M}function J(w){v(w);const E=w.currentChar();return E!=="%"&&h(ke.EXPECTED_TOKEN,o(),0,E),w.next(),"%"}function Ee(w){let E="";for(;;){const M=w.currentChar();if(M==="{"||M==="}"||M==="@"||M==="|"||!M)break;if(M==="%")if(F(w))E+=M,w.next();else break;else if(M===Nn||M===Pt)if(F(w))E+=M,w.next();else{if($(w))break;E+=M,w.next()}else E+=M,w.next()}return E}function We(w){v(w);let E="",M="";for(;E=U(w);)M+=E;return w.currentChar()===ar&&h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),M}function je(w){v(w);let E="";return w.currentChar()==="-"?(w.next(),E+=`-${Pe(w)}`):E+=Pe(w),w.currentChar()===ar&&h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),E}function q(w){return w!==Jf&&w!==Pt}function ie(w){v(w),g(w,"'");let E="",M="";for(;E=ae(w,q);)E==="\\"?M+=V(w):M+=E;const B=w.currentChar();return B===Pt||B===ar?(h(ke.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),B===Pt&&(w.next(),g(w,"'")),M):(g(w,"'"),M)}function V(w){const E=w.currentChar();switch(E){case"\\":case"'":return w.next(),`\\${E}`;case"u":return L(w,E,4);case"U":return L(w,E,6);default:return h(ke.UNKNOWN_ESCAPE_SEQUENCE,o(),0,E),""}}function L(w,E,M){g(w,E);let B="";for(let oe=0;oe<M;oe++){const ne=pe(w);if(!ne){h(ke.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${E}${B}${w.currentChar()}`);break}B+=ne}return`\\${E}${B}`}function Z(w){return w!=="{"&&w!=="}"&&w!==Nn&&w!==Pt}function S(w){v(w);let E="",M="";for(;E=ae(w,Z);)M+=E;return M}function O(w){let E="",M="";for(;E=Ce(w);)M+=E;return M}function C(w){const E=M=>{const B=w.currentChar();return B==="{"||B==="%"||B==="@"||B==="|"||B==="("||B===")"||!B||B===Nn?M:(M+=B,w.next(),E(M))};return E("")}function j(w){v(w);const E=g(w,"|");return v(w),E}function G(w,E){let M=null;switch(w.currentChar()){case"{":return E.braceNest>=1&&h(ke.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),w.next(),M=f(E,2,"{"),v(w),E.braceNest++,M;case"}":return E.braceNest>0&&E.currentType===2&&h(ke.EMPTY_PLACEHOLDER,o(),0),w.next(),M=f(E,3,"}"),E.braceNest--,E.braceNest>0&&v(w),E.inLinked&&E.braceNest===0&&(E.inLinked=!1),M;case"@":return E.braceNest>0&&h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),M=K(w,E)||p(E),E.braceNest=0,M;default:{let oe=!0,ne=!0,D=!0;if($(w))return E.braceNest>0&&h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),M=f(E,1,j(w)),E.braceNest=0,E.inLinked=!1,M;if(E.braceNest>0&&(E.currentType===5||E.currentType===6||E.currentType===7))return h(ke.UNTERMINATED_CLOSING_BRACE,o(),0),E.braceNest=0,se(w,E);if(oe=_(w,E))return M=f(E,5,We(w)),v(w),M;if(ne=b(w,E))return M=f(E,6,je(w)),v(w),M;if(D=R(w,E))return M=f(E,7,ie(w)),v(w),M;if(!oe&&!ne&&!D)return M=f(E,13,S(w)),h(ke.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,M.value),v(w),M;break}}return M}function K(w,E){const{currentType:M}=E;let B=null;const oe=w.currentChar();switch((M===8||M===9||M===12||M===10)&&(oe===Pt||oe===Nn)&&h(ke.INVALID_LINKED_FORMAT,o(),0),oe){case"@":return w.next(),B=f(E,8,"@"),E.inLinked=!0,B;case".":return v(w),w.next(),f(E,9,".");case":":return v(w),w.next(),f(E,10,":");default:return $(w)?(B=f(E,1,j(w)),E.braceNest=0,E.inLinked=!1,B):k(w,E)||P(w,E)?(v(w),K(w,E)):x(w,E)?(v(w),f(E,12,O(w))):m(w,E)?(v(w),oe==="{"?G(w,E)||B:f(E,11,C(w))):(M===8&&h(ke.INVALID_LINKED_FORMAT,o(),0),E.braceNest=0,E.inLinked=!1,se(w,E))}}function se(w,E){let M={type:14};if(E.braceNest>0)return G(w,E)||p(E);if(E.inLinked)return K(w,E)||p(E);switch(w.currentChar()){case"{":return G(w,E)||p(E);case"}":return h(ke.UNBALANCED_CLOSING_BRACE,o(),0),w.next(),f(E,3,"}");case"@":return K(w,E)||p(E);default:{if($(w))return M=f(E,1,j(w)),E.braceNest=0,E.inLinked=!1,M;const{isModulo:oe,hasSpace:ne}=ee(w);if(oe)return ne?f(E,0,Ee(w)):f(E,4,J(w));if(F(w))return f(E,0,Ee(w));break}}return M}function re(){const{currentType:w,offset:E,startLoc:M,endLoc:B}=l;return l.lastType=w,l.lastOffset=E,l.lastStartLoc=M,l.lastEndLoc=B,l.offset=s(),l.startLoc=o(),r.currentChar()===ar?f(l,14):se(r,l)}return{nextToken:re,currentOffset:s,currentPosition:o,context:c}}const JA="parser",YA=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function XA(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function QA(t={}){const e=t.location!==!1,{onError:n,onWarn:r}=t;function s(_,b,R,k,...x){const P=_.currentPosition();if(P.offset+=k,P.column+=k,n){const m=e?Oa(R,P):null,$=io(b,m,{domain:JA,args:x});n($)}}function o(_,b,R,k,...x){const P=_.currentPosition();if(P.offset+=k,P.column+=k,r){const m=e?Oa(R,P):null;r(UA(b,m,x))}}function i(_,b,R){const k={type:_};return e&&(k.start=b,k.end=b,k.loc={start:R,end:R}),k}function a(_,b,R,k){e&&(_.end=b,_.loc&&(_.loc.end=R))}function l(_,b){const R=_.context(),k=i(3,R.offset,R.startLoc);return k.value=b,a(k,_.currentOffset(),_.currentPosition()),k}function c(_,b){const R=_.context(),{lastOffset:k,lastStartLoc:x}=R,P=i(5,k,x);return P.index=parseInt(b,10),_.nextToken(),a(P,_.currentOffset(),_.currentPosition()),P}function u(_,b,R){const k=_.context(),{lastOffset:x,lastStartLoc:P}=k,m=i(4,x,P);return m.key=b,R===!0&&(m.modulo=!0),_.nextToken(),a(m,_.currentOffset(),_.currentPosition()),m}function h(_,b){const R=_.context(),{lastOffset:k,lastStartLoc:x}=R,P=i(9,k,x);return P.value=b.replace(YA,XA),_.nextToken(),a(P,_.currentOffset(),_.currentPosition()),P}function f(_){const b=_.nextToken(),R=_.context(),{lastOffset:k,lastStartLoc:x}=R,P=i(8,k,x);return b.type!==12?(s(_,ke.UNEXPECTED_EMPTY_LINKED_MODIFIER,R.lastStartLoc,0),P.value="",a(P,k,x),{nextConsumeToken:b,node:P}):(b.value==null&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,on(b)),P.value=b.value||"",a(P,_.currentOffset(),_.currentPosition()),{node:P})}function p(_,b){const R=_.context(),k=i(7,R.offset,R.startLoc);return k.value=b,a(k,_.currentOffset(),_.currentPosition()),k}function g(_){const b=_.context(),R=i(6,b.offset,b.startLoc);let k=_.nextToken();if(k.type===9){const x=f(_);R.modifier=x.node,k=x.nextConsumeToken||_.nextToken()}switch(k.type!==10&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,on(k)),k=_.nextToken(),k.type===2&&(k=_.nextToken()),k.type){case 11:k.value==null&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,on(k)),R.key=p(_,k.value||"");break;case 5:k.value==null&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,on(k)),R.key=u(_,k.value||"");break;case 6:k.value==null&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,on(k)),R.key=c(_,k.value||"");break;case 7:k.value==null&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,on(k)),R.key=h(_,k.value||"");break;default:{s(_,ke.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const x=_.context(),P=i(7,x.offset,x.startLoc);return P.value="",a(P,x.offset,x.startLoc),R.key=P,a(R,x.offset,x.startLoc),{nextConsumeToken:k,node:R}}}return a(R,_.currentOffset(),_.currentPosition()),{node:R}}function y(_){const b=_.context(),R=b.currentType===1?_.currentOffset():b.offset,k=b.currentType===1?b.endLoc:b.startLoc,x=i(2,R,k);x.items=[];let P=null,m=null;do{const F=P||_.nextToken();switch(P=null,F.type){case 0:F.value==null&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,on(F)),x.items.push(l(_,F.value||""));break;case 6:F.value==null&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,on(F)),x.items.push(c(_,F.value||""));break;case 4:m=!0;break;case 5:F.value==null&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,on(F)),x.items.push(u(_,F.value||"",!!m)),m&&(o(_,od.USE_MODULO_SYNTAX,b.lastStartLoc,0,on(F)),m=null);break;case 7:F.value==null&&s(_,ke.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,on(F)),x.items.push(h(_,F.value||""));break;case 8:{const ae=g(_);x.items.push(ae.node),P=ae.nextConsumeToken||null;break}}}while(b.currentType!==14&&b.currentType!==1);const $=b.currentType===1?b.lastOffset:_.currentOffset(),ee=b.currentType===1?b.lastEndLoc:_.currentPosition();return a(x,$,ee),x}function v(_,b,R,k){const x=_.context();let P=k.items.length===0;const m=i(1,b,R);m.cases=[],m.cases.push(k);do{const $=y(_);P||(P=$.items.length===0),m.cases.push($)}while(x.currentType!==14);return P&&s(_,ke.MUST_HAVE_MESSAGES_IN_PLURAL,R,0),a(m,_.currentOffset(),_.currentPosition()),m}function T(_){const b=_.context(),{offset:R,startLoc:k}=b,x=y(_);return b.currentType===14?x:v(_,R,k,x)}function A(_){const b=GA(_,Jv({},t)),R=b.context(),k=i(0,R.offset,R.startLoc);return e&&k.loc&&(k.loc.source=_),k.body=T(b),t.onCacheKey&&(k.cacheKey=t.onCacheKey(_)),R.currentType!==14&&s(b,ke.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,_[R.offset]||""),a(k,b.currentOffset(),b.currentPosition()),k}return{parse:A}}function on(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function ZA(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:o=>(n.helpers.add(o),o)}}function Yf(t,e){for(let n=0;n<t.length;n++)id(t[n],e)}function id(t,e){switch(t.type){case 1:Yf(t.cases,e),e.helper("plural");break;case 2:Yf(t.items,e);break;case 6:{id(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function eO(t,e={}){const n=ZA(t);n.helper("normalize"),t.body&&id(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function tO(t){const e=t.body;return e.type===2?Xf(e):e.cases.forEach(n=>Xf(n)),t}function Xf(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=Yv(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const nO="minifier";function As(t){switch(t.t=t.type,t.type){case 0:{const e=t;As(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)As(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)As(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;As(e.key),e.k=e.key,delete e.key,e.modifier&&(As(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw io(ke.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:nO,args:[t.type]})}delete t.type}const rO="parser";function sO(t,e){const{filename:n,breakLineCode:r,needIndent:s}=e,o=e.location!==!1,i={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};o&&t.loc&&(i.source=t.loc.source);const a=()=>i;function l(y,v){i.code+=y}function c(y,v=!0){const T=v?r:"";l(s?T+"  ".repeat(y):T)}function u(y=!0){const v=++i.indentLevel;y&&c(v)}function h(y=!0){const v=--i.indentLevel;y&&c(v)}function f(){c(i.indentLevel)}return{context:a,push:l,indent:u,deindent:h,newline:f,helper:y=>`_${y}`,needIndent:()=>i.needIndent}}function oO(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Qs(t,e.key),e.modifier?(t.push(", "),Qs(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function iO(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let o=0;o<s&&(Qs(t,e.items[o]),o!==s-1);o++)t.push(", ");t.deindent(r()),t.push("])")}function aO(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let o=0;o<s&&(Qs(t,e.cases[o]),o!==s-1);o++)t.push(", ");t.deindent(r()),t.push("])")}}function lO(t,e){e.body?Qs(t,e.body):t.push("null")}function Qs(t,e){const{helper:n}=t;switch(e.type){case 0:lO(t,e);break;case 1:aO(t,e);break;case 2:iO(t,e);break;case 6:oO(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw io(ke.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:rO,args:[e.type]})}}const cO=(t,e={})=>{const n=Gf(e.mode)?e.mode:"normal",r=Gf(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,o=e.needIndent?e.needIndent:n!=="arrow",i=t.helpers||[],a=sO(t,{filename:r,breakLineCode:s,needIndent:o});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(o),i.length>0&&(a.push(`const { ${Yv(i.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),Qs(a,t),a.deindent(o),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function uO(t,e={}){const n=Jv({},e),r=!!n.jit,s=!!n.minify,o=n.optimize==null?!0:n.optimize,a=QA(n).parse(t);return r?(o&&tO(a),s&&As(a),{ast:a,code:""}):(eO(a,n),cO(a,n))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function dO(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vn().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Vn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Vn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function In(t){return Be(t)&&ad(t)===0&&(dn(t,"b")||dn(t,"body"))}const Xv=["b","body"];function hO(t){return jr(t,Xv)}const Qv=["c","cases"];function fO(t){return jr(t,Qv,[])}const Zv=["s","static"];function pO(t){return jr(t,Zv)}const ey=["i","items"];function gO(t){return jr(t,ey,[])}const ty=["t","type"];function ad(t){return jr(t,ty)}const ny=["v","value"];function Di(t,e){const n=jr(t,ny);if(n!=null)return n;throw Qo(e)}const ry=["m","modifier"];function mO(t){return jr(t,ry)}const sy=["k","key"];function vO(t){const e=jr(t,sy);if(e)return e;throw Qo(6)}function jr(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(dn(t,s)&&t[s]!=null)return t[s]}return n}const oy=[...Xv,...Qv,...Zv,...ey,...sy,...ry,...ny,...ty];function Qo(t){return new Error(`unhandled node type: ${t}`)}const Ur=[];Ur[0]={w:[0],i:[3,0],"[":[4],o:[7]};Ur[1]={w:[1],".":[2],"[":[4],o:[7]};Ur[2]={w:[2],i:[3,0],0:[3,0]};Ur[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Ur[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Ur[5]={"'":[4,0],o:8,l:[5,0]};Ur[6]={'"':[4,0],o:8,l:[6,0]};const yO=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function _O(t){return yO.test(t)}function bO(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function wO(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function EO(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:_O(e)?bO(e):"*"+e}function xO(t){const e=[];let n=-1,r=0,s=0,o,i,a,l,c,u,h;const f=[];f[0]=()=>{i===void 0?i=a:i+=a},f[1]=()=>{i!==void 0&&(e.push(i),i=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,r=4,f[0]();else{if(s=0,i===void 0||(i=EO(i),i===!1))return!1;f[1]()}};function p(){const g=t[n+1];if(r===5&&g==="'"||r===6&&g==='"')return n++,a="\\"+g,f[0](),!0}for(;r!==null;)if(n++,o=t[n],!(o==="\\"&&p())){if(l=wO(o),h=Ur[r],c=h[l]||h.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=o,u()===!1))))return;if(r===7)return e}}const Qf=new Map;function kO(t,e){return Be(t)?t[e]:null}function TO(t,e){if(!Be(t))return null;let n=Qf.get(e);if(n||(n=xO(e),n&&Qf.set(e,n)),!n)return null;const r=n.length;let s=t,o=0;for(;o<r;){const i=n[o];if(oy.includes(i)&&In(s))return null;const a=s[i];if(a===void 0||nt(s))return null;s=a,o++}return s}const SO=t=>t,CO=t=>"",IO="text",AO=t=>t.length===0?"":LA(t),OO=NA;function Zf(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function RO(t){const e=ut(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ut(t.named.count)||ut(t.named.n))?ut(t.named.count)?t.named.count:ut(t.named.n)?t.named.n:e:e}function PO(t,e){e.count||(e.count=t),e.n||(e.n=t)}function NO(t={}){const e=t.locale,n=RO(t),r=Be(t.pluralRules)&&le(e)&&nt(t.pluralRules[e])?t.pluralRules[e]:Zf,s=Be(t.pluralRules)&&le(e)&&nt(t.pluralRules[e])?Zf:void 0,o=T=>T[r(n,T.length,s)],i=t.list||[],a=T=>i[T],l=t.named||Ye();ut(t.pluralIndex)&&PO(n,l);const c=T=>l[T];function u(T){const A=nt(t.messages)?t.messages(T):Be(t.messages)?t.messages[T]:!1;return A||(t.parent?t.parent.message(T):CO)}const h=T=>t.modifiers?t.modifiers[T]:SO,f=Ae(t.processor)&&nt(t.processor.normalize)?t.processor.normalize:AO,p=Ae(t.processor)&&nt(t.processor.interpolate)?t.processor.interpolate:OO,g=Ae(t.processor)&&le(t.processor.type)?t.processor.type:IO,v={list:a,named:c,plural:o,linked:(T,...A)=>{const[_,b]=A;let R="text",k="";A.length===1?Be(_)?(k=_.modifier||k,R=_.type||R):le(_)&&(k=_||k):A.length===2&&(le(_)&&(k=_||k),le(b)&&(R=b||R));const x=u(T)(v),P=R==="vnode"&&rt(x)&&k?x[0]:x;return k?h(k)(P,R):P},message:u,type:g,interpolate:p,normalize:f,values:xt(Ye(),i,l)};return v}let Zo=null;function LO(t){Zo=t}function $O(t,e,n){Zo&&Zo.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const MO=DO("function:translate");function DO(t){return e=>Zo&&Zo.emit(t,e)}const jO=od.__EXTEND_POINT__,Kr=ul(jO),UO={FALLBACK_TO_TRANSLATE:Kr(),CANNOT_FORMAT_NUMBER:Kr(),FALLBACK_TO_NUMBER_FORMAT:Kr(),CANNOT_FORMAT_DATE:Kr(),FALLBACK_TO_DATE_FORMAT:Kr(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Kr(),__EXTEND_POINT__:Kr()},iy=ke.__EXTEND_POINT__,Gr=ul(iy),hn={INVALID_ARGUMENT:iy,INVALID_DATE_ARGUMENT:Gr(),INVALID_ISO_DATE_ARGUMENT:Gr(),NOT_SUPPORT_NON_STRING_MESSAGE:Gr(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Gr(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Gr(),NOT_SUPPORT_LOCALE_TYPE:Gr(),__EXTEND_POINT__:Gr()};function Tn(t){return io(t,null,void 0)}function ld(t,e){return e.locale!=null?ep(e.locale):ep(t.locale)}let Yl;function ep(t){if(le(t))return t;if(nt(t)){if(t.resolvedOnce&&Yl!=null)return Yl;if(t.constructor.name==="Function"){const e=t();if(PA(e))throw Tn(hn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Yl=e}else throw Tn(hn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Tn(hn.NOT_SUPPORT_LOCALE_TYPE)}function FO(t,e,n){return[...new Set([n,...rt(e)?e:Be(e)?Object.keys(e):le(e)?[e]:[n]])]}function ay(t,e,n){const r=le(n)?n:Zs,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let o=s.__localeChainCache.get(r);if(!o){o=[];let i=[n];for(;rt(i);)i=tp(o,i,e);const a=rt(e)||!Ae(e)?e:e.default?e.default:null;i=le(a)?[a]:a,rt(i)&&tp(o,i,!1),s.__localeChainCache.set(r,o)}return o}function tp(t,e,n){let r=!0;for(let s=0;s<e.length&&De(r);s++){const o=e[s];le(o)&&(r=BO(t,e[s],n))}return r}function BO(t,e,n){let r;const s=e.split("-");do{const o=s.join("-");r=HO(t,o,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function HO(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(rt(n)||Ae(n))&&n[s]&&(r=n[s])}return r}const VO="9.14.5",dl=-1,Zs="en-US",np="",rp=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function WO(){return{upper:(t,e)=>e==="text"&&le(t)?t.toUpperCase():e==="vnode"&&Be(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&le(t)?t.toLowerCase():e==="vnode"&&Be(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&le(t)?rp(t):e==="vnode"&&Be(t)&&"__v_isVNode"in t?rp(t.children):t}}let ly;function sp(t){ly=t}let cy;function qO(t){cy=t}let uy;function zO(t){uy=t}let dy=null;const KO=t=>{dy=t},GO=()=>dy;let hy=null;const op=t=>{hy=t},JO=()=>hy;let ip=0;function YO(t={}){const e=nt(t.onWarn)?t.onWarn:TA,n=le(t.version)?t.version:VO,r=le(t.locale)||nt(t.locale)?t.locale:Zs,s=nt(r)?Zs:r,o=rt(t.fallbackLocale)||Ae(t.fallbackLocale)||le(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,i=Ae(t.messages)?t.messages:Xl(s),a=Ae(t.datetimeFormats)?t.datetimeFormats:Xl(s),l=Ae(t.numberFormats)?t.numberFormats:Xl(s),c=xt(Ye(),t.modifiers,WO()),u=t.pluralRules||Ye(),h=nt(t.missing)?t.missing:null,f=De(t.missingWarn)||Tr(t.missingWarn)?t.missingWarn:!0,p=De(t.fallbackWarn)||Tr(t.fallbackWarn)?t.fallbackWarn:!0,g=!!t.fallbackFormat,y=!!t.unresolving,v=nt(t.postTranslation)?t.postTranslation:null,T=Ae(t.processor)?t.processor:null,A=De(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter,b=nt(t.messageCompiler)?t.messageCompiler:ly,R=nt(t.messageResolver)?t.messageResolver:cy||kO,k=nt(t.localeFallbacker)?t.localeFallbacker:uy||FO,x=Be(t.fallbackContext)?t.fallbackContext:void 0,P=t,m=Be(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,$=Be(P.__numberFormatters)?P.__numberFormatters:new Map,ee=Be(P.__meta)?P.__meta:{};ip++;const F={version:n,cid:ip,locale:r,fallbackLocale:o,messages:i,modifiers:c,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:p,fallbackFormat:g,unresolving:y,postTranslation:v,processor:T,warnHtmlMessage:A,escapeParameter:_,messageCompiler:b,messageResolver:R,localeFallbacker:k,fallbackContext:x,onWarn:e,__meta:ee};return F.datetimeFormats=a,F.numberFormats=l,F.__datetimeFormatters=m,F.__numberFormatters=$,__INTLIFY_PROD_DEVTOOLS__&&$O(F,n,ee),F}const Xl=t=>({[t]:Ye()});function cd(t,e,n,r,s){const{missing:o,onWarn:i}=t;if(o!==null){const a=o(t,n,e,s);return le(a)?a:e}else return e}function po(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function XO(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function QO(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(XO(t,e[r]))return!0;return!1}function Ql(t){return n=>ZO(n,t)}function ZO(t,e){const n=hO(e);if(n==null)throw Qo(0);if(ad(n)===1){const o=fO(n);return t.plural(o.reduce((i,a)=>[...i,ap(t,a)],[]))}else return ap(t,n)}function ap(t,e){const n=pO(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=gO(e).reduce((s,o)=>[...s,eu(t,o)],[]);return t.normalize(r)}}function eu(t,e){const n=ad(e);switch(n){case 3:return Di(e,n);case 9:return Di(e,n);case 4:{const r=e;if(dn(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(dn(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw Qo(n)}case 5:{const r=e;if(dn(r,"i")&&ut(r.i))return t.interpolate(t.list(r.i));if(dn(r,"index")&&ut(r.index))return t.interpolate(t.list(r.index));throw Qo(n)}case 6:{const r=e,s=mO(r),o=vO(r);return t.linked(eu(t,o),s?eu(t,s):void 0,t.type)}case 7:return Di(e,n);case 8:return Di(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const fy=t=>t;let Rs=Ye();function py(t,e={}){let n=!1;const r=e.onError||BA;return e.onError=s=>{n=!0,r(s)},{...uO(t,e),detectError:n}}const eR=(t,e)=>{if(!le(t))throw Tn(hn.NOT_SUPPORT_NON_STRING_MESSAGE);{De(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||fy)(t),s=Rs[r];if(s)return s;const{code:o,detectError:i}=py(t,e),a=new Function(`return ${o}`)();return i?a:Rs[r]=a}};function tR(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&le(t)){De(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||fy)(t),s=Rs[r];if(s)return s;const{ast:o,detectError:i}=py(t,{...e,location:!1,jit:!0}),a=Ql(o);return i?a:Rs[r]=a}else{const n=t.cacheKey;if(n){const r=Rs[n];return r||(Rs[n]=Ql(t))}else return Ql(t)}}const lp=()=>"",Yt=t=>nt(t);function cp(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:o,fallbackLocale:i,messages:a}=t,[l,c]=tu(...e),u=De(c.missingWarn)?c.missingWarn:t.missingWarn,h=De(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=De(c.escapeParameter)?c.escapeParameter:t.escapeParameter,p=!!c.resolvedMessage,g=le(c.default)||De(c.default)?De(c.default)?o?l:()=>l:c.default:n?o?l:()=>l:"",y=n||g!=="",v=ld(t,c);f&&nR(c);let[T,A,_]=p?[l,v,a[v]||Ye()]:gy(t,l,v,i,h,u),b=T,R=l;if(!p&&!(le(b)||In(b)||Yt(b))&&y&&(b=g,R=b),!p&&(!(le(b)||In(b)||Yt(b))||!le(A)))return s?dl:l;let k=!1;const x=()=>{k=!0},P=Yt(b)?b:my(t,l,A,b,R,x);if(k)return b;const m=oR(t,A,_,c),$=NO(m),ee=rR(t,P,$);let F=r?r(ee,l):ee;if(f&&le(F)&&(F=OA(F)),__INTLIFY_PROD_DEVTOOLS__){const ae={timestamp:Date.now(),key:le(l)?l:Yt(b)?b.key:"",locale:A||(Yt(b)?b.locale:""),format:le(b)?b:Yt(b)?b.source:"",message:F};ae.meta=xt({},t.__meta,GO()||{}),MO(ae)}return F}function nR(t){rt(t.list)?t.list=t.list.map(e=>le(e)?zf(e):e):Be(t.named)&&Object.keys(t.named).forEach(e=>{le(t.named[e])&&(t.named[e]=zf(t.named[e]))})}function gy(t,e,n,r,s,o){const{messages:i,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,r,n);let h=Ye(),f,p=null;const g="translate";for(let y=0;y<u.length&&(f=u[y],h=i[f]||Ye(),(p=l(h,e))===null&&(p=h[e]),!(le(p)||In(p)||Yt(p)));y++)if(!QO(f,u)){const v=cd(t,e,f,o,g);v!==e&&(p=v)}return[p,f,h]}function my(t,e,n,r,s,o){const{messageCompiler:i,warnHtmlMessage:a}=t;if(Yt(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(i==null){const c=()=>r;return c.locale=n,c.key=e,c}const l=i(r,sR(t,n,s,r,a,o));return l.locale=n,l.key=e,l.source=r,l}function rR(t,e,n){return e(n)}function tu(...t){const[e,n,r]=t,s=Ye();if(!le(e)&&!ut(e)&&!Yt(e)&&!In(e))throw Tn(hn.INVALID_ARGUMENT);const o=ut(e)?String(e):(Yt(e),e);return ut(n)?s.plural=n:le(n)?s.default=n:Ae(n)&&!cl(n)?s.named=n:rt(n)&&(s.list=n),ut(r)?s.plural=r:le(r)?s.default=r:Ae(r)&&xt(s,r),[o,s]}function sR(t,e,n,r,s,o){return{locale:e,key:n,warnHtmlMessage:s,onError:i=>{throw o&&o(i),i},onCacheKey:i=>SA(e,n,i)}}function oR(t,e,n,r){const{modifiers:s,pluralRules:o,messageResolver:i,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,f={locale:e,modifiers:s,pluralRules:o,messages:p=>{let g=i(n,p);if(g==null&&u){const[,,y]=gy(u,p,e,a,l,c);g=i(y,p)}if(le(g)||In(g)){let y=!1;const T=my(t,p,e,g,p,()=>{y=!0});return y?lp:T}else return Yt(g)?g:lp}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),ut(r.plural)&&(f.pluralIndex=r.plural),f}function up(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:o,localeFallbacker:i}=t,{__datetimeFormatters:a}=t,[l,c,u,h]=nu(...e),f=De(u.missingWarn)?u.missingWarn:t.missingWarn;De(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const p=!!u.part,g=ld(t,u),y=i(t,s,g);if(!le(l)||l==="")return new Intl.DateTimeFormat(g,h).format(c);let v={},T,A=null;const _="datetime format";for(let k=0;k<y.length&&(T=y[k],v=n[T]||{},A=v[l],!Ae(A));k++)cd(t,l,T,f,_);if(!Ae(A)||!le(T))return r?dl:l;let b=`${T}__${l}`;cl(h)||(b=`${b}__${JSON.stringify(h)}`);let R=a.get(b);return R||(R=new Intl.DateTimeFormat(T,xt({},A,h)),a.set(b,R)),p?R.formatToParts(c):R.format(c)}const vy=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function nu(...t){const[e,n,r,s]=t,o=Ye();let i=Ye(),a;if(le(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Tn(hn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Tn(hn.INVALID_ISO_DATE_ARGUMENT)}}else if(IA(e)){if(isNaN(e.getTime()))throw Tn(hn.INVALID_DATE_ARGUMENT);a=e}else if(ut(e))a=e;else throw Tn(hn.INVALID_ARGUMENT);return le(n)?o.key=n:Ae(n)&&Object.keys(n).forEach(l=>{vy.includes(l)?i[l]=n[l]:o[l]=n[l]}),le(r)?o.locale=r:Ae(r)&&(i=r),Ae(s)&&(i=s),[o.key||"",a,o,i]}function dp(t,e,n){const r=t;for(const s in n){const o=`${e}__${s}`;r.__datetimeFormatters.has(o)&&r.__datetimeFormatters.delete(o)}}function hp(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:o,localeFallbacker:i}=t,{__numberFormatters:a}=t,[l,c,u,h]=ru(...e),f=De(u.missingWarn)?u.missingWarn:t.missingWarn;De(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const p=!!u.part,g=ld(t,u),y=i(t,s,g);if(!le(l)||l==="")return new Intl.NumberFormat(g,h).format(c);let v={},T,A=null;const _="number format";for(let k=0;k<y.length&&(T=y[k],v=n[T]||{},A=v[l],!Ae(A));k++)cd(t,l,T,f,_);if(!Ae(A)||!le(T))return r?dl:l;let b=`${T}__${l}`;cl(h)||(b=`${b}__${JSON.stringify(h)}`);let R=a.get(b);return R||(R=new Intl.NumberFormat(T,xt({},A,h)),a.set(b,R)),p?R.formatToParts(c):R.format(c)}const yy=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ru(...t){const[e,n,r,s]=t,o=Ye();let i=Ye();if(!ut(e))throw Tn(hn.INVALID_ARGUMENT);const a=e;return le(n)?o.key=n:Ae(n)&&Object.keys(n).forEach(l=>{yy.includes(l)?i[l]=n[l]:o[l]=n[l]}),le(r)?o.locale=r:Ae(r)&&(i=r),Ae(s)&&(i=s),[o.key||"",a,o,i]}function fp(t,e,n){const r=t;for(const s in n){const o=`${e}__${s}`;r.__numberFormatters.has(o)&&r.__numberFormatters.delete(o)}}dO();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const iR="9.14.5";function aR(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Vn().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Vn().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Vn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Vn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vn().__INTLIFY_PROD_DEVTOOLS__=!1)}const lR=UO.__EXTEND_POINT__,Ln=ul(lR);Ln(),Ln(),Ln(),Ln(),Ln(),Ln(),Ln(),Ln(),Ln();const _y=hn.__EXTEND_POINT__,Ut=ul(_y),gt={UNEXPECTED_RETURN_TYPE:_y,INVALID_ARGUMENT:Ut(),MUST_BE_CALL_SETUP_TOP:Ut(),NOT_INSTALLED:Ut(),NOT_AVAILABLE_IN_LEGACY_MODE:Ut(),REQUIRED_VALUE:Ut(),INVALID_VALUE:Ut(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ut(),NOT_INSTALLED_WITH_PROVIDE:Ut(),UNEXPECTED_ERROR:Ut(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ut(),BRIDGE_SUPPORT_VUE_2_ONLY:Ut(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ut(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ut(),__EXTEND_POINT__:Ut()};function _t(t,...e){return io(t,null,void 0)}const su=Dr("__translateVNode"),ou=Dr("__datetimeParts"),iu=Dr("__numberParts"),by=Dr("__setPluralRules"),wy=Dr("__injectWithOption"),au=Dr("__dispose");function ei(t){if(!Be(t)||In(t))return t;for(const e in t)if(dn(t,e))if(!e.includes("."))Be(t[e])&&ei(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,o=!1;for(let i=0;i<r;i++){if(n[i]==="__proto__")throw new Error(`unsafe key: ${n[i]}`);if(n[i]in s||(s[n[i]]=Ye()),!Be(s[n[i]])){o=!0;break}s=s[n[i]]}if(o||(In(s)?oy.includes(n[r])||delete t[e]:(s[n[r]]=t[e],delete t[e])),!In(s)){const i=s[n[r]];Be(i)&&ei(i)}}return t}function hl(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:o}=e,i=Ae(n)?n:rt(r)?Ye():{[t]:Ye()};if(rt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(i[l]=i[l]||Ye(),ra(c,i[l])):ra(c,i)}else le(a)&&ra(JSON.parse(a),i)}),s==null&&o)for(const a in i)dn(i,a)&&ei(i[a]);return i}function Ey(t){return t.type}function xy(t,e,n){let r=Be(e.messages)?e.messages:Ye();"__i18nGlobal"in n&&(r=hl(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(o=>{t.mergeLocaleMessage(o,r[o])});{if(Be(e.datetimeFormats)){const o=Object.keys(e.datetimeFormats);o.length&&o.forEach(i=>{t.mergeDateTimeFormat(i,e.datetimeFormats[i])})}if(Be(e.numberFormats)){const o=Object.keys(e.numberFormats);o.length&&o.forEach(i=>{t.mergeNumberFormat(i,e.numberFormats[i])})}}}function pp(t){return X(ri,null,t,0)}const gp="__INTLIFY_META__",mp=()=>[],cR=()=>!1;let vp=0;function yp(t){return(e,n,r,s)=>t(n,r,hs()||void 0,s)}const uR=()=>{const t=hs();let e=null;return t&&(e=Ey(t)[gp])?{[gp]:e}:null};function ud(t={},e){const{__root:n,__injectWithOption:r}=t,s=n===void 0,o=t.flatJson,i=Aa?Y:xu,a=!!t.translateExistCompatible;let l=De(t.inheritLocale)?t.inheritLocale:!0;const c=i(n&&l?n.locale.value:le(t.locale)?t.locale:Zs),u=i(n&&l?n.fallbackLocale.value:le(t.fallbackLocale)||rt(t.fallbackLocale)||Ae(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),h=i(hl(c.value,t)),f=i(Ae(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),p=i(Ae(t.numberFormats)?t.numberFormats:{[c.value]:{}});let g=n?n.missingWarn:De(t.missingWarn)||Tr(t.missingWarn)?t.missingWarn:!0,y=n?n.fallbackWarn:De(t.fallbackWarn)||Tr(t.fallbackWarn)?t.fallbackWarn:!0,v=n?n.fallbackRoot:De(t.fallbackRoot)?t.fallbackRoot:!0,T=!!t.fallbackFormat,A=nt(t.missing)?t.missing:null,_=nt(t.missing)?yp(t.missing):null,b=nt(t.postTranslation)?t.postTranslation:null,R=n?n.warnHtmlMessage:De(t.warnHtmlMessage)?t.warnHtmlMessage:!0,k=!!t.escapeParameter;const x=n?n.modifiers:Ae(t.modifiers)?t.modifiers:{};let P=t.pluralRules||n&&n.pluralRules,m;m=(()=>{s&&op(null);const D={version:iR,locale:c.value,fallbackLocale:u.value,messages:h.value,modifiers:x,pluralRules:P,missing:_===null?void 0:_,missingWarn:g,fallbackWarn:y,fallbackFormat:T,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:R,escapeParameter:k,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};D.datetimeFormats=f.value,D.numberFormats=p.value,D.__datetimeFormatters=Ae(m)?m.__datetimeFormatters:void 0,D.__numberFormatters=Ae(m)?m.__numberFormatters:void 0;const z=YO(D);return s&&op(z),z})(),po(m,c.value,u.value);function ee(){return[c.value,u.value,h.value,f.value,p.value]}const F=ve({get:()=>c.value,set:D=>{c.value=D,m.locale=c.value}}),ae=ve({get:()=>u.value,set:D=>{u.value=D,m.fallbackLocale=u.value,po(m,c.value,D)}}),_e=ve(()=>h.value),Ce=ve(()=>f.value),te=ve(()=>p.value);function U(){return nt(b)?b:null}function de(D){b=D,m.postTranslation=D}function ce(){return A}function be(D){D!==null&&(_=yp(D)),A=D,m.missing=_}const pe=(D,z,ue,Me,Ge,it)=>{ee();let at;try{__INTLIFY_PROD_DEVTOOLS__,s||(m.fallbackContext=n?JO():void 0),at=D(m)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(m.fallbackContext=void 0)}if(ue!=="translate exists"&&ut(at)&&at===dl||ue==="translate exists"&&!at){const[Ne,Je]=z();return n&&v?Me(n):Ge(Ne)}else{if(it(at))return at;throw _t(gt.UNEXPECTED_RETURN_TYPE)}};function Pe(...D){return pe(z=>Reflect.apply(cp,null,[z,...D]),()=>tu(...D),"translate",z=>Reflect.apply(z.t,z,[...D]),z=>z,z=>le(z))}function J(...D){const[z,ue,Me]=D;if(Me&&!Be(Me))throw _t(gt.INVALID_ARGUMENT);return Pe(z,ue,xt({resolvedMessage:!0},Me||{}))}function Ee(...D){return pe(z=>Reflect.apply(up,null,[z,...D]),()=>nu(...D),"datetime format",z=>Reflect.apply(z.d,z,[...D]),()=>np,z=>le(z))}function We(...D){return pe(z=>Reflect.apply(hp,null,[z,...D]),()=>ru(...D),"number format",z=>Reflect.apply(z.n,z,[...D]),()=>np,z=>le(z))}function je(D){return D.map(z=>le(z)||ut(z)||De(z)?pp(String(z)):z)}const ie={normalize:je,interpolate:D=>D,type:"vnode"};function V(...D){return pe(z=>{let ue;const Me=z;try{Me.processor=ie,ue=Reflect.apply(cp,null,[Me,...D])}finally{Me.processor=null}return ue},()=>tu(...D),"translate",z=>z[su](...D),z=>[pp(z)],z=>rt(z))}function L(...D){return pe(z=>Reflect.apply(hp,null,[z,...D]),()=>ru(...D),"number format",z=>z[iu](...D),mp,z=>le(z)||rt(z))}function Z(...D){return pe(z=>Reflect.apply(up,null,[z,...D]),()=>nu(...D),"datetime format",z=>z[ou](...D),mp,z=>le(z)||rt(z))}function S(D){P=D,m.pluralRules=P}function O(D,z){return pe(()=>{if(!D)return!1;const ue=le(z)?z:c.value,Me=G(ue),Ge=m.messageResolver(Me,D);return a?Ge!=null:In(Ge)||Yt(Ge)||le(Ge)},()=>[D],"translate exists",ue=>Reflect.apply(ue.te,ue,[D,z]),cR,ue=>De(ue))}function C(D){let z=null;const ue=ay(m,u.value,c.value);for(let Me=0;Me<ue.length;Me++){const Ge=h.value[ue[Me]]||{},it=m.messageResolver(Ge,D);if(it!=null){z=it;break}}return z}function j(D){const z=C(D);return z??(n?n.tm(D)||{}:{})}function G(D){return h.value[D]||{}}function K(D,z){if(o){const ue={[D]:z};for(const Me in ue)dn(ue,Me)&&ei(ue[Me]);z=ue[D]}h.value[D]=z,m.messages=h.value}function se(D,z){h.value[D]=h.value[D]||{};const ue={[D]:z};if(o)for(const Me in ue)dn(ue,Me)&&ei(ue[Me]);z=ue[D],ra(z,h.value[D]),m.messages=h.value}function re(D){return f.value[D]||{}}function w(D,z){f.value[D]=z,m.datetimeFormats=f.value,dp(m,D,z)}function E(D,z){f.value[D]=xt(f.value[D]||{},z),m.datetimeFormats=f.value,dp(m,D,z)}function M(D){return p.value[D]||{}}function B(D,z){p.value[D]=z,m.numberFormats=p.value,fp(m,D,z)}function oe(D,z){p.value[D]=xt(p.value[D]||{},z),m.numberFormats=p.value,fp(m,D,z)}vp++,n&&Aa&&(Zt(n.locale,D=>{l&&(c.value=D,m.locale=D,po(m,c.value,u.value))}),Zt(n.fallbackLocale,D=>{l&&(u.value=D,m.fallbackLocale=D,po(m,c.value,u.value))}));const ne={id:vp,locale:F,fallbackLocale:ae,get inheritLocale(){return l},set inheritLocale(D){l=D,D&&n&&(c.value=n.locale.value,u.value=n.fallbackLocale.value,po(m,c.value,u.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:_e,get modifiers(){return x},get pluralRules(){return P||{}},get isGlobal(){return s},get missingWarn(){return g},set missingWarn(D){g=D,m.missingWarn=g},get fallbackWarn(){return y},set fallbackWarn(D){y=D,m.fallbackWarn=y},get fallbackRoot(){return v},set fallbackRoot(D){v=D},get fallbackFormat(){return T},set fallbackFormat(D){T=D,m.fallbackFormat=T},get warnHtmlMessage(){return R},set warnHtmlMessage(D){R=D,m.warnHtmlMessage=D},get escapeParameter(){return k},set escapeParameter(D){k=D,m.escapeParameter=D},t:Pe,getLocaleMessage:G,setLocaleMessage:K,mergeLocaleMessage:se,getPostTranslationHandler:U,setPostTranslationHandler:de,getMissingHandler:ce,setMissingHandler:be,[by]:S};return ne.datetimeFormats=Ce,ne.numberFormats=te,ne.rt=J,ne.te=O,ne.tm=j,ne.d=Ee,ne.n=We,ne.getDateTimeFormat=re,ne.setDateTimeFormat=w,ne.mergeDateTimeFormat=E,ne.getNumberFormat=M,ne.setNumberFormat=B,ne.mergeNumberFormat=oe,ne[wy]=r,ne[su]=V,ne[ou]=Z,ne[iu]=L,ne}function dR(t){const e=le(t.locale)?t.locale:Zs,n=le(t.fallbackLocale)||rt(t.fallbackLocale)||Ae(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=nt(t.missing)?t.missing:void 0,s=De(t.silentTranslationWarn)||Tr(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,o=De(t.silentFallbackWarn)||Tr(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,i=De(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Ae(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=nt(t.postTranslation)?t.postTranslation:void 0,h=le(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,p=De(t.sync)?t.sync:!0;let g=t.messages;if(Ae(t.sharedMessages)){const k=t.sharedMessages;g=Object.keys(k).reduce((P,m)=>{const $=P[m]||(P[m]={});return xt($,k[m]),P},g||{})}const{__i18n:y,__root:v,__injectWithOption:T}=t,A=t.datetimeFormats,_=t.numberFormats,b=t.flatJson,R=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:g,flatJson:b,datetimeFormats:A,numberFormats:_,missing:r,missingWarn:s,fallbackWarn:o,fallbackRoot:i,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:p,translateExistCompatible:R,__i18n:y,__root:v,__injectWithOption:T}}function lu(t={},e){{const n=ud(dR(t)),{__extender:r}=t,s={id:n.id,get locale(){return n.locale.value},set locale(o){n.locale.value=o},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(o){n.fallbackLocale.value=o},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(o){},get missing(){return n.getMissingHandler()},set missing(o){n.setMissingHandler(o)},get silentTranslationWarn(){return De(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(o){n.missingWarn=De(o)?!o:o},get silentFallbackWarn(){return De(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(o){n.fallbackWarn=De(o)?!o:o},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(o){n.fallbackFormat=o},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(o){n.setPostTranslationHandler(o)},get sync(){return n.inheritLocale},set sync(o){n.inheritLocale=o},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){n.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(o){n.escapeParameter=o},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(o){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...o){const[i,a,l]=o,c={};let u=null,h=null;if(!le(i))throw _t(gt.INVALID_ARGUMENT);const f=i;return le(a)?c.locale=a:rt(a)?u=a:Ae(a)&&(h=a),rt(l)?u=l:Ae(l)&&(h=l),Reflect.apply(n.t,n,[f,u||h||{},c])},rt(...o){return Reflect.apply(n.rt,n,[...o])},tc(...o){const[i,a,l]=o,c={plural:1};let u=null,h=null;if(!le(i))throw _t(gt.INVALID_ARGUMENT);const f=i;return le(a)?c.locale=a:ut(a)?c.plural=a:rt(a)?u=a:Ae(a)&&(h=a),le(l)?c.locale=l:rt(l)?u=l:Ae(l)&&(h=l),Reflect.apply(n.t,n,[f,u||h||{},c])},te(o,i){return n.te(o,i)},tm(o){return n.tm(o)},getLocaleMessage(o){return n.getLocaleMessage(o)},setLocaleMessage(o,i){n.setLocaleMessage(o,i)},mergeLocaleMessage(o,i){n.mergeLocaleMessage(o,i)},d(...o){return Reflect.apply(n.d,n,[...o])},getDateTimeFormat(o){return n.getDateTimeFormat(o)},setDateTimeFormat(o,i){n.setDateTimeFormat(o,i)},mergeDateTimeFormat(o,i){n.mergeDateTimeFormat(o,i)},n(...o){return Reflect.apply(n.n,n,[...o])},getNumberFormat(o){return n.getNumberFormat(o)},setNumberFormat(o,i){n.setNumberFormat(o,i)},mergeNumberFormat(o,i){n.mergeNumberFormat(o,i)},getChoiceIndex(o,i){return-1}};return s.__extender=r,s}}const dd={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function hR({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===we?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},Ye())}function ky(t){return we}const fR=Qn({name:"i18n-t",props:xt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ut(t)||!isNaN(t)}},dd),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||fl({useScope:t.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(h=>h!=="_"),i=Ye();t.locale&&(i.locale=t.locale),t.plural!==void 0&&(i.plural=le(t.plural)?+t.plural:t.plural);const a=hR(e,o),l=s[su](t.keypath,a,i),c=xt(Ye(),r),u=le(t.tag)||Be(t.tag)?t.tag:ky();return Wn(u,c,l)}}}),_p=fR;function pR(t){return rt(t)&&!le(t[0])}function Ty(t,e,n,r){const{slots:s,attrs:o}=e;return()=>{const i={part:!0};let a=Ye();t.locale&&(i.locale=t.locale),le(t.format)?i.key=t.format:Be(t.format)&&(le(t.format.key)&&(i.key=t.format.key),a=Object.keys(t.format).reduce((f,p)=>n.includes(p)?xt(Ye(),f,{[p]:t.format[p]}):f,Ye()));const l=r(t.value,i,a);let c=[i.key];rt(l)?c=l.map((f,p)=>{const g=s[f.type],y=g?g({[f.type]:f.value,index:p,parts:l}):[f.value];return pR(y)&&(y[0].key=`${f.type}-${p}`),y}):le(l)&&(c=[l]);const u=xt(Ye(),o),h=le(t.tag)||Be(t.tag)?t.tag:ky();return Wn(h,u,c)}}const gR=Qn({name:"i18n-n",props:xt({value:{type:Number,required:!0},format:{type:[String,Object]}},dd),setup(t,e){const n=t.i18n||fl({useScope:t.scope,__useComponent:!0});return Ty(t,e,yy,(...r)=>n[iu](...r))}}),bp=gR,mR=Qn({name:"i18n-d",props:xt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},dd),setup(t,e){const n=t.i18n||fl({useScope:t.scope,__useComponent:!0});return Ty(t,e,vy,(...r)=>n[ou](...r))}}),wp=mR;function vR(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function yR(t){const e=i=>{const{instance:a,modifiers:l,value:c}=i;if(!a||!a.$)throw _t(gt.UNEXPECTED_ERROR);const u=vR(t,a.$),h=Ep(c);return[Reflect.apply(u.t,u,[...xp(h)]),u]};return{created:(i,a)=>{const[l,c]=e(a);Aa&&t.global===c&&(i.__i18nWatcher=Zt(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),i.__composer=c,i.textContent=l},unmounted:i=>{Aa&&i.__i18nWatcher&&(i.__i18nWatcher(),i.__i18nWatcher=void 0,delete i.__i18nWatcher),i.__composer&&(i.__composer=void 0,delete i.__composer)},beforeUpdate:(i,{value:a})=>{if(i.__composer){const l=i.__composer,c=Ep(a);i.textContent=Reflect.apply(l.t,l,[...xp(c)])}},getSSRProps:i=>{const[a]=e(i);return{textContent:a}}}}function Ep(t){if(le(t))return{path:t};if(Ae(t)){if(!("path"in t))throw _t(gt.REQUIRED_VALUE,"path");return t}else throw _t(gt.INVALID_VALUE)}function xp(t){const{path:e,locale:n,args:r,choice:s,plural:o}=t,i={},a=r||{};return le(n)&&(i.locale=n),ut(s)&&(i.plural=s),ut(o)&&(i.plural=o),[e,a,i]}function _R(t,e,...n){const r=Ae(n[0])?n[0]:{},s=!!r.useI18nComponentName;(De(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":_p.name,"I18nT"].forEach(i=>t.component(i,_p)),[bp.name,"I18nN"].forEach(i=>t.component(i,bp)),[wp.name,"I18nD"].forEach(i=>t.component(i,wp))),t.directive("t",yR(e))}function bR(t,e,n){return{beforeCreate(){const r=hs();if(!r)throw _t(gt.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const o=s.i18n;if(s.__i18n&&(o.__i18n=s.__i18n),o.__root=e,this===this.$root)this.$i18n=kp(t,o);else{o.__injectWithOption=!0,o.__extender=n.__vueI18nExtend,this.$i18n=lu(o);const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=kp(t,s);else{this.$i18n=lu({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&xy(e,s,s),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$tc=(...o)=>this.$i18n.tc(...o),this.$te=(o,i)=>this.$i18n.te(o,i),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=hs();if(!r)throw _t(gt.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function kp(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[by](e.pluralizationRules||t.pluralizationRules);const n=hl(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const wR=Dr("global-vue-i18n");function ER(t={},e){const n=__VUE_I18N_LEGACY_API__&&De(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=De(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,o=new Map,[i,a]=xR(t,n),l=Dr("");function c(f){return o.get(f)||null}function u(f,p){o.set(f,p)}function h(f){o.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return s},async install(p,...g){if(p.__VUE_I18N_SYMBOL__=l,p.provide(p.__VUE_I18N_SYMBOL__,f),Ae(g[0])){const T=g[0];f.__composerExtend=T.__composerExtend,f.__vueI18nExtend=T.__vueI18nExtend}let y=null;!n&&r&&(y=PR(p,f.global)),__VUE_I18N_FULL_INSTALL__&&_R(p,f,...g),__VUE_I18N_LEGACY_API__&&n&&p.mixin(bR(a,a.__composer,f));const v=p.unmount;p.unmount=()=>{y&&y(),f.dispose(),v()}},get global(){return a},dispose(){i.stop()},__instances:o,__getInstance:c,__setInstance:u,__deleteInstance:h};return f}}function fl(t={}){const e=hs();if(e==null)throw _t(gt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw _t(gt.NOT_INSTALLED);const n=kR(e),r=SR(n),s=Ey(e),o=TR(t,s);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw _t(gt.NOT_AVAILABLE_IN_LEGACY_MODE);return OR(e,o,r,t)}if(o==="global")return xy(r,t,s),r;if(o==="parent"){let l=CR(n,e,t.__useComponent);return l==null&&(l=r),l}const i=n;let a=i.__getInstance(e);if(a==null){const l=xt({},t);"__i18n"in s&&(l.__i18n=s.__i18n),r&&(l.__root=r),a=ud(l),i.__composerExtend&&(a[au]=i.__composerExtend(a)),AR(i,e,a),i.__setInstance(e,a)}return a}function xR(t,e,n){const r=pu();{const s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>lu(t)):r.run(()=>ud(t));if(s==null)throw _t(gt.UNEXPECTED_ERROR);return[r,s]}}function kR(t){{const e=Kt(t.isCE?wR:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw _t(t.isCE?gt.NOT_INSTALLED_WITH_PROVIDE:gt.UNEXPECTED_ERROR);return e}}function TR(t,e){return cl(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function SR(t){return t.mode==="composition"?t.global:t.global.__composer}function CR(t,e,n=!1){let r=null;const s=e.root;let o=IR(e,n);for(;o!=null;){const i=t;if(t.mode==="composition")r=i.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const a=i.__getInstance(o);a!=null&&(r=a.__composer,n&&r&&!r[wy]&&(r=null))}if(r!=null||s===o)break;o=o.parent}return r}function IR(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function AR(t,e,n){Ot(()=>{},e),sn(()=>{const r=n;t.__deleteInstance(e);const s=r[au];s&&(s(),delete r[au])},e)}function OR(t,e,n,r={}){const s=e==="local",o=xu(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw _t(gt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const i=De(r.inheritLocale)?r.inheritLocale:!le(r.locale),a=Y(!s||i?n.locale.value:le(r.locale)?r.locale:Zs),l=Y(!s||i?n.fallbackLocale.value:le(r.fallbackLocale)||rt(r.fallbackLocale)||Ae(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=Y(hl(a.value,r)),u=Y(Ae(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),h=Y(Ae(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=s?n.missingWarn:De(r.missingWarn)||Tr(r.missingWarn)?r.missingWarn:!0,p=s?n.fallbackWarn:De(r.fallbackWarn)||Tr(r.fallbackWarn)?r.fallbackWarn:!0,g=s?n.fallbackRoot:De(r.fallbackRoot)?r.fallbackRoot:!0,y=!!r.fallbackFormat,v=nt(r.missing)?r.missing:null,T=nt(r.postTranslation)?r.postTranslation:null,A=s?n.warnHtmlMessage:De(r.warnHtmlMessage)?r.warnHtmlMessage:!0,_=!!r.escapeParameter,b=s?n.modifiers:Ae(r.modifiers)?r.modifiers:{},R=r.pluralRules||s&&n.pluralRules;function k(){return[a.value,l.value,c.value,u.value,h.value]}const x=ve({get:()=>o.value?o.value.locale.value:a.value,set:C=>{o.value&&(o.value.locale.value=C),a.value=C}}),P=ve({get:()=>o.value?o.value.fallbackLocale.value:l.value,set:C=>{o.value&&(o.value.fallbackLocale.value=C),l.value=C}}),m=ve(()=>o.value?o.value.messages.value:c.value),$=ve(()=>u.value),ee=ve(()=>h.value);function F(){return o.value?o.value.getPostTranslationHandler():T}function ae(C){o.value&&o.value.setPostTranslationHandler(C)}function _e(){return o.value?o.value.getMissingHandler():v}function Ce(C){o.value&&o.value.setMissingHandler(C)}function te(C){return k(),C()}function U(...C){return o.value?te(()=>Reflect.apply(o.value.t,null,[...C])):te(()=>"")}function de(...C){return o.value?Reflect.apply(o.value.rt,null,[...C]):""}function ce(...C){return o.value?te(()=>Reflect.apply(o.value.d,null,[...C])):te(()=>"")}function be(...C){return o.value?te(()=>Reflect.apply(o.value.n,null,[...C])):te(()=>"")}function pe(C){return o.value?o.value.tm(C):{}}function Pe(C,j){return o.value?o.value.te(C,j):!1}function J(C){return o.value?o.value.getLocaleMessage(C):{}}function Ee(C,j){o.value&&(o.value.setLocaleMessage(C,j),c.value[C]=j)}function We(C,j){o.value&&o.value.mergeLocaleMessage(C,j)}function je(C){return o.value?o.value.getDateTimeFormat(C):{}}function q(C,j){o.value&&(o.value.setDateTimeFormat(C,j),u.value[C]=j)}function ie(C,j){o.value&&o.value.mergeDateTimeFormat(C,j)}function V(C){return o.value?o.value.getNumberFormat(C):{}}function L(C,j){o.value&&(o.value.setNumberFormat(C,j),h.value[C]=j)}function Z(C,j){o.value&&o.value.mergeNumberFormat(C,j)}const S={get id(){return o.value?o.value.id:-1},locale:x,fallbackLocale:P,messages:m,datetimeFormats:$,numberFormats:ee,get inheritLocale(){return o.value?o.value.inheritLocale:i},set inheritLocale(C){o.value&&(o.value.inheritLocale=C)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(c.value)},get modifiers(){return o.value?o.value.modifiers:b},get pluralRules(){return o.value?o.value.pluralRules:R},get isGlobal(){return o.value?o.value.isGlobal:!1},get missingWarn(){return o.value?o.value.missingWarn:f},set missingWarn(C){o.value&&(o.value.missingWarn=C)},get fallbackWarn(){return o.value?o.value.fallbackWarn:p},set fallbackWarn(C){o.value&&(o.value.missingWarn=C)},get fallbackRoot(){return o.value?o.value.fallbackRoot:g},set fallbackRoot(C){o.value&&(o.value.fallbackRoot=C)},get fallbackFormat(){return o.value?o.value.fallbackFormat:y},set fallbackFormat(C){o.value&&(o.value.fallbackFormat=C)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:A},set warnHtmlMessage(C){o.value&&(o.value.warnHtmlMessage=C)},get escapeParameter(){return o.value?o.value.escapeParameter:_},set escapeParameter(C){o.value&&(o.value.escapeParameter=C)},t:U,getPostTranslationHandler:F,setPostTranslationHandler:ae,getMissingHandler:_e,setMissingHandler:Ce,rt:de,d:ce,n:be,tm:pe,te:Pe,getLocaleMessage:J,setLocaleMessage:Ee,mergeLocaleMessage:We,getDateTimeFormat:je,setDateTimeFormat:q,mergeDateTimeFormat:ie,getNumberFormat:V,setNumberFormat:L,mergeNumberFormat:Z};function O(C){C.locale.value=a.value,C.fallbackLocale.value=l.value,Object.keys(c.value).forEach(j=>{C.mergeLocaleMessage(j,c.value[j])}),Object.keys(u.value).forEach(j=>{C.mergeDateTimeFormat(j,u.value[j])}),Object.keys(h.value).forEach(j=>{C.mergeNumberFormat(j,h.value[j])}),C.escapeParameter=_,C.fallbackFormat=y,C.fallbackRoot=g,C.fallbackWarn=p,C.missingWarn=f,C.warnHtmlMessage=A}return mg(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw _t(gt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const C=o.value=t.proxy.$i18n.__composer;e==="global"?(a.value=C.locale.value,l.value=C.fallbackLocale.value,c.value=C.messages.value,u.value=C.datetimeFormats.value,h.value=C.numberFormats.value):s&&O(C)}),S}const RR=["locale","fallbackLocale","availableLocales"],Tp=["t","rt","d","n","tm","te"];function PR(t,e){const n=Object.create(null);return RR.forEach(s=>{const o=Object.getOwnPropertyDescriptor(e,s);if(!o)throw _t(gt.UNEXPECTED_ERROR);const i=lt(o.value)?{get(){return o.value.value},set(a){o.value.value=a}}:{get(){return o.get&&o.get()}};Object.defineProperty(n,s,i)}),t.config.globalProperties.$i18n=n,Tp.forEach(s=>{const o=Object.getOwnPropertyDescriptor(e,s);if(!o||!o.value)throw _t(gt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,o)}),()=>{delete t.config.globalProperties.$i18n,Tp.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}aR();__INTLIFY_JIT_COMPILATION__?sp(tR):sp(eR);qO(TO);zO(ay);if(__INTLIFY_PROD_DEVTOOLS__){const t=Vn();t.__INTLIFY__=!0,LO(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const NR={home:"Trang ch",movies:"Phim",series:"Phim B",single:"Phim L",anime:"Anime",library:"Th vin",pricing:"Bng gi",cart:"Gi hng",account:"Ti khon",login:"ng nhp",logout:"ng xut",register:"ng k",search:"Tm kim",loading:"ang ti...",error:"Li",success:"Thnh cng",cancel:"Hy",confirm:"Xc nhn",save:"Lu",delete:"Xa",edit:"Chnh sa",close:"ng",back:"Quay li",next:"Tip theo",previous:"Trc",viewAll:"Xem tt c",noResults:"Khng c kt qu",tryAgain:"Th li"},LR={home:"Trang ch",movies:"Phim",series:"Phim B",single:"Phim L",anime:"Anime",library:"Th vin",pricing:"Bng gi",search:"Tm kim phim, din vin",searchTitle:"Nhp tn phim hoc din vin  tm kim",genres:"Th loi",countries:"Quc gia",viewAllGenres:"Xem tt c th loi"},$R={title:"Khm ph phim hay",subtitle:"Cp nht lin tc nhng b phim mi nht v hot nht",newMovies:" Phim Mi Cp Nht",series:" Phim B Hot",single:" Phim L Mi",korean:" Phim Hn Quc",chinese:" Phim Trung Quc",anime:" Phim Anime"},MR={play:"Xem ngay",addToList:"Thm vo danh sch",removeFromList:"Xa khi danh sch",trailer:"Trailer",info:"Thng tin",episodes:"Tp phim",related:"Phim lin quan",comments:"Bnh lun",quality:"Cht lng",language:"Ngn ng",year:"Nm",duration:"Thi lng",genre:"Th loi",country:"Quc gia",director:"o din",cast:"Din vin",status:"Tnh trng",rating:"nh gi"},DR={login:"ng nhp",register:"ng k",logout:"ng xut",email:"Email",password:"Mt khu",confirmPassword:"Xc nhn mt khu",fullName:"H v tn",forgotPassword:"Qun mt khu?",noAccount:"Cha c ti khon?",haveAccount:" c ti khon?",loginWithGoogle:"ng nhp vi Google",loginWithFacebook:"ng nhp vi Facebook"},jR={title:"Gi dch v",subtitle:"Xem phim khng gii hn  Hy bt c lc no",chooseTitle:"Chn gi",chooseTitleHighlight:"ph hp",chooseTitleEnd:"vi bn",monthly:"Thng",yearly:"Nm",perMonth:"/thng",perYear:"/nm",year:"nm",day:"ngy",oneMonth:"1 thng",twelveMonths:"12 thng",save:"Tit kim",free:"Min ph",basic:"C bn",premium:"Cao cp",vip:"VIP",selectPlan:"Chn gi",currentPlan:"Gi hin ti",features:"Tnh nng",buyNow:"Mua ngay",useFree:" Dng min ph",addToCart:"Thm vo gi",addToCartConfirm:"Thm vo gi hng?",addToCartMessage:"Bn mun thm gi {plan} ({duration}) vo gi hng?",addedToCart:" thm {plan}",addedToCartSuccess:"  thm gi {plan} ({duration}) vo gi hng",addToCartError:"Khng th thm vo gi hng",tryAgainOrContact:"Vui lng th li hoc lin h h tr nu vn  vn tip din.",loginToAddCart:"Vui lng ng nhp  thm vo gi hng",loginToBuy:"Vui lng ng nhp  mua gi",usingFreePlan:"Bn ang dng gi min ph",paymentSuccess:"Thanh ton thnh cng! Gi  c kch hot",mostPopular:"Ph bin nht",popularChoice:"c 85% khch hng la chn",clickToSelect:"Click  chn",hasAds:"C qung co",noAds:"Khng qung co",devices:"{count} thit b ng thi",canDownload:"Ti v xem offline",noDownload:"Khng ti v",earlyAccess:"Xem trc phim mi"},UR={title:"Th vin ca ti",subtitle:"Qun l phim yu thch, danh sch v lch s xem ca bn",favorites:"Yu thch",watchlist:"Danh sch",continue:"Xem tip",watchLater:"Xem sau",history:"Lch s",empty:"Cha c phim no",addMovies:"Thm phim vo th vin",emptyFavorites:"Cha c phim yu thch",emptyFavoritesDesc:"Thm phim vo danh sch yu thch  xem li sau",emptyWatchlist:"Danh sch trng",emptyWatchlistDesc:"Thm phim vo danh sch  xem sau",emptyHistory:"Cha c lch s xem",emptyHistoryDesc:"Bt u xem phim  theo di tin trnh",discoverMovies:"Khm ph phim",findMovies:"Tm phim hay",startWatching:"Bt u xem",watchNow:"Xem ngay",continueWatching:"Xem tip",watched:" xem",selectAll:"Chn tt c",selected:" chn {count}",deleteSelected:"Xa  chn",deleteAll:"Xa tt c",removeFromFavorites:"Xa khi yu thch",removeFromFavoritesConfirm:"Xa khi yu thch?",removeFromFavoritesMessage:'Bn c chc mun xa "{title}" khi danh sch yu thch?',removedFromFavorites:' xa "{title}" khi yu thch',removeFromWatchlist:"Xa khi danh sch",removeFromWatchlistConfirm:"Xa khi danh sch?",removeFromWatchlistMessage:'Bn c chc mun xa "{title}" khi danh sch?',removedFromWatchlist:' xa "{title}" khi danh sch',removeFromHistory:"Xa khi lch s",removeFromHistoryConfirm:"Xa khi lch s?",removeFromHistoryMessage:'Bn c chc mun xa "{title}" khi lch s xem?',removedFromHistory:' xa "{title}" khi lch s',bulkRemoveConfirm:"Xa nhiu phim?",bulkRemoveMessage:"Bn c chc mun xa {count} phim khi danh sch yu thch?",bulkRemoveFromWatchlistMessage:"Bn c chc mun xa {count} phim khi danh sch?",bulkRemovedFromFavorites:" xa {count} phim khi yu thch",bulkRemovedFromWatchlist:" xa {count} phim khi danh sch",undoSuccess:"  hon tc",cannotRemove:" Khng th xa"},FR={title:"Gi hng",empty:"Gi hng trng",total:"Tng cng",checkout:"Thanh ton",continueShopping:"Tip tc mua sm",remove:"Xa",quantity:"S lng"},BR={about:"V chng ti",contact:"Lin h",terms:"iu khon",privacy:"Bo mt",help:"Tr gip",faq:"Cu hi thng gp"},HR={notFound:"Khng tm thy trang",serverError:"Li my ch",networkError:"Li kt ni",unauthorized:"Cha ng nhp",forbidden:"Khng c quyn truy cp",tryAgain:"Vui lng th li sau"},VR={common:NR,nav:LR,home:$R,movie:MR,auth:DR,pricing:jR,library:UR,cart:FR,footer:BR,errors:HR},WR={home:"Home",movies:"Movies",series:"TV Series",single:"Movies",anime:"Anime",library:"Library",pricing:"Pricing",cart:"Cart",account:"Account",login:"Login",logout:"Logout",register:"Register",search:"Search",loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",edit:"Edit",close:"Close",back:"Back",next:"Next",previous:"Previous",viewAll:"View all",noResults:"No results",tryAgain:"Try again"},qR={home:"Home",movies:"Movies",series:"TV Series",single:"Movies",anime:"Anime",library:"Library",pricing:"Pricing",search:"Search movies, actors",searchTitle:"Enter movie or actor name to search",genres:"Genres",countries:"Countries",viewAllGenres:"View all genres"},zR={title:"Discover Great Movies",subtitle:"Continuously updated with the latest and hottest movies",newMovies:" New Movies",series:" Hot TV Series",single:" New Movies",korean:" Korean Movies",chinese:" Chinese Movies",anime:" Anime"},KR={play:"Play now",addToList:"Add to list",removeFromList:"Remove from list",trailer:"Trailer",info:"Info",episodes:"Episodes",related:"Related movies",comments:"Comments",quality:"Quality",language:"Language",year:"Year",duration:"Duration",genre:"Genre",country:"Country",director:"Director",cast:"Cast",status:"Status",rating:"Rating"},GR={login:"Login",register:"Register",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm password",fullName:"Full name",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",haveAccount:"Already have an account?",loginWithGoogle:"Login with Google",loginWithFacebook:"Login with Facebook"},JR={title:"Pricing",subtitle:"Unlimited movies  Cancel anytime",chooseTitle:"Choose the",chooseTitleHighlight:"right plan",chooseTitleEnd:"for you",monthly:"Monthly",yearly:"Yearly",perMonth:"/month",perYear:"/year",year:"year",day:"day",oneMonth:"1 month",twelveMonths:"12 months",save:"Save",free:"Free",basic:"Basic",premium:"Premium",vip:"VIP",selectPlan:"Select plan",currentPlan:"Current plan",features:"Features",buyNow:"Buy now",useFree:" Use for free",addToCart:"Add to cart",addToCartConfirm:"Add to cart?",addToCartMessage:"Do you want to add {plan} ({duration}) to cart?",addedToCart:"Added {plan}",addedToCartSuccess:" Added {plan} ({duration}) to cart",addToCartError:"Cannot add to cart",tryAgainOrContact:"Please try again or contact support if the problem persists.",loginToAddCart:"Please login to add to cart",loginToBuy:"Please login to buy plan",usingFreePlan:"You are using free plan",paymentSuccess:"Payment successful! Plan activated",mostPopular:"Most Popular",popularChoice:"Chosen by 85% of customers",clickToSelect:"Click to select",hasAds:"With ads",noAds:"No ads",devices:"{count} devices simultaneously",canDownload:"Download for offline",noDownload:"No download",earlyAccess:"Early access to new movies"},YR={title:"My Library",subtitle:"Manage your favorites, watchlist and viewing history",favorites:"Favorites",watchlist:"Watchlist",continue:"Continue Watching",watchLater:"Watch later",history:"History",empty:"No movies yet",addMovies:"Add movies to library",emptyFavorites:"No favorites yet",emptyFavoritesDesc:"Add movies to favorites to watch later",emptyWatchlist:"Watchlist is empty",emptyWatchlistDesc:"Add movies to watchlist to watch later",emptyHistory:"No viewing history",emptyHistoryDesc:"Start watching movies to track your progress",discoverMovies:"Discover movies",findMovies:"Find great movies",startWatching:"Start watching",watchNow:"Watch now",continueWatching:"Continue",watched:"watched",selectAll:"Select all",selected:"Selected {count}",deleteSelected:"Delete selected",deleteAll:"Delete all",removeFromFavorites:"Remove from favorites",removeFromFavoritesConfirm:"Remove from favorites?",removeFromFavoritesMessage:'Are you sure you want to remove "{title}" from favorites?',removedFromFavorites:'Removed "{title}" from favorites',removeFromWatchlist:"Remove from watchlist",removeFromWatchlistConfirm:"Remove from watchlist?",removeFromWatchlistMessage:'Are you sure you want to remove "{title}" from watchlist?',removedFromWatchlist:'Removed "{title}" from watchlist',removeFromHistory:"Remove from history",removeFromHistoryConfirm:"Remove from history?",removeFromHistoryMessage:'Are you sure you want to remove "{title}" from viewing history?',removedFromHistory:'Removed "{title}" from history',bulkRemoveConfirm:"Remove multiple movies?",bulkRemoveMessage:"Are you sure you want to remove {count} movies from favorites?",bulkRemoveFromWatchlistMessage:"Are you sure you want to remove {count} movies from watchlist?",bulkRemovedFromFavorites:"Removed {count} movies from favorites",bulkRemovedFromWatchlist:"Removed {count} movies from watchlist",undoSuccess:" Undone",cannotRemove:" Cannot remove"},XR={title:"Shopping Cart",empty:"Cart is empty",total:"Total",checkout:"Checkout",continueShopping:"Continue shopping",remove:"Remove",quantity:"Quantity"},QR={about:"About us",contact:"Contact",terms:"Terms",privacy:"Privacy",help:"Help",faq:"FAQ"},ZR={notFound:"Page not found",serverError:"Server error",networkError:"Network error",unauthorized:"Not logged in",forbidden:"Access denied",tryAgain:"Please try again later"},eP={common:WR,nav:qR,home:zR,movie:KR,auth:GR,pricing:JR,library:YR,cart:XR,footer:QR,errors:ZR},Sy=ER({legacy:!1,locale:localStorage.getItem("locale")||"vi",fallbackLocale:"vi",messages:{vi:VR,en:eP},globalInjection:!0,missingWarn:!1,fallbackWarn:!1});function tP(t){Sy.global.locale.value=t,localStorage.setItem("locale",t),document.documentElement.lang=t}const nP={class:"flex items-center justify-between px-4 md:px-8 py-3 max-w-[1920px] mx-auto"},rP={class:"flex items-center gap-6 flex-1 max-w-4xl mx-6"},sP={class:"relative flex-1 max-w-md"},oP=["placeholder","title","aria-label"],iP={key:0,class:"absolute right-10 top-1/2 -translate-y-1/2"},aP={key:1,class:"absolute top-full left-0 right-0 mt-2 bg-gray-800 rounded-lg shadow-2xl border border-gray-700 overflow-hidden z-50"},lP={key:0},cP={class:"px-3 py-2 bg-gray-900 border-b border-gray-700 flex items-center justify-between"},uP=["onMousedown"],dP={class:"text-white text-sm"},hP={key:1},fP=["onMousedown"],pP=["src","alt"],gP={class:"flex-1 min-w-0"},mP={class:"text-white font-medium truncate"},vP={class:"text-gray-400 text-xs truncate mb-1"},yP={class:"flex gap-2 flex-wrap"},_P={key:0,class:"text-xs bg-gray-700 px-2 py-0.5 rounded"},bP={key:1,class:"text-xs bg-yellow-600 text-black px-2 py-0.5 rounded font-semibold"},wP={key:2,class:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded"},EP={class:"p-2 bg-gray-900 text-center border-t border-gray-700"},xP={class:"hidden lg:flex items-center gap-4 text-sm font-medium"},kP={class:"relative group"},TP={class:"relative group"},SP={class:"relative group"},CP={class:"hidden group-hover:block absolute top-full left-0 pt-2 w-48 z-50"},IP={class:"bg-gray-800 rounded-lg shadow-xl max-h-96 overflow-y-auto border border-gray-700"},AP={class:"relative group"},OP={class:"flex items-center gap-2 flex-shrink-0"},RP=["title"],PP={class:"text-xs font-bold text-white uppercase tracking-wider"},NP={key:0,class:"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center","aria-label":"`${cartStore.count} items trong gi`"},LP={class:"relative group"},$P=["title"],MP={key:0,class:"w-7 h-7 flex items-center justify-center"},DP={key:1,class:"relative"},jP=["src","alt"],UP={key:2,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},FP={class:"text-sm font-medium text-white hidden md:block"},BP={class:"absolute top-full right-0 mt-3 w-64 bg-gray-900 rounded-xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-500 ease-out transform group-hover:translate-y-0 -translate-y-4 group-hover:scale-100 scale-95 border border-yellow-400/30 overflow-hidden backdrop-blur-xl"},HP={key:0,class:"bg-gradient-to-br from-gray-800 to-gray-900 px-4 py-3 border-b border-yellow-400/20"},VP={class:"flex items-center gap-2.5 mb-2.5"},WP=["src","alt"],qP={class:"flex-1 min-w-0"},zP={class:"flex items-center gap-1.5 mb-0.5"},KP={class:"text-white font-bold truncate text-sm"},GP={class:"text-gray-400 text-[10px] truncate mb-0.5"},JP={key:0,class:"text-gray-500 text-[9px] truncate"},YP={key:1,class:"w-full bg-gradient-to-r from-purple-600 to-purple-700 text-white px-3 py-2 rounded-lg font-bold text-xs flex items-center justify-center gap-1.5"},XP={class:"py-1.5"},QP={key:2,class:"border-t border-gray-700/50 my-1.5"},ZP=["aria-expanded"],e3={key:0,class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t3={key:1,class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n3={key:0,class:"lg:hidden bg-gray-900/98 backdrop-blur-lg border-t border-gray-800 shadow-2xl fixed left-0 right-0 top-[64px] z-40 max-h-[calc(100vh-64px)] overflow-y-auto"},r3={class:"px-4 py-6 space-y-2"},s3={class:"space-y-1"},o3={key:0,class:"pl-4 space-y-1 max-h-64 overflow-y-auto"},i3={class:"space-y-1"},a3={key:0,class:"pl-4 space-y-1"},l3={key:2,class:"px-4 py-3"},c3={key:3,class:"px-4 py-3 space-y-2"},u3={class:"flex items-center gap-3 mb-3"},d3=["src","alt"],h3={class:"text-white font-bold"},f3={class:"text-gray-400 text-sm"},p3={__name:"NetflixNavbar",setup(t){const e=Or(),n=Wa(),r=Ro(),s=AC(),o=DC(),i=gs(),a=ll(),{recentSearches:l,addSearch:c,clearSearches:u}=kA(),{locale:h}=fl(),f=ve(()=>h.value),p=()=>{console.log(" Current language:",h.value);const V=h.value==="vi"?"en":"vi";console.log(" Switching to:",V),tP(V),console.log(" Language switched to:",h.value),a.success(`Switched to ${V==="vi"?"Ting Vit":"English"}`)},g=Y(!1),y=Y(""),v=ve(()=>r.user),T=Y(!1),A=Y([]),_=Y(!1),b=Y(!1),R=Y(!1),k=Y(!1),x=Y(!1),P=Y(!1),m=Y(null),$=Y(!1),ee=async()=>{var V;if((V=v.value)!=null&&V.id)try{$.value=!0;const S=await(await fetch(`https://hthree-film-production.up.railway.app/api/user_subscription.php?user_id=${v.value.id}`)).json();if(S.success&&S.data&&S.data.length>0){const O=S.data.filter(C=>C.status==="active");if(O.length>0){const C={vip:4,premium:3,basic:2,free:1};m.value=O.sort((j,G)=>(C[G.plan_slug]||0)-(C[j.plan_slug]||0))[0]}}}catch(L){console.error("Failed to fetch subscription:",L)}finally{$.value=!1}},F=ve(()=>m.value&&{vip:{label:"VIP",color:"bg-purple-600 text-white",icon:""},premium:{label:"PREMIUM",color:"bg-red-600 text-white",icon:""},basic:{label:"BASIC",color:"bg-blue-600 text-white",icon:""},free:{label:"FREE",color:"bg-gray-600 text-white",icon:""}}[m.value.plan_slug]||null),ae=ve(()=>{if(!m.value)return"";const V=m.value.days_remaining,L=m.value.end_date_formatted;return V<=0?` ht hn: ${L}`:V<=7?` Sp ht hn: ${L} (cn ${V} ngy)`:`Ht hn: ${L} (cn ${V} ngy)`}),_e=Y([{name:" Vit Nam",slug:"viet-nam"},{name:" Hn Quc",slug:"han-quoc"},{name:" Trung Quc",slug:"trung-quoc"},{name:" M",slug:"au-my"},{name:" Thi Lan",slug:"thai-lan"},{name:" Nht Bn",slug:"nhat-ban"},{name:" n ",slug:"an-do"},{name:" Anh",slug:"anh"},{name:" Php",slug:"phap"},{name:" c",slug:"duc"}]),Ce=V=>n.path.startsWith(V),te=()=>{T.value=!T.value,console.log(" Mobile menu toggled:",T.value),T.value?document.body.style.overflow="hidden":document.body.style.overflow=""};s.getCategory();const U=ve(()=>{var V;return((V=s.getAllCategories)==null?void 0:V.slice(0,8))||[]}),de=ve(()=>{var V;return(((V=s.getAllCategories)==null?void 0:V.length)||0)>8}),ce=ve(()=>v.value?v.value.role==="admin"?!0:["hient7182@gmail.com","admin@hthree.com"].includes(v.value.email):!1),be=()=>{g.value=window.scrollY>50},pe=V=>V?V.startsWith("http")?V:`https://phimimg.com/${V}`:"https://placehold.co/50x75/1a1a1a/fff?text=No+Image";let Pe=null;const J=async()=>{var L;const V=y.value.trim();if(V.length<2){A.value=[],_.value=!1;return}b.value=!0;try{const{searchMovies:Z}=await dt(async()=>{const{searchMovies:O}=await import("./movieApi-DIAZUpTg.js");return{searchMovies:O}},[],import.meta.url),S=await Z(V,{limit:5});(S.status==="success"||S.status===!0)&&((L=S.data)!=null&&L.items)?(A.value=S.data.items.slice(0,5),_.value=!0):(A.value=[],_.value=!1)}catch(Z){console.error("Error fetching suggestions:",Z),A.value=[]}finally{b.value=!1}},Ee=()=>{clearTimeout(Pe),Pe=setTimeout(()=>{J()},300)},We=V=>{_.value=!1,c(V.name),e.push(`/film/${V.slug}`)},je=()=>{if(console.log(" handleSearch called, searchQuery:",y.value),_.value=!1,y.value.trim()){const V=y.value.trim();console.log(" Navigating to /search?q="+V),c(V),e.push(`/search?q=${encodeURIComponent(V)}`)}else console.warn(" Search query is empty")},q=()=>{setTimeout(()=>{_.value=!1},200)},ie=async()=>{const{useConfirm:V}=await dt(async()=>{const{useConfirm:S}=await Promise.resolve().then(()=>D3);return{useConfirm:S}},void 0,import.meta.url),{confirm:L}=V();if(await L({title:"ng xut ti khon?",message:"Bn c chc chn mun ng xut khi ti khon?",type:"warning",confirmText:"ng xut",cancelText:"Hy"}))try{await r.logout(),a.success("  ng xut thnh cng!"),setTimeout(()=>{window.location.reload()},1e3)}catch(S){console.error("Logout error:",S),a.error(" Li khi ng xut. Vui lng th li!")}};return Ot(async()=>{var V;window.addEventListener("scroll",be),(V=s.getAllCategories)!=null&&V.length||await s.getCategory(),await o.fetchCart(),v.value&&await ee(),hi(i,async L=>{L?await ee():m.value=null})}),sn(()=>{window.removeEventListener("scroll",be),document.body.style.overflow=""}),(V,L)=>{var S,O,C,j,G,K,se,re,w,E,M,B,oe,ne,D,z,ue,Me,Ge,it,at;const Z=Ua("router-link");return I(),N(we,null,[d("nav",{class:Oe(["fixed top-0 left-0 right-0 z-50 transition-all duration-300",g.value?"bg-gray-900/95 backdrop-blur-sm shadow-lg":"bg-black/30 backdrop-blur-sm"])},[d("div",nP,[X(Z,{to:"/home",class:"flex items-center gap-2 flex-shrink-0"},{default:ge(()=>L[20]||(L[20]=[d("svg",{class:"w-8 h-8 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})],-1),d("span",{class:"text-yellow-400 text-xl font-bold"},"HTHREE",-1)])),_:1}),d("div",rP,[d("div",sP,[Tu(d("input",{"onUpdate:modelValue":L[0]||(L[0]=Ne=>y.value=Ne),type:"text",placeholder:V.$t("nav.search"),class:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 pl-10 text-sm text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400 transition",title:V.$t("nav.searchTitle"),"aria-label":V.$t("nav.search"),onInput:Ee,onKeyup:Os(je,["enter"]),onBlur:q,onFocus:L[1]||(L[1]=Ne=>y.value.length>=2?J():_.value=!0)},null,40,oP),[[Bo,y.value]]),L[24]||(L[24]=d("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),b.value?(I(),N("div",iP,L[21]||(L[21]=[d("svg",{class:"animate-spin h-4 w-4 text-yellow-400",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):Q("",!0),_.value&&(A.value.length>0||y.value.length===0&&Fe(l).length>0)?(I(),N("div",aP,[y.value.length===0&&Fe(l).length>0?(I(),N("div",lP,[d("div",cP,[L[22]||(L[22]=d("span",{class:"text-gray-400 text-xs font-medium"},"Tm kim gn y",-1)),d("button",{onMousedown:L[2]||(L[2]=(...Ne)=>Fe(u)&&Fe(u)(...Ne)),class:"text-gray-500 hover:text-red-400 text-xs transition-colors"}," Xa tt c ",32)]),(I(!0),N(we,null,Ve(Fe(l),(Ne,Je)=>(I(),N("div",{key:Je,onMousedown:He=>{y.value=Ne,je()},class:"flex items-center gap-3 px-4 py-2.5 hover:bg-gray-700 cursor-pointer transition-colors border-b border-gray-700 last:border-b-0"},[L[23]||(L[23]=d("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("span",dP,H(Ne),1)],40,uP))),128))])):Q("",!0),y.value.length>0&&A.value.length>0?(I(),N("div",hP,[(I(!0),N(we,null,Ve(A.value,Ne=>(I(),N("div",{key:Ne.slug,onMousedown:Je=>We(Ne),class:"flex items-center gap-3 p-3 hover:bg-gray-700 cursor-pointer transition-colors border-b border-gray-700 last:border-b-0"},[d("img",{src:pe(Ne.poster_url),alt:Ne.name,class:"w-12 h-16 object-cover rounded flex-shrink-0",onError:L[3]||(L[3]=Je=>Je.target.src="https://placehold.co/50x75/1a1a1a/fff?text=Error")},null,40,pP),d("div",gP,[d("p",mP,H(Ne.name),1),d("p",vP,H(Ne.origin_name),1),d("div",yP,[Ne.year?(I(),N("span",_P,H(Ne.year),1)):Q("",!0),Ne.quality?(I(),N("span",bP,H(Ne.quality),1)):Q("",!0),Ne.lang?(I(),N("span",wP,H(Ne.lang),1)):Q("",!0)])])],40,fP))),128)),d("div",EP,[d("button",{onMousedown:je,class:"text-yellow-400 text-sm hover:text-yellow-300 font-medium transition-colors"},' Xem tt c kt qu cho "'+H(y.value)+'"  ',33)])])):Q("",!0)])):Q("",!0)]),d("ul",xP,[d("li",kP,[X(Z,{to:"/list/phim-le/page/1",class:Oe([[g.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white",Ce("/list/phim-le")?"text-yellow-400":""],"transition-all duration-300 px-2 py-1 block relative no-underline"]),style:{"text-decoration":"none !important"}},{default:ge(()=>[he(H(V.$t("nav.single"))+" ",1),d("span",{class:Oe(["absolute bottom-0 left-0 h-0.5 bg-yellow-400 transition-all duration-300",Ce("/list/phim-le")?"w-full":"w-0 group-hover:w-full"])},null,2)]),_:1},8,["class"])]),d("li",TP,[X(Z,{to:"/list/phim-bo/page/1",class:Oe([[g.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white",Ce("/list/phim-bo")?"text-yellow-400":""],"transition-all duration-300 px-2 py-1 block relative no-underline"]),style:{"text-decoration":"none !important"}},{default:ge(()=>[he(H(V.$t("nav.series"))+" ",1),d("span",{class:Oe(["absolute bottom-0 left-0 h-0.5 bg-yellow-400 transition-all duration-300",Ce("/list/phim-bo")?"w-full":"w-0 group-hover:w-full"])},null,2)]),_:1},8,["class"])]),d("li",SP,[d("button",{class:Oe([g.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-all duration-300 flex items-center gap-1 px-2 py-1 relative"])},[he(H(V.$t("nav.genres"))+" ",1),L[25]||(L[25]=d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),L[26]||(L[26]=d("span",{class:"absolute bottom-0 left-0 w-0 h-0.5 bg-yellow-400 transition-all duration-300 group-hover:w-full pointer-events-none"},null,-1))],2),d("div",CP,[d("div",IP,[(I(!0),N(we,null,Ve(U.value,Ne=>(I(),Le(Z,{key:Ne.slug,to:`/category/${Ne.slug}/page/1`,class:"block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm"},{default:ge(()=>[he(H(Ne.name),1)]),_:2},1032,["to"]))),128)),de.value?(I(),Le(Z,{key:0,to:"/categories",class:"block px-4 py-2 text-yellow-400 hover:bg-gray-700 hover:text-yellow-300 transition-colors text-sm font-medium border-t border-gray-700"},{default:ge(()=>[he(H(V.$t("nav.viewAllGenres"))+"  ",1)]),_:1})):Q("",!0)])])]),d("li",AP,[d("button",{class:Oe([g.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-all duration-300 flex items-center gap-1 px-2 py-1 relative"])},[he(H(V.$t("nav.countries"))+" ",1),L[27]||(L[27]=d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),L[28]||(L[28]=d("span",{class:"absolute bottom-0 left-0 w-0 h-0.5 bg-yellow-400 transition-all duration-300 group-hover:w-full pointer-events-none"},null,-1))],2),L[29]||(L[29]=Jn('<div class="hidden group-hover:block absolute top-full left-0 pt-2 w-48 z-50" data-v-b4ce64a4><div class="bg-gray-800 rounded-lg shadow-xl max-h-96 overflow-y-auto border border-gray-700" data-v-b4ce64a4><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-b4ce64a4>Vit Nam</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-b4ce64a4>Hn Quc</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-b4ce64a4>Trung Quc</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-b4ce64a4>M</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm" data-v-b4ce64a4>Thi Lan</a></div></div>',1))])])]),d("div",OP,[d("button",{onClick:p,class:"hidden md:flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-800/50 hover:bg-gray-700/70 border border-gray-700 hover:border-gray-600 transition-all duration-200 group",title:f.value==="vi"?"Switch to English":"Chuyn sang Ting Vit"},[L[30]||(L[30]=d("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})],-1)),d("span",PP,H(f.value==="vi"?"VI":"EN"),1)],8,RP),v.value&&!ce.value?(I(),Le(Z,{key:0,to:"/pricing",class:Oe(["hidden md:flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all hover:scale-105 shadow-lg",Ce("/pricing")?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-black ring-2 ring-yellow-400":"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-500 hover:to-yellow-600"]),title:"Nng cp ti khon VIP"},{default:ge(()=>L[31]||(L[31]=[d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),he(" Nng cp VIP ")])),_:1},8,["class"])):Q("",!0),v.value&&(v.value.email==="hient7182@gmail.com"||v.value.email==="admin@hthree.com"||v.value.role==="admin")?(I(),Le(Z,{key:1,to:"/admin",class:"p-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",title:"Qun tr h thng","aria-label":"Admin Panel"},{default:ge(()=>L[32]||(L[32]=[d("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])),_:1})):Q("",!0),v.value&&!ce.value?(I(),Le(Z,{key:2,to:"/cart",class:"relative p-2 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors",title:`Gi hng${Fe(o).count>0?` (${Fe(o).count} gi)`:""}`,"aria-label":"Gi hng"},{default:ge(()=>[L[33]||(L[33]=d("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),Fe(o).count>0?(I(),N("span",NP,H(Fe(o).count),1)):Q("",!0)]),_:1},8,["title"])):Q("",!0),d("div",LP,[d("button",{class:"flex items-center gap-2 bg-gray-800 px-3 py-2 rounded-lg hover:bg-gray-700 hover:scale-105 transition-all duration-300",title:Fe(r).loading?"ang ti...":v.value?`Ti khon: ${v.value.displayName||v.value.username||v.value.email}`:"ng nhp / ng k","aria-label":"Menu ti khon"},[Fe(r).loading?(I(),N("div",MP,L[34]||(L[34]=[d("svg",{class:"animate-spin h-5 w-5 text-yellow-400",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):v.value?(I(),N("div",DP,[d("img",{src:((S=v.value)==null?void 0:S.avatar)||((O=v.value)==null?void 0:O.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((C=v.value)==null?void 0:C.full_name)||((j=v.value)==null?void 0:j.displayName)||((G=v.value)==null?void 0:G.username)||"User")}&background=f59e0b&color=000`,class:"w-7 h-7 rounded-full border-2 border-yellow-400 shadow-lg",alt:((K=v.value)==null?void 0:K.full_name)||((se=v.value)==null?void 0:se.displayName)||((re=v.value)==null?void 0:re.username)||"User"},null,8,jP),F.value?(I(),N("div",{key:0,class:Oe([F.value.color,"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full flex items-center justify-center text-[9px] font-bold border-2 border-gray-900 shadow-lg"])},H(F.value.icon),3)):Q("",!0)])):(I(),N("svg",UP,L[35]||(L[35]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)]))),d("span",FP,H(Fe(r).loading?"...":v.value&&(v.value.full_name||v.value.displayName||v.value.username||((w=v.value.email)==null?void 0:w.split("@")[0]))||"Thnh vin"),1)],8,$P),d("div",BP,[v.value?(I(),N("div",HP,[d("div",VP,[d("img",{src:((E=v.value)==null?void 0:E.avatar)||((M=v.value)==null?void 0:M.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((B=v.value)==null?void 0:B.full_name)||((oe=v.value)==null?void 0:oe.displayName)||((ne=v.value)==null?void 0:ne.username)||"User")}&background=f59e0b&color=000`,class:"w-11 h-11 rounded-full border-2 border-yellow-400 shadow-lg",alt:((D=v.value)==null?void 0:D.full_name)||((z=v.value)==null?void 0:z.displayName)||((ue=v.value)==null?void 0:ue.username)||"User"},null,8,WP),d("div",qP,[d("div",zP,[d("p",KP,H(((Me=v.value)==null?void 0:Me.full_name)||((Ge=v.value)==null?void 0:Ge.displayName)||((it=v.value)==null?void 0:it.username)),1),F.value?(I(),N("span",{key:0,class:Oe([F.value.color,"px-1.5 py-0.5 rounded text-[9px] font-bold flex items-center gap-0.5 flex-shrink-0"])},[d("span",null,H(F.value.icon),1),d("span",null,H(F.value.label),1)],2)):Q("",!0)]),d("p",GP,H((at=v.value)==null?void 0:at.email),1),F.value?(I(),N("p",JP,H(ae.value),1)):Q("",!0)])]),ce.value?(I(),N("div",YP,L[37]||(L[37]=[d("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),d("span",null,"Qun tr vin",-1)]))):(I(),Le(Z,{key:0,to:"/pricing",class:"w-full bg-gradient-to-r from-yellow-400 to-yellow-500 text-black px-3 py-2 rounded-lg font-bold text-xs hover:from-yellow-500 hover:to-yellow-600 hover:scale-105 hover:shadow-xl hover:shadow-yellow-400/50 transition-all duration-300 shadow-lg flex items-center justify-center gap-1.5 group/upgrade"},{default:ge(()=>L[36]||(L[36]=[d("svg",{class:"w-3.5 h-3.5 group-hover/upgrade:rotate-12 transition-transform duration-300",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),d("span",{class:"group-hover/upgrade:tracking-wider transition-all duration-300"},"Nng cp ngay",-1)])),_:1}))])):Q("",!0),d("div",XP,[v.value?(I(),Le(Z,{key:0,to:"/library",class:Oe(["flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item",Ce("/library")?"bg-gray-800 border-l-2 border-yellow-400":""]),title:"Yu thch, Danh sch, Xem tip"},{default:ge(()=>[(I(),N("svg",{class:Oe(["w-4 h-4 transition-all duration-300 group-hover/item:scale-110",Ce("/library")?"text-yellow-400":"text-gray-400 group-hover/item:text-yellow-400"]),fill:"currentColor",viewBox:"0 0 20 20"},L[38]||(L[38]=[d("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"},null,-1)]),2)),L[39]||(L[39]=d("span",{class:"font-medium text-sm"},"Th vin ca ti",-1))]),_:1},8,["class"])):Q("",!0),v.value?(I(),Le(Z,{key:1,to:"/account",class:Oe(["flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item",Ce("/account")?"bg-gray-800 border-l-2 border-yellow-400":""])},{default:ge(()=>[(I(),N("svg",{class:Oe(["w-4 h-4 transition-all duration-300 group-hover/item:scale-110",Ce("/account")?"text-yellow-400":"text-gray-400 group-hover/item:text-yellow-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},L[40]||(L[40]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)]),2)),L[41]||(L[41]=d("span",{class:"font-medium text-sm"},"Ti khon",-1))]),_:1},8,["class"])):Q("",!0),v.value?(I(),N("div",QP)):Q("",!0),v.value?(I(),N("button",{key:3,onClick:ie,class:"flex items-center gap-2.5 w-full px-4 py-2.5 text-white hover:bg-red-500/20 hover:text-red-400 hover:pl-5 transition-all duration-300 group/item"},L[42]||(L[42]=[d("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-red-400 transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),d("span",{class:"font-medium text-sm"},"Thot",-1)]))):(I(),N("button",{key:4,onClick:L[4]||(L[4]=Ne=>R.value=!0),class:"flex items-center gap-2.5 w-full px-4 py-2.5 text-white hover:bg-gray-800 hover:text-yellow-400 hover:pl-5 transition-all duration-300 group/item"},L[43]||(L[43]=[d("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),d("span",{class:"font-medium text-sm"},"ng nhp",-1)])))])])]),d("button",{onClick:te,class:"lg:hidden p-2 rounded-lg hover:bg-gray-800 transition-colors relative z-50","aria-label":"Menu iu hng","aria-expanded":T.value},[T.value?(I(),N("svg",t3,L[45]||(L[45]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(I(),N("svg",e3,L[44]||(L[44]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])))],8,ZP)])]),X(yt,{name:"fade"},{default:ge(()=>[T.value?(I(),N("div",{key:0,onClick:L[5]||(L[5]=Ne=>T.value=!1),class:"lg:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-30 top-[64px]"})):Q("",!0)]),_:1}),X(yt,{name:"slide-down"},{default:ge(()=>{var Ne,Je,He,ct,nr,ao,_i,pl,pd,gd,md,vd;return[T.value?(I(),N("div",n3,[d("div",r3,[X(Z,{to:"/home",onClick:L[6]||(L[6]=bt=>T.value=!1),class:Oe(["block px-4 py-3 rounded-lg transition-all font-medium",Ce("/home")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ge(()=>L[46]||(L[46]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),he(" Trang ch ")],-1)])),_:1},8,["class"]),X(Z,{to:"/list/phim-le/page/1",onClick:L[7]||(L[7]=bt=>T.value=!1),class:Oe(["block px-4 py-3 rounded-lg transition-all font-medium",Ce("/list/phim-le")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ge(()=>L[47]||(L[47]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),he(" Phim L ")],-1)])),_:1},8,["class"]),X(Z,{to:"/list/phim-bo/page/1",onClick:L[8]||(L[8]=bt=>T.value=!1),class:Oe(["block px-4 py-3 rounded-lg transition-all font-medium",Ce("/list/phim-bo")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ge(()=>L[48]||(L[48]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})]),he(" Phim B ")],-1)])),_:1},8,["class"]),d("div",s3,[d("button",{onClick:L[9]||(L[9]=bt=>k.value=!k.value),class:"w-full flex items-center justify-between px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},[L[50]||(L[50]=d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})]),he(" Th loi ")],-1)),(I(),N("svg",{class:Oe(["w-4 h-4 transition-transform duration-300",k.value?"rotate-180":""]),fill:"currentColor",viewBox:"0 0 20 20"},L[49]||(L[49]=[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),X(yt,{name:"accordion"},{default:ge(()=>[k.value?(I(),N("div",o3,[(I(!0),N(we,null,Ve(U.value,bt=>(I(),Le(Z,{key:bt.slug,to:`/category/${bt.slug}/page/1`,onClick:L[10]||(L[10]=Ry=>T.value=!1),class:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all"},{default:ge(()=>[he(H(bt.name),1)]),_:2},1032,["to"]))),128)),de.value?(I(),Le(Z,{key:0,to:"/categories",onClick:L[11]||(L[11]=bt=>T.value=!1),class:"block px-4 py-2 text-sm text-yellow-400 hover:bg-gray-800 rounded-lg transition-all font-medium"},{default:ge(()=>L[51]||(L[51]=[he(" Xem tt c th loi  ")])),_:1})):Q("",!0)])):Q("",!0)]),_:1})]),d("div",i3,[d("button",{onClick:L[12]||(L[12]=bt=>x.value=!x.value),class:"w-full flex items-center justify-between px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},[L[53]||(L[53]=d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z","clip-rule":"evenodd"})]),he(" Quc gia ")],-1)),(I(),N("svg",{class:Oe(["w-4 h-4 transition-transform duration-300",x.value?"rotate-180":""]),fill:"currentColor",viewBox:"0 0 20 20"},L[52]||(L[52]=[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),X(yt,{name:"accordion"},{default:ge(()=>[x.value?(I(),N("div",a3,[(I(!0),N(we,null,Ve(_e.value,bt=>(I(),Le(Z,{key:bt.slug,to:`/country/${bt.slug}/page/1`,onClick:L[13]||(L[13]=Ry=>T.value=!1),class:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all"},{default:ge(()=>[he(H(bt.name),1)]),_:2},1032,["to"]))),128))])):Q("",!0)]),_:1})]),v.value?(I(),Le(Z,{key:0,to:"/library",onClick:L[14]||(L[14]=bt=>T.value=!1),class:Oe(["block px-4 py-3 rounded-lg transition-all font-medium",Ce("/library")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ge(()=>L[54]||(L[54]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})]),he(" Th vin ca ti ")],-1)])),_:1},8,["class"])):Q("",!0),v.value&&!ce.value?(I(),Le(Z,{key:1,to:"/pricing",onClick:L[15]||(L[15]=bt=>T.value=!1),class:Oe(["block px-4 py-3 rounded-lg transition-all font-medium",Ce("/pricing")?"bg-gray-800 text-yellow-400":"text-white hover:bg-gray-800 hover:text-yellow-400"])},{default:ge(()=>L[55]||(L[55]=[d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),he(" Nng cp VIP ")],-1)])),_:1},8,["class"])):Q("",!0),L[58]||(L[58]=d("div",{class:"border-t border-gray-800 my-4"},null,-1)),v.value?(I(),N("div",c3,[d("div",u3,[d("img",{src:((Ne=v.value)==null?void 0:Ne.avatar)||((Je=v.value)==null?void 0:Je.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((He=v.value)==null?void 0:He.full_name)||((ct=v.value)==null?void 0:ct.displayName)||((nr=v.value)==null?void 0:nr.username)||"User")}&background=f59e0b&color=000`,class:"w-12 h-12 rounded-full border-2 border-yellow-400",alt:((ao=v.value)==null?void 0:ao.full_name)||((_i=v.value)==null?void 0:_i.displayName)||((pl=v.value)==null?void 0:pl.username)||"User"},null,8,d3),d("div",null,[d("p",h3,H(((pd=v.value)==null?void 0:pd.full_name)||((gd=v.value)==null?void 0:gd.displayName)||((md=v.value)==null?void 0:md.username)),1),d("p",f3,H((vd=v.value)==null?void 0:vd.email),1)])]),d("button",{onClick:L[17]||(L[17]=bt=>{ie(),T.value=!1}),class:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg font-medium hover:bg-gray-700 transition-all flex items-center justify-center gap-2"},L[57]||(L[57]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),he(" ng xut ")]))])):(I(),N("div",l3,[d("button",{onClick:L[16]||(L[16]=bt=>{R.value=!0,T.value=!1}),class:"w-full bg-yellow-400 text-black px-4 py-3 rounded-lg font-bold hover:bg-yellow-500 transition-all flex items-center justify-center gap-2"},L[56]||(L[56]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),he(" ng nhp ")]))]))])])):Q("",!0)]}),_:1}),X(yt,{name:"fade"},{default:ge(()=>[T.value?(I(),N("div",{key:0,onClick:te,class:"lg:hidden fixed inset-0 bg-black/50 z-30 top-[64px]","aria-hidden":"true"})):Q("",!0)]),_:1})],2),X(oA,{modelValue:R.value,"onUpdate:modelValue":L[18]||(L[18]=Ne=>R.value=Ne),onSuccess:V.loadUser},null,8,["modelValue","onSuccess"]),X(qv,{show:P.value,onClose:L[19]||(L[19]=Ne=>P.value=!1)},null,8,["show"])],64)}}},g3=kt(p3,[["__scopeId","data-v-b4ce64a4"]]),m3={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900"},v3={__name:"SplashScreen",setup(t){const e=Y(!0);return Ot(()=>{setTimeout(()=>{e.value=!1},2500)}),(n,r)=>(I(),Le(yt,{name:"fade"},{default:ge(()=>[e.value?(I(),N("div",m3,r[0]||(r[0]=[d("div",{class:"text-center"},[d("div",{class:"mb-6 animate-bounce-slow"},[d("svg",{class:"w-24 h-24 mx-auto text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})])]),d("h1",{class:"text-5xl font-black text-white mb-2 tracking-wider",style:{"text-shadow":"0 0 20px rgba(250, 204, 21, 0.5)"}}," HTHREE-FILM "),d("p",{class:"text-gray-400 text-lg mb-8 font-medium"}," Xem Phim Min Ph Cc Nhanh, Cht Lng Cao V Cp Nht Lin Tc "),d("div",{class:"flex justify-center gap-2"},[d("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0s"}}),d("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.2s"}}),d("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.4s"}})])],-1)]))):Q("",!0)]),_:1}))}},y3=kt(v3,[["__scopeId","data-v-605b96cb"]]),_3={class:"fixed top-4 right-4 z-[99999] flex flex-col gap-3 pointer-events-none"},b3={class:"flex items-start gap-3 p-4 pt-5"},w3={key:0,class:"w-6 h-6 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},E3={key:1,class:"w-6 h-6 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},x3={key:2,class:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},k3={key:3,class:"w-6 h-6 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},T3={class:"flex-1 min-w-0"},S3={class:"text-sm text-gray-300 leading-relaxed"},C3=["onClick"],I3={__name:"CustomToast",setup(t,{expose:e}){const n=Y([]);let r=0;const s=(i,a,l,c=3e3)=>{const u=++r,h={id:u,type:i,title:a,message:l,progress:100};n.value.push(h);const f=Date.now(),p=setInterval(()=>{const g=Date.now()-f,y=Math.max(0,100-g/c*100),v=n.value.findIndex(T=>T.id===u);v!==-1&&(n.value[v].progress=y),y===0&&clearInterval(p)},50);return setTimeout(()=>{o(u)},c),u},o=i=>{const a=n.value.findIndex(l=>l.id===i);a!==-1&&n.value.splice(a,1)};return e({success:(i,a)=>s("success","Thnh cng",i,a),error:(i,a)=>s("error","Li",i,a),warning:(i,a)=>s("warning","Cnh bo",i,a),info:(i,a)=>s("info","Thng tin",i,a)}),(i,a)=>(I(),Le(to,{to:"body"},[d("div",_3,[X(Zg,{name:"toast"},{default:ge(()=>[(I(!0),N(we,null,Ve(n.value,l=>(I(),N("div",{key:l.id,class:Oe(["toast-item pointer-events-auto min-w-[320px] max-w-[400px] bg-gray-900/95 backdrop-blur-xl border rounded-xl shadow-2xl overflow-hidden",[l.type==="success"?"border-green-500/50 shadow-green-500/20":l.type==="error"?"border-red-500/50 shadow-red-500/20":l.type==="warning"?"border-yellow-500/50 shadow-yellow-500/20":"border-blue-500/50 shadow-blue-500/20"]])},[d("div",{class:Oe(["absolute top-0 left-0 h-1 transition-all duration-100 ease-linear",[l.type==="success"?"bg-green-500":l.type==="error"?"bg-red-500":l.type==="warning"?"bg-yellow-500":"bg-blue-500"]]),style:xr({width:`${l.progress}%`})},null,6),d("div",b3,[d("div",{class:Oe(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",[l.type==="success"?"bg-green-500/20":l.type==="error"?"bg-red-500/20":l.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"]])},[l.type==="success"?(I(),N("svg",w3,a[0]||(a[0]=[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)]))):l.type==="error"?(I(),N("svg",E3,a[1]||(a[1]=[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)]))):l.type==="warning"?(I(),N("svg",x3,a[2]||(a[2]=[d("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))):(I(),N("svg",k3,a[3]||(a[3]=[d("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},null,-1)])))],2),d("div",T3,[d("p",{class:Oe(["text-sm font-semibold mb-1",[l.type==="success"?"text-green-400":l.type==="error"?"text-red-400":l.type==="warning"?"text-yellow-400":"text-blue-400"]])},H(l.title),3),d("p",S3,H(l.message),1)]),d("button",{onClick:c=>o(l.id),class:"flex-shrink-0 w-6 h-6 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors"},a[4]||(a[4]=[d("svg",{class:"w-4 h-4 text-gray-400 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,C3)])],2))),128))]),_:1})])]))}},A3=kt(I3,[["__scopeId","data-v-a1e17cb9"]]),O3={class:"bg-gradient-to-b from-gray-900 to-black text-white border-t border-gray-800 mt-0 w-full"},R3={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},P3={class:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-6"},N3={class:"space-y-2"},L3={class:"space-y-2"},$3={class:"space-y-2"},M3={__name:"FooterComponent",setup(t){return(e,n)=>{const r=Ua("router-link");return I(),N("footer",O3,[d("div",R3,[d("div",P3,[n[17]||(n[17]=Jn('<div class="col-span-1 md:col-span-1"><div class="flex items-center gap-2 mb-4"><svg class="w-10 h-10 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"></path></svg><span class="text-2xl font-bold text-yellow-400">HTHREE</span></div><p class="text-gray-400 text-sm leading-relaxed"> Phim hay c ri - Trang xem phim online cht lng cao min ph, Vietsub, thuyt minh, b ting full HD. </p><div class="flex gap-3 mt-4"><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a></div></div>',1)),d("div",null,[n[6]||(n[6]=d("h3",{class:"text-white font-semibold text-lg mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),he(" iu hng ")],-1)),d("ul",N3,[d("li",null,[X(r,{to:"/home",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ge(()=>n[0]||(n[0]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),he(" Trang ch ")])),_:1})]),d("li",null,[X(r,{to:"/list/phim-le/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ge(()=>n[1]||(n[1]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),he(" Phim L ")])),_:1})]),d("li",null,[X(r,{to:"/list/phim-bo/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ge(()=>n[2]||(n[2]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),he(" Phim B ")])),_:1})]),d("li",null,[X(r,{to:"/categories",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ge(()=>n[3]||(n[3]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),he(" Tt c th loi ")])),_:1})]),d("li",null,[X(r,{to:"/library",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ge(()=>n[4]||(n[4]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),he(" Th vin ca ti ")])),_:1})]),d("li",null,[X(r,{to:"/pricing",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1"},{default:ge(()=>n[5]||(n[5]=[d("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),he(" Gi dch v ")])),_:1})])])]),d("div",null,[n[13]||(n[13]=d("h3",{class:"text-white font-semibold text-lg mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})]),he(" Th Loi ")],-1)),d("ul",L3,[d("li",null,[X(r,{to:"/category/hanh-dong/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ge(()=>n[7]||(n[7]=[he("Hnh ng")])),_:1})]),d("li",null,[X(r,{to:"/category/hai-huoc/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ge(()=>n[8]||(n[8]=[he("Hi Hc")])),_:1})]),d("li",null,[X(r,{to:"/category/kinh-di/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ge(()=>n[9]||(n[9]=[he("Kinh D")])),_:1})]),d("li",null,[X(r,{to:"/category/tinh-cam/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ge(()=>n[10]||(n[10]=[he("Tnh Cm")])),_:1})]),d("li",null,[X(r,{to:"/category/khoa-hoc-vien-tuong/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ge(()=>n[11]||(n[11]=[he("Khoa Hc Vin Tng")])),_:1})]),d("li",null,[X(r,{to:"/category/hoat-hinh/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ge(()=>n[12]||(n[12]=[he("Hot Hnh")])),_:1})])])]),d("div",null,[n[16]||(n[16]=d("h3",{class:"text-white font-semibold text-lg mb-4 flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),he(" H Tr ")],-1)),d("ul",$3,[d("li",null,[X(r,{to:"/contact",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:ge(()=>n[14]||(n[14]=[he(" Lin h")])),_:1})]),n[15]||(n[15]=Jn('<li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> iu khon s dng</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> Chnh sch bo mt</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> Gii thiu</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> Cu hi thng gp</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm"> Hng dn thanh ton</a></li>',5))])])]),n[18]||(n[18]=d("div",{class:"border-t border-gray-800 pt-4"},[d("div",{class:"flex flex-col md:flex-row items-center justify-between gap-4"},[d("p",{class:"text-gray-500 text-sm"}," 2024 HTHREE Film. All rights reserved."),d("div",{class:"flex items-center gap-4 text-xs text-gray-500"},[d("span",null,"v1.0.0")])])],-1))])])}}},go=Y(!1),Sp=Y({title:"",message:"",confirmText:"Xc nhn",cancelText:"Hy",type:"warning",onConfirm:null,onCancel:null});function Cy(){return{isOpen:go,confirmData:Sp,confirm:({title:n="Xc nhn",message:r="Bn c chc chn mun thc hin hnh ng ny?",confirmText:s="Xc nhn",cancelText:o="Hy",type:i="warning"})=>new Promise(a=>{Sp.value={title:n,message:r,confirmText:s,cancelText:o,type:i,onConfirm:()=>{go.value=!1,a(!0)},onCancel:()=>{go.value=!1,a(!1)}},go.value=!0}),close:()=>{go.value=!1}}}const D3=Object.freeze(Object.defineProperty({__proto__:null,useConfirm:Cy},Symbol.toStringTag,{value:"Module"})),j3=["aria-labelledby"],U3={class:"flex justify-center pt-6 pb-4"},F3={key:0,class:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},B3={key:1,class:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},H3={key:2,class:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},V3={class:"px-6 pb-6 text-center"},W3=["id"],q3={class:"text-gray-400 text-sm leading-relaxed"},z3={class:"flex items-center justify-center gap-3 px-6 pb-6"},K3={__name:"ConfirmDialog",setup(t){const{isOpen:e,confirmData:n}=Cy(),r=()=>{n.value.onConfirm&&n.value.onConfirm()},s=()=>{n.value.onCancel&&n.value.onCancel()};return(o,i)=>(I(),Le(to,{to:"body"},[X(yt,{name:"fade"},{default:ge(()=>[Fe(e)?(I(),N("div",{key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center p-4",onClick:zt(s,["self"])},[i[3]||(i[3]=d("div",{class:"absolute inset-0 bg-black/70 backdrop-blur-sm"},null,-1)),X(yt,{name:"scale"},{default:ge(()=>[Fe(e)?(I(),N("div",{key:0,class:"relative bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full border border-gray-700 overflow-hidden",role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title-"+Date.now()},[d("div",U3,[d("div",{class:Oe(["w-16 h-16 rounded-full flex items-center justify-center",{"bg-yellow-500/20":Fe(n).type==="warning","bg-red-500/20":Fe(n).type==="danger","bg-blue-500/20":Fe(n).type==="info"}])},[Fe(n).type==="warning"?(I(),N("svg",F3,i[0]||(i[0]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))):Fe(n).type==="danger"?(I(),N("svg",B3,i[1]||(i[1]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)]))):(I(),N("svg",H3,i[2]||(i[2]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))],2)]),d("div",V3,[d("h3",{id:"dialog-title-"+Date.now(),class:"text-xl font-bold text-white mb-2"},H(Fe(n).title),9,W3),d("p",q3,H(Fe(n).message),1)]),d("div",z3,[d("button",{onClick:s,class:"flex-1 px-4 py-3 bg-gray-800 text-white rounded-lg font-medium hover:bg-gray-700 transition-all focus:outline-none focus:ring-2 focus:ring-gray-600 flex items-center justify-center"},H(Fe(n).cancelText),1),d("button",{onClick:r,class:Oe(["flex-1 px-4 py-3 rounded-lg font-medium transition-all focus:outline-none focus:ring-2 flex items-center justify-center",{"bg-yellow-500 text-black hover:bg-yellow-600 focus:ring-yellow-400":Fe(n).type==="warning","bg-red-500 text-white hover:bg-red-600 focus:ring-red-400":Fe(n).type==="danger","bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400":Fe(n).type==="info"}])},H(Fe(n).confirmText),3)])],8,j3)):Q("",!0)]),_:1})])):Q("",!0)]),_:1})]))}},G3=kt(K3,[["__scopeId","data-v-cc897611"]]),J3={__name:"ScrollToTop",setup(t){const e=Y(!1);Y(0);const n=()=>{const s=window.pageYOffset||document.documentElement.scrollTop;document.documentElement.scrollHeight-document.documentElement.clientHeight,e.value=s>300},r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return Ot(()=>{window.addEventListener("scroll",n),n()}),sn(()=>{window.removeEventListener("scroll",n)}),(s,o)=>(I(),Le(yt,{name:"slide-up"},{default:ge(()=>[e.value?(I(),N("button",{key:0,onClick:r,class:"fixed bottom-6 right-6 z-50 w-12 h-12 bg-yellow-500 hover:bg-yellow-600 text-black rounded-full shadow-2xl hover:shadow-yellow-500/50 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-4 focus:ring-yellow-400/50 group","aria-label":"Quay li u trang",title:"Quay li u trang"},o[0]||(o[0]=[d("svg",{class:"w-6 h-6 mx-auto group-hover:-translate-y-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)]))):Q("",!0)]),_:1}))}},Y3=kt(J3,[["__scopeId","data-v-19df53e0"]]),X3={class:"bg-gray-900 rounded-2xl max-w-2xl w-full border border-gray-700 shadow-2xl overflow-hidden"},Q3={class:"p-4 border-b border-gray-700"},Z3={class:"relative"},eN=["onKeydown"],tN={class:"max-h-[400px] overflow-y-auto"},nN={key:0,class:"p-8 text-center"},rN={key:1},sN={class:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider"},oN=["onClick","onMouseenter"],iN={class:"flex items-center gap-3"},aN={key:1,class:"text-lg"},lN={class:"text-white font-medium text-sm"},cN={key:0,class:"text-gray-400 text-xs"},uN={key:0,class:"px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs font-mono"},dN={class:"px-4 py-3 bg-gray-800/50 border-t border-gray-700 flex items-center justify-between text-xs text-gray-400"},hN={__name:"CommandPalette",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const n=t,r=e,s=Or(),o=ll(),i=Y(null),a=Y(""),l=Y(0),c=Y([{id:"nav-home",label:"Trang ch",description:"V trang ch",emoji:"",group:"iu hng",action:()=>s.push("/home"),shortcut:"G+H"},{id:"nav-library",label:"Th vin",description:"Th vin ca ti",emoji:"",group:"iu hng",action:()=>s.push("/library"),shortcut:"G+L"},{id:"nav-pricing",label:"Gi dch v",description:"Xem cc gi",emoji:"",group:"iu hng",action:()=>s.push("/pricing"),shortcut:"G+P"},{id:"nav-cart",label:"Gi hng",description:"Xem gi hng",emoji:"",group:"iu hng",action:()=>s.push("/cart"),shortcut:"G+C"},{id:"nav-account",label:"Ti khon",description:"Qun l ti khon",emoji:"",group:"iu hng",action:()=>s.push("/account")},{id:"action-search",label:"Tm kim phim",description:"M thanh tm kim",emoji:"",group:"Hnh ng",action:()=>T(),shortcut:"/"},{id:"action-shortcuts",label:"Phm tt",description:"Xem danh sch phm tt",emoji:"",group:"Hnh ng",action:()=>A(),shortcut:"?"},{id:"action-theme",label:"Chuyn theme",description:"Sng/Ti",emoji:"",group:"Hnh ng",action:()=>_()},{id:"quick-buy-basic",label:"Mua gi Basic",description:"Thm gi Basic vo gi",emoji:"",group:"Mua nhanh",action:()=>b("basic")},{id:"quick-buy-premium",label:"Mua gi Premium",description:"Thm gi Premium vo gi",emoji:"",group:"Mua nhanh",action:()=>b("premium")},{id:"quick-buy-vip",label:"Mua gi VIP",description:"Thm gi VIP vo gi",emoji:"",group:"Mua nhanh",action:()=>b("vip")}]),u=ve(()=>{if(!a.value)return c.value;const k=a.value.toLowerCase();return c.value.filter(x=>{var P;return x.label.toLowerCase().includes(k)||((P=x.description)==null?void 0:P.toLowerCase().includes(k))||x.group.toLowerCase().includes(k)})}),h=ve(()=>{const k={};return u.value.forEach(x=>{k[x.group]||(k[x.group]=[]),k[x.group].push(x)}),k}),f=(k,x)=>{let P=0;for(const[m,$]of Object.entries(h.value)){if(m===k)return P+x;P+=$.length}return 0},p=()=>{l.value=Math.min(l.value+1,u.value.length-1)},g=()=>{l.value=Math.max(l.value-1,0)},y=()=>{const k=u.value[l.value];k&&v(k)},v=k=>{k.action(),R(),o.success(` ${k.label}`)},T=()=>{const k=document.querySelector('input[placeholder*="Tm kim"]');k&&k.focus()},A=()=>{window.dispatchEvent(new CustomEvent("show-shortcuts"))},_=()=>{document.documentElement.classList.toggle("dark"),o.info("Theme  c thay i")},b=k=>{s.push(`/pricing?plan=${k}`)},R=()=>{a.value="",l.value=0,r("close")};return Zt(()=>n.show,k=>{k&&Ar(()=>{var x;(x=i.value)==null||x.focus()})}),(k,x)=>(I(),Le(to,{to:"body"},[X(yt,{name:"fade"},{default:ge(()=>[t.show?(I(),N("div",{key:0,class:"fixed inset-0 z-[9999] flex items-start justify-center pt-[15vh] p-4 bg-black/80 backdrop-blur-sm",onClick:zt(R,["self"])},[d("div",X3,[d("div",Q3,[d("div",Z3,[x[1]||(x[1]=d("svg",{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),Tu(d("input",{ref_key:"searchInput",ref:i,"onUpdate:modelValue":x[0]||(x[0]=P=>a.value=P),type:"text",placeholder:"Tm kim hnh ng, trang, phim...",class:"w-full pl-12 pr-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:border-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-400/20 transition-all",onKeydown:[Os(zt(p,["prevent"]),["down"]),Os(zt(g,["prevent"]),["up"]),Os(zt(y,["prevent"]),["enter"]),Os(R,["esc"])]},null,40,eN),[[Bo,a.value]])])]),d("div",tN,[u.value.length===0?(I(),N("div",nN,x[2]||(x[2]=[d("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),d("p",{class:"text-gray-400"},"Khng tm thy kt qu",-1)]))):(I(),N("div",rN,[(I(!0),N(we,null,Ve(h.value,(P,m)=>(I(),N("div",{key:m,class:"py-2"},[d("div",sN,H(m),1),(I(!0),N(we,null,Ve(P,($,ee)=>(I(),N("button",{key:$.id,onClick:F=>v($),onMouseenter:F=>l.value=f(m,ee),class:Oe(["w-full px-4 py-3 flex items-center justify-between hover:bg-gray-800 transition-colors text-left",{"bg-gray-800":l.value===f(m,ee)}])},[d("div",iN,[d("div",{class:Oe(["w-8 h-8 rounded-lg flex items-center justify-center",$.iconBg||"bg-gray-700"])},[$.icon?(I(),Le(Eg($.icon),{key:0,class:Oe(["w-4 h-4",$.iconColor||"text-white"])},null,8,["class"])):(I(),N("span",aN,H($.emoji),1))],2),d("div",null,[d("p",lN,H($.label),1),$.description?(I(),N("p",cN,H($.description),1)):Q("",!0)])]),$.shortcut?(I(),N("kbd",uN,H($.shortcut),1)):Q("",!0)],42,oN))),128))]))),128))]))]),d("div",dN,[x[3]||(x[3]=d("div",{class:"flex items-center gap-4"},[d("span",{class:"flex items-center gap-1"},[d("kbd",{class:"px-1.5 py-0.5 bg-gray-700 rounded"},""),he(" iu hng ")]),d("span",{class:"flex items-center gap-1"},[d("kbd",{class:"px-1.5 py-0.5 bg-gray-700 rounded"},"Enter"),he(" Chn ")]),d("span",{class:"flex items-center gap-1"},[d("kbd",{class:"px-1.5 py-0.5 bg-gray-700 rounded"},"Esc"),he(" ng ")])],-1)),d("span",null,H(u.value.length)+" kt qu",1)])])])):Q("",!0)]),_:1})]))}},fN=kt(hN,[["__scopeId","data-v-0b170577"]]),pN={key:0,class:"fixed top-0 left-0 right-0 z-[9999] bg-red-600 text-white px-4 py-3 shadow-lg"},gN={class:"container mx-auto flex items-center justify-between"},mN={__name:"OfflineBanner",props:{show:{type:Boolean,default:!1},showRetry:{type:Boolean,default:!1}},emits:["retry"],setup(t){return(e,n)=>(I(),Le(yt,{name:"slide-down"},{default:ge(()=>[t.show?(I(),N("div",pN,[d("div",gN,[n[1]||(n[1]=d("div",{class:"flex items-center gap-3"},[d("svg",{class:"w-5 h-5 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})]),d("div",null,[d("p",{class:"font-bold text-sm"},"Mt kt ni Internet"),d("p",{class:"text-xs opacity-90"},"Vui lng kim tra kt ni mng ca bn")])],-1)),t.showRetry?(I(),N("button",{key:0,onClick:n[0]||(n[0]=r=>e.$emit("retry")),class:"bg-white text-red-600 px-4 py-1.5 rounded-lg text-sm font-bold hover:bg-gray-100 transition-colors"}," Th li ")):Q("",!0)])])):Q("",!0)]),_:1}))}},vN=kt(mN,[["__scopeId","data-v-138fa349"]]),yN={class:"flex flex-col min-h-screen m-0 p-0 bg-black"},_N={key:1,class:"flex flex-col items-center justify-center flex-grow bg-gradient-to-br from-indigo-100 to-gray-50"},bN={key:2,class:"flex-grow"},wN={__name:"App",setup(t){const e=Wa(),n=Or(),r=Y(void 0),s=gs(),o=Y(null),i=ll();ve(()=>e.path==="/home");const a=ve(()=>e.path.startsWith("/admin")),l=Y(!1),c=Y(!1);return iA({"ctrl+k":u=>{zr()||(l.value=!0)},"/":u=>{if(!zr()){const h=document.querySelector('input[placeholder*="Tm kim"]');h&&h.focus()}},"?":u=>{zr()||(c.value=!0)},escape:()=>{l.value=!1,c.value=!1},"g+h":()=>{zr()||n.push("/home")},"g+l":()=>{zr()||n.push("/library")},"g+p":()=>{zr()||n.push("/pricing")},"g+c":()=>{zr()||n.push("/cart")}}),Ot(()=>{o.value&&xA(o.value);let u=null,h=!1;const f=hi(s,p=>{h=!0,r.value=p,u&&(clearTimeout(u),u=null)});return u=setTimeout(()=>{!h&&r.value===void 0&&(r.value=null,i.error("Khng th kim tra trng thi ng nhp. Vui lng th li!"))},1e4),()=>{f(),u&&clearTimeout(u)}}),(u,h)=>{const f=Ua("router-view");return I(),N(we,null,[X(y3),X(fN,{show:l.value,onClose:h[0]||(h[0]=p=>l.value=!1)},null,8,["show"]),X(qv,{show:c.value,onClose:h[1]||(h[1]=p=>c.value=!1)},null,8,["show"]),X(vN),d("div",yN,[a.value?Q("",!0):(I(),Le(g3,{key:0})),r.value===void 0?(I(),N("div",_N,h[2]||(h[2]=[Jn('<div class="text-center"><svg class="animate-spin h-12 w-12 text-indigo-600 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="text-xl font-semibold text-gray-700">ang kim tra ng nhp...</p></div>',1)]))):(I(),N("main",bN,[X(f,null,{default:ge(({Component:p,route:g})=>[X(yt,{name:g.meta.transition||"fade",mode:"out-in"},{default:ge(()=>[(I(),Le(Eg(p),{key:g.path}))]),_:2},1032,["name"])]),_:1})])),a.value?Q("",!0):(I(),Le(M3,{key:3}))]),X(Y3),X(A3,{ref_key:"toastRef",ref:o},null,512),X(G3)],64)}}},EN={class:"min-h-screen bg-black relative overflow-hidden flex items-center justify-center p-4 sm:p-6 lg:p-8"},xN={__name:"WelcomePage",setup(t){const e=Or(),n=()=>{e.push("/home")};return(r,s)=>(I(),N("div",EN,[s[3]||(s[3]=Jn('<div class="absolute inset-0 opacity-20" data-v-ee78f763><div class="absolute top-0 left-0 w-96 h-96 bg-yellow-400 rounded-full filter blur-3xl animate-blob" data-v-ee78f763></div><div class="absolute top-0 right-0 w-96 h-96 bg-yellow-600 rounded-full filter blur-3xl animate-blob animation-delay-2000" data-v-ee78f763></div><div class="absolute bottom-0 left-1/2 w-96 h-96 bg-yellow-500 rounded-full filter blur-3xl animate-blob animation-delay-4000" data-v-ee78f763></div></div><div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-yellow-400 to-transparent" data-v-ee78f763></div><div class="absolute bottom-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-yellow-400 to-transparent" data-v-ee78f763></div>',3)),d("main",{class:"relative z-10 bg-gray-900/80 backdrop-blur-xl p-6 sm:p-8 rounded-2xl shadow-2xl border border-yellow-400/20 max-w-2xl w-full text-center transform opacity-0 scale-95 animate-fade-in-up"},[d("div",{class:"space-y-5"},[s[1]||(s[1]=Jn('<div class="flex justify-center mb-3" data-v-ee78f763><div class="relative" data-v-ee78f763><svg class="w-12 h-12 text-yellow-400 animate-pulse-slow" fill="currentColor" viewBox="0 0 20 20" data-v-ee78f763><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z" data-v-ee78f763></path></svg><div class="absolute -inset-2 bg-yellow-400/20 rounded-full blur-xl" data-v-ee78f763></div></div></div><div class="space-y-2" data-v-ee78f763><p class="text-[10px] sm:text-xs font-medium text-gray-400 uppercase tracking-[0.2em]" data-v-ee78f763>y Ban Nhn Dn</p><p class="text-xs sm:text-sm font-medium text-gray-300 uppercase tracking-[0.15em]" data-v-ee78f763>S Gio Dc v o To</p><h1 class="text-sm sm:text-base font-bold text-white uppercase tracking-wide" data-v-ee78f763> Trng Cao ng Kinh T TP.HCM </h1><p class="text-xs sm:text-sm text-yellow-400 font-semibold italic" data-v-ee78f763>D n Web Thng Mi in T</p></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-5 mt-6 border-t border-b border-yellow-400/20 py-6" data-v-ee78f763><div class="text-left space-y-2" data-v-ee78f763><div class="flex items-center gap-2 mb-2" data-v-ee78f763><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-ee78f763><path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" data-v-ee78f763></path></svg><p class="text-xs sm:text-sm font-bold text-yellow-400 uppercase" data-v-ee78f763>Ging Vin Hng Dn</p></div><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Phm ng Phng</p></div><div class="text-left space-y-2" data-v-ee78f763><div class="flex items-center gap-2 mb-2" data-v-ee78f763><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-ee78f763><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" data-v-ee78f763></path></svg><p class="text-xs sm:text-sm font-bold text-yellow-400 uppercase" data-v-ee78f763>Sinh Vin Thc Hin</p></div><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Phm Trung Tun</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>L Anh Vn</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Trn Lc Kh T</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-ee78f763>Nguyn L Anh Th</p></div></div><div class="pt-4" data-v-ee78f763><h2 class="text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 drop-shadow-2xl tracking-tight" data-v-ee78f763> HTHREE </h2><p class="text-base sm:text-lg text-yellow-400/80 font-light tracking-[0.4em] mt-1" data-v-ee78f763>FILM</p></div>',4)),d("button",{onClick:n,class:"mt-8 px-8 py-3 bg-yellow-400 text-black font-bold text-base rounded-full shadow-xl shadow-yellow-400/50 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-yellow-400/70 active:scale-95 focus:outline-none focus:ring-4 focus:ring-yellow-400/50 relative overflow-hidden group","aria-label":"Vo Trang Web Chnh"},s[0]||(s[0]=[d("span",{class:"relative z-10 flex items-center justify-center gap-2"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})]),he(" Khm Ph Ngay ")],-1),d("span",{class:"absolute inset-0 bg-yellow-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)])),s[2]||(s[2]=d("p",{class:"text-[10px] text-gray-500 mt-6"}," 2025 HTHREE Film",-1))])])]))}},kN=kt(xN,[["__scopeId","data-v-ee78f763"]]),TN={class:"comment-form bg-gray-800 rounded-xl p-6 border border-gray-700"},SN={key:0,class:"flex items-center gap-3 mb-4"},CN=["src","alt"],IN={class:"text-white font-medium text-sm"},AN={class:"text-gray-400 text-xs"},ON=["disabled","placeholder"],RN={class:"flex items-center justify-between mt-2"},PN={class:"text-xs text-gray-500"},NN=["disabled"],LN={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},$N={key:1,class:"mt-4 p-4 bg-gray-900 rounded-lg border border-gray-700"},MN={key:2,class:"mt-4 p-4 bg-green-900/50 border border-green-500 rounded-lg flex items-center gap-3 animate-fade-in"},DN={__name:"CommentForm",props:{movieSlug:{type:String,default:null}},emits:["comment-added","login"],setup(t,{emit:e}){const n=ll(),r=t,s=e,o=gs(),i=Y(null),a=()=>{var _;const T=o.currentUser;if(T){i.value=T,console.log(" CommentForm - Firebase user:",T.email);return}const A=localStorage.getItem("user");if(A)try{i.value=JSON.parse(A),console.log(" CommentForm - PHP user:",(_=i.value)==null?void 0:_.email)}catch(b){console.error("Error parsing PHP user:",b)}};Ot(()=>{a(),hi(o,T=>{T?(i.value=T,console.log(" CommentForm - Firebase auth changed:",T.email)):a()}),window.addEventListener("storage",a)});const l=Y(""),c=Y(!1),u=Y(!1),h=Y(!1),f=rl.BACKEND_URL,p=()=>{var A,_,b,R;if(h.value||!i.value){const k=((A=i.value)==null?void 0:A.displayName)||((b=(_=i.value)==null?void 0:_.email)==null?void 0:b.split("@")[0])||"User";return`https://ui-avatars.com/api/?name=${encodeURIComponent(k)}&background=f59e0b&color=000&size=128`}if(i.value.photoURL)return i.value.photoURL;const T=i.value.displayName||((R=i.value.email)==null?void 0:R.split("@")[0])||"User";return`https://ui-avatars.com/api/?name=${encodeURIComponent(T)}&background=f59e0b&color=000&size=128`},g=T=>{var _,b,R;h.value=!0;const A=((_=i.value)==null?void 0:_.displayName)||((R=(b=i.value)==null?void 0:b.email)==null?void 0:R.split("@")[0])||"User";T.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(A)}&background=f59e0b&color=000&size=128`},y=T=>{T.shiftKey||(T.preventDefault(),v())},v=async()=>{if(!(!i.value||!l.value.trim())){c.value=!0;try{const T=!!i.value.uid,A=!!i.value.id;console.log(" Submitting comment...",{type:T?"Firebase":"PHP",email:i.value.email,displayName:i.value.displayName||i.value.full_name,uid:i.value.uid,id:i.value.id});let _;if(T){let R=`https://ui-avatars.com/api/?name=${encodeURIComponent(i.value.displayName||i.value.email.split("@")[0])}&background=f59e0b&color=000&size=128`;if(i.value.photoURL)try{const x=await xe.post(`${f}/upload_avatar.php`,{firebase_uid:i.value.uid,photo_url:i.value.photoURL});x.data.success&&(R=x.data.avatar_url,console.log(" Avatar uploaded:",R))}catch{console.log(" Avatar upload failed, using fallback")}const k=await xe.post(`${f}/users.php`,{firebase_uid:i.value.uid,email:i.value.email,username:i.value.email.split("@")[0],full_name:i.value.displayName||i.value.email.split("@")[0],avatar:R});if(console.log(" Firebase user response:",k.data),!k.data.success)throw new Error("Failed to register/get user");_=k.data.user.id}else if(A)_=i.value.id,console.log(" PHP user ID:",_);else throw new Error("Invalid user type");const b=await xe.post(`${f}/comments.php`,{user_id:_,movie_slug:r.movieSlug,content:l.value.trim()});if(b.data.success)u.value=!0,setTimeout(()=>{u.value=!1},3e3),l.value="",s("comment-added"),n.success("Bnh lun  c gi!");else throw new Error(b.data.message||"Failed to submit comment")}catch(T){console.error("Error submitting comment:",T),n.error("Khng th gi bnh lun. Vui lng th li!")}finally{c.value=!1}}};return(T,A)=>{var _;return I(),N("div",TN,[A[5]||(A[5]=d("h3",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[d("span",null,""),he(" Bnh lun ca bn ")],-1)),i.value?(I(),N("div",SN,[d("img",{src:p(),alt:i.value.displayName||i.value.email,class:"w-10 h-10 rounded-full border-2 border-yellow-400 object-cover",onError:g},null,40,CN),d("div",null,[d("p",IN,H(i.value.displayName||((_=i.value.email)==null?void 0:_.split("@")[0])),1),d("p",AN,H(i.value.email),1)])])):Q("",!0),Tu(d("textarea",{"onUpdate:modelValue":A[0]||(A[0]=b=>l.value=b),disabled:!i.value,placeholder:i.value?"Chia s suy ngh ca bn... (Enter  gi, Shift+Enter  xung dng)":"Vui lng ng nhp  bnh lun",class:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400 transition resize-none",rows:"4",maxlength:"500",onKeydown:Os(y,["enter"])},null,40,ON),[[Bo,l.value]]),d("div",RN,[d("span",PN,H(l.value.length)+"/500 k t",1),d("button",{onClick:v,disabled:!i.value||!l.value.trim()||c.value,class:"px-6 py-2 bg-yellow-400 text-black font-bold rounded-lg hover:bg-yellow-500 disabled:!bg-gray-600 disabled:!text-gray-400 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 disabled:hover:scale-100 flex items-center gap-2"},[c.value?(I(),N("svg",LN,A[2]||(A[2]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):Q("",!0),d("span",null,H(c.value?"ang gi...":"Gi bnh lun"),1)],8,NN)]),i.value?Q("",!0):(I(),N("div",$N,[A[3]||(A[3]=d("p",{class:"text-gray-400 text-sm mb-3"},"Bn cn ng nhp  bnh lun",-1)),d("button",{onClick:A[1]||(A[1]=b=>T.$emit("login")),class:"w-full px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-bold rounded-lg hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 hover:scale-105"}," ng nhp ngay ")])),u.value?(I(),N("div",MN,A[4]||(A[4]=[d("svg",{class:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),d("span",{class:"text-green-400 text-sm font-medium"},"Bnh lun ca bn  c gi thnh cng! ",-1)]))):Q("",!0)])}}},Iy=kt(DN,[["__scopeId","data-v-ea02517d"]]),jN={class:"relative w-full max-w-3xl bg-[#181818] rounded-lg shadow-2xl overflow-hidden"},UN={key:0,class:"flex items-center justify-center h-96"},FN={key:1,class:"relative w-full aspect-video bg-black"},BN=["src"],HN=["src"],VN=["src"],WN={key:3,class:"w-full h-full flex items-center justify-center bg-gray-800"},qN={class:"absolute bottom-0 left-0 right-0 p-6"},zN={class:"text-2xl font-bold text-white mb-3"},KN={class:"flex gap-2"},GN={key:0,class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},JN={key:1,class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},YN={class:"p-6 bg-[#181818]"},XN={class:"grid grid-cols-3 gap-6 mb-5"},QN={class:"col-span-2"},ZN={class:"flex items-center gap-3 text-sm mb-3"},eL={class:"text-green-400 font-semibold"},tL={class:"text-white"},nL={class:"px-2 py-0.5 border border-gray-500 text-gray-300 text-xs"},rL={class:"space-y-2 text-xs"},sL={key:0},oL={class:"text-white"},iL={key:1},aL={class:"text-white"},lL={key:2},cL={class:"text-white"},uL={key:3},dL={class:"text-white"},hL={key:0,class:"mb-6 border-t border-gray-700 pt-5"},fL={class:"flex items-center justify-between mb-4"},pL={class:"text-gray-400 text-sm"},gL={class:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide"},mL=["onClick"],vL={class:"text-3xl font-bold w-10 flex-shrink-0 text-gray-500 group-hover:text-white transition-colors"},yL={class:"relative w-36 h-20 flex-shrink-0 rounded overflow-hidden bg-gray-700"},_L=["src","alt"],bL={class:"flex-1 min-w-0"},wL={class:"font-bold mb-2 text-base text-white group-hover:text-yellow-400 transition-colors"},EL={class:"text-gray-400 text-sm leading-relaxed line-clamp-2"},xL={class:"text-gray-400 text-sm flex-shrink-0"},kL={key:1,class:"mb-6 border-t border-gray-700 pt-5"},TL={class:"grid grid-cols-3 gap-4"},SL=["onClick"],CL={class:"relative aspect-video bg-gray-800"},IL=["src","alt"],AL={key:0,class:"absolute top-3 right-3"},OL={class:"px-2 py-1 bg-black/80 text-white text-xs font-bold rounded"},RL={class:"p-4"},PL={class:"flex items-start justify-between mb-3"},NL={class:"flex items-center gap-2 flex-wrap flex-1"},LL={key:0,class:"px-2 py-0.5 bg-yellow-600 text-white text-[10px] font-bold rounded"},$L={key:1,class:"px-2 py-0.5 bg-yellow-600 text-white text-[10px] font-bold rounded"},ML={key:2,class:"px-2 py-0.5 bg-blue-600 text-white text-[10px] font-bold rounded"},DL={key:3,class:"px-2 py-0.5 bg-blue-600 text-white text-[10px] font-bold rounded"},jL={key:4,class:"px-2 py-0.5 bg-gray-700 text-white text-[10px] font-semibold rounded"},UL={key:5,class:"px-2 py-0.5 bg-purple-600 text-white text-[10px] font-bold rounded"},FL={key:6,class:"px-2 py-0.5 bg-green-600 text-white text-[10px] font-bold rounded"},BL={class:"text-gray-300 text-sm leading-relaxed line-clamp-3 mb-2"},HL={class:"flex items-center justify-between text-xs"},VL={key:0,class:"text-gray-500 italic line-clamp-1"},WL={class:"border-t border-gray-700 pt-5"},qL={key:0,class:"mt-6 space-y-4"},zL=["src","alt"],KL={class:"flex-1"},GL={class:"flex items-center gap-2 mb-1"},JL={class:"text-white font-semibold text-sm"},YL={class:"text-gray-500 text-xs"},XL={class:"text-gray-300 text-sm leading-relaxed"},QL={key:1,class:"mt-6 text-center py-8 bg-[#2a2a2a] rounded-lg"},ZL={class:"border-t border-gray-700 pt-5 mt-6"},e5={class:"text-xl font-bold text-white mb-4"},t5={class:"space-y-2 text-sm text-gray-400"},n5={key:0},r5={class:"text-white"},s5={key:1},o5={class:"text-white"},i5={key:2},a5={class:"text-white"},l5={key:3},c5={class:"text-white"},u5={__name:"MovieDetailModal",props:{isOpen:Boolean,movieSlug:String},emits:["close","open-movie"],setup(t,{emit:e}){const n=t,r=e,s=Y(null),o=Y([]),i=Y([]),a=Y([]),l=Y(!1),c=Y(!1),u=Y(!1),h=Y(!0),f=rl.BACKEND_URL,p=ve(()=>l.value?i.value:i.value.slice(0,6)),g=()=>{r("close")},y=()=>{l.value=!l.value},v=Y(null),T=te=>{var U;return te&&((U=te.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/))==null?void 0:U[1])||""},A=te=>{if(!te)return"";const U=T(te);return U?`https://www.youtube.com/embed/${U}?autoplay=1&mute=1&controls=0&showinfo=0&modestbranding=1&rel=0&iv_load_policy=3&disablekb=1&fs=0&enablejsapi=1&origin=${window.location.origin}`:te},_=()=>{var U;h.value=!h.value;const te=v.value;if(!(!te||!((U=s.value)!=null&&U.trailer_url)))try{const de=h.value?"mute":"unMute";te.contentWindow.postMessage(JSON.stringify({event:"command",func:de,args:[]}),"*"),console.log(` ${h.value?"Muted":"Unmuted"} video`)}catch(de){console.error(" Error toggling mute:",de)}},b=te=>te?te.map(U=>U.name).join(", "):"",R=te=>te?te.map(U=>U.name).join(", "):"",k=te=>te?te.startsWith("http")?te:`https://phimimg.com/${te}`:"",x=te=>{console.error("Image load error:",te.target.src),te.target.src="https://placehold.co/800x450/1a1a1a/fff?text=No+Image"},P=async()=>{var te,U,de,ce,be,pe;if(!n.movieSlug){console.error("No movie slug provided");return}console.log(" Fetching movie details for:",n.movieSlug),u.value=!0;try{const J=await(await fetch(`https://phimapi.com/phim/${n.movieSlug}`)).json();console.log(" API Response:",J),console.log(" Response status:",J.status),console.log(" Response movie:",J.movie),J.status==="success"&&J.movie?(s.value=J.movie,o.value=((U=(te=J.episodes)==null?void 0:te[0])==null?void 0:U.server_data)||[],console.log(" Movie data loaded:",s.value.name),console.log(" Episodes:",o.value.length)):J.status===!0&&J.movie?(s.value=J.movie,o.value=((ce=(de=J.episodes)==null?void 0:de[0])==null?void 0:ce.server_data)||[],console.log(" Movie data loaded (alt):",s.value.name)):J.movie?(s.value=J.movie,o.value=((pe=(be=J.episodes)==null?void 0:be[0])==null?void 0:pe.server_data)||[],console.log(" Movie data loaded (no status):",s.value.name)):(console.error(" Invalid API response:",J),console.error(" Available keys:",Object.keys(J))),await Promise.all([m(),$()])}catch(Pe){console.error(" Error fetching movie details:",Pe)}finally{u.value=!1}},m=async()=>{var te,U,de;try{console.log(" Fetching similar movies...");const be=await(await fetch("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1")).json();console.log(" Similar movies response:",be);let pe=[];if((be.status==="success"||be.status===!0)&&be.items?pe=be.items.sort(()=>.5-Math.random()).slice(0,12):(te=be.data)!=null&&te.items&&(pe=be.data.items.sort(()=>.5-Math.random()).slice(0,12)),pe.length===0){console.error(" No items found in response"),i.value=[];return}console.log(" Similar movies loaded:",pe.length);const Pe=await Promise.all(pe.map(async J=>{try{const We=await(await fetch(`https://phimapi.com/phim/${J.slug}`)).json();return We.movie?{...J,content:We.movie.content||J.content,description:We.movie.description||J.description,thumb_url:We.movie.thumb_url||J.thumb_url,poster_url:We.movie.poster_url||J.poster_url}:J}catch{return console.log(" Could not fetch details for:",J.slug),J}}));i.value=Pe,console.log(" Similar movies with details loaded:",i.value.length),console.log(" First movie thumb_url:",(U=Pe[0])==null?void 0:U.thumb_url),console.log(" First movie poster_url:",(de=Pe[0])==null?void 0:de.poster_url)}catch(ce){console.error(" Error fetching similar movies:",ce),i.value=[]}},$=async()=>{if(n.movieSlug)try{const te=await xe.get(`${f}/comments.php`,{params:{type:"movie",movie_slug:n.movieSlug,limit:50}});te.data.success&&(a.value=te.data.comments||[],console.log(" Comments loaded:",a.value.length))}catch(te){console.error(" Error fetching comments:",te),a.value=[]}},ee=te=>{const U=new Date(te),ce=Math.floor((new Date-U)/1e3);return ce<60?"Va xong":ce<3600?`${Math.floor(ce/60)} pht trc`:ce<86400?`${Math.floor(ce/3600)} gi trc`:ce<604800?`${Math.floor(ce/86400)} ngy trc`:U.toLocaleDateString("vi-VN")},F=te=>{te!=null&&te.slug&&(console.log(" Opening similar movie:",te.name),r("close"),setTimeout(()=>{r("open-movie",te.slug)},100))},ae=(te=null)=>{var de;if(!((de=s.value)!=null&&de.slug))return;let U="full";if(te){const ce=te.match(/\d+/);U=ce?ce[0]:te}else if(o.value.length>0){const ce=o.value[0].name,be=ce.match(/\d+/);U=be?be[0]:ce}r("close"),dt(async()=>{const{useRouter:ce}=await Promise.resolve().then(()=>rw);return{useRouter:ce}},void 0,import.meta.url).then(({useRouter:ce})=>{ce().push(`/film/${s.value.slug}/tap/${encodeURIComponent(U)}`)})},_e=()=>{ae()},Ce=(te,U)=>{ae(te.name)};return Zt(()=>n.isOpen,te=>{te?(console.log(" Modal opened with slug:",n.movieSlug),n.movieSlug?P():console.error(" No movie slug provided!"),document.body.style.overflow="hidden"):(document.body.style.overflow="",s.value=null,o.value=[],i.value=[],a.value=[],l.value=!1,c.value=!1,h.value=!0)},{immediate:!0}),(te,U)=>(I(),Le(to,{to:"body"},[X(yt,{name:"modal"},{default:ge(()=>{var de,ce,be,pe,Pe,J,Ee,We,je,q,ie,V,L,Z,S,O,C,j,G,K,se,re,w,E;return[t.isOpen?(I(),N("div",{key:0,class:"fixed inset-0 z-[100] flex items-start justify-center overflow-y-auto bg-black/95 pt-8 pb-8 px-4",onClick:zt(g,["self"])},[d("div",jN,[d("button",{onClick:g,class:"absolute top-4 right-4 z-50 w-10 h-10 bg-[#181818] hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"},U[2]||(U[2]=[d("svg",{class:"w-6 h-6 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),u.value?(I(),N("div",UN,U[3]||(U[3]=[d("div",{class:"text-center"},[d("svg",{class:"animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),d("p",{class:"text-white"},"ang ti thng tin phim...")],-1)]))):(I(),N("div",FN,[(de=s.value)!=null&&de.trailer_url?(I(),N("iframe",{ref_key:"youtubePlayer",ref:v,key:T(s.value.trailer_url),src:A(s.value.trailer_url),class:"w-full h-full",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,BN)):(ce=s.value)!=null&&ce.thumb_url?(I(),N("img",{key:1,src:k((be=s.value)==null?void 0:be.thumb_url),class:"w-full h-full object-cover",alt:"Movie banner",onError:x},null,40,HN)):(pe=s.value)!=null&&pe.poster_url?(I(),N("img",{key:2,src:k((Pe=s.value)==null?void 0:Pe.poster_url),class:"w-full h-full object-cover",alt:"Movie poster",onError:x},null,40,VN)):(I(),N("div",WN,U[4]||(U[4]=[d("p",{class:"text-gray-400"},"Khng c nh",-1)]))),U[10]||(U[10]=d("div",{class:"absolute inset-0 bg-gradient-to-t from-[#181818] via-transparent to-transparent"},null,-1)),d("div",qN,[d("h2",zN,H(((J=s.value)==null?void 0:J.name)||"ang ti..."),1),d("div",KN,[d("button",{onClick:_e,class:"px-6 py-2 bg-white text-black font-bold rounded flex items-center gap-2 hover:bg-yellow-400 transition-colors"},U[5]||(U[5]=[d("svg",{class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24"},[d("path",{d:"M8 5v14l11-7z","stroke-linejoin":"round","stroke-linecap":"round"})],-1),he(" Pht ")])),U[8]||(U[8]=d("button",{class:"w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[d("svg",{class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)),U[9]||(U[9]=d("button",{class:"w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[d("svg",{class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})])],-1)),d("button",{onClick:_,class:"ml-auto w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[h.value?(I(),N("svg",GN,U[6]||(U[6]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z","clip-rule":"evenodd"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"},null,-1)]))):(I(),N("svg",JN,U[7]||(U[7]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"},null,-1)])))])])])])),d("div",YN,[d("div",XN,[d("div",QN,[d("div",ZN,[d("span",eL,H((Ee=s.value)==null?void 0:Ee.year),1),d("span",tL,H(((We=s.value)==null?void 0:We.episode_current)||"Full"),1),d("span",nL,H(((je=s.value)==null?void 0:je.quality)||"HD"),1)]),d("div",null,[d("p",{class:Oe(["text-white text-sm leading-relaxed",{"line-clamp-3":!c.value}])},H(((q=s.value)==null?void 0:q.content)||((ie=s.value)==null?void 0:ie.description)),3),((Z=((V=s.value)==null?void 0:V.content)||((L=s.value)==null?void 0:L.description))==null?void 0:Z.length)>200?(I(),N("button",{key:0,onClick:U[0]||(U[0]=M=>c.value=!c.value),class:"text-gray-400 hover:text-white text-xs mt-2 flex items-center gap-1 transition-colors"},[d("span",null,H(c.value?"Thu gn":"Xem thm"),1),(I(),N("svg",{class:Oe(["w-4 h-4 transition-transform duration-300",{"rotate-180":c.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U[11]||(U[11]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])):Q("",!0)])]),d("div",rL,[(S=s.value)!=null&&S.actor&&s.value.actor.length?(I(),N("div",sL,[U[12]||(U[12]=d("span",{class:"text-gray-400"},"Din vin: ",-1)),d("span",oL,H(s.value.actor.slice(0,3).join(", ")),1)])):Q("",!0),(O=s.value)!=null&&O.category?(I(),N("div",iL,[U[13]||(U[13]=d("span",{class:"text-gray-400"},"Th loi: ",-1)),d("span",aL,H(b(s.value.category)),1)])):Q("",!0),(C=s.value)!=null&&C.country?(I(),N("div",lL,[U[14]||(U[14]=d("span",{class:"text-gray-400"},"Quc gia: ",-1)),d("span",cL,H(R(s.value.country)),1)])):Q("",!0),(j=s.value)!=null&&j.director&&s.value.director.length?(I(),N("div",uL,[U[15]||(U[15]=d("span",{class:"text-gray-400"},"o din: ",-1)),d("span",dL,H(s.value.director.join(", ")),1)])):Q("",!0)])]),o.value&&o.value.length>0?(I(),N("div",hL,[d("div",fL,[U[16]||(U[16]=d("h3",{class:"text-xl font-bold text-white"},"Tp",-1)),d("span",pL,H((G=s.value)==null?void 0:G.name),1)]),d("div",gL,[(I(!0),N(we,null,Ve(o.value,(M,B)=>{var oe,ne,D,z,ue;return I(),N("div",{key:B,onClick:Me=>Ce(M,B),class:"flex items-start gap-4 p-4 bg-[#2a2a2a] hover:bg-[#3a3a3a] rounded cursor-pointer transition-all group border-l-4 border-transparent hover:border-yellow-500"},[d("span",vL,H(B+1),1),d("div",yL,[d("img",{src:k(((oe=s.value)==null?void 0:oe.thumb_url)||((ne=s.value)==null?void 0:ne.poster_url)),class:"w-full h-full object-cover",alt:`Episode ${B+1}`,onError:x},null,40,_L),U[17]||(U[17]=d("div",{class:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])],-1))]),d("div",bL,[d("h4",wL,H(M.name||`Tp ${B+1}`),1),d("p",EL,H(((z=(D=s.value)==null?void 0:D.content)==null?void 0:z.substring(0,150))||"Xem ngay  khm ph ni dung hp dn ca tp phim ny."),1)]),d("span",xL,H(((ue=s.value)==null?void 0:ue.time)||"56 pht"),1)],8,mL)}),128))])])):Q("",!0),i.value.length>0?(I(),N("div",kL,[U[21]||(U[21]=d("h3",{class:"text-xl font-bold text-white mb-4"},"Ni dung tng t",-1)),d("div",TL,[(I(!0),N(we,null,Ve(p.value,(M,B)=>(I(),N("div",{key:M._id||M.slug||B,onClick:oe=>F(M),class:"bg-[#2a2a2a] rounded-lg overflow-hidden hover:bg-[#3a3a3a] transition-all duration-300 cursor-pointer group"},[d("div",CL,[d("img",{src:k(M.thumb_url),alt:M.name,class:"w-full h-full object-cover object-center",style:{"object-position":"center 20%"},onError:x},null,40,IL),M.episode_current?(I(),N("div",AL,[d("span",OL,H(M.episode_current),1)])):Q("",!0),U[18]||(U[18]=d("div",{class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},[d("div",{class:"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1))]),d("div",RL,[d("div",PL,[d("div",NL,[M.quality?(I(),N("span",LL,H(M.quality),1)):(I(),N("span",$L,"HD")),M.lang?(I(),N("span",ML,H(M.lang),1)):(I(),N("span",DL,"Vietsub")),M.year?(I(),N("span",jL,H(M.year),1)):Q("",!0),M.type==="series"?(I(),N("span",UL,"Phim b")):M.type==="single"?(I(),N("span",FL,"Phim l")):Q("",!0)]),d("button",{onClick:U[1]||(U[1]=zt(()=>{},["stop"])),class:"w-7 h-7 border-2 border-gray-500 hover:border-yellow-400 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-colors flex-shrink-0 ml-2 group"},U[19]||(U[19]=[d("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))]),d("p",BL,H(M.content||M.description||"Mt b phim hp dn ang ch bn khm ph. Hy xem ngay  bit thm chi tit v ct truyn v dn din vin."),1),d("div",HL,[M.origin_name?(I(),N("span",VL,H(M.origin_name),1)):Q("",!0)])])],8,SL))),128))]),i.value.length>6?(I(),N("button",{key:0,onClick:y,class:"mt-6 mx-auto w-12 h-12 border-2 border-gray-500 hover:border-yellow-400 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"},[(I(),N("svg",{class:Oe(["w-6 h-6 text-gray-400 group-hover:text-black transition-all duration-300",{"rotate-180":l.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U[20]||(U[20]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])):Q("",!0)])):Q("",!0),d("div",WL,[U[23]||(U[23]=d("h3",{class:"text-lg font-bold text-white mb-4"},"Bnh lun",-1)),X(Iy,{"movie-slug":n.movieSlug,onCommentAdded:$},null,8,["movie-slug"]),a.value.length>0?(I(),N("div",qL,[(I(!0),N(we,null,Ve(a.value,M=>(I(),N("div",{key:M.id,class:"flex gap-3 p-4 bg-[#2a2a2a] rounded-lg"},[d("img",{src:M.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(M.full_name||"User")}&background=f59e0b&color=000`,alt:M.full_name,class:"w-10 h-10 rounded-full flex-shrink-0"},null,8,zL),d("div",KL,[d("div",GL,[d("span",JL,H(M.full_name),1),d("span",YL,H(ee(M.created_at)),1)]),d("p",XL,H(M.content),1)])]))),128))])):(I(),N("div",QL,U[22]||(U[22]=[d("p",{class:"text-gray-400 text-sm"},"Cha c bnh lun no. Hy l ngi u tin!",-1)])))]),d("div",ZL,[d("h3",e5,"Gii thiu v "+H((K=s.value)==null?void 0:K.name),1),d("div",t5,[(se=s.value)!=null&&se.actor&&s.value.actor.length?(I(),N("div",n5,[U[24]||(U[24]=d("span",{class:"text-gray-500"},"Din vin: ",-1)),d("span",r5,H(s.value.actor.join(", ")),1)])):Q("",!0),(re=s.value)!=null&&re.category?(I(),N("div",s5,[U[25]||(U[25]=d("span",{class:"text-gray-500"},"Th loi: ",-1)),d("span",o5,H(b(s.value.category)),1)])):Q("",!0),(w=s.value)!=null&&w.country?(I(),N("div",i5,[U[26]||(U[26]=d("span",{class:"text-gray-500"},"Series ny: ",-1)),d("span",a5,H(R(s.value.country)),1)])):Q("",!0),U[28]||(U[28]=d("div",null,[d("span",{class:"text-gray-500"},"Xp hng  tui: "),d("span",{class:"px-2 py-0.5 border border-gray-500 text-white text-xs rounded"},"T18"),d("span",{class:"text-gray-400"}," khoa thn, t hi, bo hnh tnh dc, bo lc")],-1)),(E=s.value)!=null&&E.director&&s.value.director.length?(I(),N("div",l5,[U[27]||(U[27]=d("span",{class:"text-gray-500"},"o din: ",-1)),d("span",c5,H(s.value.director.join(", ")),1)])):Q("",!0)])])])])])):Q("",!0)]}),_:1})]))}},Ay=kt(u5,[["__scopeId","data-v-2485324c"]]),d5={class:"flex items-center gap-3 mb-6"},h5={class:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent"},f5={class:"relative group/row"},p5=["onMouseenter","onClick"],g5={class:"relative rounded-xl overflow-hidden shadow-lg transition-all duration-300 group-hover/card:scale-105 group-hover/card:shadow-2xl group-hover/card:shadow-yellow-400/20"},m5=["src","alt"],v5={class:"absolute bottom-0 left-0 right-0 p-4 transform translate-y-2 group-hover/card:translate-y-0 transition-transform duration-300"},y5={class:"text-sm md:text-base font-bold mb-2 line-clamp-2 text-white"},_5={class:"flex items-center gap-2 text-xs mb-2 opacity-0 group-hover/card:opacity-100 transition-opacity duration-300"},b5={key:0,class:"px-2 py-1 bg-gray-700/80 backdrop-blur-sm rounded text-white font-medium"},w5={key:1,class:"px-2 py-1 bg-yellow-500 rounded text-black font-bold"},E5={class:"flex gap-1 flex-wrap opacity-0 group-hover/card:opacity-100 transition-opacity duration-300 delay-100"},x5={class:"bg-gray-900 rounded-lg overflow-hidden shadow-2xl shadow-yellow-400/20 border border-yellow-400/30 transform transition-all duration-300 hover:scale-105 hover:shadow-yellow-400/40"},k5={class:"relative h-[160px] bg-black group/image"},T5=["src","alt"],S5={key:0,class:"absolute top-2 right-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black px-2 py-1 rounded text-[10px] font-bold shadow-lg"},C5={class:"p-3"},I5={class:"text-base font-bold text-white mb-0.5 line-clamp-1"},A5={class:"text-xs text-yellow-400 mb-2 line-clamp-1"},O5={class:"flex gap-1.5 mb-2"},R5={class:"flex gap-1.5 mb-2 flex-wrap"},P5={key:0,class:"bg-yellow-500 text-black px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},N5={key:1,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},L5={key:2,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},$5={key:3,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},M5={key:4,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},D5={key:5,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},j5={key:6,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},U5={key:7,class:"bg-purple-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold capitalize"},F5={key:8,class:"bg-green-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},B5={key:0,class:"text-[10px] text-gray-400 mb-1.5"},H5={key:0},V5={class:"text-[11px] text-gray-300 line-clamp-2 leading-relaxed"},W5={__name:"MovieRow",props:{title:{type:String,required:!0},movies:{type:Array,default:()=>[]}},setup(t){const e=Or(),n=Y(null),r=Y(null),s=Y(!1),o=Y(!1),i=Y(null),a=Y({}),l=Y(!1),c=Y(!1),u=Y("");let h=null,f=null;const p=m=>{console.log(" Opening movie detail for:",m),m!=null&&m.slug?(console.log(" Movie slug:",m.slug),u.value=m.slug,c.value=!0,x()):console.error(" No slug found for movie:",m)},g=m=>{console.log(" Opening new movie from modal:",m),u.value=m,c.value=!0},y=m=>{if(m.poster_url){const $=m.poster_url.startsWith("http")?m.poster_url:`https://phimimg.com/${m.poster_url}`;return console.log(" Using poster_url:",$),$}if(m.thumb_url){const $=m.thumb_url.startsWith("http")?m.thumb_url:`https://phimimg.com/${m.thumb_url}`;return console.log(" Using thumb_url:",$),$}return m.backdrop_path?(console.log(" Using backdrop_path:",m.backdrop_path),m.backdrop_path):(console.log(" No image found, using placeholder"),"https://placehold.co/250x350/1a1a1a/fff?text=No+Image")},v=m=>{if(m.thumb_url){const $=m.thumb_url.startsWith("http")?m.thumb_url:`https://phimimg.com/${m.thumb_url}`;return console.log(" Preview using thumb_url:",$),$}return m.poster_url?m.poster_url.startsWith("http")?m.poster_url:`https://phimimg.com/${m.poster_url}`:m.backdrop_path?m.backdrop_path:"https://placehold.co/320x160/1a1a1a/fff?text=No+Image"},T=m=>m.category&&Array.isArray(m.category)?m.category.map($=>typeof $=="object"?$.name:$):m.genres&&Array.isArray(m.genres)?m.genres.map($=>typeof $=="object"?$.name:$):[],A=m=>{m.slug&&e.push(`/film/${m.slug}`)},_=()=>{n.value&&n.value.scrollBy({left:-800,behavior:"smooth"})},b=()=>{n.value&&n.value.scrollBy({left:800,behavior:"smooth"})},R=async(m,$)=>{console.log(" Mouse enter:",m.name),clearTimeout(h);const F=$.currentTarget.getBoundingClientRect();h=setTimeout(async()=>{var Ce,te;console.log(" Showing preview for:",m.name);let ae=F.top-60,_e=F.left-30;if(_e<20&&(_e=20),_e+320>window.innerWidth&&(_e=window.innerWidth-340),ae<20&&(ae=20),ae+400>window.innerHeight&&(ae=window.innerHeight-420),a.value={top:`${ae}px`,left:`${_e}px`},i.value=m,o.value=!0,m.slug&&(!m.quality||!m.lang||!m.content))try{const U=(await dt(async()=>{const{default:pe}=await Promise.resolve().then(()=>iS);return{default:pe}},void 0,import.meta.url)).default,de=new AbortController,ce=setTimeout(()=>de.abort(),3e3),be=await U.get(`https://phimapi.com/phim/${m.slug}`,{signal:de.signal});if(clearTimeout(ce),(Ce=be.data)!=null&&Ce.movie){const pe=be.data.movie,Pe={...m,quality:pe.quality||m.quality,lang:pe.lang||m.lang,content:pe.content||m.content,time:pe.time||m.time,episode_current:pe.episode_current||m.episode_current,type:pe.type||m.type,country:pe.country||m.country,category:pe.category||m.category,chieurap:pe.chieurap!==void 0?pe.chieurap:m.chieurap,sub_docquyen:pe.sub_docquyen!==void 0?pe.sub_docquyen:m.sub_docquyen};((te=i.value)==null?void 0:te.slug)===m.slug&&(i.value=Pe),Object.assign(m,Pe),console.log(" Fetched movie details:",Pe.name)}}catch(U){console.log(" Could not fetch movie details:",U.message)}},300)},k=()=>{clearTimeout(h),setTimeout(()=>{l.value||x()},100)},x=()=>{l.value=!1,o.value=!1,i.value=null},P=m=>{console.error(" Image failed to load:",m.target.src),m.target.src="https://placehold.co/320x160/1a1a1a/fff?text=Image+Not+Found"};return Ot(()=>{f=new IntersectionObserver(m=>{m.forEach($=>{$.isIntersecting&&(s.value=!0,f.unobserve($.target))})},{threshold:.1,rootMargin:"50px"}),r.value&&f.observe(r.value)}),sn(()=>{f&&r.value&&f.unobserve(r.value)}),(m,$)=>(I(),N(we,null,[d("div",{ref_key:"movieRowRef",ref:r,class:Oe(["movie-row mb-16 px-4 md:px-12 opacity-0 translate-y-10 transition-all duration-700",{"opacity-100 translate-y-0":s.value}])},[d("div",d5,[$[4]||($[4]=d("div",{class:"w-1 h-8 bg-yellow-400 rounded-full"},null,-1)),d("h2",h5,H(t.title),1)]),d("div",f5,[d("button",{onClick:_,class:"absolute left-2 top-1/2 -translate-y-1/2 z-10 w-14 h-14 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/row:opacity-100 shadow-2xl shadow-yellow-400/50 hover:scale-110 hover:shadow-yellow-400/70 group/arrow"},$[5]||($[5]=[d("svg",{class:"w-7 h-7 text-black group-hover/arrow:-translate-x-0.5 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"3"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1)])),d("button",{onClick:b,class:"absolute right-2 top-1/2 -translate-y-1/2 z-10 w-14 h-14 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/row:opacity-100 shadow-2xl shadow-yellow-400/50 hover:scale-110 hover:shadow-yellow-400/70 group/arrow"},$[6]||($[6]=[d("svg",{class:"w-7 h-7 text-black group-hover/arrow:translate-x-0.5 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"3"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1)])),d("div",{ref_key:"scrollContainer",ref:n,class:"flex gap-4 overflow-x-auto scrollbar-hide pb-4 select-none scroll-smooth"},[(I(!0),N(we,null,Ve(t.movies,(ee,F)=>{var ae;return I(),N("div",{key:ee._id||ee.slug,class:Oe(["movie-card flex-none w-[160px] md:w-[220px] lg:w-[260px] cursor-pointer group/card opacity-0 translate-x-8 transition-all duration-500",{"opacity-100 translate-x-0":s.value}]),onMouseenter:_e=>R(ee,_e),onMouseleave:k,onClick:_e=>A(ee),style:xr({transitionDelay:s.value?`${F*50}ms`:"0ms"})},[d("div",g5,[d("img",{src:y(ee),alt:ee.title||ee.name,class:"w-full h-[240px] md:h-[330px] lg:h-[390px] object-cover transition-transform duration-500 group-hover/card:scale-110",onError:P},null,40,m5),$[7]||($[7]=d("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-60 group-hover/card:opacity-90 transition-opacity duration-300"},null,-1)),d("div",v5,[d("h3",y5,H(ee.title||ee.name),1),d("div",_5,[ee.year?(I(),N("span",b5,H(ee.year),1)):Q("",!0),ee.quality?(I(),N("span",w5,H(ee.quality),1)):Q("",!0)]),d("div",E5,[(I(!0),N(we,null,Ve((ae=ee.category||ee.genres)==null?void 0:ae.slice(0,2),_e=>(I(),N("span",{key:_e.slug||_e,class:"text-xs text-gray-300 bg-gray-800/60 backdrop-blur-sm px-2 py-0.5 rounded"},H(_e.name||_e),1))),128))])]),$[8]||($[8]=d("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover/card:opacity-100 transition-all duration-300 scale-50 group-hover/card:scale-100"},[d("div",{class:"w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center shadow-xl"},[d("svg",{class:"w-8 h-8 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1))])],46,p5)}),128))],512)])],2),X(Ay,{"is-open":c.value,"movie-slug":u.value,onClose:$[0]||($[0]=ee=>c.value=!1),onOpenMovie:g},null,8,["is-open","movie-slug"]),(I(),Le(to,{to:"body"},[o.value&&i.value?(I(),N("div",{key:0,style:xr({...a.value,zIndex:99999}),class:"fixed w-[320px] animate-scale-in-smooth pointer-events-auto",onMouseenter:$[3]||($[3]=ee=>l.value=!0),onMouseleave:x},[d("div",x5,[d("div",k5,[d("img",{src:v(i.value),alt:i.value.name,class:"w-full h-full object-cover",onError:P},null,40,T5),$[9]||($[9]=d("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"},null,-1)),$[10]||($[10]=d("div",{class:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover/image:opacity-100 transition-all duration-300"},[d("div",{class:"w-14 h-14 bg-yellow-400 rounded-full flex items-center justify-center shadow-2xl transform transition-all duration-300 group-hover/image:scale-110 animate-pulse-slow"},[d("svg",{class:"w-7 h-7 text-black ml-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1)),i.value.quality?(I(),N("div",S5,H(i.value.quality),1)):Q("",!0)]),d("div",C5,[d("h3",I5,H(i.value.name),1),d("p",A5,H(i.value.origin_name),1),d("div",O5,[d("button",{onClick:$[1]||($[1]=ee=>A(i.value)),class:"flex-1 flex items-center justify-center gap-1.5 bg-yellow-400 text-black px-3 py-1.5 rounded-lg font-bold text-xs hover:bg-yellow-500 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-yellow-400/50"},$[11]||($[11]=[d("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),he(" Xem ngay ")])),$[13]||($[13]=d("button",{class:"w-8 h-8 bg-gray-800 hover:bg-gray-700 hover:scale-110 rounded-lg flex items-center justify-center transition-all duration-300 group/btn"},[d("svg",{class:"w-3.5 h-3.5 text-white group-hover/btn:text-red-400 transition-colors",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),d("button",{onClick:$[2]||($[2]=zt(ee=>p(i.value),["stop"])),class:"w-8 h-8 bg-gray-800 hover:bg-gray-700 hover:scale-110 rounded-lg flex items-center justify-center transition-all duration-300 group/btn",title:"Cc tp & Thng tin"},$[12]||($[12]=[d("svg",{class:"w-3.5 h-3.5 text-white group-hover/btn:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]))]),d("div",R5,[i.value.quality?(I(),N("span",P5,H(i.value.quality),1)):Q("",!0),i.value.lang?(I(),N("span",N5,H(i.value.lang),1)):i.value.sub_docquyen?(I(),N("span",L5," Vietsub ")):i.value.chieurap===!1?(I(),N("span",$5," Vietsub ")):Q("",!0),i.value.year?(I(),N("span",M5,H(i.value.year),1)):Q("",!0),i.value.time?(I(),N("span",D5,H(i.value.time),1)):i.value.episode_current?(I(),N("span",j5,H(i.value.episode_current),1)):Q("",!0),i.value.type?(I(),N("span",U5,H(i.value.type==="series"?"Phim b":i.value.type==="single"?"Phim l":i.value.type==="hoathinh"?"Hot hnh":i.value.type),1)):Q("",!0),i.value.country&&i.value.country.length>0?(I(),N("span",F5,H(Array.isArray(i.value.country)?i.value.country[0].name||i.value.country[0]:i.value.country),1)):Q("",!0)]),T(i.value).length?(I(),N("div",B5,[(I(!0),N(we,null,Ve(T(i.value).slice(0,3),(ee,F)=>(I(),N("span",{key:F},[he(H(ee),1),F<Math.min(2,T(i.value).length-1)?(I(),N("span",H5,"  ")):Q("",!0)]))),128))])):Q("",!0),d("p",V5,H(i.value.content||"ang cp nht m t..."),1)])])],36)):Q("",!0)]))],64))}},ks=kt(W5,[["__scopeId","data-v-f5b12abc"]]),q5={class:"community-section bg-black py-12 px-4 md:px-12"},z5={class:"max-w-[1920px] mx-auto"},K5={class:"mb-10"},G5={class:"mb-8"},J5={class:"relative group/scroll"},Y5={class:"relative z-10"},X5={class:"flex gap-3 mb-3 justify-between"},Q5={class:"relative flex-shrink-0"},Z5=["src","alt"],e8={key:0,class:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 bg-yellow-400 text-black text-[10px] font-bold px-1.5 py-0.5 rounded-full shadow-lg"},t8={class:"flex-shrink-0"},n8=["src","alt"],r8={class:"mb-2"},s8={class:"flex items-center gap-1.5"},o8={class:"text-white font-bold text-sm drop-shadow-lg"},i8={key:0,class:"text-yellow-400 text-xs"},a8={class:"text-gray-200 text-xs leading-relaxed mb-3 line-clamp-2 drop-shadow-md"},l8={class:"flex items-center gap-4 text-gray-300"},c8={class:"flex items-center gap-1.5 hover:text-green-400 transition-colors"},u8={class:"text-xs font-medium"},d8={class:"flex items-center gap-1.5 hover:text-red-400 transition-colors"},h8={class:"text-xs font-medium"},f8={class:"flex items-center gap-1.5 hover:text-blue-400 transition-colors"},p8={class:"text-xs font-medium"},g8={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},m8={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},v8={class:"space-y-2 mb-3"},y8={key:0,class:"text-center py-4 text-gray-500 text-xs"},_8={class:"text-yellow-400 font-bold text-xs w-5"},b8=["src"],w8={class:"flex-1 min-w-0"},E8={class:"text-white text-xs font-medium truncate"},x8={class:"text-gray-400 text-[10px]"},k8={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},T8={class:"space-y-2 mb-3"},S8={key:0,class:"text-center py-4 text-gray-500 text-xs"},C8={class:"text-yellow-400 font-bold text-xs w-5"},I8=["src"],A8={class:"flex-1 min-w-0"},O8={class:"text-white text-xs font-medium truncate"},R8={class:"text-gray-400 text-[10px]"},P8={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},N8={class:"space-y-3 max-h-[400px] overflow-hidden"},L8={class:"flex items-start gap-2 mb-1.5"},$8=["src"],M8={class:"flex-1 min-w-0"},D8={class:"flex items-center gap-1.5"},j8={class:"text-white text-xs font-medium"},U8={key:0,class:"text-green-400 text-[10px] animate-pulse"},F8={class:"text-gray-400 text-[10px]"},B8={class:"text-gray-300 text-[11px] line-clamp-2 leading-relaxed"},H8={class:"flex items-center justify-between p-4 border-b border-gray-800"},V8={class:"p-4 overflow-y-auto max-h-[calc(80vh-80px)] scrollbar-hide"},W8={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},q8={class:"relative aspect-[2/3] rounded-lg overflow-hidden mb-2"},z8=["src","alt"],K8={class:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},G8={class:"text-white text-sm font-medium line-clamp-2"},J8={class:"text-gray-400 text-xs"},Y8={class:"flex items-center justify-between p-4 border-b border-gray-800"},X8={class:"p-4 overflow-y-auto max-h-[calc(80vh-80px)] scrollbar-hide"},Q8={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Z8={class:"relative aspect-[2/3] rounded-lg overflow-hidden mb-2"},e6=["src","alt"],t6={class:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},n6={class:"text-white text-sm font-medium line-clamp-2"},r6={class:"text-gray-400 text-xs"},s6={__name:"CommunitySection",setup(t){const e=rl.BACKEND_URL,n=Y(null),r=Y([]),s=Y([]),o=Y([]),i=Y([]),a=Y([]),l=Y(!1),c=Y(!1),u=Y([{id:1,name:"Hoang Gang",avatar:"https://ui-avatars.com/api/?name=Hoang&background=f59e0b&color=000",time:"va xong",text:"lun l b phim tuyt vi nht m ti tng xem"},{id:2,name:"Margaret Qualley",avatar:"https://ui-avatars.com/api/?name=Margaret&background=ef4444&color=fff",time:"2 pht trc",text:"Tuyt vi! Din xut qu nh"},{id:3,name:"Tsukii",avatar:"https://ui-avatars.com/api/?name=Tsukii&background=3b82f6&color=fff",time:"5 pht trc",text:"Cm n  chia s!"}]),h=[{name:"Minh Anh",text:"Phim hay qu! Ti  xem 3 ln ri "},{name:"Tun Kit",text:"CGI nh cao, xng ng 5 sao "},{name:"Linh Chi",text:"Cm ng qu, ti  khc khi xem "},{name:"Hong Long",text:"Din vin din xut rt t nhin "},{name:"Phng Anh",text:"Ct truyn hp dn t u n cui!"},{name:"c Anh",text:"Nhc phim hay lm, nghe mi khng chn "},{name:"Mai Ly",text:"Phim ny ng xem, recommend mi ngi!"},{name:"Quang Huy",text:"o din ti nng tht! Mi cnh u  ngha"},{name:"Tho Nguyn",text:"Tuyt vi! Khng th b l b phim ny"},{name:"Vn Ton",text:"Phim hay nhng hi di, nn chia lm 2 phn xem"},{name:"Bo Trm",text:"Cnh quay p mt, mu sc rc r "},{name:"Hi Nam",text:"Ni dung su sc, ng suy ngm "},{name:"Khnh Linh",text:"Phim ny lm ti nh v tui th..."},{name:"Duy Khnh",text:"Xem xong mun xem li ngay! "},{name:"Thu H",text:"Din vin ph cng din rt hay!"},{name:"Minh Tun",text:"Phim Vit ngy cng cht lng "},{name:"Ngc Anh",text:"Cm n  chia s phim hay! "},{name:"Trung Hiu",text:"Phim ny ng gi tng pht xem!"},{name:"Lan Hng",text:"Ti  gii thiu cho bn b xem ri "},{name:"Quc Bo",text:"Phim hay, nhng cn ph  tt hn"},{name:"Anh Tun",text:"Xem lc 2h sng vn khng bun ng! "},{name:"Hng Giang",text:"Phim ny viral trn TikTok ri "},{name:"Bo Ngc",text:"Mnh  khc ht c hp khn giy "},{name:"Thanh Tng",text:"Phim xut sc! Oscar phi trao gii cho phim ny"},{name:"Kim Ngn",text:"Nhc nn qu nh, ai bit tn bi khng?"},{name:"Vit Anh",text:"Phim ny phi xem  rp mi !"},{name:"Thy Linh",text:"Cnh cui lm ti sc nng "},{name:"ng Khoa",text:"Phim hay nht nm nay lun!"},{name:"Phng Tho",text:"Ti  mua v xem 2 ln ri "},{name:"Hu Ngha",text:"Din vin chnh qu p trai! "},{name:"Thanh H",text:"Phim ny ng  ch i!"},{name:"Minh Qun",text:"Xem xong mun i du lch ngay! "},{name:"T Anh",text:"Phim ny lm ti suy ngh nhiu v cuc sng"},{name:"Hoi Nam",text:"Cnh hnh ng mn nhn qu! "},{name:"Bch Ngc",text:"Ti  recommend cho c cng ty xem ri"},{name:"Quang Minh",text:"Phim ny xng ng trending #1! "},{name:"Hnh Nhn",text:"Xem i xem li vn thy hay!"},{name:"Tun V",text:"Phim ny phi vo top 10 nm!"},{name:"Ngc Trinh",text:"Cm xc ln xung nh tu ln! "},{name:"c Thnh",text:"Phim ny lm ti ci v khc!"},{name:"Mai Phng",text:"o din thin ti! Respect! "},{name:"Hng Nhung",text:"Phim ny s l huyn thoi!"},{name:"Trng i",text:"Xem xong ti  tr thnh fan cng!"},{name:"Yn Nhi",text:"Phim ny phi c phn 2 thi! "},{name:"Cng Phng",text:"Ti  xem trailer 10 ln ri!"},{name:"Tho My",text:"Phim ny ng  i c nm!"},{name:"Xun Trng",text:"Cnh chin u qu honh trng! "},{name:"Diu Hng",text:"Ti s mua a Bluray v su tm!"},{name:"Minh Hng",text:"Phim ny lm ti tin vo tnh yu! "},{name:"Tun Hng",text:"m thanh Dolby Atmos qu nh! "}],f=["f59e0b","ef4444","3b82f6","10b981","ec4899","8b5cf6","14b8a6","f97316"];let p=4,g=null;const y=()=>{var k;return(k=n.value)==null?void 0:k.scrollBy({left:-280,behavior:"smooth"})},v=()=>{var k;return(k=n.value)==null?void 0:k.scrollBy({left:280,behavior:"smooth"})};Zt([l,c],([k,x])=>{k||x?document.body.style.overflow="hidden":document.body.style.overflow=""});const T=async()=>{var k,x,P;try{const[m,$,ee]=await Promise.all([xe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:1}}),xe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:2}}),xe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:3}})]),F=[...((k=m.data)==null?void 0:k.items)||[],...((x=$.data)==null?void 0:x.items)||[],...((P=ee.data)==null?void 0:P.items)||[]];if(console.log(" API Response - Total movies:",F.length),F.length>0){const ae=F,_e=[{name:"N VL",avatar:"https://ui-avatars.com/api/?name=NVL&background=f59e0b&color=000",text:"Tp mt bc mnh nam chnh tht s, tr li cu hi m c ng ng...",likes:1,dislikes:0,replies:4},{name:"Khuong Nguyen",avatar:"https://ui-avatars.com/api/?name=Khuong&background=3b82f6&color=fff",text:"Ci b ny tht s l hay qu, mnh  xem 3 ln ri m vn thy hay!",likes:5,dislikes:0,replies:2},{name:"Doss Nguyen",avatar:"https://ui-avatars.com/api/?name=Doss&background=ef4444&color=fff",text:"Phim hay lm, din xut tuyt vi, cnh quay p mt!",likes:8,dislikes:1,replies:6},{name:"toni_nguyen",avatar:"https://ui-avatars.com/api/?name=Toni&background=10b981&color=fff",text:"Anime nh cao! Miku chan kawaii qu i mt!",likes:12,dislikes:0,replies:8},{name:"Mai Anh",avatar:"https://ui-avatars.com/api/?name=Mai&background=ec4899&color=fff",text:"Cm ng qu! Ti  khc khi xem phn cui...",likes:15,dislikes:0,replies:10},{name:"Hoang Tuan",avatar:"https://ui-avatars.com/api/?name=Hoang&background=8b5cf6&color=fff",text:"CGI nh cao, xng ng 5 sao! Recommend mi ngi xem",likes:20,dislikes:2,replies:12},{name:"Linh Chi",avatar:"https://ui-avatars.com/api/?name=Linh&background=14b8a6&color=fff",text:"Phim hay nhng hi di, nn chia lm 2 phn xem cho  mt",likes:7,dislikes:1,replies:5},{name:"Minh Khoa",avatar:"https://ui-avatars.com/api/?name=Minh&background=f97316&color=fff",text:"o din ti nng tht! Mi cnh quay u  ngha",likes:18,dislikes:0,replies:9}];r.value=ae.slice(0,8).map((ce,be)=>{const pe=ce.poster_url||ce.thumb_url||"",Pe=pe.startsWith("http")?pe:`https://phimimg.com/${pe}`;return{id:be+1,..._e[be],movieTitle:ce.name,moviePoster:Pe}});const Ce=8,te=10;o.value=ae.slice(Ce,Ce+te).map(ce=>{const be=ce.poster_url||ce.thumb_url||"";return{title:ce.name,year:ce.year||2024,poster:be.startsWith("http")?be:`https://phimimg.com/${be}`}}),s.value=o.value.slice(0,5);const U=Ce+te,de=10;a.value=ae.slice(U,U+de).map(ce=>{const be=ce.poster_url||ce.thumb_url||"";return{title:ce.name,year:ce.year||2024,poster:be.startsWith("http")?be:`https://phimimg.com/${be}`}}),i.value=a.value.slice(0,5),console.log(" Total movies from API:",ae.length),console.log(" Trending Movies (display):",s.value.length,s.value),console.log(" Trending Movies (all):",o.value.length),console.log(" Favorite Movies (display):",i.value.length,i.value),console.log(" Favorite Movies (all):",a.value.length),console.log(" Top Comments:",r.value),console.log(" Trending:",s.value),console.log(" Favorites:",i.value)}}catch(m){console.log(" Could not load movies:",m.message)}},A=async()=>{var k;try{const x=await xe.get(`${e}/community.php`);if(console.log(" Community data:",x.data),x.data.success){const P=x.data.data;(k=P.recent_comments)!=null&&k.length&&(u.value=P.recent_comments.map(m=>{let $=m.avatar;if(!$||$.includes("ui-avatars.com")){const ee=m.full_name||m.username||"User";$=`https://ui-avatars.com/api/?name=${encodeURIComponent(ee)}&background=f59e0b&color=000&size=128`}return{id:m.id,name:m.full_name||m.username,avatar:$,time:m.time_ago,text:m.content}}),console.log(" Updated recent comments:",u.value.length),u.value.forEach((m,$)=>{console.log(`Comment ${$+1}:`,{name:m.name,avatar:m.avatar,text:m.text.substring(0,30)})}))}}catch(x){console.log(" Could not load community data:",x.message)}},_=()=>{const k=h[Math.floor(Math.random()*h.length)],x=f[Math.floor(Math.random()*f.length)],P={id:p++,name:k.name,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(k.name)}&background=${x}&color=fff`,time:"va xong",text:k.text};u.value.unshift(P),u.value.length>10&&u.value.pop(),u.value.forEach((m,$)=>{$===0?m.time="va xong":$===1?m.time="1 pht trc":$===2?m.time="2 pht trc":m.time=`${$+1} pht trc`})},b=()=>{const k=()=>{_();const x=Math.floor(Math.random()*2e3)+2e3;g=setTimeout(k,x)};g=setTimeout(k,2e3)},R=()=>{g&&(clearTimeout(g),g=null)};return Ot(()=>{A(),T(),b()}),sn(()=>{R()}),(k,x)=>(I(),N("div",q5,[d("div",z5,[d("div",K5,[X(Iy,{onCommentAdded:A})]),d("div",G5,[x[19]||(x[19]=d("div",{class:"flex items-center gap-2 mb-4"},[d("div",{class:"w-8 h-8 bg-yellow-400/10 rounded-lg flex items-center justify-center"},[d("span",{class:"text-lg"},"")]),d("h3",{class:"text-base font-bold text-white uppercase tracking-wide"},"TOP BNH LUN")],-1)),d("div",J5,[d("button",{onClick:y,class:"absolute left-1 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-gray-900/90 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/scroll:opacity-100"},x[13]||(x[13]=[d("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),d("button",{onClick:v,class:"absolute right-1 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-gray-900/90 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/scroll:opacity-100"},x[14]||(x[14]=[d("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),d("div",{ref_key:"topScrollRef",ref:n,class:"flex gap-4 overflow-x-auto scrollbar-hide py-4 px-2 scroll-smooth"},[(I(!0),N(we,null,Ve(r.value,(P,m)=>(I(),N("div",{key:P.id,class:"flex-none w-[300px] rounded-xl p-4 border border-gray-700/30 hover:border-yellow-400/50 transition-all duration-300 cursor-pointer hover:scale-[1.01] hover:shadow-lg hover:shadow-yellow-400/20 relative overflow-hidden group"},[d("div",{class:"absolute inset-0 bg-cover bg-center transition-all duration-300",style:xr({backgroundImage:`url(${P.moviePoster})`})},null,4),x[18]||(x[18]=d("div",{class:"absolute inset-0 bg-black/70 backdrop-blur-sm group-hover:bg-black/60 transition-all duration-300"},null,-1)),d("div",Y5,[d("div",X5,[d("div",Q5,[d("img",{src:P.avatar,alt:P.name,class:"w-14 h-14 rounded-full border-3 border-gray-700/50 group-hover:border-yellow-400 transition-all shadow-lg"},null,8,Z5),m===0?(I(),N("div",e8,"")):Q("",!0)]),d("div",t8,[d("img",{src:P.moviePoster,alt:P.movieTitle,class:"w-16 h-24 rounded-md object-cover border border-gray-700/50 group-hover:border-yellow-400/50 transition-all shadow-lg",onError:x[0]||(x[0]=$=>$.target.src="https://placehold.co/64x96/1a1a1a/fff?text=No+Image")},null,40,n8)])]),d("div",r8,[d("div",s8,[d("h4",o8,H(P.name),1),m===0?(I(),N("span",i8,"")):Q("",!0)])]),d("p",a8,H(P.text),1),d("div",l8,[d("button",c8,[x[15]||(x[15]=d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})],-1)),d("span",u8,H(P.likes),1)]),d("button",d8,[x[16]||(x[16]=d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"})],-1)),d("span",h8,H(P.dislikes),1)]),d("button",f8,[x[17]||(x[17]=d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z","clip-rule":"evenodd"})],-1)),d("span",p8,H(P.replies),1)])])])]))),128))],512)])]),d("div",g8,[d("div",m8,[x[20]||(x[20]=d("div",{class:"flex items-center gap-2 mb-3"},[d("span",{class:"text-base"},""),d("h3",{class:"text-sm font-bold text-white uppercase"},"SI NI NHT")],-1)),d("div",v8,[s.value.length===0?(I(),N("div",y8," ang ti phim... ")):Q("",!0),(I(!0),N(we,null,Ve(s.value,(P,m)=>(I(),N("div",{key:m,class:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[d("span",_8,H(m+1),1),d("img",{src:P.poster,class:"w-8 h-11 rounded object-cover",onError:x[1]||(x[1]=$=>$.target.src="https://placehold.co/32x44/1a1a1a/fff?text=?")},null,40,b8),d("div",w8,[d("p",E8,H(P.title),1),d("p",x8,H(P.year),1)])]))),128))]),d("button",{onClick:x[2]||(x[2]=P=>l.value=!0),class:"w-full py-2 text-xs text-yellow-400 hover:text-yellow-300 font-medium transition-colors border-t border-gray-800 pt-3"}," Xem thm  ")]),d("div",k8,[x[21]||(x[21]=d("div",{class:"flex items-center gap-2 mb-3"},[d("span",{class:"text-base"},""),d("h3",{class:"text-sm font-bold text-white uppercase"},"YU THCH NHT")],-1)),d("div",T8,[i.value.length===0?(I(),N("div",S8," ang ti phim... ")):Q("",!0),(I(!0),N(we,null,Ve(i.value,(P,m)=>(I(),N("div",{key:m,class:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[d("span",C8,H(m+1),1),d("img",{src:P.poster,class:"w-8 h-11 rounded object-cover",onError:x[3]||(x[3]=$=>$.target.src="https://placehold.co/32x44/1a1a1a/fff?text=?")},null,40,I8),d("div",A8,[d("p",O8,H(P.title),1),d("p",R8,H(P.year),1)])]))),128))]),d("button",{onClick:x[4]||(x[4]=P=>c.value=!0),class:"w-full py-2 text-xs text-yellow-400 hover:text-yellow-300 font-medium transition-colors border-t border-gray-800 pt-3"}," Xem thm  ")]),d("div",P8,[x[22]||(x[22]=d("div",{class:"flex items-center gap-2 mb-3"},[d("span",{class:"text-base"},""),d("h3",{class:"text-sm font-bold text-white uppercase"},"BNH LUN MI")],-1)),d("div",N8,[X(Zg,{name:"comment-list"},{default:ge(()=>[(I(!0),N(we,null,Ve(u.value.slice(0,5),P=>(I(),N("div",{key:P.id,class:"p-2 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[d("div",L8,[d("img",{src:P.avatar,class:"w-7 h-7 rounded-full"},null,8,$8),d("div",M8,[d("div",D8,[d("p",j8,H(P.name),1),P.time==="va xong"?(I(),N("span",U8,"")):Q("",!0)]),d("p",F8,H(P.time),1)])]),d("p",B8,H(P.text),1)]))),128))]),_:1})])])])]),X(yt,{name:"modal"},{default:ge(()=>[l.value?(I(),N("div",{key:0,onClick:x[8]||(x[8]=P=>l.value=!1),class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"},[d("div",{onClick:x[7]||(x[7]=zt(()=>{},["stop"])),class:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden border border-gray-800 modal-content"},[d("div",H8,[x[24]||(x[24]=d("div",{class:"flex items-center gap-2"},[d("span",{class:"text-2xl"},""),d("h2",{class:"text-xl font-bold text-white"},"SI NI NHT")],-1)),d("button",{onClick:x[5]||(x[5]=P=>l.value=!1),class:"text-gray-400 hover:text-white transition-colors"},x[23]||(x[23]=[d("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),d("div",V8,[d("div",W8,[(I(!0),N(we,null,Ve(o.value,(P,m)=>(I(),N("div",{key:m,class:"group cursor-pointer"},[d("div",q8,[d("img",{src:P.poster,alt:P.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:x[6]||(x[6]=$=>$.target.src="https://placehold.co/200x300/1a1a1a/fff?text=No+Image")},null,40,z8),d("div",K8,H(m+1),1)]),d("p",G8,H(P.title),1),d("p",J8,H(P.year),1)]))),128))])])])])):Q("",!0)]),_:1}),X(yt,{name:"modal"},{default:ge(()=>[c.value?(I(),N("div",{key:0,onClick:x[12]||(x[12]=P=>c.value=!1),class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"},[d("div",{onClick:x[11]||(x[11]=zt(()=>{},["stop"])),class:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden border border-gray-800 modal-content"},[d("div",Y8,[x[26]||(x[26]=d("div",{class:"flex items-center gap-2"},[d("span",{class:"text-2xl"},""),d("h2",{class:"text-xl font-bold text-white"},"YU THCH NHT")],-1)),d("button",{onClick:x[9]||(x[9]=P=>c.value=!1),class:"text-gray-400 hover:text-white transition-colors"},x[25]||(x[25]=[d("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),d("div",X8,[d("div",Q8,[(I(!0),N(we,null,Ve(a.value,(P,m)=>(I(),N("div",{key:m,class:"group cursor-pointer"},[d("div",Z8,[d("img",{src:P.poster,alt:P.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:x[10]||(x[10]=$=>$.target.src="https://placehold.co/200x300/1a1a1a/fff?text=No+Image")},null,40,e6),d("div",t6,H(m+1),1)]),d("p",n6,H(P.title),1),d("p",r6,H(P.year),1)]))),128))])])])])):Q("",!0)]),_:1})]))}},o6=kt(s6,[["__scopeId","data-v-a90a47ad"]]),i6={class:"featured-section"},a6={class:"carousel-container"},l6={class:"card-inner"},c6=["src","alt"],u6={class:"card-overlay"},d6={class:"card-content"},h6={class:"card-title"},f6={class:"card-meta"},p6={class:"card-year"},g6={class:"card-rating"},m6={class:"carousel-indicators"},v6=["onClick"],y6={__name:"FeaturedCarousel",setup(t){const e=Y([]),n=Y(0),r=Y(null),s=Y(!1),o=Y(0),i=Y(0),a=Y(0),l=b=>{const R=b-n.value,k=Math.abs(R);if(k>5)return{display:"none"};const x=30-k,P=k===0?1.05:1-k*.12,m=1-k*.2,$=R*70+a.value,ee=k*15,F=R*6;return{transform:`translateX(${$}%) translateY(${ee}px) scale(${P}) rotateY(${F}deg)`,zIndex:x,opacity:m,transition:s.value?"none":"all 0.7s cubic-bezier(0.34, 1.56, 0.64, 1)"}},c=()=>{n.value<e.value.length-1?n.value++:n.value=0,h(n.value)},u=()=>{n.value>0?n.value--:n.value=e.value.length-1,h(n.value)},h=b=>{n.value=b,setTimeout(()=>{const R=document.querySelector(".carousel-indicators"),k=document.querySelector(".indicator.active");R&&k&&k.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},100)},f=b=>{b.target.src="https://placehold.co/300x450/1a1a1a/fff?text=No+Image"},p=b=>{s.value=!0,o.value=b.clientX,i.value=b.clientX},g=b=>{if(!s.value)return;b.preventDefault(),i.value=b.clientX;const R=i.value-o.value,k=100,x=R/window.innerWidth*300;a.value=Math.max(-100,Math.min(k,x))},y=()=>{if(!s.value)return;const b=i.value-o.value;b>30?u():b<-30&&c(),s.value=!1,a.value=0},v=b=>{s.value=!0,o.value=b.touches[0].clientX,i.value=b.touches[0].clientX},T=b=>{if(!s.value)return;b.preventDefault(),i.value=b.touches[0].clientX;const R=i.value-o.value,k=100,x=R/window.innerWidth*300;a.value=Math.max(-100,Math.min(k,x))},A=()=>{y()},_=async()=>{var b,R;try{const k=await xe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:1}});(R=(b=k.data)==null?void 0:b.items)!=null&&R.length&&(e.value=k.data.items.slice(0,20).map(x=>{var P;return{title:x.name,year:x.year||2024,rating:(Math.random()*2+7).toFixed(1),poster:(P=x.poster_url)!=null&&P.startsWith("http")?x.poster_url:`https://phimimg.com/${x.poster_url}`}}),n.value=Math.floor(e.value.length/2))}catch(k){console.error("Failed to fetch movies:",k)}};return Ot(()=>{_(),document.addEventListener("mousemove",g),document.addEventListener("mouseup",y);const b=r.value;b&&(b.addEventListener("touchmove",T),b.addEventListener("touchend",A))}),sn(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y);const b=r.value;b&&(b.removeEventListener("touchmove",T),b.removeEventListener("touchend",A))}),(b,R)=>(I(),N("div",i6,[R[3]||(R[3]=d("div",{class:"section-header"},[d("h2",{class:"section-title"}," Phim  C"),d("p",{class:"section-subtitle"},"Nhng b phim c  xut dnh ring cho bn")],-1)),d("div",a6,[d("div",{class:"cards-wrapper",ref_key:"cardsWrapper",ref:r,onMousedown:p,onTouchstart:v},[(I(!0),N(we,null,Ve(e.value,(k,x)=>(I(),N("div",{key:x,class:"movie-card",style:xr(l(x))},[d("div",l6,[d("img",{src:k.poster,alt:k.title,class:"card-poster",onError:f},null,40,c6),d("div",u6,[d("div",d6,[d("h3",h6,H(k.title),1),d("div",f6,[d("span",p6,H(k.year),1),d("span",g6," "+H(k.rating),1)]),R[0]||(R[0]=d("button",{class:"card-button"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})]),he(" Xem Ngay ")],-1))])])])],4))),128))],544),d("div",{class:"carousel-controls"},[d("button",{onClick:u,class:"control-btn prev-btn"},R[1]||(R[1]=[d("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),d("button",{onClick:c,class:"control-btn next-btn"},R[2]||(R[2]=[d("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),d("div",m6,[(I(!0),N(we,null,Ve(e.value,(k,x)=>(I(),N("button",{key:x,onClick:P=>h(x),class:Oe(["indicator",{active:n.value===x}])},null,10,v6))),128))])])]))}},_6=kt(y6,[["__scopeId","data-v-1f117a6b"]]),b6={class:"animate-pulse"},w6={key:0,class:"bg-gray-800 rounded-xl overflow-hidden"},E6={key:1,class:"relative h-[85vh] bg-gray-800"},x6={key:2,class:"space-y-4"},k6={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},T6={key:3,class:"bg-gray-800 rounded-2xl p-6 border-2 border-gray-700"},S6={class:"space-y-3"},C6={key:4,class:"bg-gray-800 rounded-2xl p-6 border border-gray-700"},I6={key:5,class:"space-y-3"},ji={__name:"LoadingSkeleton",props:{type:{type:String,default:"card",validator:t=>["card","hero","row","pricing","cart","list"].includes(t)},count:{type:Number,default:3}},setup(t){return(e,n)=>(I(),N("div",b6,[t.type==="card"?(I(),N("div",w6,n[0]||(n[0]=[d("div",{class:"aspect-[2/3] bg-gray-700"},null,-1),d("div",{class:"p-3 space-y-2"},[d("div",{class:"h-4 bg-gray-700 rounded w-3/4"}),d("div",{class:"h-3 bg-gray-700 rounded w-1/2"})],-1)]))):t.type==="hero"?(I(),N("div",E6,n[1]||(n[1]=[Jn('<div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"></div><div class="absolute bottom-20 left-8 space-y-4 max-w-2xl"><div class="h-12 bg-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-700 rounded w-full"></div><div class="h-4 bg-gray-700 rounded w-5/6"></div><div class="flex gap-3 mt-6"><div class="h-12 w-32 bg-gray-700 rounded-full"></div><div class="h-12 w-32 bg-gray-700 rounded-full"></div></div></div>',2)]))):t.type==="row"?(I(),N("div",x6,[n[2]||(n[2]=d("div",{class:"h-6 bg-gray-700 rounded w-48"},null,-1)),d("div",k6,[(I(),N(we,null,Ve(6,r=>d("div",{key:r,class:"aspect-[2/3] bg-gray-700 rounded-xl"})),64))])])):t.type==="pricing"?(I(),N("div",T6,[n[3]||(n[3]=d("div",{class:"w-20 h-20 bg-gray-700 rounded-2xl mb-6"},null,-1)),n[4]||(n[4]=d("div",{class:"h-8 bg-gray-700 rounded w-3/4 mb-2"},null,-1)),n[5]||(n[5]=d("div",{class:"h-4 bg-gray-700 rounded w-1/2 mb-6"},null,-1)),n[6]||(n[6]=d("div",{class:"h-12 bg-gray-700 rounded w-full mb-4"},null,-1)),d("div",S6,[(I(),N(we,null,Ve(4,r=>d("div",{key:r,class:"h-4 bg-gray-700 rounded"})),64))]),n[7]||(n[7]=d("div",{class:"h-12 bg-gray-700 rounded-xl mt-6"},null,-1))])):t.type==="cart"?(I(),N("div",C6,n[8]||(n[8]=[Jn('<div class="flex gap-6"><div class="w-20 h-20 bg-gray-700 rounded-2xl flex-shrink-0"></div><div class="flex-1 space-y-3"><div class="h-6 bg-gray-700 rounded w-1/2"></div><div class="h-4 bg-gray-700 rounded w-3/4"></div><div class="flex gap-2"><div class="h-6 w-16 bg-gray-700 rounded-full"></div><div class="h-6 w-16 bg-gray-700 rounded-full"></div></div></div></div>',1)]))):t.type==="list"?(I(),N("div",I6,[(I(!0),N(we,null,Ve(t.count,r=>(I(),N("div",{key:r,class:"h-16 bg-gray-700 rounded-xl"}))),128))])):Q("",!0)]))}},A6={key:0,class:"min-h-[400px] flex items-center justify-center p-8"},O6={class:"max-w-md w-full text-center"},R6={class:"text-2xl font-bold text-white mb-3"},P6={class:"text-gray-400 mb-6 leading-relaxed"},N6={key:0,class:"mb-6 text-left"},L6={class:"bg-gray-900 text-red-400 p-4 rounded-lg text-xs overflow-auto max-h-40"},$6={class:"flex flex-col sm:flex-row gap-3 justify-center"},M6={__name:"ErrorBoundary",props:{errorTitle:{type:String,default:" c li xy ra"},errorMessage:{type:String,default:"Khng th ti ni dung. Vui lng th li sau."},showDetails:{type:Boolean,default:!1},showHomeButton:{type:Boolean,default:!0},onRetry:{type:Function,default:null}},emits:["retry","error"],setup(t,{expose:e,emit:n}){const r=t,s=n,o=Or(),i=Y(!1),a=Y(null);_g((u,h,f)=>{var p;return console.error("ErrorBoundary caught error:",u),i.value=!0,a.value=`${u.message}

Component: ${((p=h==null?void 0:h.$options)==null?void 0:p.name)||"Unknown"}
Info: ${f}`,s("error",u),!1});const l=()=>{i.value=!1,a.value=null,r.onRetry&&r.onRetry(),s("retry")},c=()=>{o.push("/")};return e({setError:u=>{i.value=!0,a.value=(u==null?void 0:u.message)||u},reset:()=>{i.value=!1,a.value=null}}),(u,h)=>i.value?(I(),N("div",A6,[d("div",O6,[h[3]||(h[3]=Jn('<div class="w-24 h-24 mx-auto mb-6 relative"><div class="absolute inset-0 bg-red-500/20 rounded-full animate-ping"></div><div class="relative w-24 h-24 bg-gradient-to-br from-red-600 to-red-700 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div></div>',1)),d("h2",R6,H(t.errorTitle),1),d("p",P6,H(t.errorMessage),1),t.showDetails&&a.value?(I(),N("details",N6,[h[0]||(h[0]=d("summary",{class:"cursor-pointer text-sm text-gray-500 hover:text-gray-400 mb-2"}," Chi tit li ",-1)),d("pre",L6,H(a.value),1)])):Q("",!0),d("div",$6,[d("button",{onClick:l,class:"inline-flex items-center justify-center gap-2 bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-xl font-bold hover:from-red-700 hover:to-red-800 transition-all hover:scale-105 shadow-lg"},h[1]||(h[1]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),he(" Th li ")])),t.showHomeButton?(I(),N("button",{key:0,onClick:c,class:"inline-flex items-center justify-center gap-2 bg-gray-800 text-white px-6 py-3 rounded-xl font-bold hover:bg-gray-700 transition-all border border-gray-700"},h[2]||(h[2]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),he(" V trang ch ")]))):Q("",!0)])])])):kg(u.$slots,"default",{key:1})}},D6={"aria-label":"Breadcrumb",class:"mb-6"},j6={class:"flex items-center gap-2 text-sm"},U6={key:1,class:"text-white font-semibold","aria-current":"page"},F6={__name:"Breadcrumb",props:{items:{type:Array,required:!0}},setup(t){return(e,n)=>{const r=Ua("router-link");return I(),N("nav",D6,[d("ol",j6,[(I(!0),N(we,null,Ve(t.items,(s,o)=>(I(),N("li",{key:o,class:"flex items-center gap-2"},[o===0?(I(),Le(r,{key:0,to:s.to,class:"flex items-center gap-1 text-gray-400 hover:text-yellow-400 transition-colors"},{default:ge(()=>[n[0]||(n[0]=d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1)),d("span",null,H(s.label),1)]),_:2},1032,["to"])):(I(),N(we,{key:1},[n[1]||(n[1]=d("svg",{class:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),o<t.items.length-1?(I(),Le(r,{key:0,to:s.to,class:"text-gray-400 hover:text-yellow-400 transition-colors"},{default:ge(()=>[he(H(s.label),1)]),_:2},1032,["to"])):(I(),N("span",U6,H(s.label),1))],64))]))),128))])])}}};function B6(t={}){const e=Wa(),r={...{title:"HTHREE Film - Xem Phim Online Min Ph",description:"Xem phim online cht lng cao, phim b, phim l, anime, TV shows. Cp nht lin tc phim mi nht.",keywords:"xem phim, phim online, phim bo, phim le, anime, tv shows, phim moi",image:"https://hthree.com/og-image.jpg",url:"https://hthree.com",type:"website",siteName:"HTHREE Film"},...t},s=h=>{document.title=h},o=(h,f,p=!1)=>{if(!f)return;const g=p?"property":"name";let y=document.querySelector(`meta[${g}="${h}"]`);y||(y=document.createElement("meta"),y.setAttribute(g,h),document.head.appendChild(y)),y.setAttribute("content",f)},i=h=>{let f=document.querySelector('link[rel="canonical"]');f||(f=document.createElement("link"),f.setAttribute("rel","canonical"),document.head.appendChild(f)),f.setAttribute("href",h)},a=()=>{s(r.title),o("description",r.description),o("keywords",r.keywords),o("og:title",r.title,!0),o("og:description",r.description,!0),o("og:image",r.image,!0),o("og:url",r.url,!0),o("og:type",r.type,!0),o("og:site_name",r.siteName,!0),o("twitter:card","summary_large_image"),o("twitter:title",r.title),o("twitter:description",r.description),o("twitter:image",r.image),i(r.url)},l=h=>{let f=document.querySelector('script[type="application/ld+json"]');f||(f=document.createElement("script"),f.setAttribute("type","application/ld+json"),document.head.appendChild(f)),f.textContent=JSON.stringify(h)},c=h=>{var p;const f={"@context":"https://schema.org","@type":"Movie",name:h.name,alternateName:h.origin_name,description:h.content,image:h.poster_url||h.thumb_url,datePublished:h.year,genre:(p=h.category)==null?void 0:p.map(g=>g.name).join(", "),contentRating:h.quality,inLanguage:h.lang,aggregateRating:h.rating?{"@type":"AggregateRating",ratingValue:h.rating,bestRating:"10",worstRating:"1"}:void 0};l(f)},u=()=>{l({"@context":"https://schema.org","@type":"WebSite",name:"HTHREE Film",url:"https://hthree.com",potentialAction:{"@type":"SearchAction",target:"https://hthree.com/search?q={search_term_string}","query-input":"required name=search_term_string"}})};return Ot(()=>{a()}),Zt(()=>e.path,()=>{a()}),{setTitle:s,setMetaTag:o,setCanonical:i,updateMeta:a,setStructuredData:l,setMovieStructuredData:c,setWebsiteStructuredData:u}}function eM(t){var e,n;return{title:`${t.name} - ${t.origin_name} | HTHREE Film`,description:((e=t.content)==null?void 0:e.substring(0,160))||`Xem phim ${t.name} (${t.origin_name}) cht lng ${t.quality} vietsub min ph ti HTHREE Film.`,keywords:`${t.name}, ${t.origin_name}, xem phim, ${(n=t.category)==null?void 0:n.map(r=>r.name).join(", ")}`,image:t.poster_url||t.thumb_url,url:`https://hthree.com/film/${t.slug}`,type:"video.movie"}}function H6(t,e={}){return{...{home:{title:"HTHREE Film - Xem Phim Online Min Ph, Phim B, Phim L, Anime",description:"Xem phim online cht lng cao HD, phim b, phim l, anime, TV shows. Cp nht lin tc phim mi nht 2024.",keywords:"xem phim online, phim bo, phim le, anime, tv shows, phim moi 2024"},pricing:{title:"Bng Gi Gi Dch V - HTHREE Film",description:"Chn gi dch v ph hp vi bn. Xem phim khng gii hn, khng qung co, cht lng HD/FHD.",keywords:"gia goi dich vu, goi vip, xem phim khong quang cao"},library:{title:"Th Vin Ca Ti - HTHREE Film",description:"Qun l phim yu thch, danh sch xem sau v lch s xem ca bn.",keywords:"thu vien phim, phim yeu thich, lich su xem"},search:{title:`Tm kim: ${e.query||""} - HTHREE Film`,description:`Kt qu tm kim cho "${e.query||""}". Tm thy ${e.count||0} phim.`,keywords:`tim kiem phim, ${e.query||""}`}}[t],url:`https://hthree.com${e.path||""}`,type:"website"}}const V6={class:"bg-black min-h-screen text-white"},W6={key:0,class:"space-y-8"},q6={class:"container mx-auto px-4 sm:px-6 lg:px-8 space-y-8"},z6={key:2},K6={key:0,class:"absolute inset-0 z-10 overflow-hidden"},G6=["src"],J6={key:1,class:"absolute inset-0"},Y6=["src","alt"],X6={class:"relative z-10 h-full flex items-center container mx-auto px-4 sm:px-6 lg:px-8 pt-20"},Q6={class:"max-w-2xl"},Z6={class:"text-3xl md:text-4xl lg:text-5xl font-extrabold mb-3 uppercase tracking-tight leading-tight text-white",style:{"text-shadow":"2px 2px 8px rgba(0,0,0,0.9), 0 0 20px rgba(0,0,0,0.7)"}},e$={class:"text-base md:text-lg text-white mb-4 font-semibold",style:{"text-shadow":"1px 1px 6px rgba(0,0,0,0.9), 0 0 12px rgba(0,0,0,0.7)"}},t$={class:"flex flex-wrap gap-2 mb-4"},n$={key:0,class:"bg-yellow-500 text-black px-3 py-1 rounded text-xs font-bold uppercase shadow-xl"},r$={key:1,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold uppercase shadow-xl border-2 border-gray-700"},s$={key:2,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},o$={key:3,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},i$={key:0,class:"flex flex-wrap gap-2 mb-5 text-sm"},a$={class:"text-sm md:text-base mb-6 line-clamp-3 text-white leading-relaxed max-w-xl font-semibold",style:{"text-shadow":"1px 1px 6px rgba(0,0,0,0.9), 0 0 12px rgba(0,0,0,0.7)"}},l$={class:"flex flex-wrap gap-3"},c$=["onClick"],u$=["onClick"],d$={class:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-2"},h$=["onClick","aria-label"],f$={class:"container mx-auto px-4 sm:px-6 lg:px-8 pt-10 pb-10 relative z-20"},p$={class:"mb-8"},g$={class:"text-3xl md:text-4xl font-bold text-white mb-2"},m$={class:"text-gray-400"},v$={__name:"Homepage",setup(t){const e=Or(),n=Y([]),r=Y(0),s=Y([]),o=Y([]),i=Y([]),a=Y([]),l=Y([]),c=Y([]),u=Y([]),h=Y(!1),f=Y(""),p=Y(null);let g=0,y=0,v=!1;const T=Y(!1),A=Y(""),_=Y(!0),b=Y(null),R=ve(()=>n.value[r.value]||null),k=[{label:"Trang ch",to:"/home"}],x=J=>{J!=null&&J.slug&&(A.value=J.slug,T.value=!0)},P=J=>{console.log(" Opening new movie from modal:",J),A.value=J,T.value=!0},m=J=>{J!=null&&J.slug&&e.push(`/film/${J.slug}`)},$=J=>{if(!J)return"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg";if(J.thumb_url){const Ee=J.thumb_url.startsWith("http")?J.thumb_url:`https://phimimg.com/${J.thumb_url}`;return console.log(" Banner using thumb_url:",Ee),Ee}return J.poster_url?J.poster_url.startsWith("http")?J.poster_url:`https://phimimg.com/${J.poster_url}`:"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},ee=J=>{J.target.src="https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},F=J=>{var We,je;if(!J){h.value=!1,f.value="";return}let Ee=J;if(J.includes("youtube.com/watch")){const q=(We=J.split("v=")[1])==null?void 0:We.split("&")[0];Ee=`https://www.youtube.com/embed/${q}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${q}&iv_load_policy=3&disablekb=1&fs=0&vq=hd1080&hd=1&quality=highres`}else if(J.includes("youtu.be/")){const q=(je=J.split("youtu.be/")[1])==null?void 0:je.split("?")[0];Ee=`https://www.youtube.com/embed/${q}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${q}&iv_load_policy=3&disablekb=1&fs=0&vq=hd1080&hd=1&quality=highres`}h.value=!1,setTimeout(()=>{f.value=Ee,h.value=!0},500)},ae=()=>{r.value=(r.value+1)%n.value.length;const J=n.value[r.value];J!=null&&J.trailer_url?F(J.trailer_url):h.value=!1},_e=()=>{r.value=r.value===0?n.value.length-1:r.value-1;const J=n.value[r.value];J!=null&&J.trailer_url?F(J.trailer_url):h.value=!1},Ce=J=>{r.value=J;const Ee=n.value[J];Ee!=null&&Ee.trailer_url?F(Ee.trailer_url):h.value=!1},te=J=>{v||Math.abs(J.deltaX)>Math.abs(J.deltaY)&&(J.preventDefault(),v=!0,J.deltaX>0?ae():_e(),setTimeout(()=>{v=!1},800))},U=J=>{g=J.changedTouches[0].screenX},de=J=>{y=J.changedTouches[0].screenX},ce=()=>{if(v)return;const J=g-y;Math.abs(J)>50&&(v=!0,J>0?ae():_e(),setTimeout(()=>{v=!1},800))},be=async()=>{var J,Ee,We,je,q,ie,V,L,Z,S,O,C,j,G,K,se,re,w,E,M;_.value=!0,b.value=null;try{console.log(" Loading movies from API...");const[B,oe,ne,D,z,ue,Me,Ge,it]=await Promise.all([xe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),xe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),xe.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=2"),xe.get("https://phimapi.com/v1/api/danh-sach/phim-bo?page=1&limit=30"),xe.get("https://phimapi.com/v1/api/danh-sach/phim-le?page=1&limit=30"),xe.get("https://phimapi.com/v1/api/quoc-gia/han-quoc?page=1&limit=25"),xe.get("https://phimapi.com/v1/api/quoc-gia/trung-quoc?page=1&limit=25"),xe.get("https://phimapi.com/v1/api/quoc-gia/nhat-ban?page=1&limit=25"),xe.get("https://phimapi.com/v1/api/tim-kiem?keyword=hoc vien sieu anh hung")]);console.log(" API calls completed");try{const Je=((Ee=(J=it==null?void 0:it.data)==null?void 0:J.data)==null?void 0:Ee.items)||[];if(console.log(" My Hero Academia search results:",Je.length),Je.length>0){const He=Je[0];try{const ct=await xe.get(`https://phimapi.com/phim/${He.slug}`);(We=ct.data)!=null&&We.movie?n.value.push({...He,content:ct.data.movie.content||He.content,trailer_url:ct.data.movie.trailer_url}):n.value.push(He)}catch{console.log(" Could not fetch My Hero detail, using basic info"),n.value.push(He)}}}catch{console.log(" My Hero Academia search failed, skipping")}const at=((je=B.data.items)==null?void 0:je.slice(0,2))||((ie=(q=B.data.data)==null?void 0:q.items)==null?void 0:ie.slice(0,2))||[];for(const Je of at)if(Je!=null&&Je.slug)try{const He=await xe.get(`https://phimapi.com/phim/${Je.slug}`);(V=He.data)!=null&&V.movie?n.value.push({...Je,content:He.data.movie.content||Je.content,trailer_url:He.data.movie.trailer_url}):n.value.push(Je)}catch{n.value.push(Je)}(L=n.value[0])!=null&&L.trailer_url&&F(n.value[0].trailer_url),console.log(" Featured movies loaded:",n.value.length);const Ne=oe.data.items||((Z=oe.data.data)==null?void 0:Z.items)||[];s.value=Ne.sort((Je,He)=>{const ct={FHD:3,HD:2,SD:1,"":0},nr=ct[Je.quality]||0,ao=ct[He.quality]||0;if(nr!==ao)return ao-nr;const _i=parseInt(Je.year)||0;return(parseInt(He.year)||0)-_i}),o.value=ne.data.items||((S=ne.data.data)==null?void 0:S.items)||[],i.value=((O=D.data.data)==null?void 0:O.items)||[],a.value=((C=z.data.data)==null?void 0:C.items)||[],l.value=((j=ue.data.data)==null?void 0:j.items)||[],c.value=((G=Me.data.data)==null?void 0:G.items)||[],u.value=((K=Ge.data.data)==null?void 0:K.items)||[],console.log(" Movies loaded successfully"),console.log(" Featured:",(se=R.value)==null?void 0:se.name),console.log(" Content:",(w=(re=R.value)==null?void 0:re.content)==null?void 0:w.substring(0,100))}catch(B){console.error(" Error loading movies:",B),b.value=((M=(E=B.response)==null?void 0:E.data)==null?void 0:M.message)||B.message||"Khng th ti d liu phim. Vui lng th li sau.",Ue.error("Khng th ti d liu phim")}finally{_.value=!1}},pe=H6("home",{path:"/home"}),{setWebsiteStructuredData:Pe}=B6(pe);return Ot(()=>{be(),Pe()}),sn(()=>{}),(J,Ee)=>{var We,je,q,ie,V,L;return I(),N("div",V6,[_.value?(I(),N("div",W6,[X(ji,{type:"hero"}),d("div",q6,[X(ji,{type:"row"}),X(ji,{type:"row"}),X(ji,{type:"row"})])])):b.value?(I(),Le(M6,{key:1,"error-title":"Khng th ti phim","error-message":b.value,"show-details":!0,onRetry:be},null,8,["error-message"])):(I(),N("div",z6,[d("div",{ref_key:"heroBannerRef",ref:p,class:"relative h-[85vh] overflow-hidden group/hero pt-16",onWheel:te,onTouchstart:U,onTouchmove:de,onTouchend:ce},[(I(!0),N(we,null,Ve(n.value,(Z,S)=>{var O;return I(),N("div",{key:Z.slug,class:Oe(["absolute inset-0 transition-opacity duration-700",r.value===S?"opacity-100 z-10":"opacity-0 z-0"])},[h.value&&r.value===S&&f.value?(I(),N("div",K6,[d("iframe",{src:f.value,class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.77vh] h-[56.25vw] min-h-full min-w-full",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:"",style:{"pointer-events":"none"}},null,8,G6),Ee[1]||(Ee[1]=d("div",{class:"absolute inset-0 pointer-events-none"},[d("div",{class:"absolute top-0 right-0 w-32 h-20 bg-black"})],-1))])):Q("",!0),!h.value||r.value!==S?(I(),N("div",J6,[d("img",{src:$(Z),class:"w-full h-full object-cover",alt:Z.name,onError:ee},null,40,Y6),Ee[2]||(Ee[2]=d("div",{class:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent"},null,-1)),Ee[3]||(Ee[3]=d("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"},null,-1))])):Q("",!0),d("div",X6,[d("div",Q6,[d("h1",Z6,H((Z==null?void 0:Z.name)||"KHM PH PHIM HAY"),1),d("p",e$,H((Z==null?void 0:Z.origin_name)||""),1),d("div",t$,[Z!=null&&Z.quality?(I(),N("span",n$,H(Z.quality),1)):Q("",!0),Z!=null&&Z.lang?(I(),N("span",r$,H(Z.lang),1)):Q("",!0),Z!=null&&Z.year?(I(),N("span",s$,H(Z.year),1)):Q("",!0),Z!=null&&Z.time?(I(),N("span",o$,H(Z.time),1)):Q("",!0)]),(O=Z==null?void 0:Z.category)!=null&&O.length?(I(),N("div",i$,[(I(!0),N(we,null,Ve(Z.category.slice(0,4),(C,j)=>(I(),N("span",{key:j,class:"text-white font-bold",style:{"text-shadow":"1px 1px 4px rgba(0,0,0,0.9), 0 0 8px rgba(0,0,0,0.7)"}},H(C.name),1))),128))])):Q("",!0),d("p",a$,H((Z==null?void 0:Z.content)||"Khm ph nhng b phim tuyt vi cng HTHREE"),1),d("div",l$,[d("button",{onClick:C=>m(Z),class:"flex items-center gap-2 bg-yellow-400 text-black px-8 py-3.5 rounded-full font-bold text-base hover:bg-yellow-500 transition-all shadow-xl hover:scale-105"},[Ee[4]||(Ee[4]=d("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1)),he(" "+H(J.$t("movie.play")),1)],8,c$),Ee[6]||(Ee[6]=d("button",{class:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3.5 rounded-full font-bold text-base hover:bg-white/30 transition-all border border-white/30"},[d("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),d("button",{onClick:C=>x(Z),class:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3.5 rounded-full font-bold text-base hover:bg-white/30 transition-all border border-white/30",title:"Cc tp & Thng tin"},Ee[5]||(Ee[5]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),8,u$)])])])],2)}),128)),d("div",d$,[(I(!0),N(we,null,Ve(n.value,(Z,S)=>(I(),N("button",{key:`dot-${Z.slug}`,onClick:O=>Ce(S),class:Oe(["transition-all duration-300 ease-out rounded-full transform hover:scale-110",r.value===S?"w-8 h-2 bg-yellow-400 shadow-lg shadow-yellow-400/50":"w-2 h-2 bg-white/50 hover:bg-white/80"]),"aria-label":`Chuyn n phim ${S+1}`},null,10,h$))),128))])],544),X(_6),d("div",f$,[X(F6,{items:k}),d("div",p$,[d("h1",g$,H(J.$t("home.title")),1),d("p",m$,H(J.$t("home.subtitle")),1)]),(We=o.value)!=null&&We.length?(I(),Le(ks,{key:0,title:J.$t("home.newMovies"),movies:o.value},null,8,["title","movies"])):Q("",!0),(je=i.value)!=null&&je.length?(I(),Le(ks,{key:1,title:J.$t("home.series"),movies:i.value},null,8,["title","movies"])):Q("",!0),(q=a.value)!=null&&q.length?(I(),Le(ks,{key:2,title:J.$t("home.single"),movies:a.value},null,8,["title","movies"])):Q("",!0),(ie=l.value)!=null&&ie.length?(I(),Le(ks,{key:3,title:" Phim Hn Quc",movies:l.value},null,8,["movies"])):Q("",!0),(V=c.value)!=null&&V.length?(I(),Le(ks,{key:4,title:" Phim Trung Quc",movies:c.value},null,8,["movies"])):Q("",!0),(L=u.value)!=null&&L.length?(I(),Le(ks,{key:5,title:J.$t("home.anime"),movies:u.value},null,8,["title","movies"])):Q("",!0)]),X(o6),X(Ay,{"is-open":T.value,"movie-slug":A.value,onClose:Ee[0]||(Ee[0]=Z=>T.value=!1),onOpenMovie:P},null,8,["is-open","movie-slug"])]))])}}},y$=kt(v$,[["__scopeId","data-v-1dd39514"]]),_$=()=>dt(()=>import("./NetflixHomepage-_Nuvkr2S.js"),__vite__mapDeps([0,1]),import.meta.url),b$=()=>dt(()=>import("./MovieDetail-DsyTQElb.js"),__vite__mapDeps([2,3,4,5]),import.meta.url),w$=()=>dt(()=>import("./WatchMovie-D5jqSC20.js"),__vite__mapDeps([6,7]),import.meta.url),E$=()=>dt(()=>import("./ListBaseType-CyIhfcWW.js"),__vite__mapDeps([8,9,3,4,10,11,12]),import.meta.url),x$=()=>dt(()=>import("./ListBaseCategory-1DuZ_yFl.js"),__vite__mapDeps([13,9,10,11,3,4,14]),import.meta.url),k$=()=>dt(()=>import("./ListBaseNational-FdlCGGtc.js"),__vite__mapDeps([15,9,3,4,10,11,16]),import.meta.url),T$=()=>dt(()=>import("./Contact-HlN7Z5BQ.js"),__vite__mapDeps([17,18]),import.meta.url),S$=()=>dt(()=>import("./Account-BmFg4zUU.js"),__vite__mapDeps([19,20]),import.meta.url),C$=()=>dt(()=>import("./DemoUI-DM_qDaql.js"),[],import.meta.url),I$=()=>dt(()=>import("./TestImages-SFFhcI1Y.js"),[],import.meta.url),A$=()=>dt(()=>import("./SearchResults-B06OV59Y.js"),__vite__mapDeps([21,9,22]),import.meta.url),O$=()=>dt(()=>import("./Pricing-B7brZ57H.js"),__vite__mapDeps([23,24]),import.meta.url),R$=()=>dt(()=>import("./Cart-7keVBp-d.js"),__vite__mapDeps([25,26,27,28,29,30]),import.meta.url),P$=()=>dt(()=>import("./Checkout-B54YB1SE.js"),__vite__mapDeps([31,32]),import.meta.url),N$=()=>dt(()=>import("./Admin-DEA6pbdO.js"),__vite__mapDeps([33,28,29,34]),import.meta.url),L$=()=>dt(()=>import("./Categories-D79xPnD5.js"),[],import.meta.url),$$=()=>dt(()=>import("./Library-Jbyoj2C5.js"),__vite__mapDeps([35,26,27]),import.meta.url),M$=[{path:"/",name:"Welcome",component:kN},{path:"/home",name:"Homepage",component:y$},{path:"/categories",name:"Categories",component:L$},{path:"/library",name:"Library",component:$$},{path:"/pricing",name:"Pricing",component:O$},{path:"/cart",name:"Cart",component:R$},{path:"/checkout",name:"Checkout",component:P$},{path:"/admin",name:"Admin",component:N$},{path:"/netflix",name:"NetflixHome",component:_$},{path:"/demo",name:"DemoUI",component:C$},{path:"/test-images",name:"TestImages",component:I$},{path:"/film/:filmName",name:"MovieDetail",component:b$,props:!0},{path:"/film/:filmName/tap/:tap",name:"WatchMovie",component:w$,props:!0},{path:"/list/:type/page/:pageNumber",name:"ListBaseType",component:E$,props:!0},{path:"/category/:categorySlug?/page/:pageNumber",name:"ListBaseCategory",component:x$,props:!0},{path:"/country/:countrySlug?/page/:pageNumber",name:"ListBaseNational",component:k$,props:!0},{path:"/contact",name:"Contact",component:T$},{path:"/account",name:"Account",component:S$},{path:"/search",name:"Search",component:A$}],hd=bm({history:um("./"),routes:M$,scrollBehavior(t,e,n){return{top:0,behavior:"smooth"}}});hd.beforeEach((t,e,n)=>{if(["Pricing","Cart","Checkout"].includes(t.name)){const s=JSON.parse(localStorage.getItem("user")||"null"),o=["hient7182@gmail.com","admin@hthree.com"];if(s&&(s.role==="admin"||o.includes(s.email))){console.log(" Admin khng th truy cp trang:",t.name),n({name:"Homepage"});return}}n()});var D$="firebase",j$="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(D$,j$,"app");const U$={apiKey:"AIzaSyAiwMHCsSrqX20x8o90R5hksRxUPVmnwKM",authDomain:"hthree-94a3e.firebaseapp.com",projectId:"hthree-94a3e",storageBucket:"hthree-94a3e.firebasestorage.app",messagingSenderId:"917487991713",appId:"1:917487991713:web:68dd73293f38d7fe2229e0",measurementId:"G-9LNBDMVK0M"},F$=Rm(U$),fd=gs(F$);Kx(fd,A0).catch(t=>{console.error("Error setting persistence:",t)});const yi=tm(wN),Oy=lk();yi.use(hd);yi.use(Oy);yi.use(Sy);const B$=Ro(Oy);B$.initAuth();hd.beforeEach((t,e,n)=>{const r=t.matched.some(o=>o.meta.requiresAuth),s=fd.currentUser;r&&!s?(console.log("Cha ng nhp (Firebase), chuyn hng v /auth"),n("/auth")):n()});let Zl=!1;hi(fd,t=>{Zl=!!t,yi.config.globalProperties.$isAuthenticated=Zl,console.log("Firebase Auth state changed. isAuthenticated:",Zl)});yi.mount("#app");export{hi as $,Eg as A,to as B,RC as C,sn as D,Ue as E,we as F,ji as G,M6 as H,F6 as I,Iy as J,dt as K,eM as L,ks as M,g3 as N,B6 as O,rl as P,Gc as Q,ym as R,yg as S,yt as T,Os as U,Bo as V,BI as W,ll as X,gs as Y,rn as Z,kt as _,d as a,Wn as a0,H$ as a1,zx as a2,DC as a3,Ro as a4,Zg as a5,Cy as a6,Z$ as a7,zu as a8,Ay as a9,kg as aa,fl as ab,vN as ac,X_ as ad,Q$ as ae,X$ as af,iS as ag,D3 as ah,Jn as b,N as c,Q as d,he as e,Ve as f,Or as g,xe as h,AC as i,ve as j,Ot as k,X as l,ge as m,Oe as n,I as o,Ua as p,Tu as q,Y as r,Fe as s,H as t,Wa as u,Q_ as v,Zt as w,Le as x,xr as y,zt as z};
